(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const y of m)if(y.type==="childList")for(const x of y.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function o(m){const y={};return m.integrity&&(y.integrity=m.integrity),m.referrerPolicy&&(y.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?y.credentials="include":m.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function d(m){if(m.ep)return;m.ep=!0;const y=o(m);fetch(m.href,y)}})();var Oo={exports:{}},Ws={};var Qf;function Ry(){if(Qf)return Ws;Qf=1;var n=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function o(d,m,y){var x=null;if(y!==void 0&&(x=""+y),m.key!==void 0&&(x=""+m.key),"key"in m){y={};for(var k in m)k!=="key"&&(y[k]=m[k])}else y=m;return m=y.ref,{$$typeof:n,type:d,key:x,ref:m!==void 0?m:null,props:y}}return Ws.Fragment=c,Ws.jsx=o,Ws.jsxs=o,Ws}var Vf;function Yy(){return Vf||(Vf=1,Oo.exports=Ry()),Oo.exports}var u=Yy(),Ro={exports:{}},te={};var Pf;function Uy(){if(Pf)return te;Pf=1;var n=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),G=Symbol.iterator;function me(g){return g===null||typeof g!="object"?null:(g=G&&g[G]||g["@@iterator"],typeof g=="function"?g:null)}var he={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},be=Object.assign,We={};function Qe(g,q,H){this.props=g,this.context=q,this.refs=We,this.updater=H||he}Qe.prototype.isReactComponent={},Qe.prototype.setState=function(g,q){if(typeof g!="object"&&typeof g!="function"&&g!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,q,"setState")},Qe.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")};function le(){}le.prototype=Qe.prototype;function ve(g,q,H){this.props=g,this.context=q,this.refs=We,this.updater=H||he}var at=ve.prototype=new le;at.constructor=ve,be(at,Qe.prototype),at.isPureReactComponent=!0;var dt=Array.isArray;function Ve(){}var ee={H:null,A:null,T:null,S:null},nt=Object.prototype.hasOwnProperty;function Tt(g,q,H){var B=H.ref;return{$$typeof:n,type:g,key:q,ref:B!==void 0?B:null,props:H}}function ht(g,q){return Tt(g.type,q,g.props)}function K(g){return typeof g=="object"&&g!==null&&g.$$typeof===n}function Me(g){var q={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,function(H){return q[H]})}var gt=/\/+/g;function Rt(g,q){return typeof g=="object"&&g!==null&&g.key!=null?Me(""+g.key):q.toString(36)}function bt(g){switch(g.status){case"fulfilled":return g.value;case"rejected":throw g.reason;default:switch(typeof g.status=="string"?g.then(Ve,Ve):(g.status="pending",g.then(function(q){g.status==="pending"&&(g.status="fulfilled",g.value=q)},function(q){g.status==="pending"&&(g.status="rejected",g.reason=q)})),g.status){case"fulfilled":return g.value;case"rejected":throw g.reason}}throw g}function M(g,q,H,B,C){var I=typeof g;(I==="undefined"||I==="boolean")&&(g=null);var J=!1;if(g===null)J=!0;else switch(I){case"bigint":case"string":case"number":J=!0;break;case"object":switch(g.$$typeof){case n:case c:J=!0;break;case D:return J=g._init,M(J(g._payload),q,H,B,C)}}if(J)return C=C(g),J=B===""?"."+Rt(g,0):B,dt(C)?(H="",J!=null&&(H=J.replace(gt,"$&/")+"/"),M(C,q,H,"",function(wa){return wa})):C!=null&&(K(C)&&(C=ht(C,H+(C.key==null||g&&g.key===C.key?"":(""+C.key).replace(gt,"$&/")+"/")+J)),q.push(C)),1;J=0;var et=B===""?".":B+":";if(dt(g))for(var Be=0;Be<g.length;Be++)B=g[Be],I=et+Rt(B,Be),J+=M(B,q,H,I,C);else if(Be=me(g),typeof Be=="function")for(g=Be.call(g),Be=0;!(B=g.next()).done;)B=B.value,I=et+Rt(B,Be++),J+=M(B,q,H,I,C);else if(I==="object"){if(typeof g.then=="function")return M(bt(g),q,H,B,C);throw q=String(g),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return J}function Y(g,q,H){if(g==null)return g;var B=[],C=0;return M(g,B,"","",function(I){return q.call(H,I,C++)}),B}function P(g){if(g._status===-1){var q=g._result;q=q(),q.then(function(H){(g._status===0||g._status===-1)&&(g._status=1,g._result=H)},function(H){(g._status===0||g._status===-1)&&(g._status=2,g._result=H)}),g._status===-1&&(g._status=0,g._result=q)}if(g._status===1)return g._result.default;throw g._result}var ke=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)},_e={map:Y,forEach:function(g,q,H){Y(g,function(){q.apply(this,arguments)},H)},count:function(g){var q=0;return Y(g,function(){q++}),q},toArray:function(g){return Y(g,function(q){return q})||[]},only:function(g){if(!K(g))throw Error("React.Children.only expected to receive a single React element child.");return g}};return te.Activity=U,te.Children=_e,te.Component=Qe,te.Fragment=o,te.Profiler=m,te.PureComponent=ve,te.StrictMode=d,te.Suspense=T,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,te.__COMPILER_RUNTIME={__proto__:null,c:function(g){return ee.H.useMemoCache(g)}},te.cache=function(g){return function(){return g.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(g,q,H){if(g==null)throw Error("The argument must be a React element, but you passed "+g+".");var B=be({},g.props),C=g.key;if(q!=null)for(I in q.key!==void 0&&(C=""+q.key),q)!nt.call(q,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&q.ref===void 0||(B[I]=q[I]);var I=arguments.length-2;if(I===1)B.children=H;else if(1<I){for(var J=Array(I),et=0;et<I;et++)J[et]=arguments[et+2];B.children=J}return Tt(g.type,C,B)},te.createContext=function(g){return g={$$typeof:x,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null},g.Provider=g,g.Consumer={$$typeof:y,_context:g},g},te.createElement=function(g,q,H){var B,C={},I=null;if(q!=null)for(B in q.key!==void 0&&(I=""+q.key),q)nt.call(q,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(C[B]=q[B]);var J=arguments.length-2;if(J===1)C.children=H;else if(1<J){for(var et=Array(J),Be=0;Be<J;Be++)et[Be]=arguments[Be+2];C.children=et}if(g&&g.defaultProps)for(B in J=g.defaultProps,J)C[B]===void 0&&(C[B]=J[B]);return Tt(g,I,C)},te.createRef=function(){return{current:null}},te.forwardRef=function(g){return{$$typeof:k,render:g}},te.isValidElement=K,te.lazy=function(g){return{$$typeof:D,_payload:{_status:-1,_result:g},_init:P}},te.memo=function(g,q){return{$$typeof:v,type:g,compare:q===void 0?null:q}},te.startTransition=function(g){var q=ee.T,H={};ee.T=H;try{var B=g(),C=ee.S;C!==null&&C(H,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(Ve,ke)}catch(I){ke(I)}finally{q!==null&&H.types!==null&&(q.types=H.types),ee.T=q}},te.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},te.use=function(g){return ee.H.use(g)},te.useActionState=function(g,q,H){return ee.H.useActionState(g,q,H)},te.useCallback=function(g,q){return ee.H.useCallback(g,q)},te.useContext=function(g){return ee.H.useContext(g)},te.useDebugValue=function(){},te.useDeferredValue=function(g,q){return ee.H.useDeferredValue(g,q)},te.useEffect=function(g,q){return ee.H.useEffect(g,q)},te.useEffectEvent=function(g){return ee.H.useEffectEvent(g)},te.useId=function(){return ee.H.useId()},te.useImperativeHandle=function(g,q,H){return ee.H.useImperativeHandle(g,q,H)},te.useInsertionEffect=function(g,q){return ee.H.useInsertionEffect(g,q)},te.useLayoutEffect=function(g,q){return ee.H.useLayoutEffect(g,q)},te.useMemo=function(g,q){return ee.H.useMemo(g,q)},te.useOptimistic=function(g,q){return ee.H.useOptimistic(g,q)},te.useReducer=function(g,q,H){return ee.H.useReducer(g,q,H)},te.useRef=function(g){return ee.H.useRef(g)},te.useState=function(g){return ee.H.useState(g)},te.useSyncExternalStore=function(g,q,H){return ee.H.useSyncExternalStore(g,q,H)},te.useTransition=function(){return ee.H.useTransition()},te.version="19.2.0",te}var $f;function $o(){return $f||($f=1,Ro.exports=Uy()),Ro.exports}var $=$o(),Yo={exports:{}},en={},Uo={exports:{}},Ho={};var Kf;function Hy(){return Kf||(Kf=1,(function(n){function c(M,Y){var P=M.length;M.push(Y);e:for(;0<P;){var ke=P-1>>>1,_e=M[ke];if(0<m(_e,Y))M[ke]=Y,M[P]=_e,P=ke;else break e}}function o(M){return M.length===0?null:M[0]}function d(M){if(M.length===0)return null;var Y=M[0],P=M.pop();if(P!==Y){M[0]=P;e:for(var ke=0,_e=M.length,g=_e>>>1;ke<g;){var q=2*(ke+1)-1,H=M[q],B=q+1,C=M[B];if(0>m(H,P))B<_e&&0>m(C,H)?(M[ke]=C,M[B]=P,ke=B):(M[ke]=H,M[q]=P,ke=q);else if(B<_e&&0>m(C,P))M[ke]=C,M[B]=P,ke=B;else break e}}return Y}function m(M,Y){var P=M.sortIndex-Y.sortIndex;return P!==0?P:M.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;n.unstable_now=function(){return y.now()}}else{var x=Date,k=x.now();n.unstable_now=function(){return x.now()-k}}var T=[],v=[],D=1,U=null,G=3,me=!1,he=!1,be=!1,We=!1,Qe=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function at(M){for(var Y=o(v);Y!==null;){if(Y.callback===null)d(v);else if(Y.startTime<=M)d(v),Y.sortIndex=Y.expirationTime,c(T,Y);else break;Y=o(v)}}function dt(M){if(be=!1,at(M),!he)if(o(T)!==null)he=!0,Ve||(Ve=!0,Me());else{var Y=o(v);Y!==null&&bt(dt,Y.startTime-M)}}var Ve=!1,ee=-1,nt=5,Tt=-1;function ht(){return We?!0:!(n.unstable_now()-Tt<nt)}function K(){if(We=!1,Ve){var M=n.unstable_now();Tt=M;var Y=!0;try{e:{he=!1,be&&(be=!1,le(ee),ee=-1),me=!0;var P=G;try{t:{for(at(M),U=o(T);U!==null&&!(U.expirationTime>M&&ht());){var ke=U.callback;if(typeof ke=="function"){U.callback=null,G=U.priorityLevel;var _e=ke(U.expirationTime<=M);if(M=n.unstable_now(),typeof _e=="function"){U.callback=_e,at(M),Y=!0;break t}U===o(T)&&d(T),at(M)}else d(T);U=o(T)}if(U!==null)Y=!0;else{var g=o(v);g!==null&&bt(dt,g.startTime-M),Y=!1}}break e}finally{U=null,G=P,me=!1}Y=void 0}}finally{Y?Me():Ve=!1}}}var Me;if(typeof ve=="function")Me=function(){ve(K)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Rt=gt.port2;gt.port1.onmessage=K,Me=function(){Rt.postMessage(null)}}else Me=function(){Qe(K,0)};function bt(M,Y){ee=Qe(function(){M(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return G},n.unstable_next=function(M){switch(G){case 1:case 2:case 3:var Y=3;break;default:Y=G}var P=G;G=Y;try{return M()}finally{G=P}},n.unstable_requestPaint=function(){We=!0},n.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var P=G;G=M;try{return Y()}finally{G=P}},n.unstable_scheduleCallback=function(M,Y,P){var ke=n.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ke+P:ke):P=ke,M){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=P+_e,M={id:D++,callback:Y,priorityLevel:M,startTime:P,expirationTime:_e,sortIndex:-1},P>ke?(M.sortIndex=P,c(v,M),o(T)===null&&M===o(v)&&(be?(le(ee),ee=-1):be=!0,bt(dt,P-ke))):(M.sortIndex=_e,c(T,M),he||me||(he=!0,Ve||(Ve=!0,Me()))),M},n.unstable_shouldYield=ht,n.unstable_wrapCallback=function(M){var Y=G;return function(){var P=G;G=Y;try{return M.apply(this,arguments)}finally{G=P}}}})(Ho)),Ho}var Jf;function By(){return Jf||(Jf=1,Uo.exports=Hy()),Uo.exports}var Bo={exports:{}},mt={};var Wf;function Gy(){if(Wf)return mt;Wf=1;var n=$o();function c(T){var v="https://react.dev/errors/"+T;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)v+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+T+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var d={d:{f:o,r:function(){throw Error(c(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},m=Symbol.for("react.portal");function y(T,v,D){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:U==null?null:""+U,children:T,containerInfo:v,implementation:D}}var x=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function k(T,v){if(T==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,mt.createPortal=function(T,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(c(299));return y(T,v,null,D)},mt.flushSync=function(T){var v=x.T,D=d.p;try{if(x.T=null,d.p=2,T)return T()}finally{x.T=v,d.p=D,d.d.f()}},mt.preconnect=function(T,v){typeof T=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,d.d.C(T,v))},mt.prefetchDNS=function(T){typeof T=="string"&&d.d.D(T)},mt.preinit=function(T,v){if(typeof T=="string"&&v&&typeof v.as=="string"){var D=v.as,U=k(D,v.crossOrigin),G=typeof v.integrity=="string"?v.integrity:void 0,me=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;D==="style"?d.d.S(T,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:U,integrity:G,fetchPriority:me}):D==="script"&&d.d.X(T,{crossOrigin:U,integrity:G,fetchPriority:me,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},mt.preinitModule=function(T,v){if(typeof T=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var D=k(v.as,v.crossOrigin);d.d.M(T,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&d.d.M(T)},mt.preload=function(T,v){if(typeof T=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var D=v.as,U=k(D,v.crossOrigin);d.d.L(T,D,{crossOrigin:U,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},mt.preloadModule=function(T,v){if(typeof T=="string")if(v){var D=k(v.as,v.crossOrigin);d.d.m(T,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else d.d.m(T)},mt.requestFormReset=function(T){d.d.r(T)},mt.unstable_batchedUpdates=function(T,v){return T(v)},mt.useFormState=function(T,v,D){return x.H.useFormState(T,v,D)},mt.useFormStatus=function(){return x.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var em;function Ly(){if(em)return Bo.exports;em=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(c){console.error(c)}}return n(),Bo.exports=Gy(),Bo.exports}var tm;function Fy(){if(tm)return en;tm=1;var n=By(),c=$o(),o=Ly();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function k(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T(e){if(y(e)!==e)throw Error(d(188))}function v(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(d(188));return t!==e?null:e}for(var a=e,l=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return T(s),e;if(i===l)return T(s),t;i=i.sibling}throw Error(d(188))}if(a.return!==l.return)a=s,l=i;else{for(var r=!1,f=s.child;f;){if(f===a){r=!0,a=s,l=i;break}if(f===l){r=!0,l=s,a=i;break}f=f.sibling}if(!r){for(f=i.child;f;){if(f===a){r=!0,a=i,l=s;break}if(f===l){r=!0,l=i,a=s;break}f=f.sibling}if(!r)throw Error(d(189))}}if(a.alternate!==l)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:t}function D(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=D(e),t!==null)return t;e=e.sibling}return null}var U=Object.assign,G=Symbol.for("react.element"),me=Symbol.for("react.transitional.element"),he=Symbol.for("react.portal"),be=Symbol.for("react.fragment"),We=Symbol.for("react.strict_mode"),Qe=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Tt=Symbol.for("react.activity"),ht=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Symbol.for("react.client.reference");function Rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case be:return"Fragment";case Qe:return"Profiler";case We:return"StrictMode";case dt:return"Suspense";case Ve:return"SuspenseList";case Tt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case he:return"Portal";case ve:return e.displayName||"Context";case le:return(e._context.displayName||"Context")+".Consumer";case at:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:Rt(e.type)||"Memo";case nt:t=e._payload,e=e._init;try{return Rt(e(t))}catch{}}return null}var bt=Array.isArray,M=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},ke=[],_e=-1;function g(e){return{current:e}}function q(e){0>_e||(e.current=ke[_e],ke[_e]=null,_e--)}function H(e,t){_e++,ke[_e]=e.current,e.current=t}var B=g(null),C=g(null),I=g(null),J=g(null);function et(e,t){switch(H(I,t),H(C,e),H(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pf(t),e=gf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(B),H(B,e)}function Be(){q(B),q(C),q(I)}function wa(e){e.memoizedState!==null&&H(J,e);var t=B.current,a=gf(t,e.type);t!==a&&(H(C,e),H(B,a))}function Sa(e){C.current===e&&(q(B),q(C)),J.current===e&&(q(J),Ps._currentValue=P)}var cs,Mt;function Vt(e){if(cs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);cs=t&&t[1]||"",Mt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+e+Mt}var Ja=!1;function _l(e,t){if(!e||Ja)return"";Ja=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var E=function(){throw Error()};if(Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(N){var A=N}Reflect.construct(e,[],E)}else{try{E.call()}catch(N){A=N}e.call(E.prototype)}}else{try{throw Error()}catch(N){A=N}(E=e())&&typeof E.catch=="function"&&E.catch(function(){})}}catch(N){if(N&&A&&typeof N.stack=="string")return[N.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),r=i[0],f=i[1];if(r&&f){var h=r.split(`
`),S=f.split(`
`);for(s=l=0;l<h.length&&!h[l].includes("DetermineComponentFrameRoot");)l++;for(;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;if(l===h.length||s===S.length)for(l=h.length-1,s=S.length-1;1<=l&&0<=s&&h[l]!==S[s];)s--;for(;1<=l&&0<=s;l--,s--)if(h[l]!==S[s]){if(l!==1||s!==1)do if(l--,s--,0>s||h[l]!==S[s]){var z=`
`+h[l].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=l&&0<=s);break}}}finally{Ja=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Vt(a):""}function sn(e,t){switch(e.tag){case 26:case 27:case 5:return Vt(e.type);case 16:return Vt("Lazy");case 13:return e.child!==t&&t!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return _l(e.type,!1);case 11:return _l(e.type.render,!1);case 1:return _l(e.type,!0);case 31:return Vt("Activity");default:return""}}function Wa(e){try{var t="",a=null;do t+=sn(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vl=Object.prototype.hasOwnProperty,xl=n.unstable_scheduleCallback,Aa=n.unstable_cancelCallback,nn=n.unstable_shouldYield,wi=n.unstable_requestPaint,yt=n.unstable_now,rn=n.unstable_getCurrentPriorityLevel,ft=n.unstable_ImmediatePriority,Yt=n.unstable_UserBlockingPriority,wl=n.unstable_NormalPriority,b=n.unstable_LowPriority,R=n.unstable_IdlePriority,O=n.log,Q=n.unstable_setDisableYieldValue,W=null,X=null;function xe(e){if(typeof O=="function"&&Q(e),X&&typeof X.setStrictMode=="function")try{X.setStrictMode(W,e)}catch{}}var ne=Math.clz32?Math.clz32:Ye,Ge=Math.log,_t=Math.LN2;function Ye(e){return e>>>=0,e===0?32:31-(Ge(e)/_t|0)|0}var ie=256,Ue=262144,ce=4194304;function ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ue(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var f=l&134217727;return f!==0?(l=f&~i,l!==0?s=ze(l):(r&=f,r!==0?s=ze(r):a||(a=f&~e,a!==0&&(s=ze(a))))):(f=l&~i,f!==0?s=ze(f):r!==0?s=ze(r):a||(a=l&~e,a!==0&&(s=ze(a)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function Le(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ka(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sl(){var e=ce;return ce<<=1,(ce&62914560)===0&&(ce=4194304),e}function on(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function el(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Am(e,t,a,l,s,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,h=e.expirationTimes,S=e.hiddenUpdates;for(a=r&~a;0<a;){var z=31-ne(a),E=1<<z;f[z]=0,h[z]=-1;var A=S[z];if(A!==null)for(S[z]=null,z=0;z<A.length;z++){var N=A[z];N!==null&&(N.lane&=-536870913)}a&=~E}l!==0&&Ko(e,l,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Ko(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ne(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Jo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-ne(a),s=1<<l;s&t|e[l]&t&&(e[l]|=t),a&=~s}}function Wo(e,t){var a=t&-t;return a=(a&42)!==0?1:Si(a),(a&(e.suspendedLanes|t))!==0?0:a}function Si(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ai(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ec(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Bf(e.type))}function tc(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var Na=Math.random().toString(36).slice(2),it="__reactFiber$"+Na,vt="__reactProps$"+Na,Al="__reactContainer$"+Na,ki="__reactEvents$"+Na,km="__reactListeners$"+Na,Nm="__reactHandles$"+Na,ac="__reactResources$"+Na,us="__reactMarker$"+Na;function Ni(e){delete e[it],delete e[vt],delete e[ki],delete e[km],delete e[Nm]}function kl(e){var t=e[it];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Al]||a[it]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Af(e);e!==null;){if(a=e[it])return a;e=Af(e)}return t}e=a,a=e.parentNode}return null}function Nl(e){if(e=e[it]||e[Al]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ds(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Tl(e){var t=e[ac];return t||(t=e[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[us]=!0}var lc=new Set,sc={};function tl(e,t){Ml(e,t),Ml(e+"Capture",t)}function Ml(e,t){for(sc[e]=t,e=0;e<t.length;e++)lc.add(t[e])}var Tm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},ic={};function Mm(e){return vl.call(ic,e)?!0:vl.call(nc,e)?!1:Tm.test(e)?ic[e]=!0:(nc[e]=!0,!1)}function cn(e,t,a){if(Mm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function un(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function sa(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zm(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ti(e){if(!e._valueTracker){var t=rc(e)?"checked":"value";e._valueTracker=zm(e,t,""+e[t])}}function oc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=rc(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function dn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jm=/[\n"\\]/g;function Ht(e){return e.replace(jm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Mi(e,t,a,l,s,i,r,f){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?zi(e,r,Ut(t)):a!=null?zi(e,r,Ut(a)):l!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+Ut(f):e.removeAttribute("name")}function cc(e,t,a,l,s,i,r,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ti(e);return}a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=f?e.checked:!!l,e.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Ti(e)}function zi(e,t,a){t==="number"&&dn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zl(e,t,a,l){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uc(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function dc(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(d(92));if(bt(l)){if(1<l.length)throw Error(d(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ti(e)}function jl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var qm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fc(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||qm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function mc(e,t,a){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&a[s]!==l&&fc(e,s,l)}else for(var i in t)t.hasOwnProperty(i)&&fc(e,i,t[i])}function ji(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fn(e){return Cm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function na(){}var qi=null;function Ei(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,El=null;function hc(e){var t=Nl(e);if(t&&(e=t.stateNode)){var a=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Mi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var s=l[vt]||null;if(!s)throw Error(d(90));Mi(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&oc(l)}break e;case"textarea":uc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&zl(e,!!a.multiple,t,!1)}}}var Ci=!1;function yc(e,t,a){if(Ci)return e(t,a);Ci=!0;try{var l=e(t);return l}finally{if(Ci=!1,(ql!==null||El!==null)&&(Wn(),ql&&(t=ql,e=El,El=ql=null,hc(t),e)))for(t=0;t<e.length;t++)hc(e[t])}}function fs(e,t){var a=e.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,t,typeof a));return a}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=!1;if(ia)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Di=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Di=!1}var Ta=null,Oi=null,mn=null;function pc(){if(mn)return mn;var e,t=Oi,a=t.length,l,s="value"in Ta?Ta.value:Ta.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var r=a-e;for(l=1;l<=r&&t[a-l]===s[i-l];l++);return mn=s.slice(e,1<l?1-l:void 0)}function hn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yn(){return!0}function gc(){return!1}function xt(e){function t(a,l,s,i,r){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yn:gc,this.isPropagationStopped=gc,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yn)},persist:function(){},isPersistent:yn}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=xt(al),hs=U({},al,{view:0,detail:0}),Dm=xt(hs),Ri,Yi,ys,gn=U({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(Ri=e.screenX-ys.screenX,Yi=e.screenY-ys.screenY):Yi=Ri=0,ys=e),Ri)},movementY:function(e){return"movementY"in e?e.movementY:Yi}}),bc=xt(gn),Om=U({},gn,{dataTransfer:0}),Rm=xt(Om),Ym=U({},hs,{relatedTarget:0}),Ui=xt(Ym),Um=U({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),Hm=xt(Um),Bm=U({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gm=xt(Bm),Lm=U({},al,{data:0}),_c=xt(Lm),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xm[e])?!!t[e]:!1}function Hi(){return Zm}var Qm=U({},hs,{key:function(e){if(e.key){var t=Fm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(e){return e.type==="keypress"?hn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vm=xt(Qm),Pm=U({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=xt(Pm),$m=U({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),Km=xt($m),Jm=U({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=xt(Jm),eh=U({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),th=xt(eh),ah=U({},al,{newState:0,oldState:0}),lh=xt(ah),sh=[9,13,27,32],Bi=ia&&"CompositionEvent"in window,ps=null;ia&&"documentMode"in document&&(ps=document.documentMode);var nh=ia&&"TextEvent"in window&&!ps,xc=ia&&(!Bi||ps&&8<ps&&11>=ps),wc=" ",Sc=!1;function Ac(e,t){switch(e){case"keyup":return sh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cl=!1;function ih(e,t){switch(e){case"compositionend":return kc(t);case"keypress":return t.which!==32?null:(Sc=!0,wc);case"textInput":return e=t.data,e===wc&&Sc?null:e;default:return null}}function rh(e,t){if(Cl)return e==="compositionend"||!Bi&&Ac(e,t)?(e=pc(),mn=Oi=Ta=null,Cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xc&&t.locale!=="ko"?null:t.data;default:return null}}var oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oh[e.type]:t==="textarea"}function Tc(e,t,a,l){ql?El?El.push(l):El=[l]:ql=l,t=ii(t,"onChange"),0<t.length&&(a=new pn("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var gs=null,bs=null;function ch(e){uf(e,0)}function bn(e){var t=ds(e);if(oc(t))return e}function Mc(e,t){if(e==="change")return t}var zc=!1;if(ia){var Gi;if(ia){var Li="oninput"in document;if(!Li){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),Li=typeof jc.oninput=="function"}Gi=Li}else Gi=!1;zc=Gi&&(!document.documentMode||9<document.documentMode)}function qc(){gs&&(gs.detachEvent("onpropertychange",Ec),bs=gs=null)}function Ec(e){if(e.propertyName==="value"&&bn(bs)){var t=[];Tc(t,bs,e,Ei(e)),yc(ch,t)}}function uh(e,t,a){e==="focusin"?(qc(),gs=t,bs=a,gs.attachEvent("onpropertychange",Ec)):e==="focusout"&&qc()}function dh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bn(bs)}function fh(e,t){if(e==="click")return bn(t)}function mh(e,t){if(e==="input"||e==="change")return bn(t)}function hh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:hh;function _s(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!vl.call(t,s)||!zt(e[s],t[s]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var a=Cc(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cc(a)}}function Oc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=dn(e.document)}return t}function Fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yh=ia&&"documentMode"in document&&11>=document.documentMode,Dl=null,Ii=null,vs=null,Xi=!1;function Yc(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xi||Dl==null||Dl!==dn(l)||(l=Dl,"selectionStart"in l&&Fi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vs&&_s(vs,l)||(vs=l,l=ii(Ii,"onSelect"),0<l.length&&(t=new pn("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Dl)))}function ll(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ol={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionrun:ll("Transition","TransitionRun"),transitionstart:ll("Transition","TransitionStart"),transitioncancel:ll("Transition","TransitionCancel"),transitionend:ll("Transition","TransitionEnd")},Zi={},Uc={};ia&&(Uc=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function sl(e){if(Zi[e])return Zi[e];if(!Ol[e])return e;var t=Ol[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Uc)return Zi[e]=t[a];return e}var Hc=sl("animationend"),Bc=sl("animationiteration"),Gc=sl("animationstart"),ph=sl("transitionrun"),gh=sl("transitionstart"),bh=sl("transitioncancel"),Lc=sl("transitionend"),Fc=new Map,Qi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qi.push("scrollEnd");function Pt(e,t){Fc.set(e,t),tl(t,[e])}var _n=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Rl=0,Vi=0;function vn(){for(var e=Rl,t=Vi=Rl=0;t<e;){var a=Bt[t];Bt[t++]=null;var l=Bt[t];Bt[t++]=null;var s=Bt[t];Bt[t++]=null;var i=Bt[t];if(Bt[t++]=null,l!==null&&s!==null){var r=l.pending;r===null?s.next=s:(s.next=r.next,r.next=s),l.pending=s}i!==0&&Ic(a,s,i)}}function xn(e,t,a,l){Bt[Rl++]=e,Bt[Rl++]=t,Bt[Rl++]=a,Bt[Rl++]=l,Vi|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Pi(e,t,a,l){return xn(e,t,a,l),wn(e)}function nl(e,t){return xn(e,null,null,t),wn(e)}function Ic(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-ne(a),e=i.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=a|536870912),i):null}function wn(e){if(50<Ls)throw Ls=0,so=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yl={};function _h(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,a,l){return new _h(e,t,a,l)}function $i(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ra(e,t){var a=e.alternate;return a===null?(a=jt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Xc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sn(e,t,a,l,s,i){var r=0;if(l=e,typeof e=="function")$i(e)&&(r=1);else if(typeof e=="string")r=Ay(e,a,B.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Tt:return e=jt(31,a,t,s),e.elementType=Tt,e.lanes=i,e;case be:return il(a.children,s,i,t);case We:r=8,s|=24;break;case Qe:return e=jt(12,a,t,s|2),e.elementType=Qe,e.lanes=i,e;case dt:return e=jt(13,a,t,s),e.elementType=dt,e.lanes=i,e;case Ve:return e=jt(19,a,t,s),e.elementType=Ve,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:r=10;break e;case le:r=9;break e;case at:r=11;break e;case ee:r=14;break e;case nt:r=16,l=null;break e}r=29,a=Error(d(130,e===null?"null":typeof e,"")),l=null}return t=jt(r,a,t,s),t.elementType=e,t.type=l,t.lanes=i,t}function il(e,t,a,l){return e=jt(7,e,l,t),e.lanes=a,e}function Ki(e,t,a){return e=jt(6,e,null,t),e.lanes=a,e}function Zc(e){var t=jt(18,null,null,0);return t.stateNode=e,t}function Ji(e,t,a){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qc=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var a=Qc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Wa(t)},Qc.set(e,t),t)}return{value:e,source:t,stack:Wa(t)}}var Ul=[],Hl=0,An=null,xs=0,Lt=[],Ft=0,Ma=null,Jt=1,Wt="";function oa(e,t){Ul[Hl++]=xs,Ul[Hl++]=An,An=e,xs=t}function Vc(e,t,a){Lt[Ft++]=Jt,Lt[Ft++]=Wt,Lt[Ft++]=Ma,Ma=e;var l=Jt;e=Wt;var s=32-ne(l)-1;l&=~(1<<s),a+=1;var i=32-ne(t)+s;if(30<i){var r=s-s%5;i=(l&(1<<r)-1).toString(32),l>>=r,s-=r,Jt=1<<32-ne(t)+s|a<<s|l,Wt=i+e}else Jt=1<<i|a<<s|l,Wt=e}function Wi(e){e.return!==null&&(oa(e,1),Vc(e,1,0))}function er(e){for(;e===An;)An=Ul[--Hl],Ul[Hl]=null,xs=Ul[--Hl],Ul[Hl]=null;for(;e===Ma;)Ma=Lt[--Ft],Lt[Ft]=null,Wt=Lt[--Ft],Lt[Ft]=null,Jt=Lt[--Ft],Lt[Ft]=null}function Pc(e,t){Lt[Ft++]=Jt,Lt[Ft++]=Wt,Lt[Ft++]=Ma,Jt=t.id,Wt=t.overflow,Ma=e}var rt=null,Oe=null,ye=!1,za=null,It=!1,tr=Error(d(519));function ja(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ws(Gt(t,e)),tr}function $c(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[it]=e,t[vt]=l,a){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(a=0;a<Is.length;a++)oe(Is[a],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),cc(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),dc(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||hf(t.textContent,a)?(l.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),l.onScroll!=null&&oe("scroll",t),l.onScrollEnd!=null&&oe("scrollend",t),l.onClick!=null&&(t.onclick=na),t=!0):t=!1,t||ja(e,!0)}function Kc(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:rt=rt.return}}function Bl(e){if(e!==rt)return!1;if(!ye)return Kc(e),ye=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vo(e.type,e.memoizedProps)),a=!a),a&&Oe&&ja(e),Kc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Oe=Sf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Oe=Sf(e)}else t===27?(t=Oe,Ia(e.type)?(e=ko,ko=null,Oe=e):Oe=t):Oe=rt?Zt(e.stateNode.nextSibling):null;return!0}function rl(){Oe=rt=null,ye=!1}function ar(){var e=za;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),za=null),e}function ws(e){za===null?za=[e]:za.push(e)}var lr=g(null),ol=null,ca=null;function qa(e,t,a){H(lr,t._currentValue),t._currentValue=a}function ua(e){e._currentValue=lr.current,q(lr)}function sr(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function nr(e,t,a,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=s;for(var h=0;h<t.length;h++)if(f.context===t[h]){i.lanes|=a,f=i.alternate,f!==null&&(f.lanes|=a),sr(i.return,a,e),l||(r=null);break e}i=f.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(d(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),sr(r,a,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Gl(e,t,a,l){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(d(387));if(r=r.memoizedProps,r!==null){var f=s.type;zt(s.pendingProps.value,r.value)||(e!==null?e.push(f):e=[f])}}else if(s===J.current){if(r=s.alternate,r===null)throw Error(d(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Ps):e=[Ps])}s=s.return}e!==null&&nr(t,e,a,l),t.flags|=262144}function kn(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cl(e){ol=e,ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Jc(ol,e)}function Nn(e,t){return ol===null&&cl(e),Jc(e,t)}function Jc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ca===null){if(e===null)throw Error(d(308));ca=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ca=ca.next=t;return a}var vh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},xh=n.unstable_scheduleCallback,wh=n.unstable_NormalPriority,Pe={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ir(){return{controller:new vh,data:new Map,refCount:0}}function Ss(e){e.refCount--,e.refCount===0&&xh(wh,function(){e.controller.abort()})}var As=null,rr=0,Ll=0,Fl=null;function Sh(e,t){if(As===null){var a=As=[];rr=0,Ll=uo(),Fl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rr++,t.then(Wc,Wc),t}function Wc(){if(--rr===0&&As!==null){Fl!==null&&(Fl.status="fulfilled");var e=As;As=null,Ll=0,Fl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ah(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var eu=M.S;M.S=function(e,t){Yd=yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Sh(e,t),eu!==null&&eu(e,t)};var ul=g(null);function or(){var e=ul.current;return e!==null?e:De.pooledCache}function Tn(e,t){t===null?H(ul,ul.current):H(ul,t.pool)}function tu(){var e=or();return e===null?null:{parent:Pe._currentValue,pool:e}}var Il=Error(d(460)),cr=Error(d(474)),Mn=Error(d(542)),zn={then:function(){}};function au(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(na,na),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nu(e),e;default:if(typeof t.status=="string")t.then(na,na);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nu(e),e}throw fl=t,Il}}function dl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fl=a,Il):a}}var fl=null;function su(){if(fl===null)throw Error(d(459));var e=fl;return fl=null,e}function nu(e){if(e===Il||e===Mn)throw Error(d(483))}var Xl=null,ks=0;function jn(e){var t=ks;return ks+=1,Xl===null&&(Xl=[]),lu(Xl,e,t)}function Ns(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function qn(e,t){throw t.$$typeof===G?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function iu(e){function t(_,p){if(e){var w=_.deletions;w===null?(_.deletions=[p],_.flags|=16):w.push(p)}}function a(_,p){if(!e)return null;for(;p!==null;)t(_,p),p=p.sibling;return null}function l(_){for(var p=new Map;_!==null;)_.key!==null?p.set(_.key,_):p.set(_.index,_),_=_.sibling;return p}function s(_,p){return _=ra(_,p),_.index=0,_.sibling=null,_}function i(_,p,w){return _.index=w,e?(w=_.alternate,w!==null?(w=w.index,w<p?(_.flags|=67108866,p):w):(_.flags|=67108866,p)):(_.flags|=1048576,p)}function r(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function f(_,p,w,j){return p===null||p.tag!==6?(p=Ki(w,_.mode,j),p.return=_,p):(p=s(p,w),p.return=_,p)}function h(_,p,w,j){var Z=w.type;return Z===be?z(_,p,w.props.children,j,w.key):p!==null&&(p.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===nt&&dl(Z)===p.type)?(p=s(p,w.props),Ns(p,w),p.return=_,p):(p=Sn(w.type,w.key,w.props,null,_.mode,j),Ns(p,w),p.return=_,p)}function S(_,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Ji(w,_.mode,j),p.return=_,p):(p=s(p,w.children||[]),p.return=_,p)}function z(_,p,w,j,Z){return p===null||p.tag!==7?(p=il(w,_.mode,j,Z),p.return=_,p):(p=s(p,w),p.return=_,p)}function E(_,p,w){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Ki(""+p,_.mode,w),p.return=_,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case me:return w=Sn(p.type,p.key,p.props,null,_.mode,w),Ns(w,p),w.return=_,w;case he:return p=Ji(p,_.mode,w),p.return=_,p;case nt:return p=dl(p),E(_,p,w)}if(bt(p)||Me(p))return p=il(p,_.mode,w,null),p.return=_,p;if(typeof p.then=="function")return E(_,jn(p),w);if(p.$$typeof===ve)return E(_,Nn(_,p),w);qn(_,p)}return null}function A(_,p,w,j){var Z=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return Z!==null?null:f(_,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case me:return w.key===Z?h(_,p,w,j):null;case he:return w.key===Z?S(_,p,w,j):null;case nt:return w=dl(w),A(_,p,w,j)}if(bt(w)||Me(w))return Z!==null?null:z(_,p,w,j,null);if(typeof w.then=="function")return A(_,p,jn(w),j);if(w.$$typeof===ve)return A(_,p,Nn(_,w),j);qn(_,w)}return null}function N(_,p,w,j,Z){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _=_.get(w)||null,f(p,_,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case me:return _=_.get(j.key===null?w:j.key)||null,h(p,_,j,Z);case he:return _=_.get(j.key===null?w:j.key)||null,S(p,_,j,Z);case nt:return j=dl(j),N(_,p,w,j,Z)}if(bt(j)||Me(j))return _=_.get(w)||null,z(p,_,j,Z,null);if(typeof j.then=="function")return N(_,p,w,jn(j),Z);if(j.$$typeof===ve)return N(_,p,w,Nn(p,j),Z);qn(p,j)}return null}function L(_,p,w,j){for(var Z=null,we=null,F=p,se=p=0,fe=null;F!==null&&se<w.length;se++){F.index>se?(fe=F,F=null):fe=F.sibling;var Se=A(_,F,w[se],j);if(Se===null){F===null&&(F=fe);break}e&&F&&Se.alternate===null&&t(_,F),p=i(Se,p,se),we===null?Z=Se:we.sibling=Se,we=Se,F=fe}if(se===w.length)return a(_,F),ye&&oa(_,se),Z;if(F===null){for(;se<w.length;se++)F=E(_,w[se],j),F!==null&&(p=i(F,p,se),we===null?Z=F:we.sibling=F,we=F);return ye&&oa(_,se),Z}for(F=l(F);se<w.length;se++)fe=N(F,_,se,w[se],j),fe!==null&&(e&&fe.alternate!==null&&F.delete(fe.key===null?se:fe.key),p=i(fe,p,se),we===null?Z=fe:we.sibling=fe,we=fe);return e&&F.forEach(function(Pa){return t(_,Pa)}),ye&&oa(_,se),Z}function V(_,p,w,j){if(w==null)throw Error(d(151));for(var Z=null,we=null,F=p,se=p=0,fe=null,Se=w.next();F!==null&&!Se.done;se++,Se=w.next()){F.index>se?(fe=F,F=null):fe=F.sibling;var Pa=A(_,F,Se.value,j);if(Pa===null){F===null&&(F=fe);break}e&&F&&Pa.alternate===null&&t(_,F),p=i(Pa,p,se),we===null?Z=Pa:we.sibling=Pa,we=Pa,F=fe}if(Se.done)return a(_,F),ye&&oa(_,se),Z;if(F===null){for(;!Se.done;se++,Se=w.next())Se=E(_,Se.value,j),Se!==null&&(p=i(Se,p,se),we===null?Z=Se:we.sibling=Se,we=Se);return ye&&oa(_,se),Z}for(F=l(F);!Se.done;se++,Se=w.next())Se=N(F,_,se,Se.value,j),Se!==null&&(e&&Se.alternate!==null&&F.delete(Se.key===null?se:Se.key),p=i(Se,p,se),we===null?Z=Se:we.sibling=Se,we=Se);return e&&F.forEach(function(Oy){return t(_,Oy)}),ye&&oa(_,se),Z}function Ee(_,p,w,j){if(typeof w=="object"&&w!==null&&w.type===be&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case me:e:{for(var Z=w.key;p!==null;){if(p.key===Z){if(Z=w.type,Z===be){if(p.tag===7){a(_,p.sibling),j=s(p,w.props.children),j.return=_,_=j;break e}}else if(p.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===nt&&dl(Z)===p.type){a(_,p.sibling),j=s(p,w.props),Ns(j,w),j.return=_,_=j;break e}a(_,p);break}else t(_,p);p=p.sibling}w.type===be?(j=il(w.props.children,_.mode,j,w.key),j.return=_,_=j):(j=Sn(w.type,w.key,w.props,null,_.mode,j),Ns(j,w),j.return=_,_=j)}return r(_);case he:e:{for(Z=w.key;p!==null;){if(p.key===Z)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){a(_,p.sibling),j=s(p,w.children||[]),j.return=_,_=j;break e}else{a(_,p);break}else t(_,p);p=p.sibling}j=Ji(w,_.mode,j),j.return=_,_=j}return r(_);case nt:return w=dl(w),Ee(_,p,w,j)}if(bt(w))return L(_,p,w,j);if(Me(w)){if(Z=Me(w),typeof Z!="function")throw Error(d(150));return w=Z.call(w),V(_,p,w,j)}if(typeof w.then=="function")return Ee(_,p,jn(w),j);if(w.$$typeof===ve)return Ee(_,p,Nn(_,w),j);qn(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,p!==null&&p.tag===6?(a(_,p.sibling),j=s(p,w),j.return=_,_=j):(a(_,p),j=Ki(w,_.mode,j),j.return=_,_=j),r(_)):a(_,p)}return function(_,p,w,j){try{ks=0;var Z=Ee(_,p,w,j);return Xl=null,Z}catch(F){if(F===Il||F===Mn)throw F;var we=jt(29,F,null,_.mode);return we.lanes=j,we.return=_,we}finally{}}}var ml=iu(!0),ru=iu(!1),Ea=!1;function ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ae&2)!==0){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=wn(e),Ic(e,null,a),t}return xn(e,l,t,a),wn(e)}function Ts(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Jo(e,a)}}function fr(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var mr=!1;function Ms(){if(mr){var e=Fl;if(e!==null)throw e}}function zs(e,t,a,l){mr=!1;var s=e.updateQueue;Ea=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var h=f,S=h.next;h.next=null,r===null?i=S:r.next=S,r=h;var z=e.alternate;z!==null&&(z=z.updateQueue,f=z.lastBaseUpdate,f!==r&&(f===null?z.firstBaseUpdate=S:f.next=S,z.lastBaseUpdate=h))}if(i!==null){var E=s.baseState;r=0,z=S=h=null,f=i;do{var A=f.lane&-536870913,N=A!==f.lane;if(N?(de&A)===A:(l&A)===A){A!==0&&A===Ll&&(mr=!0),z!==null&&(z=z.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var L=e,V=f;A=t;var Ee=a;switch(V.tag){case 1:if(L=V.payload,typeof L=="function"){E=L.call(Ee,E,A);break e}E=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=V.payload,A=typeof L=="function"?L.call(Ee,E,A):L,A==null)break e;E=U({},E,A);break e;case 2:Ea=!0}}A=f.callback,A!==null&&(e.flags|=64,N&&(e.flags|=8192),N=s.callbacks,N===null?s.callbacks=[A]:N.push(A))}else N={lane:A,tag:f.tag,payload:f.payload,callback:f.callback,next:null},z===null?(S=z=N,h=E):z=z.next=N,r|=A;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;N=f,f=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(!0);z===null&&(h=E),s.baseState=h,s.firstBaseUpdate=S,s.lastBaseUpdate=z,i===null&&(s.shared.lanes=0),Ha|=r,e.lanes=r,e.memoizedState=E}}function ou(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function cu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ou(a[e],t)}var Zl=g(null),En=g(0);function uu(e,t){e=_a,H(En,e),H(Zl,t),_a=e|t.baseLanes}function hr(){H(En,_a),H(Zl,Zl.current)}function yr(){_a=En.current,q(Zl),q(En)}var qt=g(null),Xt=null;function Oa(e){var t=e.alternate;H(Xe,Xe.current&1),H(qt,e),Xt===null&&(t===null||Zl.current!==null||t.memoizedState!==null)&&(Xt=e)}function pr(e){H(Xe,Xe.current),H(qt,e),Xt===null&&(Xt=e)}function du(e){e.tag===22?(H(Xe,Xe.current),H(qt,e),Xt===null&&(Xt=e)):Ra()}function Ra(){H(Xe,Xe.current),H(qt,qt.current)}function Et(e){q(qt),Xt===e&&(Xt=null),q(Xe)}var Xe=g(0);function Cn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||So(a)||Ao(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=0,ae=null,je=null,$e=null,Dn=!1,Ql=!1,hl=!1,On=0,js=0,Vl=null,kh=0;function Fe(){throw Error(d(321))}function gr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!zt(e[a],t[a]))return!1;return!0}function br(e,t,a,l,s,i){return da=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Vu:Cr,hl=!1,i=a(l,s),hl=!1,Ql&&(i=mu(t,a,l,s)),fu(e),i}function fu(e){M.H=Cs;var t=je!==null&&je.next!==null;if(da=0,$e=je=ae=null,Dn=!1,js=0,Vl=null,t)throw Error(d(300));e===null||Ke||(e=e.dependencies,e!==null&&kn(e)&&(Ke=!0))}function mu(e,t,a,l){ae=e;var s=0;do{if(Ql&&(Vl=null),js=0,Ql=!1,25<=s)throw Error(d(301));if(s+=1,$e=je=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}M.H=Pu,i=t(a,l)}while(Ql);return i}function Nh(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?qs(t):t,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(ae.flags|=1024),t}function _r(){var e=On!==0;return On=0,e}function vr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function xr(e){if(Dn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Dn=!1}da=0,$e=je=ae=null,Ql=!1,js=On=0,Vl=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ae.memoizedState=$e=e:$e=$e.next=e,$e}function Ze(){if(je===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=$e===null?ae.memoizedState:$e.next;if(t!==null)$e=t,je=e;else{if(e===null)throw ae.alternate===null?Error(d(467)):Error(d(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},$e===null?ae.memoizedState=$e=e:$e=$e.next=e}return $e}function Rn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(e){var t=js;return js+=1,Vl===null&&(Vl=[]),e=lu(Vl,e,t),t=ae,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Vu:Cr),e}function Yn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qs(e);if(e.$$typeof===ve)return ot(e)}throw Error(d(438,String(e)))}function wr(e){var t=null,a=ae.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Rn(),ae.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ht;return t.index++,a}function fa(e,t){return typeof t=="function"?t(e):t}function Un(e){var t=Ze();return Sr(t,je,e)}function Sr(e,t,a){var l=e.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=a;var s=e.baseQueue,i=l.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,l.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var f=r=null,h=null,S=t,z=!1;do{var E=S.lane&-536870913;if(E!==S.lane?(de&E)===E:(da&E)===E){var A=S.revertLane;if(A===0)h!==null&&(h=h.next={lane:0,revertLane:0,gesture:null,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),E===Ll&&(z=!0);else if((da&A)===A){S=S.next,A===Ll&&(z=!0);continue}else E={lane:0,revertLane:S.revertLane,gesture:null,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},h===null?(f=h=E,r=i):h=h.next=E,ae.lanes|=A,Ha|=A;E=S.action,hl&&a(i,E),i=S.hasEagerState?S.eagerState:a(i,E)}else A={lane:E,revertLane:S.revertLane,gesture:S.gesture,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},h===null?(f=h=A,r=i):h=h.next=A,ae.lanes|=E,Ha|=E;S=S.next}while(S!==null&&S!==t);if(h===null?r=i:h.next=f,!zt(i,e.memoizedState)&&(Ke=!0,z&&(a=Fl,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=h,l.lastRenderedState=i}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ar(e){var t=Ze(),a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var l=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);zt(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function hu(e,t,a){var l=ae,s=Ze(),i=ye;if(i){if(a===void 0)throw Error(d(407));a=a()}else a=t();var r=!zt((je||s).memoizedState,a);if(r&&(s.memoizedState=a,Ke=!0),s=s.queue,Tr(gu.bind(null,l,s,e),[e]),s.getSnapshot!==t||r||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,Pl(9,{destroy:void 0},pu.bind(null,l,s,a,t),null),De===null)throw Error(d(349));i||(da&127)!==0||yu(l,t,a)}return a}function yu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ae.updateQueue,t===null?(t=Rn(),ae.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function pu(e,t,a,l){t.value=a,t.getSnapshot=l,bu(t)&&_u(e)}function gu(e,t,a){return a(function(){bu(t)&&_u(e)})}function bu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!zt(e,a)}catch{return!0}}function _u(e){var t=nl(e,2);t!==null&&Nt(t,e,2)}function kr(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),hl){xe(!0);try{a()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function vu(e,t,a,l){return e.baseState=a,Sr(e,je,typeof l=="function"?l:fa)}function Th(e,t,a,l,s){if(Gn(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};M.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,xu(t,i)):(i.next=a.next,t.pending=a.next=i)}}function xu(e,t){var a=t.action,l=t.payload,s=e.state;if(t.isTransition){var i=M.T,r={};M.T=r;try{var f=a(s,l),h=M.S;h!==null&&h(r,f),wu(e,t,f)}catch(S){Nr(e,t,S)}finally{i!==null&&r.types!==null&&(i.types=r.types),M.T=i}}else try{i=a(s,l),wu(e,t,i)}catch(S){Nr(e,t,S)}}function wu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Su(e,t,l)},function(l){return Nr(e,t,l)}):Su(e,t,a)}function Su(e,t,a){t.status="fulfilled",t.value=a,Au(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,xu(e,a)))}function Nr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Au(t),t=t.next;while(t!==l)}e.action=null}function Au(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ku(e,t){return t}function Nu(e,t){if(ye){var a=De.formState;if(a!==null){e:{var l=ae;if(ye){if(Oe){t:{for(var s=Oe,i=It;s.nodeType!==8;){if(!i){s=null;break t}if(s=Zt(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Oe=Zt(s.nextSibling),l=s.data==="F!";break e}}ja(l)}l=!1}l&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:t},a.queue=l,a=Xu.bind(null,ae,l),l.dispatch=a,l=kr(!1),i=Er.bind(null,ae,!1,l.queue),l=pt(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,a=Th.bind(null,ae,s,i,a),s.dispatch=a,l.memoizedState=e,[t,a,!1]}function Tu(e){var t=Ze();return Mu(t,je,e)}function Mu(e,t,a){if(t=Sr(e,t,ku)[0],e=Un(fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=qs(t)}catch(r){throw r===Il?Mn:r}else l=t;t=Ze();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(ae.flags|=2048,Pl(9,{destroy:void 0},Mh.bind(null,s,a),null)),[l,i,e]}function Mh(e,t){e.action=t}function zu(e){var t=Ze(),a=je;if(a!==null)return Mu(t,a,e);Ze(),t=t.memoizedState,a=Ze();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Pl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ae.updateQueue,t===null&&(t=Rn(),ae.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function ju(){return Ze().memoizedState}function Hn(e,t,a,l){var s=pt();ae.flags|=e,s.memoizedState=Pl(1|t,{destroy:void 0},a,l===void 0?null:l)}function Bn(e,t,a,l){var s=Ze();l=l===void 0?null:l;var i=s.memoizedState.inst;je!==null&&l!==null&&gr(l,je.memoizedState.deps)?s.memoizedState=Pl(t,i,a,l):(ae.flags|=e,s.memoizedState=Pl(1|t,i,a,l))}function qu(e,t){Hn(8390656,8,e,t)}function Tr(e,t){Bn(2048,8,e,t)}function zh(e){ae.flags|=4;var t=ae.updateQueue;if(t===null)t=Rn(),ae.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Eu(e){var t=Ze().memoizedState;return zh({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Cu(e,t){return Bn(4,2,e,t)}function Du(e,t){return Bn(4,4,e,t)}function Ou(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ru(e,t,a){a=a!=null?a.concat([e]):null,Bn(4,4,Ou.bind(null,t,e),a)}function Mr(){}function Yu(e,t){var a=Ze();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&gr(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Uu(e,t){var a=Ze();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&gr(t,l[1]))return l[0];if(l=e(),hl){xe(!0);try{e()}finally{xe(!1)}}return a.memoizedState=[l,t],l}function zr(e,t,a){return a===void 0||(da&1073741824)!==0&&(de&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Hd(),ae.lanes|=e,Ha|=e,a)}function Hu(e,t,a,l){return zt(a,t)?a:Zl.current!==null?(e=zr(e,a,l),zt(e,t)||(Ke=!0),e):(da&42)===0||(da&1073741824)!==0&&(de&261930)===0?(Ke=!0,e.memoizedState=a):(e=Hd(),ae.lanes|=e,Ha|=e,t)}function Bu(e,t,a,l,s){var i=Y.p;Y.p=i!==0&&8>i?i:8;var r=M.T,f={};M.T=f,Er(e,!1,t,a);try{var h=s(),S=M.S;if(S!==null&&S(f,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var z=Ah(h,l);Es(e,t,z,Ot(e))}else Es(e,t,l,Ot(e))}catch(E){Es(e,t,{then:function(){},status:"rejected",reason:E},Ot())}finally{Y.p=i,r!==null&&f.types!==null&&(r.types=f.types),M.T=r}}function jh(){}function jr(e,t,a,l){if(e.tag!==5)throw Error(d(476));var s=Gu(e).queue;Bu(e,s,t,P,a===null?jh:function(){return Lu(e),a(l)})}function Gu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:P},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Lu(e){var t=Gu(e);t.next===null&&(t=e.alternate.memoizedState),Es(e,t.next.queue,{},Ot())}function qr(){return ot(Ps)}function Fu(){return Ze().memoizedState}function Iu(){return Ze().memoizedState}function qh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Ca(a);var l=Da(t,e,a);l!==null&&(Nt(l,t,a),Ts(l,t,a)),t={cache:ir()},e.payload=t;return}t=t.return}}function Eh(e,t,a){var l=Ot();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gn(e)?Zu(t,a):(a=Pi(e,t,a,l),a!==null&&(Nt(a,e,l),Qu(a,t,l)))}function Xu(e,t,a){var l=Ot();Es(e,t,a,l)}function Es(e,t,a,l){var s={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gn(e))Zu(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,f=i(r,a);if(s.hasEagerState=!0,s.eagerState=f,zt(f,r))return xn(e,t,s,0),De===null&&vn(),!1}catch{}finally{}if(a=Pi(e,t,s,l),a!==null)return Nt(a,e,l),Qu(a,t,l),!0}return!1}function Er(e,t,a,l){if(l={lane:2,revertLane:uo(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gn(e)){if(t)throw Error(d(479))}else t=Pi(e,a,l,2),t!==null&&Nt(t,e,2)}function Gn(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Zu(e,t){Ql=Dn=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Qu(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Jo(e,a)}}var Cs={readContext:ot,use:Yn,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Cs.useEffectEvent=Fe;var Vu={readContext:ot,use:Yn,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:qu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Hn(4194308,4,Ou.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Hn(4194308,4,e,t)},useInsertionEffect:function(e,t){Hn(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var l=e();if(hl){xe(!0);try{e()}finally{xe(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=pt();if(a!==void 0){var s=a(t);if(hl){xe(!0);try{a(t)}finally{xe(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=Eh.bind(null,ae,e),[l.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=kr(e);var t=e.queue,a=Xu.bind(null,ae,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Mr,useDeferredValue:function(e,t){var a=pt();return zr(a,e,t)},useTransition:function(){var e=kr(!1);return e=Bu.bind(null,ae,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ae,s=pt();if(ye){if(a===void 0)throw Error(d(407));a=a()}else{if(a=t(),De===null)throw Error(d(349));(de&127)!==0||yu(l,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,qu(gu.bind(null,l,i,e),[e]),l.flags|=2048,Pl(9,{destroy:void 0},pu.bind(null,l,i,a,t),null),a},useId:function(){var e=pt(),t=De.identifierPrefix;if(ye){var a=Wt,l=Jt;a=(l&~(1<<32-ne(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=On++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=kh++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qr,useFormState:Nu,useActionState:Nu,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Er.bind(null,ae,!0,a),a.dispatch=t,[e,t]},useMemoCache:wr,useCacheRefresh:function(){return pt().memoizedState=qh.bind(null,ae)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((Ae&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}},Cr={readContext:ot,use:Yn,useCallback:Yu,useContext:ot,useEffect:Tr,useImperativeHandle:Ru,useInsertionEffect:Cu,useLayoutEffect:Du,useMemo:Uu,useReducer:Un,useRef:ju,useState:function(){return Un(fa)},useDebugValue:Mr,useDeferredValue:function(e,t){var a=Ze();return Hu(a,je.memoizedState,e,t)},useTransition:function(){var e=Un(fa)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:qs(e),t]},useSyncExternalStore:hu,useId:Fu,useHostTransitionStatus:qr,useFormState:Tu,useActionState:Tu,useOptimistic:function(e,t){var a=Ze();return vu(a,je,e,t)},useMemoCache:wr,useCacheRefresh:Iu};Cr.useEffectEvent=Eu;var Pu={readContext:ot,use:Yn,useCallback:Yu,useContext:ot,useEffect:Tr,useImperativeHandle:Ru,useInsertionEffect:Cu,useLayoutEffect:Du,useMemo:Uu,useReducer:Ar,useRef:ju,useState:function(){return Ar(fa)},useDebugValue:Mr,useDeferredValue:function(e,t){var a=Ze();return je===null?zr(a,e,t):Hu(a,je.memoizedState,e,t)},useTransition:function(){var e=Ar(fa)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:qs(e),t]},useSyncExternalStore:hu,useId:Fu,useHostTransitionStatus:qr,useFormState:zu,useActionState:zu,useOptimistic:function(e,t){var a=Ze();return je!==null?vu(a,je,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wr,useCacheRefresh:Iu};Pu.useEffectEvent=Eu;function Dr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:U({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Or={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Ot(),s=Ca(l);s.payload=t,a!=null&&(s.callback=a),t=Da(e,s,l),t!==null&&(Nt(t,e,l),Ts(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Ot(),s=Ca(l);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=Da(e,s,l),t!==null&&(Nt(t,e,l),Ts(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),l=Ca(a);l.tag=2,t!=null&&(l.callback=t),t=Da(e,l,a),t!==null&&(Nt(t,e,a),Ts(t,e,a))}};function $u(e,t,a,l,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,r):t.prototype&&t.prototype.isPureReactComponent?!_s(a,l)||!_s(s,i):!0}function Ku(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Or.enqueueReplaceState(t,t.state,null)}function yl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=U({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Ju(e){_n(e)}function Wu(e){console.error(e)}function ed(e){_n(e)}function Ln(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function td(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Rr(e,t,a){return a=Ca(a),a.tag=3,a.payload={element:null},a.callback=function(){Ln(e,t)},a}function ad(e){return e=Ca(e),e.tag=3,e}function ld(e,t,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=l.value;e.payload=function(){return s(i)},e.callback=function(){td(t,a,l)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){td(t,a,l),typeof s!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var f=l.stack;this.componentDidCatch(l.value,{componentStack:f!==null?f:""})})}function Ch(e,t,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Gl(t,a,s,!0),a=qt.current,a!==null){switch(a.tag){case 31:case 13:return Xt===null?ei():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===zn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),ro(e,l,s)),!1;case 22:return a.flags|=65536,l===zn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),ro(e,l,s)),!1}throw Error(d(435,a.tag))}return ro(e,l,s),ei(),!1}if(ye)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==tr&&(e=Error(d(422),{cause:l}),ws(Gt(e,a)))):(l!==tr&&(t=Error(d(423),{cause:l}),ws(Gt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=Gt(l,a),s=Rr(e.stateNode,l,s),fr(e,s),Ie!==4&&(Ie=2)),!1;var i=Error(d(520),{cause:l});if(i=Gt(i,a),Gs===null?Gs=[i]:Gs.push(i),Ie!==4&&(Ie=2),t===null)return!0;l=Gt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=Rr(a.stateNode,l,e),fr(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ba===null||!Ba.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=ad(s),ld(s,e,a,l),fr(a,s),!1}a=a.return}while(a!==null);return!1}var Yr=Error(d(461)),Ke=!1;function ct(e,t,a,l){t.child=e===null?ru(t,null,a,l):ml(t,e.child,a,l)}function sd(e,t,a,l,s){a=a.render;var i=t.ref;if("ref"in l){var r={};for(var f in l)f!=="ref"&&(r[f]=l[f])}else r=l;return cl(t),l=br(e,t,a,r,i,s),f=_r(),e!==null&&!Ke?(vr(e,t,s),ma(e,t,s)):(ye&&f&&Wi(t),t.flags|=1,ct(e,t,l,s),t.child)}function nd(e,t,a,l,s){if(e===null){var i=a.type;return typeof i=="function"&&!$i(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,id(e,t,i,l,s)):(e=Sn(a.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Xr(e,s)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:_s,a(r,l)&&e.ref===t.ref)return ma(e,t,s)}return t.flags|=1,e=ra(i,l),e.ref=t.ref,e.return=t,t.child=e}function id(e,t,a,l,s){if(e!==null){var i=e.memoizedProps;if(_s(i,l)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=l=i,Xr(e,s))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,ma(e,t,s)}return Ur(e,t,a,l,s)}function rd(e,t,a,l){var s=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~i}else l=0,t.child=null;return od(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tn(t,i!==null?i.cachePool:null),i!==null?uu(t,i):hr(),du(t);else return l=t.lanes=536870912,od(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Tn(t,i.cachePool),uu(t,i),Ra(),t.memoizedState=null):(e!==null&&Tn(t,null),hr(),Ra());return ct(e,t,s,a),t.child}function Ds(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function od(e,t,a,l,s){var i=or();return i=i===null?null:{parent:Pe._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Tn(t,null),hr(),du(t),e!==null&&Gl(e,t,l,!0),t.childLanes=s,null}function Fn(e,t){return t=Xn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function cd(e,t,a){return ml(t,e.child,null,a),e=Fn(t,t.pendingProps),e.flags|=2,Et(t),t.memoizedState=null,e}function Dh(e,t,a){var l=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(l.mode==="hidden")return e=Fn(t,l),t.lanes=536870912,Ds(null,e);if(pr(t),(e=Oe)?(e=wf(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:Jt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},a=Zc(e),a.return=t,t.child=a,rt=t,Oe=null)):e=null,e===null)throw ja(t);return t.lanes=536870912,null}return Fn(t,l)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(pr(t),s)if(t.flags&256)t.flags&=-257,t=cd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(Ke||Gl(e,t,a,!1),s=(a&e.childLanes)!==0,Ke||s){if(l=De,l!==null&&(r=Wo(l,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,nl(e,r),Nt(l,e,r),Yr;ei(),t=cd(e,t,a)}else e=i.treeContext,Oe=Zt(r.nextSibling),rt=t,ye=!0,za=null,It=!1,e!==null&&Pc(t,e),t=Fn(t,l),t.flags|=4096;return t}return e=ra(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function In(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ur(e,t,a,l,s){return cl(t),a=br(e,t,a,l,void 0,s),l=_r(),e!==null&&!Ke?(vr(e,t,s),ma(e,t,s)):(ye&&l&&Wi(t),t.flags|=1,ct(e,t,a,s),t.child)}function ud(e,t,a,l,s,i){return cl(t),t.updateQueue=null,a=mu(t,l,a,s),fu(e),l=_r(),e!==null&&!Ke?(vr(e,t,i),ma(e,t,i)):(ye&&l&&Wi(t),t.flags|=1,ct(e,t,a,i),t.child)}function dd(e,t,a,l,s){if(cl(t),t.stateNode===null){var i=Yl,r=a.contextType;typeof r=="object"&&r!==null&&(i=ot(r)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Or,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},ur(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?ot(r):Yl,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(Dr(t,a,r,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Or.enqueueReplaceState(i,i.state,null),zs(t,l,i,s),Ms(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,h=yl(a,f);i.props=h;var S=i.context,z=a.contextType;r=Yl,typeof z=="object"&&z!==null&&(r=ot(z));var E=a.getDerivedStateFromProps;z=typeof E=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,z||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||S!==r)&&Ku(t,i,l,r),Ea=!1;var A=t.memoizedState;i.state=A,zs(t,l,i,s),Ms(),S=t.memoizedState,f||A!==S||Ea?(typeof E=="function"&&(Dr(t,a,E,l),S=t.memoizedState),(h=Ea||$u(t,a,h,l,A,S,r))?(z||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=S),i.props=l,i.state=S,i.context=r,l=h):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,dr(e,t),r=t.memoizedProps,z=yl(a,r),i.props=z,E=t.pendingProps,A=i.context,S=a.contextType,h=Yl,typeof S=="object"&&S!==null&&(h=ot(S)),f=a.getDerivedStateFromProps,(S=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==E||A!==h)&&Ku(t,i,l,h),Ea=!1,A=t.memoizedState,i.state=A,zs(t,l,i,s),Ms();var N=t.memoizedState;r!==E||A!==N||Ea||e!==null&&e.dependencies!==null&&kn(e.dependencies)?(typeof f=="function"&&(Dr(t,a,f,l),N=t.memoizedState),(z=Ea||$u(t,a,z,l,A,N,h)||e!==null&&e.dependencies!==null&&kn(e.dependencies))?(S||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,N,h),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,N,h)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),i.props=l,i.state=N,i.context=h,l=z):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,In(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=ml(t,e.child,null,s),t.child=ml(t,null,a,s)):ct(e,t,a,s),t.memoizedState=i.state,e=t.child):e=ma(e,t,s),e}function fd(e,t,a,l){return rl(),t.flags|=256,ct(e,t,a,l),t.child}var Hr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Br(e){return{baseLanes:e,cachePool:tu()}}function Gr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function md(e,t,a){var l=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(s?Oa(t):Ra(),(e=Oe)?(e=wf(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:Jt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},a=Zc(e),a.return=t,t.child=a,rt=t,Oe=null)):e=null,e===null)throw ja(t);return Ao(e)?t.lanes=32:t.lanes=536870912,null}var f=l.children;return l=l.fallback,s?(Ra(),s=t.mode,f=Xn({mode:"hidden",children:f},s),l=il(l,s,a,null),f.return=t,l.return=t,f.sibling=l,t.child=f,l=t.child,l.memoizedState=Br(a),l.childLanes=Gr(e,r,a),t.memoizedState=Hr,Ds(null,l)):(Oa(t),Lr(t,f))}var h=e.memoizedState;if(h!==null&&(f=h.dehydrated,f!==null)){if(i)t.flags&256?(Oa(t),t.flags&=-257,t=Fr(e,t,a)):t.memoizedState!==null?(Ra(),t.child=e.child,t.flags|=128,t=null):(Ra(),f=l.fallback,s=t.mode,l=Xn({mode:"visible",children:l.children},s),f=il(f,s,a,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,ml(t,e.child,null,a),l=t.child,l.memoizedState=Br(a),l.childLanes=Gr(e,r,a),t.memoizedState=Hr,t=Ds(null,l));else if(Oa(t),Ao(f)){if(r=f.nextSibling&&f.nextSibling.dataset,r)var S=r.dgst;r=S,l=Error(d(419)),l.stack="",l.digest=r,ws({value:l,source:null,stack:null}),t=Fr(e,t,a)}else if(Ke||Gl(e,t,a,!1),r=(a&e.childLanes)!==0,Ke||r){if(r=De,r!==null&&(l=Wo(r,a),l!==0&&l!==h.retryLane))throw h.retryLane=l,nl(e,l),Nt(r,e,l),Yr;So(f)||ei(),t=Fr(e,t,a)}else So(f)?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,Oe=Zt(f.nextSibling),rt=t,ye=!0,za=null,It=!1,e!==null&&Pc(t,e),t=Lr(t,l.children),t.flags|=4096);return t}return s?(Ra(),f=l.fallback,s=t.mode,h=e.child,S=h.sibling,l=ra(h,{mode:"hidden",children:l.children}),l.subtreeFlags=h.subtreeFlags&65011712,S!==null?f=ra(S,f):(f=il(f,s,a,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,Ds(null,l),l=t.child,f=e.child.memoizedState,f===null?f=Br(a):(s=f.cachePool,s!==null?(h=Pe._currentValue,s=s.parent!==h?{parent:h,pool:h}:s):s=tu(),f={baseLanes:f.baseLanes|a,cachePool:s}),l.memoizedState=f,l.childLanes=Gr(e,r,a),t.memoizedState=Hr,Ds(e.child,l)):(Oa(t),a=e.child,e=a.sibling,a=ra(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function Lr(e,t){return t=Xn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xn(e,t){return e=jt(22,e,null,t),e.lanes=0,e}function Fr(e,t,a){return ml(t,e.child,null,a),e=Lr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),sr(e.return,t,a)}function Ir(e,t,a,l,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=s,r.treeForkCount=i)}function yd(e,t,a){var l=t.pendingProps,s=l.revealOrder,i=l.tail;l=l.children;var r=Xe.current,f=(r&2)!==0;if(f?(r=r&1|2,t.flags|=128):r&=1,H(Xe,r),ct(e,t,l,a),l=ye?xs:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,a,t);else if(e.tag===19)hd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Cn(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Ir(t,!1,s,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cn(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Ir(t,!0,a,null,i,l);break;case"together":Ir(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ma(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Gl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,a=ra(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ra(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Xr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&kn(e)))}function Oh(e,t,a){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),qa(t,Pe,e.memoizedState.cache),rl();break;case 27:case 5:wa(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,pr(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Oa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?md(e,t,a):(Oa(t),e=ma(e,t,a),e!==null?e.sibling:null);Oa(t);break;case 19:var s=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Gl(e,t,a,!1),l=(a&t.childLanes)!==0),s){if(l)return yd(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Xe,Xe.current),l)break;return null;case 22:return t.lanes=0,rd(e,t,a,t.pendingProps);case 24:qa(t,Pe,e.memoizedState.cache)}return ma(e,t,a)}function pd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!Xr(e,a)&&(t.flags&128)===0)return Ke=!1,Oh(e,t,a);Ke=(e.flags&131072)!==0}else Ke=!1,ye&&(t.flags&1048576)!==0&&Vc(t,xs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=dl(t.elementType),t.type=e,typeof e=="function")$i(e)?(l=yl(e,l),t.tag=1,t=dd(null,t,e,l,a)):(t.tag=0,t=Ur(null,t,e,l,a));else{if(e!=null){var s=e.$$typeof;if(s===at){t.tag=11,t=sd(null,t,e,l,a);break e}else if(s===ee){t.tag=14,t=nd(null,t,e,l,a);break e}}throw t=Rt(e)||e,Error(d(306,t,""))}}return t;case 0:return Ur(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,s=yl(l,t.pendingProps),dd(e,t,l,s,a);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(d(387));l=t.pendingProps;var i=t.memoizedState;s=i.element,dr(e,t),zs(t,l,null,a);var r=t.memoizedState;if(l=r.cache,qa(t,Pe,l),l!==i.cache&&nr(t,[Pe],a,!0),Ms(),l=r.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=fd(e,t,l,a);break e}else if(l!==s){s=Gt(Error(d(424)),t),ws(s),t=fd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Zt(e.firstChild),rt=t,ye=!0,za=null,It=!0,a=ru(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===s){t=ma(e,t,a);break e}ct(e,t,l,a)}t=t.child}return t;case 26:return In(e,t),e===null?(a=Mf(t.type,null,t.pendingProps,null))?t.memoizedState=a:ye||(a=t.type,e=t.pendingProps,l=ri(I.current).createElement(a),l[it]=t,l[vt]=e,ut(l,a,e),lt(l),t.stateNode=l):t.memoizedState=Mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return wa(t),e===null&&ye&&(l=t.stateNode=kf(t.type,t.pendingProps,I.current),rt=t,It=!0,s=Oe,Ia(t.type)?(ko=s,Oe=Zt(l.firstChild)):Oe=s),ct(e,t,t.pendingProps.children,a),In(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((s=l=Oe)&&(l=dy(l,t.type,t.pendingProps,It),l!==null?(t.stateNode=l,rt=t,Oe=Zt(l.firstChild),It=!1,s=!0):s=!1),s||ja(t)),wa(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,l=i.children,vo(s,i)?l=null:r!==null&&vo(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=br(e,t,Nh,null,null,a),Ps._currentValue=s),In(e,t),ct(e,t,l,a),t.child;case 6:return e===null&&ye&&((e=a=Oe)&&(a=fy(a,t.pendingProps,It),a!==null?(t.stateNode=a,rt=t,Oe=null,e=!0):e=!1),e||ja(t)),null;case 13:return md(e,t,a);case 4:return et(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ml(t,null,l,a):ct(e,t,l,a),t.child;case 11:return sd(e,t,t.type,t.pendingProps,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,qa(t,t.type,l.value),ct(e,t,l.children,a),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,cl(t),s=ot(s),l=l(s),t.flags|=1,ct(e,t,l,a),t.child;case 14:return nd(e,t,t.type,t.pendingProps,a);case 15:return id(e,t,t.type,t.pendingProps,a);case 19:return yd(e,t,a);case 31:return Dh(e,t,a);case 22:return rd(e,t,a,t.pendingProps);case 24:return cl(t),l=ot(Pe),e===null?(s=or(),s===null&&(s=De,i=ir(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:l,cache:s},ur(t),qa(t,Pe,s)):((e.lanes&a)!==0&&(dr(e,t),zs(t,null,null,a),Ms()),s=e.memoizedState,i=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),qa(t,Pe,l)):(l=i.cache,qa(t,Pe,l),l!==s.cache&&nr(t,[Pe],a,!0))),ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ha(e){e.flags|=4}function Zr(e,t,a,l,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Fd())e.flags|=8192;else throw fl=zn,cr}else e.flags&=-16777217}function gd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cf(t))if(Fd())e.flags|=8192;else throw fl=zn,cr}function Zn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sl():536870912,e.lanes|=t,Wl|=t)}function Os(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Rh(e,t,a){var l=t.pendingProps;switch(er(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ua(Pe),Be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ar())),Re(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ha(t),i!==null?(Re(t),gd(t,i)):(Re(t),Zr(t,s,null,l,a))):i?i!==e.memoizedState?(ha(t),Re(t),gd(t,i)):(Re(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ha(t),Re(t),Zr(t,s,e,l,a)),null;case 27:if(Sa(t),a=I.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(!l){if(t.stateNode===null)throw Error(d(166));return Re(t),null}e=B.current,Bl(t)?$c(t):(e=kf(s,l,a),t.stateNode=e,ha(t))}return Re(t),null;case 5:if(Sa(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(!l){if(t.stateNode===null)throw Error(d(166));return Re(t),null}if(i=B.current,Bl(t))$c(t);else{var r=ri(I.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?r.createElement(s,{is:l.is}):r.createElement(s)}}i[it]=t,i[vt]=l;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(ut(i,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ha(t)}}return Re(t),Zr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(d(166));if(e=I.current,Bl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,s=rt,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[it]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hf(e.nodeValue,a)),e||ja(t,!0)}else e=ri(e).createTextNode(l),e[it]=t,t.stateNode=e}return Re(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Bl(t),a!==null){if(e===null){if(!l)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[it]=t}else rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),e=!1}else a=ar(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Et(t),t):(Et(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Re(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Bl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(d(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[it]=t}else rl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else s=ar(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Et(t),t):(Et(t),null)}return Et(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==s&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Zn(t,t.updateQueue),Re(t),null);case 4:return Be(),e===null&&yo(t.stateNode.containerInfo),Re(t),null;case 10:return ua(t.type),Re(t),null;case 19:if(q(Xe),l=t.memoizedState,l===null)return Re(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)Os(l,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Cn(e),i!==null){for(t.flags|=128,Os(l,!1),e=i.updateQueue,t.updateQueue=e,Zn(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Xc(a,e),a=a.sibling;return H(Xe,Xe.current&1|2),ye&&oa(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&yt()>Kn&&(t.flags|=128,s=!0,Os(l,!1),t.lanes=4194304)}else{if(!s)if(e=Cn(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Zn(t,e),Os(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ye)return Re(t),null}else 2*yt()-l.renderingStartTime>Kn&&a!==536870912&&(t.flags|=128,s=!0,Os(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=yt(),e.sibling=null,a=Xe.current,H(Xe,s?a&1|2:a&1),ye&&oa(t,l.treeForkCount),e):(Re(t),null);case 22:case 23:return Et(t),yr(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),a=t.updateQueue,a!==null&&Zn(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&q(ul),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ua(Pe),Re(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Yh(e,t){switch(er(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(Pe),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Sa(t),null;case 31:if(t.memoizedState!==null){if(Et(t),t.alternate===null)throw Error(d(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Et(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));rl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Xe),null;case 4:return Be(),null;case 10:return ua(t.type),null;case 22:case 23:return Et(t),yr(),e!==null&&q(ul),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ua(Pe),null;case 25:return null;default:return null}}function bd(e,t){switch(er(t),t.tag){case 3:ua(Pe),Be();break;case 26:case 27:case 5:Sa(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&Et(t);break;case 13:Et(t);break;case 19:q(Xe);break;case 10:ua(t.type);break;case 22:case 23:Et(t),yr(),e!==null&&q(ul);break;case 24:ua(Pe)}}function Rs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){l=void 0;var i=a.create,r=a.inst;l=i(),r.destroy=l}a=a.next}while(a!==s)}}catch(f){Te(t,t.return,f)}}function Ya(e,t,a){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var i=s.next;l=i;do{if((l.tag&e)===e){var r=l.inst,f=r.destroy;if(f!==void 0){r.destroy=void 0,s=t;var h=a,S=f;try{S()}catch(z){Te(s,h,z)}}}l=l.next}while(l!==i)}}catch(z){Te(t,t.return,z)}}function _d(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{cu(t,a)}catch(l){Te(e,e.return,l)}}}function vd(e,t,a){a.props=yl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Te(e,t,l)}}function Ys(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(s){Te(e,t,s)}}function ea(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){Te(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Te(e,t,s)}else a.current=null}function xd(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){Te(e,e.return,s)}}function Qr(e,t,a){try{var l=e.stateNode;ny(l,e.type,a,t),l[vt]=t}catch(s){Te(e,e.return,s)}}function wd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function Vr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=na));else if(l!==4&&(l===27&&Ia(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Pr(e,t,a),e=e.sibling;e!==null;)Pr(e,t,a),e=e.sibling}function Qn(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ia(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Qn(e,t,a),e=e.sibling;e!==null;)Qn(e,t,a),e=e.sibling}function Sd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ut(t,l,a),t[it]=e,t[vt]=a}catch(i){Te(e,e.return,i)}}var ya=!1,Je=!1,$r=!1,Ad=typeof WeakSet=="function"?WeakSet:Set,st=null;function Uh(e,t){if(e=e.containerInfo,bo=hi,e=Rc(e),Fi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,f=-1,h=-1,S=0,z=0,E=e,A=null;t:for(;;){for(var N;E!==a||s!==0&&E.nodeType!==3||(f=r+s),E!==i||l!==0&&E.nodeType!==3||(h=r+l),E.nodeType===3&&(r+=E.nodeValue.length),(N=E.firstChild)!==null;)A=E,E=N;for(;;){if(E===e)break t;if(A===a&&++S===s&&(f=r),A===i&&++z===l&&(h=r),(N=E.nextSibling)!==null)break;E=A,A=E.parentNode}E=N}a=f===-1||h===-1?null:{start:f,end:h}}else a=null}a=a||{start:0,end:0}}else a=null;for(_o={focusedElem:e,selectionRange:a},hi=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var L=yl(a.type,s);e=l.getSnapshotBeforeUpdate(L,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(V){Te(a,a.return,V)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)wo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function kd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ga(e,a),l&4&&Rs(5,a);break;case 1:if(ga(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Te(a,a.return,r)}else{var s=yl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Te(a,a.return,r)}}l&64&&_d(a),l&512&&Ys(a,a.return);break;case 3:if(ga(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{cu(e,t)}catch(r){Te(a,a.return,r)}}break;case 27:t===null&&l&4&&Sd(a);case 26:case 5:ga(e,a),t===null&&l&4&&xd(a),l&512&&Ys(a,a.return);break;case 12:ga(e,a);break;case 31:ga(e,a),l&4&&Md(e,a);break;case 13:ga(e,a),l&4&&zd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Qh.bind(null,a),my(e,a))));break;case 22:if(l=a.memoizedState!==null||ya,!l){t=t!==null&&t.memoizedState!==null||Je,s=ya;var i=Je;ya=l,(Je=t)&&!i?ba(e,a,(a.subtreeFlags&8772)!==0):ga(e,a),ya=s,Je=i}break;case 30:break;default:ga(e,a)}}function Nd(e){var t=e.alternate;t!==null&&(e.alternate=null,Nd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ni(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,wt=!1;function pa(e,t,a){for(a=a.child;a!==null;)Td(e,t,a),a=a.sibling}function Td(e,t,a){if(X&&typeof X.onCommitFiberUnmount=="function")try{X.onCommitFiberUnmount(W,a)}catch{}switch(a.tag){case 26:Je||ea(a,t),pa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||ea(a,t);var l=He,s=wt;Ia(a.type)&&(He=a.stateNode,wt=!1),pa(e,t,a),Zs(a.stateNode),He=l,wt=s;break;case 5:Je||ea(a,t);case 6:if(l=He,s=wt,He=null,pa(e,t,a),He=l,wt=s,He!==null)if(wt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(i){Te(a,t,i)}else try{He.removeChild(a.stateNode)}catch(i){Te(a,t,i)}break;case 18:He!==null&&(wt?(e=He,vf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rs(e)):vf(He,a.stateNode));break;case 4:l=He,s=wt,He=a.stateNode.containerInfo,wt=!0,pa(e,t,a),He=l,wt=s;break;case 0:case 11:case 14:case 15:Ya(2,a,t),Je||Ya(4,a,t),pa(e,t,a);break;case 1:Je||(ea(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vd(a,t,l)),pa(e,t,a);break;case 21:pa(e,t,a);break;case 22:Je=(l=Je)||a.memoizedState!==null,pa(e,t,a),Je=l;break;default:pa(e,t,a)}}function Md(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{rs(e)}catch(a){Te(t,t.return,a)}}}function zd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rs(e)}catch(a){Te(t,t.return,a)}}function Hh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ad),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ad),t;default:throw Error(d(435,e.tag))}}function Vn(e,t){var a=Hh(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var s=Vh.bind(null,e,l);l.then(s,s)}})}function St(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],i=e,r=t,f=r;e:for(;f!==null;){switch(f.tag){case 27:if(Ia(f.type)){He=f.stateNode,wt=!1;break e}break;case 5:He=f.stateNode,wt=!1;break e;case 3:case 4:He=f.stateNode.containerInfo,wt=!0;break e}f=f.return}if(He===null)throw Error(d(160));Td(i,r,s),He=null,wt=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)jd(t,e),t=t.sibling}var $t=null;function jd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),At(e),l&4&&(Ya(3,e,e.return),Rs(3,e),Ya(5,e,e.return));break;case 1:St(t,e),At(e),l&512&&(Je||a===null||ea(a,a.return)),l&64&&ya&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=$t;if(St(t,e),At(e),l&512&&(Je||a===null||ea(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":i=s.getElementsByTagName("title")[0],(!i||i[us]||i[it]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(l),s.head.insertBefore(i,s.querySelector("head > title"))),ut(i,l,a),i[it]=e,lt(i),l=i;break e;case"link":var r=qf("link","href",s).get(l+(a.href||""));if(r){for(var f=0;f<r.length;f++)if(i=r[f],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(f,1);break t}}i=s.createElement(l),ut(i,l,a),s.head.appendChild(i);break;case"meta":if(r=qf("meta","content",s).get(l+(a.content||""))){for(f=0;f<r.length;f++)if(i=r[f],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(f,1);break t}}i=s.createElement(l),ut(i,l,a),s.head.appendChild(i);break;default:throw Error(d(468,l))}i[it]=e,lt(i),l=i}e.stateNode=l}else Ef(s,e.type,e.stateNode);else e.stateNode=jf(s,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?Ef(s,e.type,e.stateNode):jf(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Qr(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),At(e),l&512&&(Je||a===null||ea(a,a.return)),a!==null&&l&4&&Qr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),At(e),l&512&&(Je||a===null||ea(a,a.return)),e.flags&32){s=e.stateNode;try{jl(s,"")}catch(L){Te(e,e.return,L)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,Qr(e,s,a!==null?a.memoizedProps:s)),l&1024&&($r=!0);break;case 6:if(St(t,e),At(e),l&4){if(e.stateNode===null)throw Error(d(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(L){Te(e,e.return,L)}}break;case 3:if(ui=null,s=$t,$t=oi(t.containerInfo),St(t,e),$t=s,At(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(L){Te(e,e.return,L)}$r&&($r=!1,qd(e));break;case 4:l=$t,$t=oi(e.stateNode.containerInfo),St(t,e),At(e),$t=l;break;case 12:St(t,e),At(e);break;case 31:St(t,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vn(e,l)));break;case 13:St(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($n=yt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vn(e,l)));break;case 22:s=e.memoizedState!==null;var h=a!==null&&a.memoizedState!==null,S=ya,z=Je;if(ya=S||s,Je=z||h,St(t,e),Je=z,ya=S,At(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||h||ya||Je||pl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){h=a=t;try{if(i=h.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{f=h.stateNode;var E=h.memoizedProps.style,A=E!=null&&E.hasOwnProperty("display")?E.display:null;f.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(L){Te(h,h.return,L)}}}else if(t.tag===6){if(a===null){h=t;try{h.stateNode.nodeValue=s?"":h.memoizedProps}catch(L){Te(h,h.return,L)}}}else if(t.tag===18){if(a===null){h=t;try{var N=h.stateNode;s?xf(N,!0):xf(h.stateNode,!1)}catch(L){Te(h,h.return,L)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vn(e,a))));break;case 19:St(t,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vn(e,l)));break;case 30:break;case 21:break;default:St(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(wd(l)){a=l;break}l=l.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var s=a.stateNode,i=Vr(e);Qn(e,i,s);break;case 5:var r=a.stateNode;a.flags&32&&(jl(r,""),a.flags&=-33);var f=Vr(e);Qn(e,f,r);break;case 3:case 4:var h=a.stateNode.containerInfo,S=Vr(e);Pr(e,S,h);break;default:throw Error(d(161))}}catch(z){Te(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;qd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ga(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kd(e,t.alternate,t),t=t.sibling}function pl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ya(4,t,t.return),pl(t);break;case 1:ea(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&vd(t,t.return,a),pl(t);break;case 27:Zs(t.stateNode);case 26:case 5:ea(t,t.return),pl(t);break;case 22:t.memoizedState===null&&pl(t);break;case 30:pl(t);break;default:pl(t)}e=e.sibling}}function ba(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:ba(s,i,a),Rs(4,i);break;case 1:if(ba(s,i,a),l=i,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(S){Te(l,l.return,S)}if(l=i,s=l.updateQueue,s!==null){var f=l.stateNode;try{var h=s.shared.hiddenCallbacks;if(h!==null)for(s.shared.hiddenCallbacks=null,s=0;s<h.length;s++)ou(h[s],f)}catch(S){Te(l,l.return,S)}}a&&r&64&&_d(i),Ys(i,i.return);break;case 27:Sd(i);case 26:case 5:ba(s,i,a),a&&l===null&&r&4&&xd(i),Ys(i,i.return);break;case 12:ba(s,i,a);break;case 31:ba(s,i,a),a&&r&4&&Md(s,i);break;case 13:ba(s,i,a),a&&r&4&&zd(s,i);break;case 22:i.memoizedState===null&&ba(s,i,a),Ys(i,i.return);break;case 30:break;default:ba(s,i,a)}t=t.sibling}}function Kr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ss(a))}function Jr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ss(e))}function Kt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ed(e,t,a,l),t=t.sibling}function Ed(e,t,a,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,a,l),s&2048&&Rs(9,t);break;case 1:Kt(e,t,a,l);break;case 3:Kt(e,t,a,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ss(e)));break;case 12:if(s&2048){Kt(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,f=i.onPostCommit;typeof f=="function"&&f(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(h){Te(t,t.return,h)}}else Kt(e,t,a,l);break;case 31:Kt(e,t,a,l);break;case 13:Kt(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Kt(e,t,a,l):Us(e,t):i._visibility&2?Kt(e,t,a,l):(i._visibility|=2,$l(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Kr(r,t);break;case 24:Kt(e,t,a,l),s&2048&&Jr(t.alternate,t);break;default:Kt(e,t,a,l)}}function $l(e,t,a,l,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,f=a,h=l,S=r.flags;switch(r.tag){case 0:case 11:case 15:$l(i,r,f,h,s),Rs(8,r);break;case 23:break;case 22:var z=r.stateNode;r.memoizedState!==null?z._visibility&2?$l(i,r,f,h,s):Us(i,r):(z._visibility|=2,$l(i,r,f,h,s)),s&&S&2048&&Kr(r.alternate,r);break;case 24:$l(i,r,f,h,s),s&&S&2048&&Jr(r.alternate,r);break;default:$l(i,r,f,h,s)}t=t.sibling}}function Us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,s=l.flags;switch(l.tag){case 22:Us(a,l),s&2048&&Kr(l.alternate,l);break;case 24:Us(a,l),s&2048&&Jr(l.alternate,l);break;default:Us(a,l)}t=t.sibling}}var Hs=8192;function Kl(e,t,a){if(e.subtreeFlags&Hs)for(e=e.child;e!==null;)Cd(e,t,a),e=e.sibling}function Cd(e,t,a){switch(e.tag){case 26:Kl(e,t,a),e.flags&Hs&&e.memoizedState!==null&&ky(a,$t,e.memoizedState,e.memoizedProps);break;case 5:Kl(e,t,a);break;case 3:case 4:var l=$t;$t=oi(e.stateNode.containerInfo),Kl(e,t,a),$t=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Hs,Hs=16777216,Kl(e,t,a),Hs=l):Kl(e,t,a));break;default:Kl(e,t,a)}}function Dd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];st=l,Rd(l,e)}Dd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Od(e),e=e.sibling}function Od(e){switch(e.tag){case 0:case 11:case 15:Bs(e),e.flags&2048&&Ya(9,e,e.return);break;case 3:Bs(e);break;case 12:Bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pn(e)):Bs(e);break;default:Bs(e)}}function Pn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];st=l,Rd(l,e)}Dd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ya(8,t,t.return),Pn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Pn(t));break;default:Pn(t)}e=e.sibling}}function Rd(e,t){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Ya(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ss(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,st=l;else e:for(a=e;st!==null;){l=st;var s=l.sibling,i=l.return;if(Nd(l),l===a){st=null;break e}if(s!==null){s.return=i,st=s;break e}st=i}}}var Bh={getCacheForType:function(e){var t=ot(Pe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ot(Pe).controller.signal}},Gh=typeof WeakMap=="function"?WeakMap:Map,Ae=0,De=null,re=null,de=0,Ne=0,Ct=null,Ua=!1,Jl=!1,Wr=!1,_a=0,Ie=0,Ha=0,gl=0,eo=0,Dt=0,Wl=0,Gs=null,kt=null,to=!1,$n=0,Yd=0,Kn=1/0,Jn=null,Ba=null,tt=0,Ga=null,es=null,va=0,ao=0,lo=null,Ud=null,Ls=0,so=null;function Ot(){return(Ae&2)!==0&&de!==0?de&-de:M.T!==null?uo():ec()}function Hd(){if(Dt===0)if((de&536870912)===0||ye){var e=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),Dt=e}else Dt=536870912;return e=qt.current,e!==null&&(e.flags|=32),Dt}function Nt(e,t,a){(e===De&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(ts(e,0),La(e,de,Dt,!1)),el(e,a),((Ae&2)===0||e!==De)&&(e===De&&((Ae&2)===0&&(gl|=a),Ie===4&&La(e,de,Dt,!1)),ta(e))}function Bd(e,t,a){if((Ae&6)!==0)throw Error(d(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Le(e,t),s=l?Ih(e,t):io(e,t,!0),i=l;do{if(s===0){Jl&&!l&&La(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Lh(a)){s=io(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var f=e;s=Gs;var h=f.current.memoizedState.isDehydrated;if(h&&(ts(f,r).flags|=256),r=io(f,r,!1),r!==2){if(Wr&&!h){f.errorRecoveryDisabledLanes|=i,gl|=i,s=4;break e}i=kt,kt=s,i!==null&&(kt===null?kt=i:kt.push.apply(kt,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){ts(e,0),La(e,t,0,!0);break}e:{switch(l=e,i=s,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:La(l,t,Dt,!Ua);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(s=$n+300-yt(),10<s)){if(La(l,t,Dt,!Ua),ue(l,0,!0)!==0)break e;va=t,l.timeoutHandle=bf(Gd.bind(null,l,a,kt,Jn,to,t,Dt,gl,Wl,Ua,i,"Throttled",-0,0),s);break e}Gd(l,a,kt,Jn,to,t,Dt,gl,Wl,Ua,i,null,-0,0)}}break}while(!0);ta(e)}function Gd(e,t,a,l,s,i,r,f,h,S,z,E,A,N){if(e.timeoutHandle=-1,E=t.subtreeFlags,E&8192||(E&16785408)===16785408){E={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:na},Cd(t,i,E);var L=(i&62914560)===i?$n-yt():(i&4194048)===i?Yd-yt():0;if(L=Ny(E,L),L!==null){va=i,e.cancelPendingCommit=L(Pd.bind(null,e,t,i,a,l,s,r,f,h,z,E,null,A,N)),La(e,i,r,!S);return}}Pd(e,t,i,a,l,s,r,f,h)}function Lh(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],i=s.getSnapshot;s=s.value;try{if(!zt(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function La(e,t,a,l){t&=~eo,t&=~gl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var i=31-ne(s),r=1<<i;l[i]=-1,s&=~r}a!==0&&Ko(e,a,t)}function Wn(){return(Ae&6)===0?(Fs(0),!1):!0}function no(){if(re!==null){if(Ne===0)var e=re.return;else e=re,ca=ol=null,xr(e),Xl=null,ks=0,e=re;for(;e!==null;)bd(e.alternate,e),e=e.return;re=null}}function ts(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,oy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),va=0,no(),De=e,re=a=ra(e.current,null),de=t,Ne=0,Ct=null,Ua=!1,Jl=Le(e,t),Wr=!1,Wl=Dt=eo=gl=Ha=Ie=0,kt=Gs=null,to=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-ne(l),i=1<<s;t|=e[s],l&=~i}return _a=t,vn(),a}function Ld(e,t){ae=null,M.H=Cs,t===Il||t===Mn?(t=su(),Ne=3):t===cr?(t=su(),Ne=4):Ne=t===Yr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,re===null&&(Ie=1,Ln(e,Gt(t,e.current)))}function Fd(){var e=qt.current;return e===null?!0:(de&4194048)===de?Xt===null:(de&62914560)===de||(de&536870912)!==0?e===Xt:!1}function Id(){var e=M.H;return M.H=Cs,e===null?Cs:e}function Xd(){var e=M.A;return M.A=Bh,e}function ei(){Ie=4,Ua||(de&4194048)!==de&&qt.current!==null||(Jl=!0),(Ha&134217727)===0&&(gl&134217727)===0||De===null||La(De,de,Dt,!1)}function io(e,t,a){var l=Ae;Ae|=2;var s=Id(),i=Xd();(De!==e||de!==t)&&(Jn=null,ts(e,t)),t=!1;var r=Ie;e:do try{if(Ne!==0&&re!==null){var f=re,h=Ct;switch(Ne){case 8:no(),r=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var S=Ne;if(Ne=0,Ct=null,as(e,f,h,S),a&&Jl){r=0;break e}break;default:S=Ne,Ne=0,Ct=null,as(e,f,h,S)}}Fh(),r=Ie;break}catch(z){Ld(e,z)}while(!0);return t&&e.shellSuspendCounter++,ca=ol=null,Ae=l,M.H=s,M.A=i,re===null&&(De=null,de=0,vn()),r}function Fh(){for(;re!==null;)Zd(re)}function Ih(e,t){var a=Ae;Ae|=2;var l=Id(),s=Xd();De!==e||de!==t?(Jn=null,Kn=yt()+500,ts(e,t)):Jl=Le(e,t);e:do try{if(Ne!==0&&re!==null){t=re;var i=Ct;t:switch(Ne){case 1:Ne=0,Ct=null,as(e,t,i,1);break;case 2:case 9:if(au(i)){Ne=0,Ct=null,Qd(t);break}t=function(){Ne!==2&&Ne!==9||De!==e||(Ne=7),ta(e)},i.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:au(i)?(Ne=0,Ct=null,Qd(t)):(Ne=0,Ct=null,as(e,t,i,7));break;case 5:var r=null;switch(re.tag){case 26:r=re.memoizedState;case 5:case 27:var f=re;if(r?Cf(r):f.stateNode.complete){Ne=0,Ct=null;var h=f.sibling;if(h!==null)re=h;else{var S=f.return;S!==null?(re=S,ti(S)):re=null}break t}}Ne=0,Ct=null,as(e,t,i,5);break;case 6:Ne=0,Ct=null,as(e,t,i,6);break;case 8:no(),Ie=6;break e;default:throw Error(d(462))}}Xh();break}catch(z){Ld(e,z)}while(!0);return ca=ol=null,M.H=l,M.A=s,Ae=a,re!==null?0:(De=null,de=0,vn(),Ie)}function Xh(){for(;re!==null&&!nn();)Zd(re)}function Zd(e){var t=pd(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?ti(e):re=t}function Qd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ud(a,t,t.pendingProps,t.type,void 0,de);break;case 11:t=ud(a,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:xr(t);default:bd(a,t),t=re=Xc(t,_a),t=pd(a,t,_a)}e.memoizedProps=e.pendingProps,t===null?ti(e):re=t}function as(e,t,a,l){ca=ol=null,xr(t),Xl=null,ks=0;var s=t.return;try{if(Ch(e,s,t,a,de)){Ie=1,Ln(e,Gt(a,e.current)),re=null;return}}catch(i){if(s!==null)throw re=s,i;Ie=1,Ln(e,Gt(a,e.current)),re=null;return}t.flags&32768?(ye||l===1?e=!0:Jl||(de&536870912)!==0?e=!1:(Ua=e=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vd(t,e)):ti(t)}function ti(e){var t=e;do{if((t.flags&32768)!==0){Vd(t,Ua);return}e=t.return;var a=Rh(t.alternate,t,_a);if(a!==null){re=a;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);Ie===0&&(Ie=5)}function Vd(e,t){do{var a=Yh(e.alternate,e);if(a!==null){a.flags&=32767,re=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=a}while(e!==null);Ie=6,re=null}function Pd(e,t,a,l,s,i,r,f,h){e.cancelPendingCommit=null;do ai();while(tt!==0);if((Ae&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Vi,Am(e,a,i,r,f,h),e===De&&(re=De=null,de=0),es=t,Ga=e,va=a,ao=i,lo=s,Ud=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ph(wl,function(){return ef(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,s=Y.p,Y.p=2,r=Ae,Ae|=4;try{Uh(e,t,a)}finally{Ae=r,Y.p=s,M.T=l}}tt=1,$d(),Kd(),Jd()}}function $d(){if(tt===1){tt=0;var e=Ga,t=es,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=Y.p;Y.p=2;var s=Ae;Ae|=4;try{jd(t,e);var i=_o,r=Rc(e.containerInfo),f=i.focusedElem,h=i.selectionRange;if(r!==f&&f&&f.ownerDocument&&Oc(f.ownerDocument.documentElement,f)){if(h!==null&&Fi(f)){var S=h.start,z=h.end;if(z===void 0&&(z=S),"selectionStart"in f)f.selectionStart=S,f.selectionEnd=Math.min(z,f.value.length);else{var E=f.ownerDocument||document,A=E&&E.defaultView||window;if(A.getSelection){var N=A.getSelection(),L=f.textContent.length,V=Math.min(h.start,L),Ee=h.end===void 0?V:Math.min(h.end,L);!N.extend&&V>Ee&&(r=Ee,Ee=V,V=r);var _=Dc(f,V),p=Dc(f,Ee);if(_&&p&&(N.rangeCount!==1||N.anchorNode!==_.node||N.anchorOffset!==_.offset||N.focusNode!==p.node||N.focusOffset!==p.offset)){var w=E.createRange();w.setStart(_.node,_.offset),N.removeAllRanges(),V>Ee?(N.addRange(w),N.extend(p.node,p.offset)):(w.setEnd(p.node,p.offset),N.addRange(w))}}}}for(E=[],N=f;N=N.parentNode;)N.nodeType===1&&E.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<E.length;f++){var j=E[f];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}hi=!!bo,_o=bo=null}finally{Ae=s,Y.p=l,M.T=a}}e.current=t,tt=2}}function Kd(){if(tt===2){tt=0;var e=Ga,t=es,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=Y.p;Y.p=2;var s=Ae;Ae|=4;try{kd(e,t.alternate,t)}finally{Ae=s,Y.p=l,M.T=a}}tt=3}}function Jd(){if(tt===4||tt===3){tt=0,wi();var e=Ga,t=es,a=va,l=Ud;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,es=Ga=null,Wd(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ba=null),Ai(a),t=t.stateNode,X&&typeof X.onCommitFiberRoot=="function")try{X.onCommitFiberRoot(W,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,s=Y.p,Y.p=2,M.T=null;try{for(var i=e.onRecoverableError,r=0;r<l.length;r++){var f=l[r];i(f.value,{componentStack:f.stack})}}finally{M.T=t,Y.p=s}}(va&3)!==0&&ai(),ta(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===so?Ls++:(Ls=0,so=e):Ls=0,Fs(0)}}function Wd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ss(t)))}function ai(){return $d(),Kd(),Jd(),ef()}function ef(){if(tt!==5)return!1;var e=Ga,t=ao;ao=0;var a=Ai(va),l=M.T,s=Y.p;try{Y.p=32>a?32:a,M.T=null,a=lo,lo=null;var i=Ga,r=va;if(tt=0,es=Ga=null,va=0,(Ae&6)!==0)throw Error(d(331));var f=Ae;if(Ae|=4,Od(i.current),Ed(i,i.current,r,a),Ae=f,Fs(0,!1),X&&typeof X.onPostCommitFiberRoot=="function")try{X.onPostCommitFiberRoot(W,i)}catch{}return!0}finally{Y.p=s,M.T=l,Wd(e,t)}}function tf(e,t,a){t=Gt(a,t),t=Rr(e.stateNode,t,2),e=Da(e,t,2),e!==null&&(el(e,2),ta(e))}function Te(e,t,a){if(e.tag===3)tf(e,e,a);else for(;t!==null;){if(t.tag===3){tf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ba===null||!Ba.has(l))){e=Gt(a,e),a=ad(2),l=Da(t,a,2),l!==null&&(ld(a,l,t,e),el(l,2),ta(l));break}}t=t.return}}function ro(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Gh;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(a)||(Wr=!0,s.add(a),e=Zh.bind(null,e,t,a),t.then(e,e))}function Zh(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(de&a)===a&&(Ie===4||Ie===3&&(de&62914560)===de&&300>yt()-$n?(Ae&2)===0&&ts(e,0):eo|=a,Wl===de&&(Wl=0)),ta(e)}function af(e,t){t===0&&(t=Sl()),e=nl(e,t),e!==null&&(el(e,t),ta(e))}function Qh(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),af(e,a)}function Vh(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(d(314))}l!==null&&l.delete(t),af(e,a)}function Ph(e,t){return xl(e,t)}var li=null,ls=null,oo=!1,si=!1,co=!1,Fa=0;function ta(e){e!==ls&&e.next===null&&(ls===null?li=ls=e:ls=ls.next=e),si=!0,oo||(oo=!0,Kh())}function Fs(e,t){if(!co&&si){co=!0;do for(var a=!1,l=li;l!==null;){if(e!==0){var s=l.pendingLanes;if(s===0)var i=0;else{var r=l.suspendedLanes,f=l.pingedLanes;i=(1<<31-ne(42|e)+1)-1,i&=s&~(r&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,rf(l,i))}else i=de,i=ue(l,l===De?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Le(l,i)||(a=!0,rf(l,i));l=l.next}while(a);co=!1}}function $h(){lf()}function lf(){si=oo=!1;var e=0;Fa!==0&&ry()&&(e=Fa);for(var t=yt(),a=null,l=li;l!==null;){var s=l.next,i=sf(l,t);i===0?(l.next=null,a===null?li=s:a.next=s,s===null&&(ls=a)):(a=l,(e!==0||(i&3)!==0)&&(si=!0)),l=s}tt!==0&&tt!==5||Fs(e),Fa!==0&&(Fa=0)}function sf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-ne(i),f=1<<r,h=s[r];h===-1?((f&a)===0||(f&l)!==0)&&(s[r]=ka(f,t)):h<=t&&(e.expiredLanes|=f),i&=~f}if(t=De,a=de,a=ue(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Aa(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Le(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Aa(l),Ai(a)){case 2:case 8:a=Yt;break;case 32:a=wl;break;case 268435456:a=R;break;default:a=wl}return l=nf.bind(null,e),a=xl(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Aa(l),e.callbackPriority=2,e.callbackNode=null,2}function nf(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ai()&&e.callbackNode!==a)return null;var l=de;return l=ue(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Bd(e,l,t),sf(e,yt()),e.callbackNode!=null&&e.callbackNode===a?nf.bind(null,e):null)}function rf(e,t){if(ai())return null;Bd(e,t,!0)}function Kh(){cy(function(){(Ae&6)!==0?xl(ft,$h):lf()})}function uo(){if(Fa===0){var e=Ll;e===0&&(e=ie,ie<<=1,(ie&261888)===0&&(ie=256)),Fa=e}return Fa}function of(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fn(""+e)}function cf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Jh(e,t,a,l,s){if(t==="submit"&&a&&a.stateNode===s){var i=of((s[vt]||null).action),r=l.submitter;r&&(t=(t=r[vt]||null)?of(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var f=new pn("action","action",null,l,s);e.push({event:f,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fa!==0){var h=r?cf(s,r):new FormData(s);jr(a,{pending:!0,data:h,method:s.method,action:i},null,h)}}else typeof i=="function"&&(f.preventDefault(),h=r?cf(s,r):new FormData(s),jr(a,{pending:!0,data:h,method:s.method,action:i},i,h))},currentTarget:s}]})}}for(var fo=0;fo<Qi.length;fo++){var mo=Qi[fo],Wh=mo.toLowerCase(),ey=mo[0].toUpperCase()+mo.slice(1);Pt(Wh,"on"+ey)}Pt(Hc,"onAnimationEnd"),Pt(Bc,"onAnimationIteration"),Pt(Gc,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(ph,"onTransitionRun"),Pt(gh,"onTransitionStart"),Pt(bh,"onTransitionCancel"),Pt(Lc,"onTransitionEnd"),Ml("onMouseEnter",["mouseout","mouseover"]),Ml("onMouseLeave",["mouseout","mouseover"]),Ml("onPointerEnter",["pointerout","pointerover"]),Ml("onPointerLeave",["pointerout","pointerover"]),tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tl("onBeforeInput",["compositionend","keypress","textInput","paste"]),tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ty=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Is));function uf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],s=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var r=l.length-1;0<=r;r--){var f=l[r],h=f.instance,S=f.currentTarget;if(f=f.listener,h!==i&&s.isPropagationStopped())break e;i=f,s.currentTarget=S;try{i(s)}catch(z){_n(z)}s.currentTarget=null,i=h}else for(r=0;r<l.length;r++){if(f=l[r],h=f.instance,S=f.currentTarget,f=f.listener,h!==i&&s.isPropagationStopped())break e;i=f,s.currentTarget=S;try{i(s)}catch(z){_n(z)}s.currentTarget=null,i=h}}}}function oe(e,t){var a=t[ki];a===void 0&&(a=t[ki]=new Set);var l=e+"__bubble";a.has(l)||(df(t,e,2,!1),a.add(l))}function ho(e,t,a){var l=0;t&&(l|=4),df(a,e,l,t)}var ni="_reactListening"+Math.random().toString(36).slice(2);function yo(e){if(!e[ni]){e[ni]=!0,lc.forEach(function(a){a!=="selectionchange"&&(ty.has(a)||ho(a,!1,e),ho(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ni]||(t[ni]=!0,ho("selectionchange",!1,t))}}function df(e,t,a,l){switch(Bf(t)){case 2:var s=zy;break;case 8:s=jy;break;default:s=jo}a=s.bind(null,t,a,e),s=void 0,!Di||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function po(e,t,a,l,s){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var f=l.stateNode.containerInfo;if(f===s)break;if(r===4)for(r=l.return;r!==null;){var h=r.tag;if((h===3||h===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;f!==null;){if(r=kl(f),r===null)return;if(h=r.tag,h===5||h===6||h===26||h===27){l=i=r;continue e}f=f.parentNode}}l=l.return}yc(function(){var S=i,z=Ei(a),E=[];e:{var A=Fc.get(e);if(A!==void 0){var N=pn,L=e;switch(e){case"keypress":if(hn(a)===0)break e;case"keydown":case"keyup":N=Vm;break;case"focusin":L="focus",N=Ui;break;case"focusout":L="blur",N=Ui;break;case"beforeblur":case"afterblur":N=Ui;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Km;break;case Hc:case Bc:case Gc:N=Hm;break;case Lc:N=Wm;break;case"scroll":case"scrollend":N=Dm;break;case"wheel":N=th;break;case"copy":case"cut":case"paste":N=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=vc;break;case"toggle":case"beforetoggle":N=lh}var V=(t&4)!==0,Ee=!V&&(e==="scroll"||e==="scrollend"),_=V?A!==null?A+"Capture":null:A;V=[];for(var p=S,w;p!==null;){var j=p;if(w=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||w===null||_===null||(j=fs(p,_),j!=null&&V.push(Xs(p,j,w))),Ee)break;p=p.return}0<V.length&&(A=new N(A,L,null,a,z),E.push({event:A,listeners:V}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",A&&a!==qi&&(L=a.relatedTarget||a.fromElement)&&(kl(L)||L[Al]))break e;if((N||A)&&(A=z.window===z?z:(A=z.ownerDocument)?A.defaultView||A.parentWindow:window,N?(L=a.relatedTarget||a.toElement,N=S,L=L?kl(L):null,L!==null&&(Ee=y(L),V=L.tag,L!==Ee||V!==5&&V!==27&&V!==6)&&(L=null)):(N=null,L=S),N!==L)){if(V=bc,j="onMouseLeave",_="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(V=vc,j="onPointerLeave",_="onPointerEnter",p="pointer"),Ee=N==null?A:ds(N),w=L==null?A:ds(L),A=new V(j,p+"leave",N,a,z),A.target=Ee,A.relatedTarget=w,j=null,kl(z)===S&&(V=new V(_,p+"enter",L,a,z),V.target=w,V.relatedTarget=Ee,j=V),Ee=j,N&&L)t:{for(V=ay,_=N,p=L,w=0,j=_;j;j=V(j))w++;j=0;for(var Z=p;Z;Z=V(Z))j++;for(;0<w-j;)_=V(_),w--;for(;0<j-w;)p=V(p),j--;for(;w--;){if(_===p||p!==null&&_===p.alternate){V=_;break t}_=V(_),p=V(p)}V=null}else V=null;N!==null&&ff(E,A,N,V,!1),L!==null&&Ee!==null&&ff(E,Ee,L,V,!0)}}e:{if(A=S?ds(S):window,N=A.nodeName&&A.nodeName.toLowerCase(),N==="select"||N==="input"&&A.type==="file")var we=Mc;else if(Nc(A))if(zc)we=mh;else{we=dh;var F=uh}else N=A.nodeName,!N||N.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?S&&ji(S.elementType)&&(we=Mc):we=fh;if(we&&(we=we(e,S))){Tc(E,we,a,z);break e}F&&F(e,A,S),e==="focusout"&&S&&A.type==="number"&&S.memoizedProps.value!=null&&zi(A,"number",A.value)}switch(F=S?ds(S):window,e){case"focusin":(Nc(F)||F.contentEditable==="true")&&(Dl=F,Ii=S,vs=null);break;case"focusout":vs=Ii=Dl=null;break;case"mousedown":Xi=!0;break;case"contextmenu":case"mouseup":case"dragend":Xi=!1,Yc(E,a,z);break;case"selectionchange":if(yh)break;case"keydown":case"keyup":Yc(E,a,z)}var se;if(Bi)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Cl?Ac(e,a)&&(fe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(xc&&a.locale!=="ko"&&(Cl||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Cl&&(se=pc()):(Ta=z,Oi="value"in Ta?Ta.value:Ta.textContent,Cl=!0)),F=ii(S,fe),0<F.length&&(fe=new _c(fe,e,null,a,z),E.push({event:fe,listeners:F}),se?fe.data=se:(se=kc(a),se!==null&&(fe.data=se)))),(se=nh?ih(e,a):rh(e,a))&&(fe=ii(S,"onBeforeInput"),0<fe.length&&(F=new _c("onBeforeInput","beforeinput",null,a,z),E.push({event:F,listeners:fe}),F.data=se)),Jh(E,e,S,a,z)}uf(E,t)})}function Xs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ii(e,t){for(var a=t+"Capture",l=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=fs(e,a),s!=null&&l.unshift(Xs(e,s,i)),s=fs(e,t),s!=null&&l.push(Xs(e,s,i))),e.tag===3)return l;e=e.return}return[]}function ay(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ff(e,t,a,l,s){for(var i=t._reactName,r=[];a!==null&&a!==l;){var f=a,h=f.alternate,S=f.stateNode;if(f=f.tag,h!==null&&h===l)break;f!==5&&f!==26&&f!==27||S===null||(h=S,s?(S=fs(a,i),S!=null&&r.unshift(Xs(a,S,h))):s||(S=fs(a,i),S!=null&&r.push(Xs(a,S,h)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var ly=/\r\n?/g,sy=/\u0000|\uFFFD/g;function mf(e){return(typeof e=="string"?e:""+e).replace(ly,`
`).replace(sy,"")}function hf(e,t){return t=mf(t),mf(e)===t}function qe(e,t,a,l,s,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||jl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&jl(e,""+l);break;case"className":un(e,"class",l);break;case"tabIndex":un(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":un(e,a,l);break;case"style":mc(e,l,i);break;case"data":if(t!=="object"){un(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&qe(e,t,"name",s.name,s,null),qe(e,t,"formEncType",s.formEncType,s,null),qe(e,t,"formMethod",s.formMethod,s,null),qe(e,t,"formTarget",s.formTarget,s,null)):(qe(e,t,"encType",s.encType,s,null),qe(e,t,"method",s.method,s,null),qe(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=fn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=na);break;case"onScroll":l!=null&&oe("scroll",e);break;case"onScrollEnd":l!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=fn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":oe("beforetoggle",e),oe("toggle",e),cn(e,"popover",l);break;case"xlinkActuate":sa(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sa(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sa(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sa(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sa(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sa(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sa(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Em.get(a)||a,cn(e,a,l))}}function go(e,t,a,l,s,i){switch(a){case"style":mc(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof l=="string"?jl(e,l):(typeof l=="number"||typeof l=="bigint")&&jl(e,""+l);break;case"onScroll":l!=null&&oe("scroll",e);break;case"onScrollEnd":l!=null&&oe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[vt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,s);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):cn(e,a,l)}}}function ut(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var l=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:qe(e,t,i,r,a,null)}}s&&qe(e,t,"srcSet",a.srcSet,a,null),l&&qe(e,t,"src",a.src,a,null);return;case"input":oe("invalid",e);var f=i=r=s=null,h=null,S=null;for(l in a)if(a.hasOwnProperty(l)){var z=a[l];if(z!=null)switch(l){case"name":s=z;break;case"type":r=z;break;case"checked":h=z;break;case"defaultChecked":S=z;break;case"value":i=z;break;case"defaultValue":f=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(d(137,t));break;default:qe(e,t,l,z,a,null)}}cc(e,i,f,h,S,r,s,!1);return;case"select":oe("invalid",e),l=r=i=null;for(s in a)if(a.hasOwnProperty(s)&&(f=a[s],f!=null))switch(s){case"value":i=f;break;case"defaultValue":r=f;break;case"multiple":l=f;default:qe(e,t,s,f,a,null)}t=i,a=r,e.multiple=!!l,t!=null?zl(e,!!l,t,!1):a!=null&&zl(e,!!l,a,!0);return;case"textarea":oe("invalid",e),i=s=l=null;for(r in a)if(a.hasOwnProperty(r)&&(f=a[r],f!=null))switch(r){case"value":l=f;break;case"defaultValue":s=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(d(91));break;default:qe(e,t,r,f,a,null)}dc(e,l,s,i);return;case"option":for(h in a)if(a.hasOwnProperty(h)&&(l=a[h],l!=null))switch(h){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(e,t,h,l,a,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(l=0;l<Is.length;l++)oe(Is[l],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:qe(e,t,S,l,a,null)}return;default:if(ji(t)){for(z in a)a.hasOwnProperty(z)&&(l=a[z],l!==void 0&&go(e,t,z,l,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!=null&&qe(e,t,f,l,a,null))}function ny(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,f=null,h=null,S=null,z=null;for(N in a){var E=a[N];if(a.hasOwnProperty(N)&&E!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":h=E;default:l.hasOwnProperty(N)||qe(e,t,N,null,l,E)}}for(var A in l){var N=l[A];if(E=a[A],l.hasOwnProperty(A)&&(N!=null||E!=null))switch(A){case"type":i=N;break;case"name":s=N;break;case"checked":S=N;break;case"defaultChecked":z=N;break;case"value":r=N;break;case"defaultValue":f=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(d(137,t));break;default:N!==E&&qe(e,t,A,N,l,E)}}Mi(e,r,f,h,S,z,i,s);return;case"select":N=r=f=A=null;for(i in a)if(h=a[i],a.hasOwnProperty(i)&&h!=null)switch(i){case"value":break;case"multiple":N=h;default:l.hasOwnProperty(i)||qe(e,t,i,null,l,h)}for(s in l)if(i=l[s],h=a[s],l.hasOwnProperty(s)&&(i!=null||h!=null))switch(s){case"value":A=i;break;case"defaultValue":f=i;break;case"multiple":r=i;default:i!==h&&qe(e,t,s,i,l,h)}t=f,a=r,l=N,A!=null?zl(e,!!a,A,!1):!!l!=!!a&&(t!=null?zl(e,!!a,t,!0):zl(e,!!a,a?[]:"",!1));return;case"textarea":N=A=null;for(f in a)if(s=a[f],a.hasOwnProperty(f)&&s!=null&&!l.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:qe(e,t,f,null,l,s)}for(r in l)if(s=l[r],i=a[r],l.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":A=s;break;case"defaultValue":N=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==i&&qe(e,t,r,s,l,i)}uc(e,A,N);return;case"option":for(var L in a)if(A=a[L],a.hasOwnProperty(L)&&A!=null&&!l.hasOwnProperty(L))switch(L){case"selected":e.selected=!1;break;default:qe(e,t,L,null,l,A)}for(h in l)if(A=l[h],N=a[h],l.hasOwnProperty(h)&&A!==N&&(A!=null||N!=null))switch(h){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:qe(e,t,h,A,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var V in a)A=a[V],a.hasOwnProperty(V)&&A!=null&&!l.hasOwnProperty(V)&&qe(e,t,V,null,l,A);for(S in l)if(A=l[S],N=a[S],l.hasOwnProperty(S)&&A!==N&&(A!=null||N!=null))switch(S){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(d(137,t));break;default:qe(e,t,S,A,l,N)}return;default:if(ji(t)){for(var Ee in a)A=a[Ee],a.hasOwnProperty(Ee)&&A!==void 0&&!l.hasOwnProperty(Ee)&&go(e,t,Ee,void 0,l,A);for(z in l)A=l[z],N=a[z],!l.hasOwnProperty(z)||A===N||A===void 0&&N===void 0||go(e,t,z,A,l,N);return}}for(var _ in a)A=a[_],a.hasOwnProperty(_)&&A!=null&&!l.hasOwnProperty(_)&&qe(e,t,_,null,l,A);for(E in l)A=l[E],N=a[E],!l.hasOwnProperty(E)||A===N||A==null&&N==null||qe(e,t,E,A,l,N)}function yf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var s=a[l],i=s.transferSize,r=s.initiatorType,f=s.duration;if(i&&f&&yf(r)){for(r=0,f=s.responseEnd,l+=1;l<a.length;l++){var h=a[l],S=h.startTime;if(S>f)break;var z=h.transferSize,E=h.initiatorType;z&&yf(E)&&(h=h.responseEnd,r+=z*(h<f?1:(f-S)/(h-S)))}if(--l,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bo=null,_o=null;function ri(e){return e.nodeType===9?e:e.ownerDocument}function pf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xo=null;function ry(){var e=window.event;return e&&e.type==="popstate"?e===xo?!1:(xo=e,!0):(xo=null,!1)}var bf=typeof setTimeout=="function"?setTimeout:void 0,oy=typeof clearTimeout=="function"?clearTimeout:void 0,_f=typeof Promise=="function"?Promise:void 0,cy=typeof queueMicrotask=="function"?queueMicrotask:typeof _f<"u"?function(e){return _f.resolve(null).then(e).catch(uy)}:bf;function uy(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function vf(e,t){var a=t,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(s),rs(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Zs(a);for(var i=a.firstChild;i;){var r=i.nextSibling,f=i.nodeName;i[us]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&Zs(e.ownerDocument.body);a=s}while(a);rs(t)}function xf(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function wo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wo(a),Ni(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dy(e,t,a,l){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[us])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function fy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zt(e.nextSibling),e===null))return null;return e}function wf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function So(e){return e.data==="$?"||e.data==="$~"}function Ao(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function my(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ko=null;function Sf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Zt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Af(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function kf(e,t,a){switch(t=ri(a),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Zs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ni(e)}var Qt=new Map,Nf=new Set;function oi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=Y.d;Y.d={f:hy,r:yy,D:py,C:gy,L:by,m:_y,X:xy,S:vy,M:wy};function hy(){var e=xa.f(),t=Wn();return e||t}function yy(e){var t=Nl(e);t!==null&&t.tag===5&&t.type==="form"?Lu(t):xa.r(e)}var ss=typeof document>"u"?null:document;function Tf(e,t,a){var l=ss;if(l&&typeof t=="string"&&t){var s=Ht(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),Nf.has(s)||(Nf.add(s),e={rel:e,crossOrigin:a,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),ut(t,"link",e),lt(t),l.head.appendChild(t)))}}function py(e){xa.D(e),Tf("dns-prefetch",e,null)}function gy(e,t){xa.C(e,t),Tf("preconnect",e,t)}function by(e,t,a){xa.L(e,t,a);var l=ss;if(l&&e&&t){var s='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Ht(a.imageSizes)+'"]')):s+='[href="'+Ht(e)+'"]';var i=s;switch(t){case"style":i=ns(e);break;case"script":i=is(e)}Qt.has(i)||(e=U({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Qt.set(i,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(Qs(i))||t==="script"&&l.querySelector(Vs(i))||(t=l.createElement("link"),ut(t,"link",e),lt(t),l.head.appendChild(t)))}}function _y(e,t){xa.m(e,t);var a=ss;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ht(l)+'"][href="'+Ht(e)+'"]',i=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=is(e)}if(!Qt.has(i)&&(e=U({rel:"modulepreload",href:e},t),Qt.set(i,e),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vs(i)))return}l=a.createElement("link"),ut(l,"link",e),lt(l),a.head.appendChild(l)}}}function vy(e,t,a){xa.S(e,t,a);var l=ss;if(l&&e){var s=Tl(l).hoistableStyles,i=ns(e);t=t||"default";var r=s.get(i);if(!r){var f={loading:0,preload:null};if(r=l.querySelector(Qs(i)))f.loading=5;else{e=U({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Qt.get(i))&&No(e,a);var h=r=l.createElement("link");lt(h),ut(h,"link",e),h._p=new Promise(function(S,z){h.onload=S,h.onerror=z}),h.addEventListener("load",function(){f.loading|=1}),h.addEventListener("error",function(){f.loading|=2}),f.loading|=4,ci(r,t,l)}r={type:"stylesheet",instance:r,count:1,state:f},s.set(i,r)}}}function xy(e,t){xa.X(e,t);var a=ss;if(a&&e){var l=Tl(a).hoistableScripts,s=is(e),i=l.get(s);i||(i=a.querySelector(Vs(s)),i||(e=U({src:e,async:!0},t),(t=Qt.get(s))&&To(e,t),i=a.createElement("script"),lt(i),ut(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(s,i))}}function wy(e,t){xa.M(e,t);var a=ss;if(a&&e){var l=Tl(a).hoistableScripts,s=is(e),i=l.get(s);i||(i=a.querySelector(Vs(s)),i||(e=U({src:e,async:!0,type:"module"},t),(t=Qt.get(s))&&To(e,t),i=a.createElement("script"),lt(i),ut(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(s,i))}}function Mf(e,t,a,l){var s=(s=I.current)?oi(s):null;if(!s)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ns(a.href),a=Tl(s).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ns(a.href);var i=Tl(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(Qs(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(e,a),i||Sy(s,e,a,r.state))),t&&l===null)throw Error(d(528,""));return r}if(t&&l!==null)throw Error(d(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=is(a),a=Tl(s).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function ns(e){return'href="'+Ht(e)+'"'}function Qs(e){return'link[rel="stylesheet"]['+e+"]"}function zf(e){return U({},e,{"data-precedence":e.precedence,precedence:null})}function Sy(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ut(t,"link",a),lt(t),e.head.appendChild(t))}function is(e){return'[src="'+Ht(e)+'"]'}function Vs(e){return"script[async]"+e}function jf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(l)return t.instance=l,lt(l),l;var s=U({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),lt(l),ut(l,"style",s),ci(l,a.precedence,e),t.instance=l;case"stylesheet":s=ns(a.href);var i=e.querySelector(Qs(s));if(i)return t.state.loading|=4,t.instance=i,lt(i),i;l=zf(a),(s=Qt.get(s))&&No(l,s),i=(e.ownerDocument||e).createElement("link"),lt(i);var r=i;return r._p=new Promise(function(f,h){r.onload=f,r.onerror=h}),ut(i,"link",l),t.state.loading|=4,ci(i,a.precedence,e),t.instance=i;case"script":return i=is(a.src),(s=e.querySelector(Vs(i)))?(t.instance=s,lt(s),s):(l=a,(s=Qt.get(i))&&(l=U({},a),To(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),lt(s),ut(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ci(l,a.precedence,e));return t.instance}function ci(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,i=s,r=0;r<l.length;r++){var f=l[r];if(f.dataset.precedence===t)i=f;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function No(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function To(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ui=null;function qf(e,t,a){if(ui===null){var l=new Map,s=ui=new Map;s.set(a,l)}else s=ui,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[us]||i[it]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var f=l.get(r);f?f.push(i):l.set(r,[i])}}return l}function Ef(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ay(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Cf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ky(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=ns(l.href),i=t.querySelector(Qs(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=di.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,lt(i);return}i=t.ownerDocument||t,l=zf(l),(s=Qt.get(s))&&No(l,s),i=i.createElement("link"),lt(i);var r=i;r._p=new Promise(function(f,h){r.onload=f,r.onerror=h}),ut(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=di.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Mo=0;function Ny(e,t){return e.stylesheets&&e.count===0&&mi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&mi(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Mo===0&&(Mo=62500*iy());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mi(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Mo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function di(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fi=null;function mi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fi=new Map,t.forEach(Ty,e),fi=null,di.call(e))}function Ty(e,t){if(!(t.state.loading&4)){var a=fi.get(e);if(a)var l=a.get(null);else{a=new Map,fi.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),l=r)}l&&a.set(null,l)}s=t.instance,r=s.getAttribute("data-precedence"),i=a.get(r)||l,i===l&&a.set(null,s),a.set(r,s),this.count++,l=di.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Ps={$$typeof:ve,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function My(e,t,a,l,s,i,r,f,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=on(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=on(0),this.hiddenUpdates=on(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function Df(e,t,a,l,s,i,r,f,h,S,z,E){return e=new My(e,t,a,r,h,S,z,E,f),t=1,i===!0&&(t|=24),i=jt(3,null,null,t),e.current=i,i.stateNode=e,t=ir(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},ur(i),e}function Of(e){return e?(e=Yl,e):Yl}function Rf(e,t,a,l,s,i){s=Of(s),l.context===null?l.context=s:l.pendingContext=s,l=Ca(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Da(e,l,t),a!==null&&(Nt(a,e,t),Ts(a,e,t))}function Yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function zo(e,t){Yf(e,t),(e=e.alternate)&&Yf(e,t)}function Uf(e){if(e.tag===13||e.tag===31){var t=nl(e,67108864);t!==null&&Nt(t,e,67108864),zo(e,67108864)}}function Hf(e){if(e.tag===13||e.tag===31){var t=Ot();t=Si(t);var a=nl(e,t);a!==null&&Nt(a,e,t),zo(e,t)}}var hi=!0;function zy(e,t,a,l){var s=M.T;M.T=null;var i=Y.p;try{Y.p=2,jo(e,t,a,l)}finally{Y.p=i,M.T=s}}function jy(e,t,a,l){var s=M.T;M.T=null;var i=Y.p;try{Y.p=8,jo(e,t,a,l)}finally{Y.p=i,M.T=s}}function jo(e,t,a,l){if(hi){var s=qo(l);if(s===null)po(e,t,l,yi,a),Gf(e,l);else if(Ey(s,e,t,a,l))l.stopPropagation();else if(Gf(e,l),t&4&&-1<qy.indexOf(e)){for(;s!==null;){var i=Nl(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=ze(i.pendingLanes);if(r!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;r;){var h=1<<31-ne(r);f.entanglements[1]|=h,r&=~h}ta(i),(Ae&6)===0&&(Kn=yt()+500,Fs(0))}}break;case 31:case 13:f=nl(i,2),f!==null&&Nt(f,i,2),Wn(),zo(i,2)}if(i=qo(l),i===null&&po(e,t,l,yi,a),i===s)break;s=i}s!==null&&l.stopPropagation()}else po(e,t,l,null,a)}}function qo(e){return e=Ei(e),Eo(e)}var yi=null;function Eo(e){if(yi=null,e=kl(e),e!==null){var t=y(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=x(t),e!==null)return e;e=null}else if(a===31){if(e=k(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return yi=e,null}function Bf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case ft:return 2;case Yt:return 8;case wl:case b:return 32;case R:return 268435456;default:return 32}default:return 32}}var Co=!1,Xa=null,Za=null,Qa=null,$s=new Map,Ks=new Map,Va=[],qy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gf(e,t){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(t.pointerId)}}function Js(e,t,a,l,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Nl(t),t!==null&&Uf(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ey(e,t,a,l,s){switch(t){case"focusin":return Xa=Js(Xa,e,t,a,l,s),!0;case"dragenter":return Za=Js(Za,e,t,a,l,s),!0;case"mouseover":return Qa=Js(Qa,e,t,a,l,s),!0;case"pointerover":var i=s.pointerId;return $s.set(i,Js($s.get(i)||null,e,t,a,l,s)),!0;case"gotpointercapture":return i=s.pointerId,Ks.set(i,Js(Ks.get(i)||null,e,t,a,l,s)),!0}return!1}function Lf(e){var t=kl(e.target);if(t!==null){var a=y(t);if(a!==null){if(t=a.tag,t===13){if(t=x(a),t!==null){e.blockedOn=t,tc(e.priority,function(){Hf(a)});return}}else if(t===31){if(t=k(a),t!==null){e.blockedOn=t,tc(e.priority,function(){Hf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=qo(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);qi=l,a.target.dispatchEvent(l),qi=null}else return t=Nl(a),t!==null&&Uf(t),e.blockedOn=a,!1;t.shift()}return!0}function Ff(e,t,a){pi(e)&&a.delete(t)}function Cy(){Co=!1,Xa!==null&&pi(Xa)&&(Xa=null),Za!==null&&pi(Za)&&(Za=null),Qa!==null&&pi(Qa)&&(Qa=null),$s.forEach(Ff),Ks.forEach(Ff)}function gi(e,t){e.blockedOn===t&&(e.blockedOn=null,Co||(Co=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Cy)))}var bi=null;function If(e){bi!==e&&(bi=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bi===e&&(bi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(Eo(l||a)===null)continue;break}var i=Nl(a);i!==null&&(e.splice(t,3),t-=3,jr(i,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function rs(e){function t(h){return gi(h,e)}Xa!==null&&gi(Xa,e),Za!==null&&gi(Za,e),Qa!==null&&gi(Qa,e),$s.forEach(t),Ks.forEach(t);for(var a=0;a<Va.length;a++){var l=Va[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Va.length&&(a=Va[0],a.blockedOn===null);)Lf(a),a.blockedOn===null&&Va.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],i=a[l+1],r=s[vt]||null;if(typeof i=="function")r||If(a);else if(r){var f=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[vt]||null)f=r.formAction;else if(Eo(s)!==null)continue}else f=r.action;typeof f=="function"?a[l+1]=f:(a.splice(l,3),l-=3),If(a)}}}function Xf(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Do(e){this._internalRoot=e}_i.prototype.render=Do.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var a=t.current,l=Ot();Rf(a,l,e,t,null,null)},_i.prototype.unmount=Do.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rf(e.current,2,null,e,null,null),Wn(),t[Al]=null}};function _i(e){this._internalRoot=e}_i.prototype.unstable_scheduleHydration=function(e){if(e){var t=ec();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Va.length&&t!==0&&t<Va[a].priority;a++);Va.splice(a,0,e),a===0&&Lf(e)}};var Zf=c.version;if(Zf!=="19.2.0")throw Error(d(527,Zf,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=v(t),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var Dy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vi.isDisabled&&vi.supportsFiber)try{W=vi.inject(Dy),X=vi}catch{}}return en.createRoot=function(e,t){if(!m(e))throw Error(d(299));var a=!1,l="",s=Ju,i=Wu,r=ed;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Df(e,1,!1,null,null,a,l,null,s,i,r,Xf),e[Al]=t.current,yo(e),new Do(t)},en.hydrateRoot=function(e,t,a){if(!m(e))throw Error(d(299));var l=!1,s="",i=Ju,r=Wu,f=ed,h=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.formState!==void 0&&(h=a.formState)),t=Df(e,1,!0,t,a??null,l,s,h,i,r,f,Xf),t.context=Of(null),a=t.current,l=Ot(),l=Si(l),s=Ca(l),s.callback=null,Da(a,s,l),a=l,t.current.lanes=a,el(t,a),ta(t),e[Al]=t.current,yo(e),new _i(t)},en.version="19.2.0",en}var am;function Iy(){if(am)return Yo.exports;am=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(c){console.error(c)}}return n(),Yo.exports=Fy(),Yo.exports}var Xy=Iy();const Zy={normal:["","","","",""],insane:["","","","","","","","","",""]},Qy={normal:["Slow, rhythmic tapping from next door, like someone counting pulses.","Drones outside trace red lines all night, as if drawing sigils around your room.","Something drags metal bones through the sewers, mud-water murmuring in response.","In dreams, an inverted tower hangs motionless, and you can only fall upward.","A black paper slips under the door, ink still wet on its surface."],insane:["The reflection in the mirror speaks first, showing teeth unlike yours.","Soft collisions from inside the pillow, like enamel grinding.","Mold stains on the wallpaper form prayer gestures, lips outlined in dust.","You wake standing on the windowsill, as if someone lifted your feet.","The dead landlord sits at the foot of the bed, his neck-bone greeting you.","Shadows gather at the doorframe, whispering your name in glass-breaking tones.","The Ministry's gaze pierces your eyelids, watching even in dreams.","Paranoia tears at your mindevery creak is a footstep, every shadow a pursuer.","Your sanity shatters like old glass, things that should stay outside seeping through the cracks.","The weight of suspicion makes it hard to breathe, dreams becoming interrogation rooms."]},Vy={bread:{id:"bread",name:"",description:""},rat_meat:{id:"rat_meat",name:"",description:""},fresh_fish:{id:"fresh_fish",name:"",description:""},cheap_spirits:{id:"cheap_spirits",name:"",description:""},sedatives:{id:"sedatives",name:"",description:""},morphine:{id:"morphine",name:"",description:""},laudanum:{id:"laudanum",name:"",description:""},forbidden_name:{id:"forbidden_name",name:"",description:""},rusty_key:{id:"rusty_key",name:"",description:'"7-B"'},brass_lantern:{id:"brass_lantern",name:"",description:""},ritual_dagger:{id:"ritual_dagger",name:"",description:""},iron_dagger:{id:"iron_dagger",name:"",description:""},scalpel:{id:"scalpel",name:"",description:""},crumbling_scroll:{id:"crumbling_scroll",name:"",description:""},old_radio:{id:"old_radio",name:"",description:""},loaded_dice:{id:"loaded_dice",name:"",description:""},silver_ring:{id:"silver_ring",name:"",description:""},old_ring:{id:"old_ring",name:"",description:""},music_box:{id:"music_box",name:"",description:"",price:20},doctor_coat:{id:"doctor_coat",name:"",description:""},classified_file:{id:"classified_file",name:"",description:'"0"'},officer_badge:{id:"officer_badge",name:"",description:""},purge_list:{id:"purge_list",name:"",description:'""'},gold_tooth:{id:"gold_tooth",name:"",description:""},strange_fungus:{id:"strange_fungus",name:"",description:""},alien_idol:{id:"alien_idol",name:"",description:""},void_salt:{id:"void_salt",name:"",description:""},golden_mask:{id:"golden_mask",name:"",description:""},alchemy_kit:{id:"alchemy_kit",name:"",description:""},purified_serum:{id:"purified_serum",name:"",description:""},ancient_coin:{id:"ancient_coin",name:"",description:""},nutritious_meal:{id:"nutritious_meal",name:"",description:""},strong_painkiller:{id:"strong_painkiller",name:"",description:""},gnosis_elixir:{id:"gnosis_elixir",name:"",description:""},alchemy_coin:{id:"alchemy_coin",name:"",description:""},ritual_mask:{id:"ritual_mask",name:"",description:""},fermented_bread:{id:"fermented_bread",name:"",description:""},recipe_scrap_bread_rat:{id:"recipe_scrap_bread_rat",name:"",description:""},recipe_scrap_morphine_sedatives:{id:"recipe_scrap_morphine_sedatives",name:"",description:""},recipe_scrap_void_salt_fungus:{id:"recipe_scrap_void_salt_fungus",name:"",description:""},recipe_scrap_gold_tooth_coin:{id:"recipe_scrap_gold_tooth_coin",name:"",description:""},recipe_scrap_idol_mask:{id:"recipe_scrap_idol_mask",name:"",description:""},recipe_scrap_bread_spirits:{id:"recipe_scrap_bread_spirits",name:"",description:""},recipe_scrap_serum:{id:"recipe_scrap_serum",name:"",description:""}},Py={bread:{id:"bread",name:"Moldy Bread",description:"Hard moldy chunks that taste like chalk dust, but they stop your stomach from cramping. Hard to swallow, but at least it fills you up."},rat_meat:{id:"rat_meat",name:"Raw Rat Meat",description:"Still warm strips of meat, blood mixed with alley dust. Cooked, it can barely fill you, at the cost of slight sanity loss."},fresh_fish:{id:"fresh_fish",name:"Fresh Fish",description:"Scales reflect light like talismans, its eyes searching for something behind you. Cooked, it brings some comfort and a bit of coin."},cheap_spirits:{id:"cheap_spirits",name:"Moonshine",description:"Bitter and cloudy, one swallow burns like incense ash. But alcohol numbs the nerves, making pain blurry."},sedatives:{id:"sedatives",name:"Ministry Sedatives",description:"Blue pills that fade the world, like pulling down heavy curtains. Swallowed, anxiety and fear retreat, sanity gets a moment's rest."},morphine:{id:"morphine",name:"Medical Morphine",description:"Amber liquid in ampoules, bringing brief silence, also taking will. Injected, it greatly relieves pain, but each use may make you more dependent."},laudanum:{id:"laudanum",name:"Laudanum Tincture",description:"Black sticky liquid, tastes like cold iron, but opens another city in your stomach."},forbidden_name:{id:"forbidden_name",name:"Old God's True Name",description:"A syllable that cannot be fully spoken, just echoing in your mind makes your temples throb."},rusty_key:{id:"rusty_key",name:"Rusty Iron Key",description:'A key the beggar shoved into your palm, engraved "7-B", covered in damp mold.'},brass_lantern:{id:"brass_lantern",name:"Brass Lantern",description:"Old lamp polished bright, lit it leaves order in the darkness. Essential for exploring dark areas like sewers."},ritual_dagger:{id:"ritual_dagger",name:"Obsidian Dagger",description:"Blade absorbs light, hilt cold, as if waiting for an oath."},iron_dagger:{id:"iron_dagger",name:"Iron Dagger",description:"Rough iron short blade, edge worn but still deadly. A common street weapon, available in the black market."},scalpel:{id:"scalpel",name:"Scalpel",description:"Common surgical tool in clinics, blade sharp as a razor. Designed to save lives, but can become a weapon when needed."},crumbling_scroll:{id:"crumbling_scroll",name:"Worm Scroll",description:"Paper soft as skin, text updates faster than you can turn pages."},old_radio:{id:"old_radio",name:"Old Radio",description:"Tuning knob occasionally loose, can hear calls from non-local stations."},loaded_dice:{id:"loaded_dice",name:"Loaded Dice",description:"Heavy dice, the result decided before you throw."},silver_ring:{id:"silver_ring",name:"Silver Ring",description:"Old item left in a pawnshop, surface worn, but can still carry vows."},old_ring:{id:"old_ring",name:"Heirloom Ring",description:"The last relic of your family, gold ring engraved with ancient heraldry. Still reflects dim light in darkness, as if telling the story of your family's glory and fall."},music_box:{id:"music_box",name:"Wind-Up Music Box",description:"When wound, plays a slightly off-key waltz, like distant prayers.",price:20},doctor_coat:{id:"doctor_coat",name:"Bloodstained White Coat",description:"The dark red on the collar can never be washed away, but it can fool the asylum's iron gates. Wearing it, you can enter places that require a doctor's identity."},classified_file:{id:"classified_file",name:"Classified File",description:'Ministry records on "Patient Zero", red stamp on the footer like a funeral seal.'},officer_badge:{id:"officer_badge",name:"Ministry Officer Badge",description:"Heavy silver badge, oath engraved on the back. Wearers are assumed to stand on the side of light. Use it to access classified databases at the Ministry, retrieve purge lists."},purge_list:{id:"purge_list",name:"Purge List",description:'A ledger of names about to be "vaporized", each line worth a bounty.'},gold_tooth:{id:"gold_tooth",name:"Gold Tooth",description:"Trophy knocked from a corpse's mouth, the black market always buys. Can also be fused with ancient coins on an alchemy table to make more valuable alchemy coins."},strange_fungus:{id:"strange_fungus",name:"Luminous Fungus",description:"Blue fungus growing in deep mud, touch cold, leaves light spots in your palm. Important alchemy material, can fuse with spirits to make serum."},alien_idol:{id:"alien_idol",name:"Alien Idol",description:"Heavy idol carved from green stone, surface smooth as wet skin. Contains otherworldly power, can fuse with mask on alchemy table."},void_salt:{id:"void_salt",name:"Void Salt",description:"Crystals precipitated from dream edges, one sniff shows structures that shouldn't exist. Direct consumption increases gnosis but erodes sanity. Also used in alchemy."},golden_mask:{id:"golden_mask",name:"Golden Mask",description:"Artifact from Lake Hali, pressed to face slows heartbeat. Contains ancient power, can fuse with idol on alchemy table."},alchemy_kit:{id:"alchemy_kit",name:"Simple Alchemy Table",description:"Equipment pieced together from old flasks and test tubes, can turn waste into potions or disasters. Box includes a scribbled note: fungus mixed with spirits can extract blue serum."},purified_serum:{id:"purified_serum",name:"Purified Serum",description:"Blue liquid extracted from fungus, injected into brain brings instant silence. Effectively restores sanity, product of alchemy."},ancient_coin:{id:"ancient_coin",name:"Ancient Coin",description:"Burial coin from church crypt, unknown king engraved on the side. Valuable itself, but fusing with other items produces more mysterious power."},nutritious_meal:{id:"nutritious_meal",name:"Nutritious Meal",description:"Meal carefully made from bread and rat meat on alchemy table, simple but effectively restores sanity and fills stomach."},strong_painkiller:{id:"strong_painkiller",name:"Strong Painkiller",description:"Deep purple liquid fused from morphine and sedatives, instantly eliminates all pain, greatly restores sanity. Highly addictive, each use may make you more dependent."},gnosis_elixir:{id:"gnosis_elixir",name:"Gnosis Elixir",description:"Shimmering blue crystals fused from void salt and luminous fungus. Swallowed, increases gnosis, lets you glimpse the true structure of the world, but consumes sanity."},alchemy_coin:{id:"alchemy_coin",name:"Alchemy Coin",description:"Mysterious coin fused from gold tooth and ancient coin on alchemy table, shimmering with otherworldly light. Value far exceeds common currency, also slightly increases gnosis."},ritual_mask:{id:"ritual_mask",name:"Ritual Mask",description:"Twisted mask fused from alien idol and golden mask. Wearing it shows the true structure of the world, greatly increases gnosis, but at the cost of severe sanity loss."},fermented_bread:{id:"fermented_bread",name:"Fermented Bread",description:"Food made from bread soaked in spirits, processed through alchemy. Brings brief comfort, restores sanity, can also be sold for coin."},recipe_scrap_bread_rat:{id:"recipe_scrap_bread_rat",name:"Crumpled Note (Nutritious Meal)",description:"Scribbles on the edge of an old newspaper, handwriting blurred but barely legible."},recipe_scrap_morphine_sedatives:{id:"recipe_scrap_morphine_sedatives",name:"Crumpled Note (Painkiller)",description:"Note fished from clinic trash, records proportions of some mixture."},recipe_scrap_void_salt_fungus:{id:"recipe_scrap_void_salt_fungus",name:"Crumpled Note (Gnosis Elixir)",description:"Paper yellowed, edges water-stained, but core content still readable."},recipe_scrap_gold_tooth_coin:{id:"recipe_scrap_gold_tooth_coin",name:"Crumpled Note (Alchemy Coin)",description:"Black market merchant's transaction record, one line circled."},recipe_scrap_idol_mask:{id:"recipe_scrap_idol_mask",name:"Crumpled Note (Ritual Mask)",description:"Mix of ancient text and modern symbols, seems from a secret cult."},recipe_scrap_bread_spirits:{id:"recipe_scrap_bread_spirits",name:"Crumpled Note (Fermented Bread)",description:"Note from tavern kitchen, records a special food processing method."},recipe_scrap_serum:{id:"recipe_scrap_serum",name:"Crumpled Note (Purified Serum)",description:"Abandoned lab record, crossed-out experimental steps."}},$y={beggar_follower:{id:"beggar_follower",name:'""',description:"",role:"moth"},thug_follower:{id:"thug_follower",name:"",description:"",role:"edge"},nurse_follower:{id:"nurse_follower",name:"",description:"",role:"heart"},cat_follower:{id:"cat_follower",name:'""',description:"",role:"heart"}},Ky={beggar_follower:{id:"beggar_follower",name:'"Prophet" Gregory',description:"A street corner beggar who bows to you, seeing you as the voice of an underground altar.",role:"moth"},thug_follower:{id:"thug_follower",name:"Iron Fist Bruno",description:"A dock enforcer cast aside, you saved his life, so he puts his bones on your side.",role:"edge"},nurse_follower:{id:"nurse_follower",name:"Nurse Madeline",description:"Former clinic nurse, after you freed her from debt, became your most reliable hand.",role:"heart"},cat_follower:{id:"cat_follower",name:'Black Cat "Midnight"',description:"A silent black companion, its purr like the drumbeat of a secret ritual.",role:"heart"}},la=n=>{const{player:c}=n,{stats:o,flags:d}=c,m=[];return o.sanity<40&&m.push(" "),o.suspicion>60&&m.push(" "),o.funds<3&&m.push(" "),d.infected&&m.push(" "),d.addicted&&!d.morphine_taken_today&&m.push(" "),d.lover_madeline?m.push(" "):d.madeline_sick&&m.push(" "),o.gnosis>=10&&!c.inventory.includes("laudanum")&&m.push(" "),m.length>0?m[Math.floor(Math.random()*m.length)]:""},lm=(n,c)=>{const o=`${c}_day_${n.world.day}`;return{used:!!n.player.flags[o],flag:o}},Jy=(n,c,o)=>!!n.player.flags[c]||n.player.inventory.includes(o),hm=(n,c,o,d="")=>m=>Jy(m,n,c)?o:d,bl=(n,c,o,d,m)=>({id:n,label:m,description:"",reqItems:[c],result:{text:d,costAP:0,removeItems:[c],setFlags:{[o]:!0}}}),os=(n,c,o,d,m,y,x,k,T,v)=>({id:n,label:hm(c,o,d),description:m,reqItems:y,result:{text:T,costAP:1,removeItems:x,addItems:k,changes:v}}),Wy=(n,c,o,d,m,y,x,k,T,v,D,U)=>({id:n,label:hm(c,o,d),description:m,reqItems:y,result:G=>{const me=G.player.flags.addicted;return Math.random()<T&&!me?{text:D,costAP:1,removeItems:x,addItems:k,setFlags:{addicted:!0},changes:{sanity:U}}:{text:v,costAP:1,removeItems:x,addItems:k,changes:{sanity:U}}}}),sm=n=>({beggar_follower:"",thug_follower:"",nurse_follower:"",cat_follower:'""'})[n]||"",Go=n=>({beggar_follower:"Gregory",thug_follower:"Bruno",nurse_follower:"Madeline",cat_follower:"Midnight"})[n]||"follower",Lo=(n,c,o,d,m,y=1,x)=>({id:n,label:c,description:o,reqItems:[d],result:{text:m,costAP:y,removeItems:[d],changes:x}}),nm=(n,c,o,d,m,y=0)=>({id:n,label:c,description:o,result:{text:d,costAP:y,teleport:m}}),ep={apartment:{id:"apartment",name:"404",description:n=>{let c="";return n.player.stats.sanity<50&&(c=""),c+la(n)},actions:[nm("leave_apartment","","","","street"),nm("go_rooftop","","","","rooftop"),{id:"sleep",label:"",description:"",reqFlagsNot:["lover_madeline"],result:{text:"",costAP:99}},{id:"sleep_lover",label:"",description:"",reqFlags:["lover_madeline"],result:{text:"",costAP:99,changes:{sanity:30}}},{id:"eat_rat",label:"",description:"",reqItems:["rat_meat"],result:n=>{const c=n.origin==="vagrant",o=`fed_day_${n.world.day}`;return{text:"",costAP:1,changes:{sanity:c?0:-5},removeItems:["rat_meat"],setFlags:{[o]:!0}}}},{id:"meditate",label:"/",description:"",result:()=>Math.random()<.15?{text:"",costAP:1,changes:{sanity:5,gnosis:1}}:{text:"",costAP:1,changes:{sanity:5}}},{id:"talk_madeline",label:"",description:"",reqFollowers:["nurse_follower"],reqFlagsNot:["madeline_sick"],result:{text:"",costAP:1,setFlags:{madeline_sick:!0}}},{id:"cure_madeline",label:"",description:" (: )",reqFlags:["madeline_sick"],reqItems:["purified_serum"],reqFlagsNot:["madeline_cured"],result:{text:"",costAP:1,removeItems:["purified_serum"],setFlags:{madeline_cured:!0,madeline_sick:!1},changes:{sanity:20}}},{id:"propose_madeline",label:"",description:" (: , )",reqFlags:["madeline_cured"],reqItems:["silver_ring"],reqFlagsNot:["lover_madeline"],result:{text:"",costAP:1,removeItems:["silver_ring"],setFlags:{lover_madeline:!0},changes:{sanity:50}}},{id:"study_scroll",label:"",description:"",reqItems:["crumbling_scroll"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-25},removeItems:["crumbling_scroll"]}},{id:"enter_dream",label:"",description:"",reqItems:["laudanum"],result:{text:"",costAP:1,teleport:"pale_city",removeItems:["laudanum"]}},bl("read_recipe_bread_rat","recipe_scrap_bread_rat","recipe_known_bread_rat","...",""),bl("read_recipe_morphine_sedatives","recipe_scrap_morphine_sedatives","recipe_known_morphine_sedatives","...",""),bl("read_recipe_void_salt_fungus","recipe_scrap_void_salt_fungus","recipe_known_void_salt_fungus","...",""),bl("read_recipe_gold_tooth_coin","recipe_scrap_gold_tooth_coin","recipe_known_gold_tooth_coin","...",""),bl("read_recipe_idol_mask","recipe_scrap_idol_mask","recipe_known_idol_mask","...",""),bl("read_recipe_bread_spirits","recipe_scrap_bread_spirits","recipe_known_bread_spirits","...",""),bl("read_recipe_serum","recipe_scrap_serum","recipe_known_serum","...",""),os("use_alchemy_serum","recipe_known_serum","recipe_scrap_serum",""," +   ",["alchemy_kit","strange_fungus","cheap_spirits"],["strange_fungus","cheap_spirits"],["purified_serum"],""),os("combine_bread_rat","recipe_known_bread_rat","recipe_scrap_bread_rat",""," +   ",["alchemy_kit","bread","rat_meat"],["bread","rat_meat"],["nutritious_meal"],"",{sanity:10}),Wy("combine_morphine_sedatives","recipe_known_morphine_sedatives","recipe_scrap_morphine_sedatives",""," +   ",["alchemy_kit","morphine","sedatives"],["morphine","sedatives"],["strong_painkiller"],.4,"","",50),os("combine_void_salt_fungus","recipe_known_void_salt_fungus","recipe_scrap_void_salt_fungus",""," +   ",["alchemy_kit","void_salt","strange_fungus"],["void_salt","strange_fungus"],["gnosis_elixir"],""),os("combine_gold_tooth_coin","recipe_known_gold_tooth_coin","recipe_scrap_gold_tooth_coin",""," +   ",["alchemy_kit","gold_tooth","ancient_coin"],["gold_tooth","ancient_coin"],["alchemy_coin"],"",{gnosis:2}),os("combine_idol_mask","recipe_known_idol_mask","recipe_scrap_idol_mask",""," +   ",["alchemy_kit","alien_idol","golden_mask"],["alien_idol","golden_mask"],["ritual_mask"],"",{gnosis:10,sanity:-30}),os("combine_bread_spirits","recipe_known_bread_spirits","recipe_scrap_bread_spirits",""," +   ",["alchemy_kit","bread","cheap_spirits"],["bread","cheap_spirits"],["fermented_bread"],""),{id:"pet_cat",label:'""',description:"",reqFollowers:["cat_follower"],result:n=>{const{used:c,flag:o}=lm(n,"petted_cat");if(c)return{text:'""',costAP:0};const m=n.player.followerStates?.cat_follower?.loyalty??50,y=10+Math.floor(m/20);return{text:'""',costAP:0,changes:{sanity:Math.min(15,y)},setFlags:{[o]:!0}}}},{id:"feed_cat_fish_again",label:'""',description:"",reqFollowers:["cat_follower"],reqItems:["fresh_fish"],result:n=>{const c=n.player.followerStates?.cat_follower,o=c?.loyalty??50,d=Math.min(100,o+10);return n.player.followerStates||(n.player.followerStates={}),n.player.followerStates.cat_follower={...c,loyalty:d,status:"healthy"},{text:'""',costAP:1,removeItems:["fresh_fish"],changes:{sanity:5}}}},{id:"eat_fish",label:"",description:"",reqItems:["fresh_fish"],result:n=>{const c=`fed_day_${n.world.day}`;return{text:"",costAP:1,removeItems:["fresh_fish"],changes:{sanity:5},setFlags:{[c]:!0}}}},{id:"eat_bread",label:"",description:"",reqItems:["bread"],result:n=>{const c=`fed_day_${n.world.day}`;return{text:"",costAP:1,removeItems:["bread"],changes:{sanity:3},setFlags:{[c]:!0}}}},Lo("drink_spirits","","","cheap_spirits","",1,{sanity:10}),{id:"consume_alchemy_coin",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:5,sanity:15}}},{id:"use_nutritious_meal",label:"",description:"",reqItems:["nutritious_meal"],result:n=>{const c=`fed_day_${n.world.day}`;return{text:"",costAP:1,removeItems:["nutritious_meal"],changes:{sanity:10},setFlags:{[c]:!0}}}},{id:"use_strong_painkiller",label:"",description:"",reqItems:["strong_painkiller"],result:n=>{const o=n.player.flags.addicted;return o||Math.random()<.3&&!o?{text:"",costAP:1,removeItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"",costAP:1,removeItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"use_sedatives",label:"",description:"",reqItems:["sedatives"],result:{text:"",costAP:1,removeItems:["sedatives"],changes:{sanity:15}}},{id:"use_morphine",label:"",description:"",reqItems:["morphine"],requiresConfirmation:!0,confirmationMessage:n=>n.player.flags.addicted?"":"30%1235",result:n=>{const o=n.player.flags.addicted;return Math.random()<.3&&!o?{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}},Lo("use_purified_serum","","","purified_serum","",1,{sanity:20}),Lo("use_gnosis_elixir","","","gnosis_elixir","",1,{gnosis:8,sanity:-2}),{id:"use_fermented_bread",label:"",description:"",reqItems:["fermented_bread"],result:n=>{const c=`fed_day_${n.world.day}`;return{text:"",costAP:1,removeItems:["fermented_bread"],changes:{sanity:18},setFlags:{[c]:!0}}}},{id:"use_ritual_mask",label:"",description:"",reqItems:["ritual_mask"],result:n=>{const{used:c,flag:o}=lm(n,"used_ritual_mask");return c?{text:"",costAP:0}:{text:"",costAP:1,changes:{gnosis:7,sanity:-20},setFlags:{[o]:!0}}}},{id:"complete_follower_task",label:"",description:"",reqFollowers:[],result:n=>{const c=n.player.flags.target_follower_id;let o=c&&n.player.followers.includes(c)?c:void 0;if(o||(o=n.player.followers.find(x=>{const k=n.player.followerStates?.[x];return k&&k.task&&k.status==="healthy"})),c&&delete n.player.flags.target_follower_id,!o)return{text:"",costAP:0};const d=n.player.followerStates[o],m=d.task,y=sm(o);return m.type==="money"&&m.requirement.money?n.player.stats.funds<m.requirement.money?{text:` ${m.requirement.money} `,costAP:0}:(n.player.stats.funds-=m.requirement.money,d.loyalty=Math.min(100,d.loyalty+(m.reward.loyalty||0)),d.task=void 0,{text:`${y}""`,costAP:1,changes:{funds:-m.requirement.money}}):m.type==="item"&&m.requirement.item?n.player.inventory.includes(m.requirement.item)?(n.player.inventory=n.player.inventory.filter(k=>k!==m.requirement.item),d.loyalty=Math.min(100,d.loyalty+(m.reward.loyalty||0)),d.task=void 0,{text:`${y}${{bread:"",morphine:"",sedatives:"",cheap_spirits:""}[m.requirement.item]||m.requirement.item}""`,costAP:1,removeItems:[m.requirement.item]}):{text:` ${{bread:"",morphine:"",sedatives:"",cheap_spirits:""}[m.requirement.item]||m.requirement.item}`,costAP:0}:m.type==="help"?(d.loyalty=Math.min(100,d.loyalty+(m.reward.loyalty||0)),d.task=void 0,{text:`${y}""`,costAP:1,changes:{sanity:5}}):{text:"",costAP:1}}},{id:"reject_follower_task",label:"",description:"",reqFollowers:[],result:n=>{const c=n.player.flags.target_follower_id;let o=c&&n.player.followers.includes(c)?c:void 0;if(o||(o=n.player.followers.find(D=>{const U=n.player.followerStates?.[D];return U&&U.task&&U.status==="healthy"})),c&&delete n.player.flags.target_follower_id,!o)return{text:"",costAP:0};const d=n.player.followerStates[o],m=d.task,y=sm(o);d.loyalty=Math.max(0,d.loyalty+(m.penalty.loyalty||0));const x=o==="nurse_follower",k=x&&n.player.flags.lover_madeline,T=x?"":"";return m.penalty.leave&&d.loyalty<30&&!k?(n.player.followers=n.player.followers.filter(D=>D!==o),delete n.player.followerStates[o],x?n.player.flags.madeline_left=!0:o==="beggar_follower"&&(n.player.flags.beggar_died=!0),{text:`${y}""${T}`,costAP:1,removeFollowers:[o],changes:{sanity:-10}}):(d.task=void 0,{text:k?`${y}"..."`:`${y}""`,costAP:1,changes:{sanity:-5}})}},{id:"talk_to_follower",label:"",description:"",reqFollowers:[],result:n=>{const c=n.player.flags.target_follower_id;let o=c&&n.player.followers.includes(c)?c:void 0;if(o||(o=n.player.followers[0]),c&&delete n.player.flags.target_follower_id,!o)return{text:"",costAP:0};const d=`talked_to_${o}_day_${n.world.day}`;if(n.player.flags[d])return{text:"",costAP:0};const m=n.player.followerStates?.[o];if(!m)return{text:"",costAP:0};const y=o==="beggar_follower"?"":o==="thug_follower"?"":o==="nurse_follower"?"":"",x=5;return m.loyalty=Math.min(100,m.loyalty+x),{text:`${y}`,costAP:1,setFlags:{[d]:!0},changes:{sanity:2}}}},{id:"heal_follower",label:"",description:"",reqItems:[],reqFollowers:[],result:n=>{const c=n.origin==="doctor",o=n.player.flags.target_follower_id;let d=o&&n.player.followers.includes(o)?o:void 0;if(d||(d=n.player.followers.find(k=>{const T=n.player.followerStates?.[k];return k==="nurse_follower"&&n.player.flags.madeline_sick?!1:T&&T.status==="injured"})),o&&delete n.player.flags.target_follower_id,!d)return{text:"",costAP:0};const m=n.player.followerStates[d],y=d==="beggar_follower"?"":d==="thug_follower"?"":d==="nurse_follower"?"":"";let x="";if(n.player.inventory.includes("purified_serum"))n.player.inventory=n.player.inventory.filter(k=>k!=="purified_serum"),x="purified_serum";else if(n.player.inventory.includes("morphine"))n.player.inventory=n.player.inventory.filter(k=>k!=="morphine"),x="morphine";else return{text:"",costAP:0};return m.status="healthy",m.loyalty=Math.min(100,m.loyalty+25),{text:`${y}""`,costAP:c?0:1,removeItems:[x],changes:{sanity:10}}}},{id:"calm_insane_follower",label:"",description:"",reqItems:["sedatives","purified_serum"],reqFollowers:[],result:n=>{const c=n.player.followers.find(y=>{const x=n.player.followerStates?.[y];return x&&x.status==="insane"});if(!c)return{text:"",costAP:0};const o=n.player.followerStates[c],d=c==="beggar_follower"?"":c==="thug_follower"?"":c==="nurse_follower"?"":"";let m="";if(n.player.inventory.includes("purified_serum"))n.player.inventory=n.player.inventory.filter(y=>y!=="purified_serum"),m="purified_serum";else if(n.player.inventory.includes("sedatives"))n.player.inventory=n.player.inventory.filter(y=>y!=="sedatives"),m="sedatives";else return{text:"",costAP:0};return Math.random()<.7?(o.status="healthy",o.loyalty=Math.min(100,o.loyalty+30),{text:`${d}"..."`,costAP:1,removeItems:[m],changes:{sanity:15}}):(o.loyalty=Math.min(100,o.loyalty+10),{text:`${d}`,costAP:1,removeItems:[m],changes:{sanity:5}})}},{id:"dispatch_beggar_steal",label:"",reqFollowers:["beggar_follower"],result:n=>{const c=n.player.followerStates?.beggar_follower;if(c&&c.status!=="healthy")return{text:"",costAP:0};const o=n.player.stats.suspicion,y=o>30?Math.min(.5,.1+(o-30)*.0057):0;if(Math.random()<y)return n.player.flags.beggar_died=!0,{text:"",costAP:1,removeFollowers:["beggar_follower"],setFlags:{beggar_died:!0},changes:{suspicion:40,sanity:-10}};const x=c?Math.floor(c.loyalty/20):0;return c&&(c.loyalty=Math.min(100,c.loyalty+2)),{text:"",costAP:1,changes:{funds:3+x,suspicion:3}}}},{id:"dispatch_thug_extort",label:"",reqFollowers:["thug_follower"],result:n=>{const c=n.player.followerStates?.thug_follower;if(c&&c.status!=="healthy")return{text:"",costAP:0};const o=c?c.loyalty:50,d=.35,y=d-o/100*(d-.05);return Math.random()<y?(delete n.player.flags.thug_healed,{text:'"..."',costAP:1,removeFollowers:["thug_follower"],changes:{sanity:-20}}):{text:"",costAP:1,changes:{funds:8+(c?Math.floor(c.loyalty/15):0),suspicion:10,sanity:-2}}}}]},rooftop:{id:"rooftop",name:"",description:"",actions:[{id:"return_apartment_roof",label:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"dance_madeline",label:"",description:" (: , )",reqFlags:["lover_madeline"],reqItems:["music_box"],result:{text:"",costAP:1,changes:{sanity:15}}},{id:"gaze_stars",label:"",description:"",result:n=>{const c=`gazed_stars_day_${n.world.day}`;return n.player.flags[c]?{text:"",costAP:0}:{text:"",costAP:1,changes:{gnosis:1,sanity:-15},setFlags:{[c]:!0}}}},{id:"spot_cat",label:"",description:"",reqFollowersNot:["cat_follower"],result:{text:"",costAP:0}},{id:"feed_cat_fish",label:"",reqItems:["fresh_fish"],reqFollowersNot:["cat_follower"],result:n=>(n.player.followerStates||(n.player.followerStates={}),n.player.followerStates.cat_follower={loyalty:30,status:"healthy"},{text:"",costAP:1,removeItems:["fresh_fish"],addFollowers:["cat_follower"],changes:{sanity:10}})}]}},tp={apartment:{id:"apartment",name:"Apartment 404",description:n=>{let c="A cramped rental where neon slashes across the blinds like fresh wounds.";return n.player.stats.sanity<50&&(c="The room no longer recognizes you; shadows crouch in the corners like kneeling congregants."),c+la(n)},actions:[{id:"leave_apartment",label:"Step Outside",description:"Push open the heavy iron door and walk into the fog.",result:{text:"The night air is wet and cold; your footsteps echo down the hallway.",costAP:0,teleport:"street"}},{id:"go_rooftop",label:"Climb to Rooftop",description:"Take the old ladder up for a breath of air.",result:{text:"Each rung creaks under you; the wind tastes of rust.",costAP:0,teleport:"rooftop"}},{id:"sleep",label:"Sleep",description:"End the day and pray the gate of dreams stays shut.",reqFlagsNot:["lover_madeline"],result:{text:"Damp sheets cling to your back while you mutter warding phrases in your head.",costAP:99}},{id:"sleep_lover",label:"Sleep with Madeline",description:"Her warmth acts like a talisman, her breath muffling every omen.",reqFlags:["lover_madeline"],result:{text:"No elder whispers, only her steady heartbeat. For once, you sleep like a person.",costAP:99,changes:{sanity:30}}},{id:"eat_rat",label:"Roast Rat",description:"Even crude fire is enough to scare off parasites.",reqItems:["rat_meat"],result:n=>{const c=n.origin==="vagrant",o=`fed_day_${n.world.day}`;return{text:"Charred grease and acid stink mix together, but you force it down and hope your stomach remembers.",costAP:1,changes:{sanity:c?0:-5},removeItems:["rat_meat"],setFlags:{[o]:!0}}}},{id:"meditate",label:"Stare into the Void / Meditate",description:"Empty your mind and let your weary soul rest. Sometimes you glimpse deeper truths.",result:()=>Math.random()<.15?{text:"You close your eyes and let consciousness sink. In the void, you catch a whisper that doesn't belong to this world; it leaves a mark in your mind.",costAP:1,changes:{sanity:5,gnosis:1}}:{text:"You sit on the edge of the bed, staring at the stains on the wall. Time flows slowly, and the whispers quiet for a moment.",costAP:1,changes:{sanity:5}}},{id:"talk_madeline",label:"Talk to Madeline",description:"Her face grows paler; the cough sounds like steel plates scraping.",reqFollowers:["nurse_follower"],reqFlagsNot:["madeline_sick"],result:{text:"She rolls up her sleeve, black mottling creeping across her arm. Got it at the clinic. Dont waste resourcesI wont last long.",costAP:1,setFlags:{madeline_sick:!0}}},{id:"cure_madeline",label:"Inject Serum",description:"Use your handmade serum to steady the sickness (requires Purified Serum).",reqFlags:["madeline_sick"],reqItems:["purified_serum"],reqFlagsNot:["madeline_cured"],result:{text:"Blue liquid slides along her veins and the black patches recede. She leans into you, eyes rekindled. Why save me? This city isnt worth it.",costAP:1,removeItems:["purified_serum"],setFlags:{madeline_cured:!0,madeline_sick:!1},changes:{sanity:20}}},{id:"propose_madeline",label:"Propose to Madeline",description:"Make a vow amid the ruins (needs Silver Ring and she must be cured).",reqFlags:["madeline_cured"],reqItems:["silver_ring"],reqFlagsNot:["lover_madeline"],result:{text:"She holds the worn ring like a relic. All right. I will. Even if the world breaks tomorrow, tonight we stay together.",costAP:1,removeItems:["silver_ring"],setFlags:{lover_madeline:!0},changes:{sanity:50}}},{id:"study_scroll",label:"Study the Worm Scroll",description:"Try to comprehend words not meant for people.",reqItems:["crumbling_scroll"],result:{text:"The script leaps from parchment to retina; you glimpse the universe skewing and retch.",costAP:1,changes:{gnosis:5,sanity:-25},removeItems:["crumbling_scroll"]}},{id:"enter_dream",label:"Drink Laudanum",description:"Swallow the black tonic and sink toward the Pale City.",reqItems:["laudanum"],result:{text:"It tastes like burnt ink; reality melts like wax immediately after.",costAP:1,teleport:"pale_city",removeItems:["laudanum"]}},{id:"read_recipe_bread_rat",label:"Read Recipe Scrap (Nutritious Meal)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_bread_rat"],result:{text:"You see scribbles on the edge of an old newspaper: Moldy bread, if heated with meat, might become more palatable...",costAP:0,removeItems:["recipe_scrap_bread_rat"],setFlags:{recipe_known_bread_rat:!0}}},{id:"read_recipe_morphine_sedatives",label:"Read Recipe Scrap (Painkiller)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_morphine_sedatives"],result:{text:"The slip of paper is scrawled with: Morphine and sedatives mixed, heated, produce deep purple smoke that instantly eliminates all pain...",costAP:0,removeItems:["recipe_scrap_morphine_sedatives"],setFlags:{recipe_known_morphine_sedatives:!0}}},{id:"read_recipe_void_salt_fungus",label:"Read Recipe Scrap (Gnosis Elixir)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_void_salt_fungus"],result:{text:"The yellowed page records: Void salt and luminous fungus merge in flame, producing shimmering blue crystals that stretch consciousness into another dimension...",costAP:0,removeItems:["recipe_scrap_void_salt_fungus"],setFlags:{recipe_known_void_salt_fungus:!0}}},{id:"read_recipe_gold_tooth_coin",label:"Read Recipe Scrap (Alchemy Coin)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_gold_tooth_coin"],result:{text:"The circled line in the transaction record reads: Gold tooth and ancient coin fused under high heat form a coin that glimmers with mysterious light, its value far exceeding ordinary currency...",costAP:0,removeItems:["recipe_scrap_gold_tooth_coin"],setFlags:{recipe_known_gold_tooth_coin:!0}}},{id:"read_recipe_idol_mask",label:"Read Recipe Scrap (Ritual Mask)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_idol_mask"],result:{text:"The record mixing ancient script and modern symbols: Otherworldly idol and golden mask merge in alchemical flame, forming a twisted mask that reveals the true structure of the world when worn...",costAP:0,removeItems:["recipe_scrap_idol_mask"],setFlags:{recipe_known_idol_mask:!0}}},{id:"read_recipe_bread_spirits",label:"Read Recipe Scrap (Fermented Bread)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_bread_spirits"],result:{text:"The note records: Soak bread in spirits, process through alchemy to create food that brings brief comfort...",costAP:0,removeItems:["recipe_scrap_bread_spirits"],setFlags:{recipe_known_bread_spirits:!0}}},{id:"read_recipe_serum",label:"Read Recipe Scrap (Purified Serum)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_serum"],result:{text:"The crossed-out experimental steps in the discarded notes: Mix fungus with spirits, the liquid shifts from dark green to deep blue in the flask, refining a blue serum...",costAP:0,removeItems:["recipe_scrap_serum"],setFlags:{recipe_known_serum:!0}}},{id:"use_alchemy_serum",label:n=>n.player.flags.recipe_known_serum||n.player.inventory.includes("recipe_scrap_serum")?"Alchemy: Purify Serum":"Alchemy: ???",description:"Fungus + Spirits  Purified Serum (restores sanity).",reqItems:["alchemy_kit","strange_fungus","cheap_spirits"],result:{text:"Liquid in the flask shifts from dark green to deep blue, breathing a mint-cold vapor.",costAP:1,removeItems:["strange_fungus","cheap_spirits"],addItems:["purified_serum"]}},{id:"combine_bread_rat",label:n=>n.player.flags.recipe_known_bread_rat||n.player.inventory.includes("recipe_scrap_bread_rat")?"Alchemy: Nutritious Meal":"Alchemy: ???",description:"Bread + Rat Meat  Nutritious Meal (restores sanity).",reqItems:["alchemy_kit","bread","rat_meat"],result:{text:"You mix bread and rat meat, heating them on the alchemy table. The aroma of charred fat fills the air, creating a meal that fills the stomach.",costAP:1,removeItems:["bread","rat_meat"],addItems:["nutritious_meal"],changes:{sanity:10}}},{id:"combine_morphine_sedatives",label:n=>n.player.flags.recipe_known_morphine_sedatives||n.player.inventory.includes("recipe_scrap_morphine_sedatives")?"Alchemy: Strong Painkiller":"Alchemy: ???",description:"Morphine + Sedatives  Strong Painkiller (greatly restores sanity, may cause addiction).",reqItems:["alchemy_kit","morphine","sedatives"],result:n=>{const o=n.player.flags.addicted;return Math.random()<.4&&!o?{text:"The two liquids merge in the flask, producing deep purple smoke. You inhale once, and all pain vanishes instantlybut you know you can never be without it again.",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"The two liquids merge in the flask, producing deep purple smoke. You inhale once, and all pain vanishes instantly.",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"combine_void_salt_fungus",label:n=>n.player.flags.recipe_known_void_salt_fungus||n.player.inventory.includes("recipe_scrap_void_salt_fungus")?"Alchemy: Gnosis Elixir":"Alchemy: ???",description:"Void Salt + Luminous Fungus  Gnosis Elixir (increases gnosis).",reqItems:["alchemy_kit","void_salt","strange_fungus"],result:{text:"Salt crystals and fungus merge in the flame, producing shimmering blue crystals. Alchemy's refinement makes its effects gentler.",costAP:1,removeItems:["void_salt","strange_fungus"],addItems:["gnosis_elixir"]}},{id:"combine_gold_tooth_coin",label:n=>n.player.flags.recipe_known_gold_tooth_coin||n.player.inventory.includes("recipe_scrap_gold_tooth_coin")?"Alchemy: Alchemy Coin":"Alchemy: ???",description:"Gold Tooth + Ancient Coin  Alchemy Coin (valuable currency).",reqItems:["alchemy_kit","gold_tooth","ancient_coin"],result:{text:"The gold tooth and ancient coin merge under high heat, forming a coin that glimmers with mysterious light. Its value far exceeds ordinary currency.",costAP:1,removeItems:["gold_tooth","ancient_coin"],addItems:["alchemy_coin"],changes:{gnosis:2}}},{id:"combine_idol_mask",label:n=>n.player.flags.recipe_known_idol_mask||n.player.inventory.includes("recipe_scrap_idol_mask")?"Alchemy: Ritual Mask":"Alchemy: ???",description:"Otherworldly Idol + Golden Mask  Ritual Mask (greatly increases gnosis, costs sanity).",reqItems:["alchemy_kit","alien_idol","golden_mask"],result:{text:"The idol and mask merge in the alchemical flame, forming a twisted mask. When you wear it, you see the true structure of the worldbut at a cost.",costAP:1,removeItems:["alien_idol","golden_mask"],addItems:["ritual_mask"],changes:{gnosis:10,sanity:-30}}},{id:"combine_bread_spirits",label:n=>n.player.flags.recipe_known_bread_spirits||n.player.inventory.includes("recipe_scrap_bread_spirits")?"Alchemy: Fermented Bread":"Alchemy: ???",description:"Bread + Bootleg Spirits  Fermented Bread (restores sanity).",reqItems:["alchemy_kit","bread","cheap_spirits"],result:{text:"You soak the bread in spirits, processing it through alchemy to create a food that brings brief comfort. Alchemy's refinement perfectly blends the effects of both ingredients.",costAP:1,removeItems:["bread","cheap_spirits"],addItems:["fermented_bread"]}},{id:"pet_cat",label:"Pet Midnight",description:"The black cat purrs like a ritual drum, its warmth a small anchor in the dark. Can only pet once per day.",reqFollowers:["cat_follower"],result:n=>{const c=`petted_cat_day_${n.world.day}`;if(n.player.flags[c])return{text:"Midnight has had enough of your petting for today and just wants to curl up quietly in the corner. Today's comfort is already enough.",costAP:0};const d=n.player.followerStates?.cat_follower?.loyalty??50,m=10+Math.floor(d/20);return{text:"Midnight curls against your hand, purring in a rhythm that quiets the whispers. For a moment, the room feels safe.",costAP:0,changes:{sanity:Math.min(15,m)},setFlags:{[c]:!0}}}},{id:"feed_cat_fish_again",label:"Feed Midnight Fish",description:"Gain its trust with fresh fish.",reqFollowers:["cat_follower"],reqItems:["fresh_fish"],result:n=>{const c=n.player.followerStates?.cat_follower,o=c?.loyalty??50,d=Math.min(100,o+10);return n.player.followerStates||(n.player.followerStates={}),n.player.followerStates.cat_follower={...c,loyalty:d,status:"healthy"},{text:"Midnight quickly devours the fish, then rubs against your hand contentedly.",costAP:1,removeItems:["fresh_fish"],changes:{sanity:5}}}},{id:"eat_fish",label:"Cook Fresh Fish",description:"Roast the fish over fire to fill your stomach.",reqItems:["fresh_fish"],result:n=>{const c=`fed_day_${n.world.day}`;return{text:"You roast the fish, and the taste makes you forget your hunger for a moment.",costAP:1,removeItems:["fresh_fish"],changes:{sanity:5},setFlags:{[c]:!0}}}},{id:"eat_bread",label:"Eat Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach.",reqItems:["bread"],result:{text:"You bite into the moldy bread, its dry texture like chalk dust, but the spasms in your stomach are indeed suppressed.",costAP:1,removeItems:["bread"],changes:{sanity:3}}},{id:"drink_spirits",label:"Drink Bootleg Spirits",description:"Harsh and murky spirits that temporarily numb the nerves and blur pain.",reqItems:["cheap_spirits"],result:{text:"You gulp down the spirits, the harsh taste like burning incense ash, but the alcohol quickly numbs your nerves, and pain becomes temporarily blurred.",costAP:1,removeItems:["cheap_spirits"],changes:{sanity:10}}},{id:"consume_alchemy_coin",label:"Absorb Alchemy Coin's Power",description:"Let the otherworldly light merge with your consciousness, gaining gnosis and restoring sanity.",reqItems:["alchemy_coin"],result:{text:"You grip the alchemy coin, and otherworldly light spills from between your fingers, seeping into your consciousness. You feel a deeper understanding of the world, and your sanity is restored.",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:5,sanity:15}}},{id:"use_nutritious_meal",label:"Eat Nutritious Meal",description:"Enjoy a carefully prepared meal to restore sanity.",reqItems:["nutritious_meal"],result:n=>{const c=`fed_day_${n.world.day}`;return{text:"You slowly chew the simple but warm meal. The aroma of charred fat spreads in your mouth, and satisfaction fills your stomach as sanity gradually returns.",costAP:1,removeItems:["nutritious_meal"],changes:{sanity:10},setFlags:{[c]:!0}}}},{id:"use_strong_painkiller",label:"Use Strong Painkiller",description:"Deep purple smoke instantly eliminates all pain and greatly restores sanity. Highly addictive; each use may make you more dependent.",reqItems:["strong_painkiller"],result:n=>{const o=n.player.flags.addicted;return o||Math.random()<.3&&!o?{text:"You inhale the deep purple smoke, and all pain vanishes instantly. Sanity floods back like a tide. But you feel an emptiness, as if only this smoke can fill it.",costAP:1,removeItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"You inhale the deep purple smoke, and all pain vanishes instantly. Sanity floods back like a tide.",costAP:1,removeItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"use_sedatives",label:"Take Sedatives",description:"Blue pills that drain the color from the world, as though a curtain has been drawn. Swallowed, anxiety and fear temporarily recede, giving sanity a moment's respite.",reqItems:["sedatives"],result:{text:"You swallow the blue pills, and the world begins to drain of color, as though a curtain has been drawn. Anxiety and fear temporarily recede, giving sanity a moment's respite.",costAP:1,removeItems:["sedatives"],changes:{sanity:15}}},{id:"use_morphine",label:"Inject Morphine",description:"Amber liquid that grants brief silence and can greatly ease pain, but each use may make you more dependent on it.",reqItems:["morphine"],requiresConfirmation:!0,confirmationMessage:n=>n.player.flags.addicted?"You are already addicted to morphine. Continued use will ease withdrawal symptoms but deepen your dependence. Are you sure you want to continue?":"Warning: Using morphine has a 30% chance of causing addiction. Once addicted, you will lose 12 sanity daily and need a 35-coin detox regimen to cure it. Are you sure you want to continue?",result:n=>{const o=n.player.flags.addicted;return Math.random()<.3&&!o?{text:"The needle pierces your skin, and the amber liquid slowly injects. Warmth rides your veins and pain ebbs like a tide. But you also feel an emptiness, as though only this liquid can fill it. The idea of life without it becomes terrifying.",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"The needle pierces your skin, and the amber liquid slowly injects. Warmth rides your veins and pain ebbs like a tide.",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}},{id:"use_purified_serum",label:"Inject Purified Serum",description:"Blue liquid that instantly quiets the mind and effectively restores sanity.",reqItems:["purified_serum"],result:{text:"The needle pierces your skin, and the blue liquid slowly injects. Your mind instantly quiets, the whispers and fears temporarily recede, and sanity is restored.",costAP:1,removeItems:["purified_serum"],changes:{sanity:20}}},{id:"use_gnosis_elixir",label:"Swallow Gnosis Elixir",description:"Shimmering blue crystals that increase gnosis and let you glimpse the true structure of the world. Alchemy's refinement greatly reduces side effects.",reqItems:["gnosis_elixir"],result:{text:"You place the blue crystal in your mouth, and it instantly dissolves. Your consciousness stretches into another dimension, and you see the true structure of the world. Alchemy's refinement greatly reduces side effectsyou gain more knowledge with only a small cost.",costAP:1,removeItems:["gnosis_elixir"],changes:{gnosis:8,sanity:-2}}},{id:"use_fermented_bread",label:"Eat Fermented Bread",description:"Bread soaked in spirits that brings brief comfort and restores sanity. Alchemy's refinement perfectly blends the effects of both ingredients for superior restoration.",reqItems:["fermented_bread"],result:n=>{const c=`fed_day_${n.world.day}`;return{text:"You bite into the fermented bread, the slight intoxication of alcohol mixing with the softness of bread. Alchemy's refinement perfectly blends the effects of both ingredients, providing far superior restoration than consuming them separately.",costAP:1,removeItems:["fermented_bread"],changes:{sanity:18},setFlags:{[c]:!0}}}},{id:"use_ritual_mask",label:"Wear Ritual Mask",description:"A twisted mask that reveals the true structure of the world and greatly increases gnosis. Alchemy's refinement reduces side effects, but a cost remains. Can only be used once per day.",reqItems:["ritual_mask"],result:n=>{const c=`used_ritual_mask_day_${n.world.day}`;return n.player.flags[c]?{text:"You pick up the mask again, but its power is exhausted. Today's revelation has ended; you must wait until tomorrow to glimpse the true structure of the world again.",costAP:0}:{text:"You press the twisted mask against your face, and instantly, the true structure of the world unfolds before you. You see things that should not exist, understand the universe's skew. Alchemy's refinement reduces side effects, but sanity still pays a price. The mask's power is temporarily exhausted; you must wait until tomorrow to use it again.",costAP:1,changes:{gnosis:7,sanity:-20},setFlags:{[c]:!0}}}},{id:"complete_follower_task",label:"Complete Follower Request",description:"Help your follower complete their request to gain loyalty.",reqFollowers:[],result:n=>{const c=n.player.flags.target_follower_id;let o=c&&n.player.followers.includes(c)?c:void 0;if(o||(o=n.player.followers.find(x=>{const k=n.player.followerStates?.[x];return k&&k.task&&k.status==="healthy"})),c&&delete n.player.flags.target_follower_id,!o)return{text:"No pending requests.",costAP:0};const d=n.player.followerStates[o],m=d.task,y=Go(o);return m.type==="money"&&m.requirement.money?n.player.stats.funds<m.requirement.money?{text:`Your coin purse is too light. Need ${m.requirement.money} coins.`,costAP:0}:(n.player.stats.funds-=m.requirement.money,d.loyalty=Math.min(100,d.loyalty+(m.reward.loyalty||0)),d.task=void 0,{text:`${y} takes the coins, weighing them in their palm. "Thank you. I will remember this kindness."`,costAP:1,changes:{funds:-m.requirement.money}}):m.type==="item"&&m.requirement.item?n.player.inventory.includes(m.requirement.item)?(n.player.inventory=n.player.inventory.filter(k=>k!==m.requirement.item),d.loyalty=Math.min(100,d.loyalty+(m.reward.loyalty||0)),d.task=void 0,{text:`${y} takes the ${{bread:"bread",morphine:"morphine",sedatives:"sedatives",cheap_spirits:"spirits"}[m.requirement.item]||m.requirement.item}. "Thank you. I will repay this debt."`,costAP:1,removeItems:[m.requirement.item]}):{text:`You don't have ${{bread:"bread",morphine:"morphine",sedatives:"sedatives",cheap_spirits:"spirits"}[m.requirement.item]||m.requirement.item}.`,costAP:0}:m.type==="help"?(d.loyalty=Math.min(100,d.loyalty+(m.reward.loyalty||0)),d.task=void 0,{text:`You help ${y}. They look at you in silence, then bow deeply. "Thank you. I won't forget this."`,costAP:1,changes:{sanity:5}}):{text:"Request completed.",costAP:1}}},{id:"reject_follower_task",label:"Reject Follower Request",description:"Reject your follower's request, may lower loyalty.",reqFollowers:[],result:n=>{const c=n.player.flags.target_follower_id;let o=c&&n.player.followers.includes(c)?c:void 0;if(o||(o=n.player.followers.find(v=>{const D=n.player.followerStates?.[v];return D&&D.task&&D.status==="healthy"})),c&&delete n.player.flags.target_follower_id,!o)return{text:"No pending requests.",costAP:0};const d=n.player.followerStates[o],m=d.task,y=Go(o);d.loyalty=Math.max(0,d.loyalty+(m.penalty.loyalty||0));const x=o==="nurse_follower",k=x&&n.player.flags.lover_madeline;return m.penalty.leave&&d.loyalty<30&&!k?(n.player.followers=n.player.followers.filter(v=>v!==o),delete n.player.followerStates[o],x?n.player.flags.madeline_left=!0:o==="beggar_follower"&&(n.player.flags.beggar_died=!0),{text:`${y}'s eyes grow cold. "I understand." ${x?"She":"They"} turn${x?"s":""} and leave${x?"s":""}, vanishing into the night.`,costAP:1,removeFollowers:[o],changes:{sanity:-10}}):(d.task=void 0,{text:k?`You shake your head. ${y} falls silent for a moment, her eyes showing disappointment, but she does not leave. "I understand... but I won't go."`:`You shake your head. ${y} falls silent for a moment, then nods. "I understand."`,costAP:1,changes:{sanity:-5}})}},{id:"talk_to_follower",label:"Talk to Follower",description:"Have a deep conversation with your follower to strengthen bonds (once per day).",reqFollowers:[],result:n=>{const c=n.player.flags.target_follower_id;let o=c&&n.player.followers.includes(c)?c:void 0;if(o||(o=n.player.followers[0]),c&&delete n.player.flags.target_follower_id,!o)return{text:"No followers to talk to.",costAP:0};const d=`talked_to_${o}_day_${n.world.day}`;if(n.player.flags[d])return{text:"You've already had a deep conversation today. Come back tomorrow.",costAP:0};const m=n.player.followerStates?.[o];if(!m)return{text:"Follower state is abnormal.",costAP:0};const y=o==="beggar_follower"?"Gregory":o==="thug_follower"?"Bruno":o==="nurse_follower"?"Madeline":"follower",x=5;return m.loyalty=Math.min(100,m.loyalty+x),{text:`You have a deep conversation with ${y}. You share secrets and fears, and your bond grows stronger.`,costAP:1,setFlags:{[d]:!0},changes:{sanity:2}}}},{id:"heal_follower",label:"Heal Injured Follower",description:"Use medical supplies to heal an injured follower.",reqItems:[],reqFollowers:[],result:n=>{const c=n.origin==="doctor",o=n.player.flags.target_follower_id;let d=o&&n.player.followers.includes(o)?o:void 0;if(d||(d=n.player.followers.find(k=>{const T=n.player.followerStates?.[k];return k==="nurse_follower"&&n.player.flags.madeline_sick?!1:T&&T.status==="injured"})),o&&delete n.player.flags.target_follower_id,!d)return{text:"No injured followers.",costAP:0};const m=n.player.followerStates[d],y=d==="beggar_follower"?"Gregory":d==="thug_follower"?"Bruno":d==="nurse_follower"?"Madeline":"follower";let x="";if(n.player.inventory.includes("purified_serum"))n.player.inventory=n.player.inventory.filter(k=>k!=="purified_serum"),x="purified_serum";else if(n.player.inventory.includes("morphine"))n.player.inventory=n.player.inventory.filter(k=>k!=="morphine"),x="morphine";else return{text:"You have no medicine that can heal wounds.",costAP:0};return m.status="healthy",m.loyalty=Math.min(100,m.loyalty+25),{text:`The medicine flows along ${y}'s wounds, their breathing gradually steadying. They grip your hand tightly. "Thank you. I owe you my life."`,costAP:c?0:1,removeItems:[x],changes:{sanity:10}}}},{id:"calm_insane_follower",label:"Calm Insane Follower",description:"Try to calm an insane follower, requires sedatives or serum.",reqItems:["sedatives","purified_serum"],reqFollowers:[],result:n=>{const c=n.player.followers.find(y=>{const x=n.player.followerStates?.[y];return x&&x.status==="insane"});if(!c)return{text:"No insane followers.",costAP:0};const o=n.player.followerStates[c],d=Go(c);let m="";if(n.player.inventory.includes("purified_serum"))n.player.inventory=n.player.inventory.filter(y=>y!=="purified_serum"),m="purified_serum";else if(n.player.inventory.includes("sedatives"))n.player.inventory=n.player.inventory.filter(y=>y!=="sedatives"),m="sedatives";else return{text:"You have no medicine that can quell madness.",costAP:0};return Math.random()<.7?(o.status="healthy",o.loyalty=Math.min(100,o.loyalty+30),{text:`The medicine flows into ${d}'s veins, their whispers gradually ceasing. They blink, their eyes refocusing on you. "I... I'm back. Thank you."`,costAP:1,removeItems:[m],changes:{sanity:15}}):(o.loyalty=Math.min(100,o.loyalty+10),{text:`You inject ${d} with the medicine, but their whispers only pause briefly. Their eyes remain empty.`,costAP:1,removeItems:[m],changes:{sanity:5}})}},{id:"dispatch_beggar_steal",label:"Send Gregory to Steal",reqFollowers:["beggar_follower"],result:n=>{const c=n.player.followerStates?.beggar_follower;if(c&&c.status!=="healthy")return{text:"Gregory's condition prevents him from performing the task. He needs to recover first.",costAP:0};const o=n.player.stats.suspicion,y=o>30?Math.min(.5,.1+(o-30)*.0057):0;if(Math.random()<y)return n.player.flags.beggar_died=!0,{text:"Gregory never returns. A warrant slides under the door, your name written in a trembling hand.",costAP:1,removeFollowers:["beggar_follower"],setFlags:{beggar_died:!0},changes:{suspicion:40,sanity:-10}};const x=c?Math.floor(c.loyalty/20):0;return c&&(c.loyalty=Math.min(100,c.loyalty+2)),{text:"Gregory returns, clutching a few mud-stained coins. He places them on the table.",costAP:1,changes:{funds:3+x,suspicion:3}}}},{id:"dispatch_thug_extort",label:"Send Bruno to Extort",reqFollowers:["thug_follower"],result:n=>{const c=n.player.followerStates?.thug_follower;if(c&&c.status!=="healthy")return{text:"Bruno's condition prevents him from performing the task. He needs to recover first.",costAP:0};const o=c?c.loyalty:50,d=.35,y=d-o/100*(d-.05);return Math.random()<y?(delete n.player.flags.thug_healed,{text:'Late at night, Bruno drags himself back to you, trailing blood. He collapses at your feet, blood seeping from his wounds. "This time... it was my turn to pay." His heartbeat fades in your palm.',costAP:1,removeFollowers:["thug_follower"],changes:{sanity:-20}}):{text:"Bruno tosses a bulging wallet before you, someone else's teeth still imprinted on his knuckles.",costAP:1,changes:{funds:8+(c?Math.floor(c.loyalty/15):0),suspicion:10,sanity:-2}}}}]},rooftop:{id:"rooftop",name:"Apartment Rooftop",description:"Cold wind scrapes over the rusted guardrail while industrial smog sands the starlight pale.",actions:[{id:"return_apartment_roof",label:"Climb Down",result:{text:"You descend the rusted ladder, palms coated in iron filings.",costAP:0,teleport:"apartment"}},{id:"dance_madeline",label:"Dance with Madeline",description:"Slow dance on the brink of the world (requires lover + music box).",reqFlags:["lover_madeline"],reqItems:["music_box"],result:{text:"The music box leaks a fragile waltz; you turn in the wind while the city noise stays below.",costAP:1,changes:{sanity:15}}},{id:"gaze_stars",label:"Stargaze",description:"Search for constellations that have been rearranged. Gazing at the stars consumes great sanity, but occasionally reveals cosmic truth.",result:n=>{const c=`gazed_stars_day_${n.world.day}`;return n.player.flags[c]?{text:"You look up again, but the starlight is completely obscured by industrial smog. Tonight's sky has nothing more to offer.",costAP:0}:{text:"You stare at Orion until the stars bend into geometryand geometry can be pronounced. The truth of the universe flashes before your eyes, but the price of gazing is a heavy toll on sanity.",costAP:1,changes:{gnosis:1,sanity:-15},setFlags:{[c]:!0}}}},{id:"spot_cat",label:"Shadow in the Corner",description:"A pair of green eyes flashes in the dark.",reqFollowersNot:["cat_follower"],result:{text:"A black cat crouches by the pipes, wary and hungry.",costAP:0}},{id:"feed_cat_fish",label:"Feed the Cat Fish",reqItems:["fresh_fish"],reqFollowersNot:["cat_follower"],result:n=>(n.player.followerStates||(n.player.followerStates={}),n.player.followerStates.cat_follower={loyalty:30,status:"healthy"},{text:"It devours the fish, then bumps your leg to say it will follow.",costAP:1,removeItems:["fresh_fish"],addFollowers:["cat_follower"],changes:{sanity:10}})}]}},pe={initialStats:{fallen_noble:{funds:40,sanity:80,suspicion:20,gnosis:0},doctor:{funds:15,sanity:65,suspicion:5,gnosis:0},vagrant:{funds:10,sanity:90,suspicion:0,gnosis:0}},livingCost:{earlyGameDays:3,earlyGameCost:1,normalCost:2},clinicWork:{costAP:2,rewardFunds:5,costSanity:3,maxMissedDays:3},medicalBonus:{multiplier:1.5,items:["morphine","sedatives","purified_serum","strong_painkiller"]},sanityThresholds:{warning:50}},ap=n=>pe.initialStats[n].funds,lp=n=>pe.initialStats[n].sanity,sp=n=>pe.initialStats[n].suspicion,ym=n=>{const{earlyGameDays:c,earlyGameCost:o,normalCost:d}=pe.livingCost;return n<=c?o:d},np={street:{id:"street",name:"7",description:n=>""+la(n),actions:[{id:"return_apartment",label:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"run_away",label:"",description:" (: , $50)",reqFlags:["lover_madeline"],reqStats:{funds:50},result:{text:"",costAP:1,setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"escape_smuggle",label:"",description:" (: $200)",reqStats:{funds:200},result:{text:"",costAP:2,changes:{funds:-200},setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"enter_clinic",label:"",description:"",result:{text:"",costAP:0,teleport:"clinic"}},{id:"enter_tavern",label:"",description:"",result:{text:"",costAP:0,teleport:"tavern",setFlags:{known_tavern:!0}}},{id:"work_dock",label:"",description:"",reqStats:{sanity:15},result:{text:"",costAP:1,changes:{funds:4,sanity:-12}}},{id:"scavenge",label:"",description:"",result:()=>{if(Math.random()<.05){const c=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],o=c[Math.floor(Math.random()*c.length)];return{text:"",costAP:1,changes:{funds:1,sanity:-2},addItems:[o]}}return{text:"",costAP:1,changes:{funds:1,sanity:-2}}}},{id:"beg",label:"",description:"",result:n=>{const o=n.origin==="vagrant"?.8:.4;if(Math.random()<o){const m=Math.random()<.5?1:2;return{text:m===1?"":"",costAP:1,changes:{funds:m,sanity:-3}}}else return{text:"",costAP:1,changes:{sanity:-5}}}},{id:"enter_black_market",label:"",description:"5",reqFlags:["known_market"],reqFlagsNot:["black_market_banned"],reqStats:{funds:5},result:{text:"",costAP:1,teleport:"black_market"}},{id:"visit_asylum",label:"",description:"9",reqFlags:["known_asylum"],result:{text:"",costAP:0,teleport:"asylum"}},{id:"visit_ministry",label:"",description:"",reqFlags:["known_ministry"],result:{text:"",costAP:0,teleport:"ministry"}},{id:"recruit_beggar",label:"",description:"",reqFlags:["met_beggar"],reqFollowersNot:["beggar_follower"],reqFlagsNot:["beggar_died"],reqStats:{gnosis:3},reqItems:["strange_fungus"],result:{text:'""',costAP:1,removeItems:["strange_fungus"],addFollowers:["beggar_follower"],changes:{gnosis:1}}},{id:"recruit_thug",label:"",description:"",reqFlags:["met_thug"],reqItems:["morphine"],reqFollowersNot:["thug_follower"],reqFlagsNot:["thug_healed"],result:{text:"",costAP:1,removeItems:["morphine"],addFollowers:["thug_follower"],setFlags:{thug_healed:!0}}},{id:"talk_beggar",label:"",reqFlagsNot:["met_beggar"],result:()=>({text:"",costAP:1,addItems:["rusty_key"],setFlags:{met_beggar:!0,known_market:!0},changes:{suspicion:5}})},{id:"find_thug",label:"",description:"",reqFlagsNot:["met_thug","thug_healed"],reqFollowersNot:["thug_follower"],result:()=>({text:"",costAP:1,setFlags:{met_thug:!0}})},{id:"unlock_sewers",label:"",reqItems:["rusty_key"],reqFlagsNot:["sewers_open"],result:{text:"",costAP:1,setFlags:{sewers_open:!0},teleport:"sewers"}},{id:"enter_sewers",label:"",reqFlags:["sewers_open"],result:{text:"",costAP:0,teleport:"sewers"}},{id:"steal_fish",label:"",description:"",reqFlagsNot:["cat_follower"],result:n=>{const c=n.player.inventory.includes("officer_badge"),o=c?3:0;return Math.random()<.3?{text:c?"":'""',costAP:1,changes:{suspicion:10-o}}:{text:c?"":"",costAP:1,addItems:["fresh_fish"],changes:{suspicion:5-o}}}}]},tavern:{id:"tavern",name:"",description:n=>""+la(n),actions:[{id:"leave_tavern",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"buy_bread",label:"",description:"",reqStats:{funds:2},result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"drink_ale",label:"",description:"",reqStats:{funds:3},result:{text:"",costAP:1,changes:{funds:-3,sanity:5}}},{id:"gamble_dice",label:"",description:"",reqStats:{funds:5},requiresConfirmation:!0,confirmationMessage:n=>{const c=n.player.inventory.includes("loaded_dice")?60:30;return`${c}%8+2${100-c}%5-2`},result:n=>Math.random()<(n.player.inventory.includes("loaded_dice")?.6:.3)?{text:"",costAP:1,changes:{funds:8,sanity:2}}:{text:"",costAP:1,changes:{funds:-5,sanity:-2}}},{id:"listen_rumors",label:"",description:"",result:n=>{if(n.player.flags.known_market)if(n.player.flags.known_asylum){if(!n.player.flags.known_ministry)return{text:"",costAP:1,setFlags:{known_ministry:!0}}}else return{text:"9",costAP:1,setFlags:{known_asylum:!0}};else return{text:"",costAP:1,setFlags:{known_market:!0}};return{text:"",costAP:1,changes:{suspicion:2}}}}]},clinic:{id:"clinic",name:"",description:n=>""+la(n),actions:[{id:"leave_clinic",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"work_clinic",label:"",description:"",reqFlags:["medical_training"],reqFlagsNot:["clinic_fired"],result:()=>{const n=pe.clinicWork;return{text:"",costAP:n.costAP,changes:{funds:n.rewardFunds,sanity:-3},setFlags:{clinic_worked_today:!0,clinic_missed_days:0}}}},{id:"talk_nurse",label:"",description:"",reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'""',costAP:1}},{id:"recruit_nurse_gold",label:"",description:"",reqItems:["gold_tooth"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'""',costAP:1,removeItems:["gold_tooth"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"recruit_nurse_file",label:"",description:"",reqItems:["classified_file"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:"",costAP:1,removeItems:["classified_file"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"cure_infection",label:"",description:"",reqStats:{funds:20},reqFlags:["infected"],result:{text:"",costAP:1,changes:{funds:-20},setFlags:{infected:!1}}},{id:"rehab_addiction",label:"",description:"",reqStats:{funds:35},reqFlags:["addicted"],result:{text:"",costAP:3,changes:{funds:-35,sanity:-20},setFlags:{addicted:!1}}},{id:"sell_blood",label:"",description:"",reqStats:{sanity:30},result:{text:"",costAP:1,changes:{funds:6,sanity:-25}}},{id:"sell_kidney",label:"",description:"",reqStats:{funds:0},reqFlagsNot:["kidney_sold"],result:{text:"",costAP:3,changes:{funds:40,sanity:-20},setFlags:{kidney_sold:!0}}},{id:"buy_laudanum",label:"",description:"",reqStats:{funds:15},reqItemsNot:["laudanum","forbidden_name"],result:n=>({text:"",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["laudanum"]})},{id:"buy_sedatives",label:"",description:"",reqStats:{funds:10},result:n=>({text:"",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["sedatives"]})},{id:"buy_morphine",label:"",description:"",reqStats:{funds:25},result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["morphine"]})},{id:"implant_fungus",label:"",description:"",reqItems:["strange_fungus"],reqFlagsNot:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"2040%",result:{text:"",costAP:2,removeItems:["strange_fungus"],changes:{sanity:-20},setFlags:{fungus_host:!0}}},{id:"harvest_self",label:"",description:"",reqFlags:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"2040%8",result:()=>{const n=Math.random()<.4;return{text:n?"":"",costAP:1,addItems:["strange_fungus"],changes:{sanity:-20},setFlags:n?{infected:!0}:{}}}},{id:"use_morphine_risky",label:"",reqItems:["morphine"],description:"",requiresConfirmation:!0,confirmationMessage:n=>n.player.flags.addicted?"":"30%1235",result:n=>Math.random()<.3&&!n.player.flags.addicted?{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}]},black_market:{id:"black_market",name:"",description:"",actions:[{id:"leave_market",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"buy_lantern",label:"",description:"",reqStats:{funds:8},reqItemsNot:["brass_lantern"],result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(8*1.5):8)},addItems:["brass_lantern"]})},{id:"buy_music_box",label:"",description:"",reqStats:{funds:20},reqItemsNot:["music_box"],result:n=>({text:"",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["music_box"]})},{id:"buy_ring",label:"",description:"",reqStats:{funds:15},reqItemsNot:["silver_ring"],result:n=>({text:"",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["silver_ring"]})},{id:"buy_alchemy_kit",label:"",description:"",reqStats:{funds:25},reqItemsNot:["alchemy_kit"],result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["alchemy_kit"]})},{id:"buy_scroll",label:"",description:"",reqStats:{funds:20},reqItemsNot:["crumbling_scroll"],result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["crumbling_scroll"]})},{id:"buy_iron_dagger",label:"",description:"",reqStats:{funds:12},reqItemsNot:["iron_dagger"],result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(12*1.5):12)},addItems:["iron_dagger"]})},{id:"buy_scalpel",label:"",description:"",reqStats:{funds:10},reqItemsNot:["scalpel"],result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["scalpel"]})},{id:"buy_rare_item_coin",label:"",description:"",reqItems:["alchemy_coin"],requiresConfirmation:!0,confirmationMessage:"",result:()=>{const n=Math.random();let c,o;return n<.05?(c="ritual_dagger",o=""):n<.3?(c="alien_idol",o=""):n<.45?(c="golden_mask",o=""):n<.7?(c="void_salt",o=""):(c="ancient_coin",o=""),{text:`"..."${o}`,costAP:1,removeItems:["alchemy_coin"],addItems:[c]}}},{id:"buy_bread",label:"",description:"",reqStats:{funds:2},result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"buy_spirits",label:"",description:"",reqStats:{funds:4},result:n=>({text:"",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(4*1.5):4),sanity:15},addItems:["cheap_spirits"]})},{id:"sell_gold_tooth",label:"",reqItems:["gold_tooth"],result:{text:"",costAP:1,changes:{funds:6},removeItems:["gold_tooth"]}},{id:"sell_alchemy_coin",label:"",reqItems:["alchemy_coin"],result:{text:'"..."',costAP:1,changes:{funds:30},removeItems:["alchemy_coin"]}},{id:"sell_fungus",label:"",reqItems:["strange_fungus"],result:{text:'""',costAP:1,changes:{funds:4},removeItems:["strange_fungus"]}},{id:"sell_idol",label:"",reqItems:["alien_idol"],result:{text:'""',costAP:1,changes:{funds:50},removeItems:["alien_idol"]}},{id:"sell_mask",label:"",reqItems:["golden_mask"],result:{text:'""',costAP:1,changes:{funds:40},removeItems:["golden_mask"]}},{id:"sell_ritual_mask",label:"",reqItems:["ritual_mask"],result:{text:'"..."',costAP:1,changes:{funds:135},removeItems:["ritual_mask"]}},{id:"sell_purge_list",label:"",reqItems:["purge_list"],result:n=>(delete n.player.flags.purge_list_accessed,{text:'""',costAP:1,changes:{funds:60},removeItems:["purge_list"]})},{id:"sell_file",label:"",reqItems:["classified_file"],result:{text:"",costAP:1,changes:{funds:25},removeItems:["classified_file"]}},{id:"sell_fermented_bread",label:"",reqItems:["fermented_bread"],result:{text:'"..."',costAP:1,changes:{funds:8},removeItems:["fermented_bread"]}}]}},ip={street:{id:"street",name:"District 7 Street",description:n=>"Yellow fog drifts along the avenue, and people hurry through it as though each clutches an unfinished ritual."+la(n),actions:[{id:"return_apartment",label:"Return to Apartment",result:{text:"You hurry back to the apartment.",costAP:0,teleport:"apartment"}},{id:"run_away",label:"Flee the City",description:"Abandon rituals and titles; leave with her alone (requires lover + $50).",reqFlags:["lover_madeline"],reqStats:{funds:50},result:{text:"You bribe the gate guards and squeeze onto a freight truck. The skyline recedes, leaving only the hand you clutch; every other title dissolves into the fog.",costAP:1,setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"escape_smuggle",label:"Escape by Smuggling",description:"Use a large sum to bribe a smuggling ship and flee this cursed city (requires: $200).",reqStats:{funds:200},result:{text:"You find a smuggling ship; the captain takes your money and hides you in the cargo hold. Days later, you see unfamiliar coastlines. The city, along with its secrets and horrors, is left behind.",costAP:2,changes:{funds:-200},setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"enter_clinic",label:"Enter Back-Alley Clinic",description:"The red cross flickers on and off through the fog.",result:{text:"You push the door and are hit by disinfectant and alcohol.",costAP:0,teleport:"clinic"}},{id:"enter_tavern",label:"Push the Saloon Doors",description:"Behind them wait groaning drums and mingled smells.",result:{text:"You step into the Drowned Sailor; liquor haze and lamp light braid together.",costAP:0,teleport:"tavern",setFlags:{known_tavern:!0}}},{id:"work_dock",label:"Seek Dock Labor",description:"Trade sinew for coin. High-pressure work drains sanity.",reqStats:{sanity:15},result:{text:"Crates force the air from your lungs while salt mist rakes your throat raw.",costAP:1,changes:{funds:4,sanity:-12}}},{id:"scavenge",label:"Scavenge in Garbage",description:"Search for discarded valuables. Low risk, low reward.",result:()=>{if(Math.random()<.05){const c=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],o=c[Math.floor(Math.random()*c.length)];return{text:"You dig through the garbage and find a crumpled note, its edges water-stained.",costAP:1,changes:{funds:1,sanity:-2},addItems:[o]}}return{text:"You dig through the garbage and find some usable items.",costAP:1,changes:{funds:1,sanity:-2}}}},{id:"beg",label:"Beg on the Street",description:"Hold out your hand to passersby, but most will only offer cold stares.",result:n=>{const o=n.origin==="vagrant"?.8:.4;if(Math.random()<o){const m=Math.random()<.5?1:2;return{text:m===1?"Someone tosses you a coin; you scramble to pick it up.":"A kind soul gives you two coins; you mutter thanks.",costAP:1,changes:{funds:m,sanity:-3}}}else return{text:"People hurry past without stopping. You only feel shame and exhaustion.",costAP:1,changes:{sanity:-5}}}},{id:"enter_black_market",label:"Find Black Market Entrance",description:"Only those who recall the password get in. Requires at least 5 coins to prove your wealth.",reqFlags:["known_market"],reqFlagsNot:["black_market_banned"],reqStats:{funds:5},result:{text:"The doorman checks your wallet and knocks three coded rhythms on an iron door.",costAP:1,teleport:"black_market"}},{id:"visit_asylum",label:"Go to Asylum",description:"Beyond District 9s walls lies a supposed clean zone.",reqFlags:["known_asylum"],result:{text:"You cross the cordon and step on disinfected tiles.",costAP:0,teleport:"asylum"}},{id:"visit_ministry",label:"Go to Ministry Hall",description:"The administrative monolith shaped like a shrine.",reqFlags:["known_ministry"],result:{text:"The revolving door swallows you while countless eyes stare from the dome.",costAP:0,teleport:"ministry"}},{id:"recruit_beggar",label:"Recruit the Beggar",description:"Use fungus and whispers to summon a courier.",reqFlags:["met_beggar"],reqFollowersNot:["beggar_follower"],reqFlagsNot:["beggar_died"],reqStats:{gnosis:3},reqItems:["strange_fungus"],result:{text:'He swallows the fungus and presses his forehead to the ground. "I see it. Take me to the one you serve."',costAP:1,removeItems:["strange_fungus"],addFollowers:["beggar_follower"],changes:{gnosis:1}}},{id:"recruit_thug",label:"Inject the Enforcer",description:"Use the drug to drag him back from death's gate.",reqFlags:["met_thug"],reqItems:["morphine"],reqFollowersNot:["thug_follower"],reqFlagsNot:["thug_healed"],result:{text:"The medicine runs through his veins and the tremors stop. This life is yours now.",costAP:1,removeItems:["morphine"],addFollowers:["thug_follower"],setFlags:{thug_healed:!0}}},{id:"talk_beggar",label:"Approach the Beggar",reqFlagsNot:["met_beggar"],result:()=>({text:"He grabs your sleeve and presses a rusty key into your palm. Down there remember the password.",costAP:1,addItems:["rusty_key"],setFlags:{met_beggar:!0,known_market:!0},changes:{suspicion:5}})},{id:"find_thug",label:"Find the Injured Enforcer",description:"Discover a dying enforcer in the street corner.",reqFlagsNot:["met_thug","thug_healed"],reqFollowersNot:["thug_follower"],result:()=>({text:"You hear pained groans from a corner. An enforcer leans against the wall, blood seeping from his wounds. His eyes are unfocusedhe won't last much longer.",costAP:1,setFlags:{met_thug:!0}})},{id:"unlock_sewers",label:"Unlock the Manhole",reqItems:["rusty_key"],reqFlagsNot:["sewers_open"],result:{text:"The key clicks in response and the cover lifts slowly, vomiting rot.",costAP:1,setFlags:{sewers_open:!0},teleport:"sewers"}},{id:"enter_sewers",label:"Enter Sewers",reqFlags:["sewers_open"],result:{text:"You grip the cold ladder and descend until the dark swallows your steps.",costAP:0,teleport:"sewers"}},{id:"steal_fish",label:"Steal a Fish",description:"Slip one away while the fisher looks elsewhere.",reqFlagsNot:["cat_follower"],result:n=>{const c=n.player.inventory.includes("officer_badge"),o=c?3:0;return Math.random()<.3?{text:c?"You flash your badge; the fisher immediately falls silent and steps back.":'"Stop!" someone shouts, forcing you to flee empty-handed.',costAP:1,changes:{suspicion:10-o}}:{text:c?"You flash your badge; the fisher dares not speak, and you calmly take a fish.":"You tuck a still-flopping fish inside your coat.",costAP:1,addItems:["fresh_fish"],changes:{suspicion:5-o}}}}]},tavern:{id:"tavern",name:"The Drowned Sailor",description:n=>"Tobacco, liquor, and sweat curl together here; nobody asks your past so long as you can pay."+la(n),actions:[{id:"leave_tavern",label:"Leave Tavern",result:{text:"You push the door and the fog scrubs away the stench of drink.",costAP:0,teleport:"street"}},{id:"buy_bread",label:"Buy Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach. Basic survival food.",reqStats:{funds:2},result:n=>({text:'The bartender pulls a moldy loaf from under the counter and tosses it to you. "Enough to fill your stomach."',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"drink_ale",label:"Drink Cheap Ale",description:"Bitter as sin but it warms the gut.",reqStats:{funds:3},result:{text:"Foam rasps down your throat and your shoulders loosen a notch.",costAP:1,changes:{funds:-3,sanity:5}}},{id:"gamble_dice",label:"Roll Dice",description:"Let the cubes decide your luck.",reqStats:{funds:5},requiresConfirmation:!0,confirmationMessage:n=>{const c=n.player.inventory.includes("loaded_dice")?60:30;return`Warning: This is a gambling action. You have a ${c}% chance to win (net gain 8 coins, +2 sanity) but also a ${100-c}% chance to lose (net loss 5 coins, -2 sanity). Are you sure you want to continue?`},result:n=>Math.random()<(n.player.inventory.includes("loaded_dice")?.6:.3)?{text:"The dice obey and the drunks pockets are yours.",costAP:1,changes:{funds:8,sanity:2}}:{text:"They tumble across the table and your money tumbles with them.",costAP:1,changes:{funds:-5,sanity:-2}}},{id:"listen_rumors",label:"Gather Rumors",description:"Drink-slick tongues sometimes spill real intel.",result:n=>{if(n.player.flags.known_market)if(n.player.flags.known_asylum){if(!n.player.flags.known_ministry)return{text:"A drunk complains the Ministry hall squats beside the square like a tombstone.",costAP:1,setFlags:{known_ministry:!0}}}else return{text:"Word is District 9 Asylum needs bodies; theyre recruiting volunteers on the street.",costAP:1,setFlags:{known_asylum:!0}};else return{text:"Someone whispers about a staircase leading underground; bring enough cash and you can descend.",costAP:1,setFlags:{known_market:!0}};return{text:"The rest is gossip about green sewer lights and missing vagrants.",costAP:1,changes:{suspicion:2}}}}]},clinic:{id:"clinic",name:"Back-Alley Clinic",description:n=>"A jaundiced bulb swings overhead while the doctor wipes scalpels with coarse cloth. This place treats ailments the Ministry refuses to acknowledge."+la(n),actions:[{id:"leave_clinic",label:"Leave Clinic",result:{text:"You step back into the fog and the blood-smell thins at once.",costAP:0,teleport:"street"}},{id:"work_clinic",label:"Work at Clinic",description:"As a doctor, you can work here for steady income. Each shift consumes sanity but provides stable funds.",reqFlags:["medical_training"],reqFlagsNot:["clinic_fired"],result:()=>{const n=pe.clinicWork;return{text:"You put on your white coat and begin the day's consultations. The patients' pain and despair exhaust you, but at least it brings some income.",costAP:n.costAP,changes:{funds:n.rewardFunds,sanity:-3},setFlags:{clinic_worked_today:!0,clinic_missed_days:0}}}},{id:"talk_nurse",label:"Speak with the Crying Nurse",description:"She clearly has trouble looming.",reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'"The interest spiked again. One more day and they sell me to the mines." She wipes her tears with her sleeve.',costAP:1}},{id:"recruit_nurse_gold",label:"Pay Her Debt with Gold Tooth",description:"This tooth can settle the ledger.",reqItems:["gold_tooth"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:`She stares at the tooth for a long while before taking it. "I'll spend the rest of my life repaying this."`,costAP:1,removeItems:["gold_tooth"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"recruit_nurse_file",label:"Leverage the Dossier",description:"Use the classified file as blackmail.",reqItems:["classified_file"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:"You drop the file on the table; the mob boss reads it in silence, then wipes her debt clean.",costAP:1,removeItems:["classified_file"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"cure_infection",label:"Treat Rot Disease",description:"Scrape away corruption and flood it with liquor.",reqStats:{funds:20},reqFlags:["infected"],result:{text:"Liquor burns across the wound before numbness settles and the flesh knits shut.",costAP:1,changes:{funds:-20},setFlags:{infected:!1}}},{id:"rehab_addiction",label:"Detox Regimen",description:"Ride out the craving in restraints.",reqStats:{funds:35},reqFlags:["addicted"],result:{text:"They strap you to a bed for three days; sweat and vomit pool beneath you until all thats left is a shaking breath.",costAP:3,changes:{funds:-35,sanity:-20},setFlags:{addicted:!1}}},{id:"sell_blood",label:"Sell Blood",description:"Trade plasma for cash.",reqStats:{sanity:30},result:{text:"A thick needle taps your vein and a glass bottle slowly fills red while your head drifts.",costAP:1,changes:{funds:6,sanity:-25}}},{id:"sell_kidney",label:"Sell a Kidney",description:"Exchange an organ for breathing room.",reqStats:{funds:0},reqFlagsNot:["kidney_sold"],result:{text:"When the anesthesia fades, your waist is swaddled in bandages and a blood-speckled bundle of bills waits nearby.",costAP:3,changes:{funds:40,sanity:-20},setFlags:{kidney_sold:!0}}},{id:"buy_laudanum",label:"Purchase Laudanum",description:"Ticket to the dreamscape.",reqStats:{funds:15},reqItemsNot:["laudanum","forbidden_name"],result:n=>({text:"The doctor retrieves a black bottle from the safe and tells you to open it in silence.",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["laudanum"]})},{id:"buy_sedatives",label:"Purchase Sedatives",description:"Official calming pills.",reqStats:{funds:10},result:n=>({text:"Blue tablets slide into a paper pouch; you are told not to indulge.",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["sedatives"]})},{id:"buy_morphine",label:"Purchase Morphine",description:"Costly and perilous peace.",reqStats:{funds:25},result:n=>({text:'An ampoule is pressed into your palm. "Do not let it take command," the doctor warns.',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["morphine"]})},{id:"implant_fungus",label:"Implant Luminous Fungus",description:"Let the mycelium lodge in your flesh.",reqItems:["strange_fungus"],reqFlagsNot:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"Warning: Implanting the fungus will cause 20 sanity loss and make you a fungus host. While you can harvest it later, harvesting has a 40% chance of causing infection. Are you sure you want to continue?",result:{text:"The fungus is pushed into the split muscle; when the stitches tighten you feel it pulse.",costAP:2,removeItems:["strange_fungus"],changes:{sanity:-20},setFlags:{fungus_host:!0}}},{id:"harvest_self",label:"Harvest Your Fungus",description:"Treat the host as the offering.",reqFlags:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"Warning: Harvesting your fungus will cause 20 sanity loss and has a 40% chance of causing infection. Once infected, you will lose 8 sanity daily. Are you sure you want to continue?",result:()=>{const n=Math.random()<.4;return{text:n?"The blade grazes the wound and fire spreads, infection blooming immediately.":"You suppress the tremor and dig a glowing tuft from your arm.",costAP:1,addItems:["strange_fungus"],changes:{sanity:-20},setFlags:n?{infected:!0}:{}}}},{id:"use_morphine_risky",label:"Inject Morphine",reqItems:["morphine"],description:"Borrow a brief silence from the needle.",requiresConfirmation:!0,confirmationMessage:n=>n.player.flags.addicted?"You are already addicted to morphine. Continued use will ease withdrawal symptoms but deepen your dependence. Are you sure you want to continue?":"Warning: Using morphine has a 30% chance of causing addiction. Once addicted, you will lose 12 sanity daily and need a 35-coin detox regimen to cure it. Are you sure you want to continue?",result:n=>Math.random()<.3&&!n.player.flags.addicted?{text:"A gentle undertow wraps around you, and the idea of life without it becomes terrifying.",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"Warmth rides your veins and pain ebbs like a tide.",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}]},black_market:{id:"black_market",name:"Underground Market",description:"A damp basement crammed with contraband; transactions care only for price, never for names.",actions:[{id:"leave_market",label:"Leave Market",result:{text:"You return to the street, vendors whispers still clinging to your ears.",costAP:0,teleport:"street"}},{id:"buy_lantern",label:"Buy Brass Lantern",description:"Essential flame for sewer expeditions.",reqStats:{funds:8},reqItemsNot:["brass_lantern"],result:n=>({text:'A new wick goes into the old lantern; the seller taps the glass. "Enough to reach the bottom."',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(8*1.5):8)},addItems:["brass_lantern"]})},{id:"buy_music_box",label:"Buy Music Box",description:"An expensive, unnecessary romance.",reqStats:{funds:20},reqItemsNot:["music_box"],result:n=>({text:"The box is slipped into a cloth pouch, its spring still ticking.",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["music_box"]})},{id:"buy_ring",label:"Buy Silver Ring",description:"A promise forged amid rubble.",reqStats:{funds:15},reqItemsNot:["silver_ring"],result:n=>({text:"The merchant studies you, then silently slides the ring across the counter.",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["silver_ring"]})},{id:"buy_alchemy_kit",label:"Buy Alchemy Kit",description:"Tools that can rewrite recipes.",reqStats:{funds:25},reqItemsNot:["alchemy_kit"],result:n=>({text:'"Do not fire it up during an air raid," the seller warns while handing over the stained apparatus.',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["alchemy_kit"]})},{id:"buy_scroll",label:"Buy Worm Scroll",description:"A mold-reeking forbidden text.",reqStats:{funds:20},reqItemsNot:["crumbling_scroll"],result:n=>({text:'Wrapped in coarse cloth, the scroll comes with a warning: "Never read it in the light."',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["crumbling_scroll"]})},{id:"buy_iron_dagger",label:"Buy Iron Dagger",description:"A common street weapon, crude but deadly enough.",reqStats:{funds:12},reqItemsNot:["iron_dagger"],result:n=>({text:'The vendor pulls an iron dagger from under the counter, the edge glinting in the dim light. "This will do."',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(12*1.5):12)},addItems:["iron_dagger"]})},{id:"buy_scalpel",label:"Buy Scalpel",description:"A common surgical tool from the clinic, sharp as a razor.",reqStats:{funds:10},reqItemsNot:["scalpel"],result:n=>({text:'The vendor hands you a scalpel, the blade reflecting cold light. "Be careful, this thing is more dangerous than it looks."',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["scalpel"]})},{id:"buy_rare_item_coin",label:"Gamble with Alchemy Coin (High Risk)",description:"Trade the mysterious coin for the black market's most precious items. Warning: This is a gambleyou may receive items of varying value. Risk at your own discretion.",reqItems:["alchemy_coin"],requiresConfirmation:!0,confirmationMessage:"Warning: This is a high-risk gamble. You may receive very valuable items (like Obsidian Dagger) but also only common materials (like Ancient Coin). The alchemy coin will be consumed. Are you sure you want to continue?",result:()=>{const n=Math.random();let c,o;return n<.05?(c="ritual_dagger",o="Obsidian Dagger"):n<.3?(c="alien_idol",o="Otherworldly Idol"):n<.45?(c="golden_mask",o="Golden Mask"):n<.7?(c="void_salt",o="Void Salt"):(c="ancient_coin",o="Ancient Coin"),{text:`The vendor takes the alchemy coin, eyes flashing with greed. "This glow... I understand. This is true alchemy. I'll trade you this." He hands you ${o}.`,costAP:1,removeItems:["alchemy_coin"],addItems:[c]}}},{id:"buy_bread",label:"Buy Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach. Basic survival food.",reqStats:{funds:2},result:n=>({text:'The vendor digs out a moldy loaf from a corner. "Enough to keep you going for a while."',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"buy_spirits",label:"Buy Bootleg Spirits",description:"Cheap anesthesia.",reqStats:{funds:4},result:n=>({text:"A bottle of cloudy liquor smelling like rotten barrels is pressed into your hand.",costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(4*1.5):4),sanity:15},addItems:["cheap_spirits"]})},{id:"sell_gold_tooth",label:"Sell Gold Tooth",reqItems:["gold_tooth"],result:{text:"A handful of coins get tossed your way with little ceremony.",costAP:1,changes:{funds:6},removeItems:["gold_tooth"]}},{id:"sell_alchemy_coin",label:"Sell Alchemy Coin",reqItems:["alchemy_coin"],result:{text:`The vendor's eyes flash in the otherworldly glow of the coin. "This... this is alchemy's masterpiece. I'll pay top price." He hands you a thick stack of bills.`,costAP:1,changes:{funds:30},removeItems:["alchemy_coin"]}},{id:"sell_fungus",label:"Sell Luminous Fungus",reqItems:["strange_fungus"],result:{text:'"Good cultureenough for two dream draughts."',costAP:1,changes:{funds:4},removeItems:["strange_fungus"]}},{id:"sell_idol",label:"Sell Otherworldly Idol",reqItems:["alien_idol"],result:{text:`The vendor presses a palm on it, eyes flashing. "I'll take this one."`,costAP:1,changes:{funds:50},removeItems:["alien_idol"]}},{id:"sell_mask",label:"Sell Golden Mask",reqItems:["golden_mask"],result:{text:`"Feels too cold, but it'll fetch a crowd." Still, he pays up.`,costAP:1,changes:{funds:40},removeItems:["golden_mask"]}},{id:"sell_ritual_mask",label:"Sell Ritual Mask",reqItems:["ritual_mask"],result:{text:`The vendor's eyes flash in the mask's twisted glow. "Alchemy's masterpiece... this fusion of power, I'll pay top price." He hands you a thick stack of bills.`,costAP:1,changes:{funds:135},removeItems:["ritual_mask"]}},{id:"sell_purge_list",label:"Sell Purge Ledger",reqItems:["purge_list"],result:n=>(delete n.player.flags.purge_list_accessed,{text:`The vendor's fingertips tremble. "Hand it overone page of this buys a row of houses."`,costAP:1,changes:{funds:60},removeItems:["purge_list"]})},{id:"sell_file",label:"Sell Classified Dossier",reqItems:["classified_file"],result:{text:'"This will roll a lot of heads, so the price is fixed."',costAP:1,changes:{funds:25},removeItems:["classified_file"]}},{id:"sell_fermented_bread",label:"Sell Fermented Bread",reqItems:["fermented_bread"],result:{text:`The vendor sniffs the bread. "Alchemy-processed food... interesting. I'll make an offer."`,costAP:1,changes:{funds:8},removeItems:["fermented_bread"]}}]}},rp={sewers:{id:"sewers",name:"",description:n=>""+la(n),actions:[{id:"leave_sewers",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"scavenge_lit_risky",label:"",description:"",reqItems:["brass_lantern"],result:()=>{const n=Math.random();if(n<.1)return{text:"",costAP:1,changes:{sanity:-10},setFlags:{infected:!0}};if(n<.15){const c=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],o=c[Math.floor(Math.random()*c.length)];return{text:"",costAP:1,changes:{sanity:-5},addItems:[o]}}else return n<.3?{text:"",costAP:1,changes:{sanity:-5},addItems:["gold_tooth"]}:n<.7?{text:"",costAP:1,changes:{sanity:-3},addItems:["strange_fungus"]}:{text:"",costAP:1,changes:{sanity:-5},addItems:["rat_meat"]}}},{id:"search_relics",label:"",description:"",reqItems:["brass_lantern"],reqItemsNot:["alien_idol"],result:()=>Math.random()<.15?{text:"",costAP:1,addItems:["alien_idol"],changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-8}}},{id:"encounter_sewer_monster",label:"",description:"",reqItems:["brass_lantern"],reqFlagsNot:["sewer_monster_encounter"],result:()=>{if(Math.random()<.4)return{text:"",costAP:0,setFlags:{sewer_monster_encounter:!0}};{const c=Math.random();return c<.3?{text:"",costAP:1,changes:{sanity:-8,gnosis:2}}:c<.6?{text:"",costAP:1,changes:{sanity:-5},addItems:["rusty_key"]}:{text:"",costAP:1,changes:{sanity:-3}}}}},{id:"flee_sewer_monster",label:"",description:"",reqFlags:["sewer_monster_encounter"],result:{text:"",costAP:2,changes:{sanity:-5},setFlags:{sewer_monster_encounter:!1}}},{id:"fight_sewer_monster",label:n=>n.player.inventory.some(o=>["iron_dagger","ritual_dagger","scalpel"].includes(o))?n.player.inventory.includes("ritual_dagger")?" ()":n.player.inventory.includes("iron_dagger")?" ()":n.player.inventory.includes("scalpel")?" ()":" ()":" ()",description:"",reqFlags:["sewer_monster_encounter"],result:n=>{if(!n.player.inventory.some(d=>["iron_dagger","ritual_dagger","scalpel"].includes(d)))return{text:"",costAP:1,changes:{sanity:-30,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}};let o;return n.player.inventory.includes("ritual_dagger")?o=.8:n.player.inventory.includes("iron_dagger")?o=.65:n.player.inventory.includes("scalpel")?o=.55:o=.45,Math.random()<o?{text:"",costAP:1,changes:{sanity:-15,gnosis:1},addItems:["strange_fungus"],setFlags:{sewer_monster_encounter:!1}}:{text:"",costAP:1,changes:{sanity:-25,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}}}},{id:"explore_deep",label:"",description:"",reqStats:{},result:n=>{const c=n.player.stats.sanity>0;return!n.player.inventory.includes("ritual_dagger")&&Math.random()>.5?{text:"",costAP:1,changes:{sanity:-10},addItems:["ritual_dagger"]}:c?{text:"",costAP:1,changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-5}}}},{id:"approach_altar",label:"",description:"",reqItems:["ritual_dagger"],result:{text:"",costAP:1,teleport:"altar"}}]}},op={sewers:{id:"sewers",name:"Ancient Sewers",description:n=>"Stone walls are carved with worn reliefs, and the channels carry glowing sludge instead of water."+la(n),actions:[{id:"leave_sewers",label:"Climb Back Up",result:{text:"You haul yourself up the icy ladder until the smog greets you again.",costAP:0,teleport:"street"}},{id:"scavenge_lit_risky",label:"Lantern Scavenge",description:"Let the lantern guide you while you sift the muck for relics.",reqItems:["brass_lantern"],result:()=>{const n=Math.random();if(n<.1)return{text:"A mutated rat bites through your boot and the wound darkens instantly.",costAP:1,changes:{sanity:-10},setFlags:{infected:!0}};if(n<.15){const c=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],o=c[Math.floor(Math.random()*c.length)];return{text:"The light catches a water-soaked slip of paper, barely legible but still readable.",costAP:1,changes:{sanity:-5},addItems:[o]}}else return n<.3?{text:"The light catches a gold tooth wedged between stones.",costAP:1,changes:{sanity:-5},addItems:["gold_tooth"]}:n<.7?{text:"You harvest a pristine clump of luminous fungus, cold to the touch.",costAP:1,changes:{sanity:-3},addItems:["strange_fungus"]}:{text:"You scrape up a few morsels of meat still fit to eat and shove them into your bag.",costAP:1,changes:{sanity:-5},addItems:["rat_meat"]}}},{id:"encounter_sewer_monster",label:"Explore Deeper",description:"Push further into the darkness, where whispers call and something waits.",reqItems:["brass_lantern"],result:()=>{if(Math.random()<.4)return{text:"A low growl echoes ahead, like the resonance of some ancient ritual. Glowing eyes flash in the shadowsnot human eyes, not beast eyes, but something else entirely.",costAP:0,setFlags:{sewer_monster_encounter:!0}};{const c=Math.random();return c<.3?{text:"You discover an ancient altar deep within, its stone surface carved with incomprehensible symbols. The lines pulse like veins, and as you stare, knowledge seeps into your consciousness like venom.",costAP:1,changes:{sanity:-8,gnosis:2}}:c<.6?{text:"Your fingers close around a rusted key in the sludge, like a relic bearing the secrets of those who came before.",costAP:1,changes:{sanity:-5},addItems:["rusty_key"]}:{text:"You explore for a long time, but find nothing except sludge and echoes. The darkness devours your sense of direction, and you begin to wonder if you are still in the same world.",costAP:1,changes:{sanity:-3}}}}},{id:"flee_sewer_monster",label:"Flee",description:"Turn and run, let fear drive your legs.",reqFlags:["sewer_monster_encounter"],result:{text:"You turn and run, footsteps echoing through the pipes like a countdown. You dare not look back until the ladder's outline appears. You're safe, but the feeling of being pursued will remain in your bones forever.",costAP:2,changes:{sanity:-5},setFlags:{sewer_monster_encounter:!1}}},{id:"fight_sewer_monster",label:n=>n.player.inventory.some(o=>["iron_dagger","ritual_dagger","scalpel"].includes(o))?n.player.inventory.includes("ritual_dagger")?"Fight (Very High Chance)":n.player.inventory.includes("iron_dagger")?"Fight (High Chance)":n.player.inventory.includes("scalpel")?"Fight (Moderate Chance)":"Fight (Very Low Chance)":"Fight (Very Low Chance)",description:"Face the darkness with steel, the fear with will.",reqFlags:["sewer_monster_encounter"],result:n=>{if(!n.player.inventory.some(d=>["iron_dagger","ritual_dagger","scalpel"].includes(d)))return{text:"Your hands search, but find only empty pockets. Without a weapon, you can only face those eyes and feel fear pour into your veins like ice water. The creature lunges at you, and you can only fight back with your bare hands and fists in vain. You are struck down hard, and in your dazed state, you crawl back to the entrance. When you wake, you are covered in wounds, and that terror is deeply etched into your memory.",costAP:1,changes:{sanity:-30,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}};let o;return n.player.inventory.includes("ritual_dagger")?o=.8:n.player.inventory.includes("iron_dagger")?o=.65:n.player.inventory.includes("scalpel")?o=.55:o=.45,Math.random()<o?{text:"You swing your weapon; steel meets something unnameable. The creature shrieks with a voice that is not human, retreating into darkness like smoke. You survived, but the horror is carved into your memory, a wound that will never heal.",costAP:1,changes:{sanity:-15,gnosis:1},addItems:["strange_fungus"],setFlags:{sewer_monster_encounter:!1}}:{text:"You fight desperately, but the creature is too strong. Its power washes over you like a tide, and you fall, consciousness drifting in darkness. You wake at the sewer entrance, covered in wounds, as though you had lived through a nightmare. But the wounds are real, the pain reminds youit was not a dream.",costAP:1,changes:{sanity:-25,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}}}},{id:"search_relics",label:"Seek Relics",description:"Grope through the sludge for the relics of rumor.",reqItems:["brass_lantern"],reqItemsNot:["alien_idol"],result:()=>Math.random()<.15?{text:"Your fingertips brush a green-glowing idol, far heavier than expected.",costAP:1,addItems:["alien_idol"],changes:{sanity:-15}}:{text:"Only shattered bones roll through the mud.",costAP:1,changes:{sanity:-8}}},{id:"explore_deep",label:"Search for Altar Gate",description:"Follow unknown tunnels toward the ascension site. When sanity is too low, you can perceive its presence more clearly.",reqStats:{},result:n=>{const c=n.player.stats.sanity>0;return!n.player.inventory.includes("ritual_dagger")&&Math.random()>.5?{text:"You root around in the mire and find a cold obsidian dagger.",costAP:1,changes:{sanity:-10},addItems:["ritual_dagger"]}:c?{text:"You wander the maze of pipes while darkness drags at your thoughts. Your sanity remains clear; you cannot truly see the path to ascension.",costAP:1,changes:{sanity:-15}}:{text:"The boundaries of sanity have shattered; you see passages that should not exist. The altar whispers in the darkness, guiding you toward it.",costAP:1,changes:{sanity:-5}}}},{id:"approach_altar",label:"Approach the Radiant Gate",description:"The altar murmurs for you.",reqItems:["ritual_dagger"],result:{text:"You cleave the blocking vines and a vaulted chamber fills with milky light ahead.",costAP:1,teleport:"altar"}}]}},cp={asylum:{id:"asylum",name:"9",description:"",actions:[{id:"leave_asylum",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"visit_madman",label:'"" 103',description:"",reqStats:{funds:2},result:n=>{const c=`visited_madman_day_${n.world.day}`;if(n.player.flags[c])return{text:'"103"',costAP:0};const o=2;return{text:"103",costAP:1,changes:{sanity:-8,gnosis:2,funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(o*1.5):o)},setFlags:{[c]:!0}}}},{id:"steal_coat",label:"",description:"",reqItemsNot:["doctor_coat"],result:n=>{const c=n.player.inventory.includes("officer_badge"),o=c?5:0;return Math.random()<.3?{text:c?"":"",costAP:1,changes:{suspicion:15-o,sanity:c?0:-5}}:{text:c?"":"",costAP:1,addItems:["doctor_coat"],changes:{suspicion:5-o}}}},{id:"enter_archives",label:"",description:"",reqItems:["doctor_coat"],result:n=>{const c=n.player.stats.suspicion,o=n.player.inventory.includes("officer_badge");let d=0;if(c>=85?d=.7:c>=70?d=.5:c>=50?d=.3:c>=30&&(d=.1),o&&(d*=.5),Math.random()<d){const y=c>=85?20:c>=70?15:10;return{text:o?'"..."':'""',costAP:1,changes:{suspicion:y},teleport:"street"}}else return{text:o?'""':"",costAP:0,teleport:"asylum_archives"}}},{id:"shock_therapy",label:"",description:"",reqStats:{funds:30},result:{text:"",costAP:2,changes:{funds:-30,sanity:60,gnosis:-5}}}]},asylum_archives:{id:"asylum_archives",name:"",description:"",actions:[{id:"leave_archives",label:"",result:{text:"",costAP:0,teleport:"asylum"}},{id:"read_files",label:"",description:"",result:{text:"",costAP:1,changes:{gnosis:3,sanity:-12}}},{id:"steal_file",label:"",description:'"0"',reqItemsNot:["classified_file"],result:n=>{const c=n.player.inventory.includes("officer_badge");return{text:c?"":"",costAP:1,addItems:["classified_file"],changes:{suspicion:c?5:15}}}}]},ministry:{id:"ministry",name:"",description:n=>n.player.inventory.includes("officer_badge")?"":"",actions:[{id:"leave_ministry",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"bribe_officer",label:" ($15)",description:"",reqStats:{funds:15},result:n=>({text:'""',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(15*1.5):15),suspicion:-20}})},{id:"report_citizen_pro",label:"",description:"",reqStats:{suspicion:10},result:n=>{const c=`used_report_citizen_day_${n.world.day}`;return n.player.flags[c]?{text:'""',costAP:0}:{text:"",costAP:1,changes:{suspicion:-15,sanity:-10},setFlags:{[c]:!0}}}},{id:"storm_ministry",label:"",description:" (: 3, 2, $100)",reqStats:{funds:100},reqItems:[],result:n=>{const c=n.player.followers.filter(m=>{const y=n.player.followerStates?.[m];return y&&y.loyalty>=100&&y.status==="healthy"}),d=["ritual_dagger","iron_dagger","scalpel"].filter(m=>n.player.inventory.includes(m)).length;return c.length<3?{text:"3",costAP:0}:d<2?{text:"2",costAP:0}:{text:"",costAP:3,changes:{funds:-100},setFlags:{victory_achieved:!0,revolution_ending:!0}}}},{id:"steal_badge",label:"",description:"",reqItemsNot:["officer_badge"],requiresConfirmation:!0,confirmationMessage:` 

 20% +10
 30% +20
 50% 100

`,result:()=>{const n=Math.random();return n<.2?{text:"",costAP:1,addItems:["officer_badge"],changes:{suspicion:10}}:n<.5?{text:"",costAP:1,changes:{suspicion:20}}:{text:'""',costAP:1,changes:{suspicion:100}}}},{id:"access_database",label:"",description:"5",reqItems:["officer_badge"],reqItemsNot:["purge_list"],reqFlagsNot:["purge_list_accessed"],result:n=>{const o=`purge_list_cooldown_until_${n.world.day+5}`;return{text:"",costAP:1,addItems:["purge_list"],setFlags:{purge_list_accessed:!0,[o]:!0},changes:{suspicion:5}}}},{id:"use_badge_clear",label:"",description:"",reqItems:["officer_badge"],reqStats:{suspicion:5},result:n=>({text:'""',costAP:1,changes:{suspicion:-Math.min(30,n.player.stats.suspicion)}})},{id:"use_badge_info",label:"",description:"",reqItems:["officer_badge"],result:n=>{const c=`used_badge_info_day_${n.world.day}`;return n.player.flags[c]?{text:'""',costAP:0}:{text:"",costAP:1,changes:{gnosis:5,sanity:-5},setFlags:{[c]:!0}}}}]}},up={asylum:{id:"asylum",name:"District 9 Asylum",description:"Eyes glow behind barbed windows; this is where they cage those who know too much.",actions:[{id:"leave_asylum",label:"Leave",result:{text:"You hurry away from the white walls, convinced someone still watches your back.",costAP:0,teleport:"street"}},{id:"visit_madman",label:"Visit Patient 103",description:"Hear him describe the voices inside the walls. Can only visit once per day.",reqStats:{funds:2},result:n=>{const c=`visited_madman_day_${n.world.day}`;if(n.player.flags[c])return{text:'The orderly stops you. "Patient 103 has already had a visitor today. Come back tomorrow."',costAP:0};const o=2;return{text:"You bribe the orderly to gain access to the ward. Patient 103's account sounds so much like scripture that you jot down several passages. These words echo in your mind, bringing revelation but consuming your sanity.",costAP:1,changes:{sanity:-8,gnosis:2,funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(o*1.5):o)},setFlags:{[c]:!0}}}},{id:"steal_coat",label:"Steal Lab Coat",description:"Try to pass for a doctor.",reqItemsNot:["doctor_coat"],result:n=>{const c=n.player.inventory.includes("officer_badge"),o=c?5:0;return Math.random()<.3?{text:c?"You flash your badge; the orderlies immediately step back, not daring to stop you.":"Alarms erupt and orderlies drag you out.",costAP:1,changes:{suspicion:15-o,sanity:c?0:-5}}:{text:c?"You flash your badge; no one dares question your identity.":"You slip into the coat, keep your head low, and no one questions you.",costAP:1,addItems:["doctor_coat"],changes:{suspicion:5-o}}}},{id:"enter_archives",label:"Enter Archives",description:"Only credentialed staff may descend. High suspicion may be detected.",reqItems:["doctor_coat"],result:n=>{const c=n.player.stats.suspicion,o=n.player.inventory.includes("officer_badge");let d=0;if(c>=85?d=.7:c>=70?d=.5:c>=50?d=.3:c>=30&&(d=.1),o&&(d*=.5),Math.random()<d){const y=c>=85?20:c>=70?15:10;return{text:o?`The guard examines your badge carefully, eyes growing wary. "Your file... something's off. Come with me."`:`The guard stares at your face for a few seconds, then his expression changes. "Wait, I know you! You're the wanted one!"`,costAP:1,changes:{suspicion:y},teleport:"street"}}else return{text:o?'You flash your badge; the guard immediately steps aside. "Right this way, sir."':"You nod at the guard; he assumes you belong here.",costAP:0,teleport:"asylum_archives"}}},{id:"shock_therapy",label:"Undergo Shock Therapy",description:"Use electricity to erase the noise.",reqStats:{funds:30},result:{text:"Current tears through your temples; memories smear and fear is plucked out like a splinter.",costAP:2,changes:{funds:-30,sanity:60,gnosis:-5}}}]},asylum_archives:{id:"asylum_archives",name:"Basement Archives",description:"Iron cabinets brim with yellowed files documenting every mind the old gods shredded.",actions:[{id:"leave_archives",label:"Return to Hall",result:{text:"You slide the files back and climb the stairs to the ground floor.",costAP:0,teleport:"asylum"}},{id:"read_files",label:"Read Classified Reports",description:"Study the histories that were erased.",result:{text:"You read accounts of the Inverted City; handwriting from a century ago matches todays sightings.",costAP:1,changes:{gnosis:3,sanity:-12}}},{id:"steal_file",label:"Steal the Dossier",description:"Swipe the folder on Patient Zero.",reqItemsNot:["classified_file"],result:n=>{const c=n.player.inventory.includes("officer_badge");return{text:c?"You flash your badge; the archivist dares not question you, and you calmly take the dossier.":"You tuck the file inside your coat; the paper crackles against your chest.",costAP:1,addItems:["classified_file"],changes:{suspicion:c?5:15}}}}]},ministry:{id:"ministry",name:"Ministry Grand Hall",description:n=>n.player.inventory.includes("officer_badge")?"Guards salute you as though you and the building share a spine.":"A colossal statue looms in the rotunda, and printer rattles meld with interrogation screams into a single oppressive drone.",actions:[{id:"leave_ministry",label:"Exit Hall",result:{text:"You stride through the revolving doors, surveillance lights still sweeping your spine.",costAP:0,teleport:"street"}},{id:"bribe_officer",label:"Bribe Clerk ($15)",description:"Pay to erase the record.",reqStats:{funds:15},result:n=>({text:'"Archives glitch sometimes," he mutters while pocketing the envelope and deleting your entry.',costAP:1,changes:{funds:-(n.player.flags.price_inflation&&n.origin!=="fallen_noble"?Math.floor(15*1.5):15),suspicion:-20}})},{id:"report_citizen_pro",label:"Report a Dissident",description:"Offer up an innocent to wash yourself clean (once per day).",reqStats:{suspicion:10},result:n=>{const c=`used_report_citizen_day_${n.world.day}`;return n.player.flags[c]?{text:`The archivist shakes his head. "Today's report has already been submitted. Come back tomorrow."`,costAP:0}:{text:"You point at a stranger in the crowd; guards seize him without a word.",costAP:1,changes:{suspicion:-15,sanity:-10},setFlags:{[c]:!0}}}},{id:"storm_ministry",label:"Storm the Ministry",description:"Rally your cult, overthrow this bastion of oppression with weapons and will (requires: 3 followers at max loyalty, at least 2 weapons, $100).",reqStats:{funds:100},reqItems:[],result:n=>{const c=n.player.followers.filter(m=>{const y=n.player.followerStates?.[m];return y&&y.loyalty>=100&&y.status==="healthy"}),d=["ritual_dagger","iron_dagger","scalpel"].filter(m=>n.player.inventory.includes(m)).length;return c.length<3?{text:"You need at least 3 followers at max loyalty to launch this revolution.",costAP:0}:d<2?{text:"You need at least 2 weapons to storm the Ministry.",costAP:0}:{text:"Your cult charges into the hall, weapons flashing under the lights. Ministry guards fall, files burn in flames. You stand upon the ruins, a new order rising from the ashes.",costAP:3,changes:{funds:-100},setFlags:{victory_achieved:!0,revolution_ending:!0}}}},{id:"steal_badge",label:"Steal Officer Badge",description:"Extremely risky.",reqItemsNot:["officer_badge"],requiresConfirmation:!0,confirmationMessage:` EXTREME DANGER WARNING: Stealing a Ministry officer badge is an extremely dangerous action.

 20% chance of success: Gain badge, but suspicion +10
 30% chance of failure but undetected: Suspicion +20
 50% chance of being caught: Suspicion immediately reaches 100, game ends immediately!

This is an extremely high-risk action that may directly cause game failure. Are you sure you want to continue?`,result:()=>{const n=Math.random();return n<.2?{text:"You lift the badge while he naps, slipping it up your sleeve.",costAP:1,addItems:["officer_badge"],changes:{suspicion:10}}:n<.5?{text:"The officer shifts; you pretend to ask for directions while your heart hammers.",costAP:1,changes:{suspicion:20}}:{text:'"Guards!" he roars, pinning you to the floor.',costAP:1,changes:{suspicion:100}}}},{id:"access_database",label:"Access Database",description:"Pull the purge roster (5-day cooldown).",reqItems:["officer_badge"],reqItemsNot:["purge_list"],reqFlagsNot:["purge_list_accessed"],result:n=>{const o=`purge_list_cooldown_until_${n.world.day+5}`;return{text:"You swipe the badge across the terminal; the printer spits out an entire roll of names. The system logs your access.",costAP:1,addItems:["purge_list"],setFlags:{purge_list_accessed:!0,[o]:!0},changes:{suspicion:5}}}},{id:"use_badge_clear",label:"Use Badge to Clear Records",description:"Leverage your official status to reduce suspicion.",reqItems:["officer_badge"],reqStats:{suspicion:5},result:n=>({text:'You show your badge to the archivist; he immediately marks your file as "reviewed" in the system. Suspicion vanishes like eraser marks.',costAP:1,changes:{suspicion:-Math.min(30,n.player.stats.suspicion)}})},{id:"use_badge_info",label:"Access Internal Intelligence",description:"Use your badge to obtain secret information (once per day).",reqItems:["officer_badge"],result:n=>{const c=`used_badge_info_day_${n.world.day}`;return n.player.flags[c]?{text:`The archivist shakes his head. "Today's intelligence has already been accessed. Come back tomorrow."`,costAP:0}:{text:"You browse internal briefings and learn some hidden truths.",costAP:1,changes:{gnosis:5,sanity:-5},setFlags:{[c]:!0}}}}]}},dp={pale_city:{id:"pale_city",name:"",description:()=>"",actions:[{id:"wake_up",label:"",description:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"visit_lake",label:"",description:"",reqFlags:["known_lake"],result:{text:"",costAP:0,teleport:"lake_hali"}},{id:"wander_dream",label:"",description:"",reqItemsNot:["forbidden_name"],result:()=>{const n=Math.random();return n<.4?{text:"",costAP:1,changes:{sanity:-15}}:n<.7?{text:"",costAP:1,changes:{sanity:-10,gnosis:2}}:{text:"",costAP:1,teleport:"dream_library"}}}]},lake_hali:{id:"lake_hali",name:"",description:"",actions:[{id:"leave_lake",label:"",result:{text:"",costAP:0,teleport:"pale_city"}},{id:"gaze_reflection",label:"",description:"",result:{text:"",costAP:1,changes:{sanity:-10,gnosis:3}}},{id:"fish_dreams",label:"",description:"",result:n=>{const c=Math.random();return c<.3&&!n.player.inventory.includes("golden_mask")?{text:"",costAP:1,addItems:["golden_mask"],changes:{sanity:-15}}:c<.6?{text:"",costAP:1,addItems:["void_salt"],changes:{sanity:-10}}:{text:"",costAP:1,changes:{sanity:-15}}}},{id:"consume_salt",label:"",description:"",reqItems:["void_salt"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-5},removeItems:["void_salt"]}},{id:"offer_coin_to_lake",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:8,sanity:10}}}]},dream_library:{id:"dream_library",name:"",description:"",actions:[{id:"leave_library",label:"",result:{text:"",costAP:0,teleport:"pale_city"}},{id:"find_true_name",label:'""',description:"",reqStats:{gnosis:20},reqItemsNot:["forbidden_name"],result:{text:"",costAP:1,changes:{sanity:-40},addItems:["forbidden_name"]}}]}},fp={pale_city:{id:"pale_city",name:"The Pale City",description:()=>"The sky congeals into a gray vortex and towers hang upside down overhead. Here, sanity is the only visa.",actions:[{id:"wake_up",label:"Force Wakefulness",description:"Sever the dream and return to reality.",result:{text:"You jolt upright, cold sweat trailing down your spine.",costAP:0,teleport:"apartment"}},{id:"visit_lake",label:"Walk to the Black Lake",description:"The still water at the edge of the city.",reqFlags:["known_lake"],result:{text:"You step into the water and your perspective flips.",costAP:0,teleport:"lake_hali"}},{id:"wander_dream",label:"Wander the Grey Fields",description:"Hunt for clues in the dead landscape.",reqItemsNot:["forbidden_name"],result:()=>{const n=Math.random();return n<.4?{text:"You see deceased relatives waiting on the far bank, faces veiled in white mist.",costAP:1,changes:{sanity:-15}}:n<.7?{text:"You pick up shards of memories that never existed in reality; they glow in your palm.",costAP:1,changes:{sanity:-10,gnosis:2}}:{text:"You arrive at the entrance to the Inverted Library, book spines hanging upside down.",costAP:1,teleport:"dream_library"}}}]},lake_hali:{id:"lake_hali",name:"Lake Hali",description:"The deepest dream lake is black and still as glass, with two moons hanging overheadbeautiful enough to hurt.",actions:[{id:"leave_lake",label:"Swim Back to Shore",result:{text:"You fight the frigid waves and return to the Pale City.",costAP:0,teleport:"pale_city"}},{id:"gaze_reflection",label:"Gaze at the Surface",description:"Stare into the mirror of your subconscious.",result:{text:"Your reflection speaks in a calm voice and reveals truths you refuse to face.",costAP:1,changes:{sanity:-10,gnosis:3}}},{id:"fish_dreams",label:"Dredge Sunken Things",description:"Search the lakebed for lost artifacts.",result:n=>{const c=Math.random();return c<.3&&!n.player.inventory.includes("golden_mask")?{text:"You haul up a golden mask, still rimed with the lakes chill.",costAP:1,addItems:["golden_mask"],changes:{sanity:-15}}:c<.6?{text:"A handful of glowing salt crystals appears in your palm.",costAP:1,addItems:["void_salt"],changes:{sanity:-10}}:{text:"You surface with nothing but a piercing cold.",costAP:1,changes:{sanity:-15}}}},{id:"consume_salt",label:"Inhale Void Salt",description:"Ingest compressed knowledge directly.",reqItems:["void_salt"],result:{text:"Lightning sears across your brain and you glimpse the skeleton of reality.",costAP:1,changes:{gnosis:5,sanity:-5},removeItems:["void_salt"]}},{id:"offer_coin_to_lake",label:"Offer Alchemy Coin to the Lake",description:"Trade the mysterious coin with the power at the depths of dreams.",reqItems:["alchemy_coin"],result:{text:"The alchemy coin sinks into the lake, and otherworldly light spreads through the water. Ripples form on the surface, and you feel the power of dreams flow into your consciousness.",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:8,sanity:10}}}]},dream_library:{id:"dream_library",name:"The Inverted Library",description:"Books hang from the vault like stalactites dripping ink; every destroyed history is archived here.",actions:[{id:"leave_library",label:"Depart",result:{text:"You descend the inverted stair of books and return to the Pale Citys edge.",costAP:0,teleport:"pale_city"}},{id:"find_true_name",label:"Seek the Old Name",description:"The missing syllable of the ascension ritual.",reqStats:{gnosis:20},reqItemsNot:["forbidden_name"],result:{text:"You lift a tome bound in skin; when you recite the name, reality shudders like cloth. You remember it now.",costAP:1,changes:{sanity:-40},addItems:["forbidden_name"]}}]}},mp={cathedral:{id:"cathedral",name:"",description:"",actions:[{id:"leave_cathedral",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"confess_sins",label:"",description:" (, )",reqStats:{gnosis:2},result:{text:"",costAP:1,changes:{suspicion:-25,gnosis:-2,sanity:5}}},{id:"offer_alchemy_coin",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{suspicion:-40,sanity:20,gnosis:3}}},{id:"scavenge_crypt",label:"",description:"",result:()=>Math.random()<.3?{text:"",costAP:1,addItems:["ancient_coin"],changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-10}}}]},altar:{id:"altar",name:"",description:n=>{let c="";return n.player.flags.lover_madeline&&(c+=" "),c},actions:[{id:"flee_altar",label:"",description:"",result:{text:"",costAP:0,teleport:"sewers",changes:{sanity:-20}}},{id:"perform_ritual",label:"",description:"",reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:60},result:n=>n.player.stats.sanity>0?{text:"",costAP:0}:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_lover",label:"",description:"",reqFlags:["lover_madeline"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:30},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_follower",label:"",description:'""',reqFollowers:["beggar_follower"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:50},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"ascend_with_mask",label:"",description:"",reqItems:["ritual_mask","forbidden_name"],reqStats:{gnosis:30},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}}]}},hp={cathedral:{id:"cathedral",name:"Abandoned Cathedral",description:"The altar has collapsed; only dust and echoes remain.",actions:[{id:"leave_cathedral",label:"Leave",result:{text:"You step over the ruined threshold; dust coils around your ankles.",costAP:0,teleport:"street"}},{id:"confess_sins",label:"Confess",description:"Spend gnosis to trade secrets for calm (reduces suspicion).",reqStats:{gnosis:2},result:{text:"You whisper your crimes and the echo answers in your stead.",costAP:1,changes:{suspicion:-25,gnosis:-2,sanity:5}}},{id:"offer_alchemy_coin",label:"Offer Alchemy Coin",description:"Place the mysterious coin on the altar for a more powerful purification effect.",reqItems:["alchemy_coin"],result:{text:"The alchemy coin glows with otherworldly light on the altar, and the light spreads, washing away suspicion and corruption from you. You feel an unprecedented lightness.",costAP:1,removeItems:["alchemy_coin"],changes:{suspicion:-40,sanity:20,gnosis:3}}},{id:"scavenge_crypt",label:"Explore the Crypt",description:"Rifle coffins in search of offerings.",result:()=>Math.random()<.3?{text:"Your fingers close around an ancient coin wedged between stones.",costAP:1,addItems:["ancient_coin"],changes:{sanity:-15}}:{text:"Only empty tombs and cold air answer you.",costAP:1,changes:{sanity:-10}}}]},altar:{id:"altar",name:"Ascension Altar",description:n=>{let c="You stand on the edge of reality. Physics has fled, leaving only pulsing light and impossible geometry. A vast inverted pyramid hovers above, waiting for the final offering.";return n.player.flags.lover_madeline&&(c+=" Madeline grips your hand; her tremor runs straight into your chest."),c},actions:[{id:"flee_altar",label:"Flee the Altar",description:"The pressure crushes your lungs; you are not ready for the truth.",result:{text:"You scream, spin, and crawl back into the sewer shadows. That colossal terror will forever mock your cowardice in dreams.",costAP:0,teleport:"sewers",changes:{sanity:-20}}},{id:"perform_ritual",label:"Offer Yourself",description:"Recite the True Name and pierce your heart. Flesh is the cage; death is the key. Only at the edge of breakdown can you see the path to ascension.",reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:60},result:n=>n.player.stats.sanity>0?{text:"Your sanity remains clear; you cannot truly understand the meaning of death. Only when you stand at the edge of breakdown can you see the path to ascension.",costAP:0}:{text:"When the obsidian enters your heart there is no pain, only release. Your flesh peels away and your mind becomes a pale beam that tunnels through the strata, devouring the rotten city. You are finally part of eternity.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_lover",label:"Sacrifice Madeline",description:"She is your dearest bond. Only by severing it can you ascend unburdened.",reqFlags:["lover_madeline"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:30},result:{text:"She watches you with trust until the cold blade slips into her chest. Her light fades, replaced by the altars hungry crimson glow. You gain ultimate power, but your humanity dies in that instant. You ascendalone and composed.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_follower",label:"Sacrifice Gregory",description:'The "Prophet" longs to servegrant him the honor.',reqFollowers:["beggar_follower"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:50},result:{text:"You shove the raving beggar onto the altar. Invisible forces tear him apart amid laughter, and blood-rain opens the gate. You tread on his remains as you step into divinity.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"ascend_with_mask",label:"Ascend Through Mask",description:"Wear the ritual mask and let alchemy's masterpiece guide you through reality's threshold. The alchemist's exclusive path.",reqItems:["ritual_mask","forbidden_name"],reqStats:{gnosis:30},result:{text:"You don the twisted mask and speak the Old Name. The mask fuses with your flesh, alchemical flames burning within you. You need no sacrifice, for alchemy has already transformed you. You pass through reality's threshold, becoming alchemy's ultimate creationa being beyond life and death.",costAP:1,setFlags:{victory_achieved:!0}}}]}},yp={...ep,...np,...rp,...cp,...dp,...mp},pp={...tp,...ip,...op,...up,...fp,...hp},Ce=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(36).substring(2,15)}-${Math.random().toString(36).substring(2,15)}`},pm=(n,c,o,d)=>{let m;c==="fallen_noble"?m={id:"earn_money",title:n==="zh"?"":"Earn Funds",description:n==="zh"?"50":"Earn at least 50 coins through work or trading to ensure enough funds for various situations",type:"short",completed:o>=50,progress:o,maxProgress:50}:c==="doctor"?m={id:"work_clinic_first_time",title:n==="zh"?"":"Go to Work at Clinic",description:n==="zh"?"":"Go to the Back-Alley Clinic for your first day of work",type:"short",completed:!1}:m={id:"earn_money",title:n==="zh"?"":"Earn Funds",description:n==="zh"?"15":"Earn at least 15 coins through work or trading to cover living expenses",type:"short",completed:o>=15,progress:o,maxProgress:15};const y=pe.sanityThresholds.warning,x={id:"maintain_sanity",title:n==="zh"?"":"Maintain Sanity",description:n==="zh"?c==="doctor"?`${y}`:`${y}`:c==="doctor"?`Keep your sanity above ${y} to avoid breakdown (doctors start with lower sanity, be careful)`:`Keep your sanity above ${y} to avoid breakdown`,type:"short",completed:d>=y};return[{id:"explore_street",title:n==="zh"?"":"Explore the Street",description:n==="zh"?"":"Step outside and explore the street for resources and opportunities",type:"short",completed:!1},m,x,{id:"recruit_follower",title:n==="zh"?"":"Recruit a Follower",description:n==="zh"?"":"Recruit your first follower from the street or market",type:"long",completed:!1},{id:"discover_secret",title:n==="zh"?"":"Discover Secrets",description:n==="zh"?"":"Explore the city to discover hidden truths and secrets",type:"long",completed:!1}]},tn=(n,c)=>{const o={player:{stats:{sanity:100,funds:10,suspicion:0,gnosis:0},inventory:[],followers:[],flags:{}},world:{day:1,timeSegment:0,maxActionPoints:4,currentActionPoints:4,currentLocationId:"apartment"},logs:[],status:"playing",origin:n,tutorialCompleted:!1},d=ap(n),m=lp(n),y=sp(n),x=pe.livingCost.earlyGameCost,k=pe.livingCost.normalCost,T=pe.livingCost.earlyGameDays;switch(n){case"fallen_noble":o.player.stats={sanity:m,funds:d,suspicion:y,gnosis:0},o.player.inventory=["old_ring"],o.player.flags={noble_heritage:!0},o.logs=[{id:Ce(),text:c==="zh"?`404

${T}${x}${k}`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. The heirloom ring on the table glimmers in the dim lightthe last relic of your family. The Ministry's eyes never left your family, and now they watch you too.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. First, try stepping outside to explore the street and look for work and resources. Remember: you need to pay ${x} coin daily for living expenses in the first ${T} days, then ${k} coins daily afterwards, so make sure you have enough funds.`,type:"narrative",timestamp:1}];break;case"doctor":o.player.stats={sanity:m,funds:d,suspicion:y,gnosis:0},o.player.inventory=["morphine","scalpel"],o.player.flags={medical_training:!0};const v=pe.clinicWork.costAP,D=pe.clinicWork.costSanity,U=pe.clinicWork.rewardFunds,G=pe.clinicWork.maxMissedDays;o.logs=[{id:Ce(),text:c==="zh"?`404

${v}${D}${U}${G}${T}${x}${k}`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. The morphine bottle in your medical bag reflects dim light on the nightstand. You have seen too much death, too many inexplicable wounds. The boundaries of sanity have long blurred, but you know some truths must be uncovered.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. As a doctor, you can find steady work at the Back-Alley Clinic: each shift costs ${v} action points and ${D} sanity, but earns ${U} coins. Remember: missing work for ${G} consecutive days will get you fired. You need to pay ${x} coin daily for living expenses in the first ${T} days, then ${k} coins daily afterwards, so make sure you have enough funds. Your medical training makes medical items more effective.`,type:"narrative",timestamp:1}];break;case"vagrant":o.player.stats={sanity:m,funds:d,suspicion:y,gnosis:0},o.player.inventory=[],o.player.flags={street_wise:!0,resistant:!0},o.logs=[{id:Ce(),text:c==="zh"?`404

${T}${x}${k}`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. This apartment isn't yours, but you found the key. Years on the streets have accustomed you to reality's cruelty. The whispers and shadows are just another world you must survive.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. First, try stepping outside to explore the street and look for work and resources. Remember: you need to pay ${x} coin daily for living expenses in the first ${T} days, then ${k} coins daily afterwards, so make sure you have enough funds. Your street wisdom gives you greater resistance to anomalous phenomena.`,type:"narrative",timestamp:1}];break}return o.goals=pm(c,n,d,m),o},aa="pale_threshold_save_v1",Ka="pale_threshold_backup_v1",gm="pale_threshold_mode",bm=(n,c)=>{if(n.player.followers||(n.player.followers=[]),n.player.stats.gnosis===void 0&&(n.player.stats.gnosis=0),!n.goals){const o=n.origin||"fallen_noble",d=n.player.stats.funds||10,m=n.player.stats.sanity||100;n.goals=pm(c,o,d,m)}return n.tutorialCompleted===void 0&&(n.tutorialCompleted=!1),n},gp=(n,c)=>{n.status==="playing"?localStorage.setItem(aa,JSON.stringify(n)):(n.status==="defeat"||n.status==="victory")&&(c==="hardcore"?(localStorage.removeItem(aa),localStorage.removeItem(Ka)):localStorage.removeItem(aa))},im=n=>{try{const c=localStorage.getItem(aa);if(c){const o=JSON.parse(c);return bm(o,n)}}catch(c){console.error("Failed to load game:",c)}return null},bp=()=>localStorage.getItem(aa)!==null,_p=n=>{localStorage.setItem(gm,n)},vp=()=>{const n=localStorage.getItem(gm);return n==="hardcore"||n==="normal"?n:"normal"},Fo=n=>{try{const c=localStorage.getItem(Ka);if(c){const o=JSON.parse(c);return bm(o,n)}}catch(c){console.error("Failed to load backup:",c)}return null},xp=(n,c)=>{const{player:o}=c;if(n.reqFlags&&!n.reqFlags.every(m=>o.flags[m])||n.reqItems&&!n.reqItems.every(m=>o.inventory.includes(m)))return!1;const d=o.followers||[];if(n.reqFollowers&&!n.reqFollowers.every(m=>d.includes(m)))return!1;if(n.reqStats){if(n.id.includes("buy")&&n.reqStats.funds&&typeof n.result=="function")try{const y=n.result(c);if(y.changes?.funds){const x=Math.abs(y.changes.funds);if(o.stats.funds<x)return!1}else if(o.stats.funds<n.reqStats.funds)return!1}catch{if(o.stats.funds<n.reqStats.funds)return!1}else for(const[y,x]of Object.entries(n.reqStats))if(o.stats[y]<x)return!1}if(n.reqFlagsNot&&n.reqFlagsNot.some(m=>o.flags[m])||n.reqItemsNot&&n.reqItemsNot.some(m=>o.inventory.includes(m))||n.reqFollowersNot&&n.reqFollowersNot.some(m=>d.includes(m)))return!1;if(n.id==="access_database"){const m=Object.keys(o.flags).filter(y=>y.startsWith("purge_list_cooldown_until_"));if(m.length>0&&m.filter(x=>{const k=parseInt(x.replace("purge_list_cooldown_until_",""));return c.world.day<k}).length>0)return!1}if(n.id==="complete_follower_task"||n.id==="reject_follower_task"){if(!!!o.flags.target_follower_id)return!1;const y=o.flags.target_follower_id;if(y&&d.includes(y)){const x=o.followerStates?.[y];if(x&&x.task&&x.status==="healthy")return!0}return!1}if(n.id==="talk_to_follower"){if(!!!o.flags.target_follower_id)return!1;const y=o.flags.target_follower_id;if(y&&d.includes(y)){const x=`talked_to_${y}_day_${c.world.day}`;return!o.flags[x]}return!1}if(n.id==="heal_follower"){if(!!!o.flags.target_follower_id)return!1;const y=o.flags.target_follower_id;if(y&&d.includes(y)){const x=o.followerStates?.[y];return!(y==="nurse_follower"&&o.flags.madeline_sick||!x||x.status!=="injured"||!(o.inventory.includes("morphine")||o.inventory.includes("purified_serum")))}return!1}return!(n.id==="calm_insane_follower"&&!d.some(y=>{const x=o.followerStates?.[y];return x&&x.status==="insane"}))},_m={zh:{title:"",day:" {{day}} ",stats:{sanity:"",funds:"",suspicion:"",gnosis:"",ap:""},restartRun:"",restartConfirm:"",gameMode:"",hardcoreMode:"",normalMode:"",hardcoreDesc:"",normalDesc:"",startGame:"",newGame:"",loadGame:"",returnToPreviousDay:"",returnToPreviousDayDesc:"",noBackup:"",selectMode:"",selectOrigin:"",hasSave:"",noSave:"",origins:{fallen_noble:{name:"",desc:"",stats:" 40 |  20 |  80",passive:""},doctor:{name:"",desc:"",stats:" 15 |  5 |  65 | ",passive:"+50%"},vagrant:{name:"",desc:"",stats:" 10 |  0 |  90 | ",passive:""}},inventory:"",emptyInventory:"...",cult:"",lonely:"...",loyalty:"",followerStatus:{healthy:"",injured:"",insane:"",betrayed:""},followerTask:"",journal:"",latestEvents:"",initGame:"404",statChange:{sanity:"",funds:"",suspicion:"",gnosis:""},actions:{free:"",endDay:"",costAP:"{{val}} "},gameOver:{victory:"",defeat:"",daysSurvived:"",finalSanity:"",finalGnosis:"",restart:""}},en:{title:"PALE THRESHOLD",day:"DAY {{day}}",stats:{sanity:"SANITY",funds:"FUNDS",suspicion:"SUSPICION",gnosis:"GNOSIS",ap:"ACTION POINTS"},restartRun:"Abandon Run",restartConfirm:"Abandon this run and restart?",gameMode:"Game Mode",hardcoreMode:"Hardcore",normalMode:"Normal",hardcoreDesc:"Save deleted on death",normalDesc:"Can load previous day",startGame:"Start Game",newGame:"New Game",loadGame:"Load Game",returnToPreviousDay:"Return to Previous Day",returnToPreviousDayDesc:"Return to the previous day's state (Normal mode only)",noBackup:"No backup save available",selectMode:"Select Game Mode",selectOrigin:"Select Origin",hasSave:"Save detected",noSave:"No save",origins:{fallen_noble:{name:"Fallen Noble",desc:"You were once part of high society, but your family has fallen. You have funds and heirlooms, but the Ministry has long watched your family.",stats:"Funds 40 | Suspicion 20 | Sanity 80",passive:"Passive: Immune to price inflation"},doctor:{name:"Doctor",desc:"You are a doctor who has seen too much death and suffering. You have medical supplies, but your sanity is severely eroded.",stats:"Funds 15 | Suspicion 5 | Sanity 65 | Items: Morphine, Scalpel",passive:"Passive: Medical items +50% effect"},vagrant:{name:"Vagrant",desc:"You have wandered the streets for years, long accustomed to hardship. You have nothing, but possess strong resistance and clear awareness of reality.",stats:"Funds 10 | Suspicion 0 | Sanity 90 | High Resistance",passive:"Passive: High sanity start, strong resistance"}},inventory:"INVENTORY",emptyInventory:"Empty...",cult:"THE CULT",lonely:"Alone...",loyalty:"Loyalty",followerStatus:{healthy:"Healthy",injured:"Injured",insane:"Insane",betrayed:"Betrayed"},followerTask:"Request",journal:"JOURNAL",latestEvents:"LATEST EVENTS",initGame:"You wake in Apartment 404, neon slashing through the blinds like fresh wounds.",statChange:{sanity:"Sanity",funds:"Funds",suspicion:"Suspicion",gnosis:"Gnosis"},actions:{free:"FREE",endDay:"END DAY",costAP:"{{val}} AP"},gameOver:{victory:"ASCENSION",defeat:"TERMINATED",daysSurvived:"Days Survived",finalSanity:"Final Sanity",finalGnosis:"Final Gnosis",restart:"BEGIN AGAIN"}}},wp=(n,c,o)=>{if(!n.goals)return;const{player:d}=n;if(c==="explore_street"){const x=n.goals.find(k=>k.id==="explore_street");x&&!x.completed&&(x.completed=!0)}if(c==="earn_money"&&o?.funds){const x=n.goals.find(k=>k.id==="earn_money");x&&x.progress!==void 0&&x.maxProgress!==void 0&&(x.progress=Math.min(x.maxProgress,(x.progress||0)+o.funds),x.progress>=x.maxProgress&&(x.completed=!0))}if(c==="work_clinic"){const x=n.goals.find(k=>k.id==="work_clinic_first_time");x&&!x.completed&&(x.completed=!0)}const m=n.goals.find(x=>x.id==="maintain_sanity");m&&(m.completed=d.stats.sanity>=50);const y=n.goals.find(x=>x.id==="recruit_follower");y&&!y.completed&&d.followers.length>0&&(y.completed=!0)},Sp=(n,c)=>{const{stats:o}=n.player;if(n.player.flags.victory_achieved){n.status="victory",n.player.flags.revolution_ending?n.ending={title:c==="zh"?"":"REVOLUTION",description:c==="zh"?"":"The Ministry hall burns beneath your feet. You stand upon the ruins, a new order rising from the ashes. Your cult will establish new rule upon this land."}:n.player.flags.escape_ending?n.ending={title:c==="zh"?"":"ESCAPE",description:c==="zh"?"":"You see unfamiliar coastlines. The city, along with its secrets and horrors, is left behind. You are free, but those memories will follow you forever."}:n.ending={title:c==="zh"?"":"PALE ASCENSION",description:c==="zh"?"":"You stepped through the gate. Your cult chants behind you as you dissolve into eternal light."};return}const d=n.player.breakdown?.active;if(o.sanity<=0&&!d){n.player.breakdown={active:!0,turnsRemaining:2};const m=c==="zh"?"[] 2":"[BREAKDOWN] The veil of reality begins to shatter. You hear whispers in the walls. You must restore your sanity within 2 turns, or face complete collapse.";n.logs.unshift({id:Ce(),text:m,type:"warning",timestamp:n.world.day});return}if(d){if(o.sanity>0){n.player.breakdown=void 0;const m=c==="zh"?"[] ":"[RECOVERED] You struggle back from the edge of breakdown. Sanity reclaims your consciousness.";n.logs.unshift({id:Ce(),text:m,type:"result",timestamp:n.world.day});return}if(o.sanity<=-10){n.status="defeat",n.ending={title:c==="zh"?"":"SANITY LOST",description:c==="zh"?"":"The veil of reality shatters. You hear whispers in the walls, and they make perfect sense."};return}}o.suspicion>=100&&(n.status="defeat",n.ending={title:c==="zh"?"":"PURGED",description:c==="zh"?"":"The midnight knock finally came. The Ministry firing squad gave you no chance to speak."})},Ap=(n,c,o,d)=>{const{player:m,world:y}=n,x=y.day,{NIGHT_EVENTS:k}=d;if(m.breakdown?.active){if(m.breakdown.turnsRemaining-=1,m.breakdown.turnsRemaining<=0){n.status="defeat",n.ending={title:c==="zh"?"":"SANITY LOST",description:c==="zh"?"":"The veil of reality shatters. You hear whispers in the walls, and they make perfect sense. You failed to recover from the edge of breakdown."};return}const v=c==="zh"?`[]  ${m.breakdown.turnsRemaining} `:`[BREAKDOWN] You have ${m.breakdown.turnsRemaining} turn${m.breakdown.turnsRemaining>1?"s":""} left to restore your sanity. You can only rest or use medicine.`;n.logs.unshift({id:Ce(),text:v,type:"warning",timestamp:y.day})}if(o==="normal"&&x>=1){const v=JSON.parse(JSON.stringify(n));localStorage.setItem(Ka,JSON.stringify(v))}y.day+=1,y.currentActionPoints=y.maxActionPoints,m.followerStates||(m.followerStates={}),m.followers.forEach(v=>{m.followerStates[v]||(m.followerStates[v]={loyalty:v==="cat_follower"?30:50,status:"healthy"})}),kp(n,c),Np(m,y);const T=ym(y.day);m.stats.funds-=T,Tp(n,c),Mp(n,c),zp(n,c),jp(n,c),qp(n,c,k)};function kp(n,c){const{player:o,world:d}=n;o.followers.forEach(m=>{const y=o.followerStates?.[m];if(!(!y||y.status!=="healthy")&&!y.task&&Math.random()<.3){const x=["money","item","help"],k=x[Math.floor(Math.random()*x.length)];let T={followerId:m,type:k,requirement:{},description:"",reward:{loyalty:10},penalty:{loyalty:-5},day:d.day};if(k==="money"){const v=[5,10,15],D=v[Math.floor(Math.random()*v.length)];T.requirement.money=D,T.description=c==="zh"?` ${D} `:`Needs ${D} coins to cover some urgent expenses.`}else if(k==="item"){const v=["bread","morphine","sedatives","cheap_spirits"],D=v[Math.floor(Math.random()*v.length)];T.requirement.item=D;const U={bread:{zh:"",en:"bread"},morphine:{zh:"",en:"morphine"},sedatives:{zh:"",en:"sedatives"},cheap_spirits:{zh:"",en:"spirits"}};T.description=c==="zh"?` ${U[D]?.zh||D}`:`Needs ${U[D]?.en||D}.`}else T.description=c==="zh"?"":"Needs your help.";y.task=T}})}function Np(n,c){Object.keys(n.flags).forEach(o=>{if(o.startsWith("purge_list_cooldown_until_")){const d=parseInt(o.replace("purge_list_cooldown_until_",""));c.day>=d&&delete n.flags[o]}}),!n.inventory.includes("purge_list")&&n.flags.purge_list_accessed&&delete n.flags.purge_list_accessed}function Tp(n,c){const{player:o,world:d}=n;if(n.origin==="doctor"&&!o.flags.clinic_fired)if(o.flags.clinic_worked_today)delete o.flags.clinic_worked_today,o.flags.clinic_missed_days=0;else{const x=(typeof o.flags.clinic_missed_days=="number"?o.flags.clinic_missed_days:0)+1;if(o.flags.clinic_missed_days=x,x>=pe.clinicWork.maxMissedDays){o.flags.clinic_fired=!0;const k=c==="zh"?`${pe.clinicWork.maxMissedDays}`:`[CLINIC NOTICE] You have missed work for ${pe.clinicWork.maxMissedDays} consecutive days. The clinic has found a replacement. You have lost your job.`;n.logs.unshift({id:Ce(),text:k,type:"warning",timestamp:d.day})}else if(x===2){const k=c==="zh"?"2":"[CLINIC WARNING] You have missed work for 2 consecutive days. If you miss one more day, you will be fired.";n.logs.unshift({id:Ce(),text:k,type:"warning",timestamp:d.day})}}}function Mp(n,c){const{player:o}=n,d=o.stats.suspicion,m=typeof o.flags.prev_suspicion=="number"?o.flags.prev_suspicion:0,y=o.inventory.includes("officer_badge"),x=y?40:30;if(d>=x&&m<x)o.flags.black_market_banned=!0;else if(d<x&&m>=x&&o.flags.black_market_banned){delete o.flags.black_market_banned;const v=c==="zh"?"":"[BLACK MARKET] The doorman's eyes are less wary. Perhaps the Ministry's gaze has shifted, and the black market is open to you again.";n.logs.unshift({id:Ce(),text:v,type:"narrative",timestamp:n.world.day})}const k=y?70:60;if(d>=k&&(m<k||m===0)){o.flags.price_inflation=!0;const v=c==="zh"?y?"":"":y?"Merchants begin to avoid your gaze, but your badge still offers some protection. Prices rise in silence, but slower.":"Merchants begin to avoid your gaze. Every coin grows heavy, as though the Ministry's palm presses down on the scales. Prices rise in silence, you helplessly.";n.logs.unshift({id:Ce(),text:v,type:"warning",timestamp:n.world.day})}const T=y?90:80;if(d>=T&&(m<T||m===0)){const v=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum"],D=[];if((!y||Math.random()<.5)&&v.forEach(G=>{o.inventory.includes(G)&&(o.inventory=o.inventory.filter(me=>me!==G),D.push(G))}),D.length>0){const G=c==="zh"?y?`${D.length} `:`${D.length} `:y?`The door crashes open while you dream. Agents flow in, but seeing your badge, they only take some items. ${D.length} items taken by the Ministry, but your badge protected you.`:`The door crashes open while you dream. Agents flow in like shadows, their hands reaching for things that should not exist. When you wake, the room holds only empty echoes. ${D.length} items taken by the Ministry, along with a portion of your secrets.`;n.logs.unshift({id:Ce(),text:G,type:"warning",timestamp:n.world.day}),o.stats.suspicion+=y?5:10}else{const G=c==="zh"?y?"":"":y?"They ransack your room, but seeing your badge, the search becomes cursory. They leave, but your secrets remain safe.":"They ransack your room like hounds sniffing the air. But the secrets are hidden, tucked away in places even you have forgotten. They leave, but their eyes remain watching.";n.logs.unshift({id:Ce(),text:G,type:"warning",timestamp:n.world.day})}}o.flags.prev_suspicion=d}function zp(n,c){const{player:o}=n,d=o.stats.suspicion,m=o.inventory.includes("officer_badge"),y=m?.05:.15;if(d>=40&&Math.random()<y){const x=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum"];if(x.some(T=>o.inventory.includes(T)))if(d>=80)n.status="defeat",n.ending={title:c==="zh"?"":"ARRESTED",description:c==="zh"?"":"The knock comes at three in the morning, rhythmic as a heartbeat. The door crashes open, agents' hands reaching under the bedwhere you kept things you should not have possessed. The interrogation room door closes behind you, like a book that can never be opened again."};else{const T=[];x.forEach(D=>{o.inventory.includes(D)&&(o.inventory=o.inventory.filter(U=>U!==D),T.push(D))}),o.stats.suspicion+=25,o.stats.sanity-=20;const v=c==="zh"?`${T.length} `:`Darkness tears under flashlight beams. They found those thingsitems that do not exist in archives, that should not exist in reality. ${T.length} items are sealed into black bags, like offerings to an altar. Your name is marked on a list somewhere, suspicion spreading like ink.`;n.logs.unshift({id:Ce(),text:v,type:"warning",timestamp:n.world.day})}else{const T=m?0:5;o.stats.suspicion+=T;const v=c==="zh"?m?"":"":m?"[NIGHT RAID] Agents knock on your door, but seeing your badge, they only perform a routine check without a thorough search.":"[NIGHT RAID] Ministry agents searched your apartment but found nothing. They leave with warning glances.";n.logs.unshift({id:Ce(),text:v,type:"warning",timestamp:n.world.day})}}}function jp(n,c){const{player:o,world:d}=n,m=`fed_day_${d.day}`,y=o.flags[m];if(o.stats.funds<0){o.stats.funds=0;const x=d.day<=3;if(y){const v=c==="zh"?"":"[STARVATION] Penniless, but you've eaten today. The emptiness in your stomach is temporarily filled, at least for this night you won't suffer from hunger.";n.logs.unshift({id:Ce(),text:v,type:"narrative",timestamp:d.day});return}const k=["bread","rat_meat","fresh_fish","nutritious_meal","fermented_bread"];if(k.some(v=>o.inventory.includes(v))){let v=null;for(const me of k)if(o.inventory.includes(me)){v=me,o.inventory=o.inventory.filter(he=>he!==me);break}const D={bread:c==="zh"?"":"moldy bread",rat_meat:c==="zh"?"":"raw rat meat",fresh_fish:c==="zh"?"":"fresh fish",nutritious_meal:c==="zh"?"":"nutritious meal",fermented_bread:c==="zh"?"":"fermented bread"},U=x?2:5;o.stats.sanity-=U;const G=c==="zh"?`${D[v]} ( -${U})`:`[STARVATION] Penniless, but you fill your stomach with ${D[v]}. Crude, like chewing despair in the darkness, but at least you avoided the worst. (Sanity -${U})`;n.logs.unshift({id:Ce(),text:G,type:"warning",timestamp:d.day})}else{const v=x?8:15;o.stats.sanity-=v;const D=c==="zh"?` ( -${v})`:`[STARVATION] Penniless. Stomach acid corrodes your will (Sanity -${v}).`;n.logs.unshift({id:Ce(),text:D,type:"warning",timestamp:d.day})}}else{const x=ym(d.day),k=c==="zh"?` ${x} `:`You pay $${x} for another day of survival.`;if(n.logs.unshift({id:Ce(),text:k,type:"narrative",timestamp:d.day}),o.flags.infected){o.stats.sanity-=8;const v=c==="zh"?" ( -8)":"[INFECTED] The wound pulses in the darkness like a rotting heart. Pain crawls along your veins, reminding you that time is running out. (Sanity -8)";n.logs.unshift({id:Ce(),text:v,type:"warning",timestamp:d.day})}if(o.flags.addicted){o.stats.sanity-=12;const v=c==="zh"?" ( -12)":"[WITHDRAWAL] A thousand ants gnaw at your marrow. Your hand trembles as it reaches for an empty pocket, where salvation once lay. (Sanity -12)";n.logs.unshift({id:Ce(),text:v,type:"warning",timestamp:d.day})}}}function qp(n,c,o){const{player:d,world:m}=n;if(d.stats.funds>=0){const y=m.day<=3?{sanity:30,suspicion:70}:{sanity:40,suspicion:60};if(d.stats.sanity<y.sanity||d.stats.suspicion>y.suspicion){const k=m.day<=3?5:10;d.stats.sanity-=k;const T=o.insane[Math.floor(Math.random()*o.insane.length)],v=c==="zh"?"[]":"[NIGHTMARE]",D=c==="zh"?`( -${k})`:`(Sanity -${k})`;n.logs.unshift({id:Ce(),text:`${v} ${T} ${D}`,type:"warning",timestamp:m.day})}else if(Math.random()<.1){const k=c==="zh"?"[]  ( +0)":"[INSOMNIA] You stared at the ceiling all night. (Sanity +0).";n.logs.unshift({id:Ce(),text:k,type:"narrative",timestamp:m.day})}else{if(d.stats.sanity=Math.min(100,d.stats.sanity+10),Math.random()>.5){const v=o.normal[Math.floor(Math.random()*o.normal.length)];n.logs.unshift({id:Ce(),text:v,type:"narrative",timestamp:m.day})}const T=c==="zh"?" ( +10)":"You sink into dreamless sleep, like sinking into deep water. When you wake, the whispers have quieted, and sanity flows back like a tide. (Sanity +10)";n.logs.unshift({id:Ce(),text:T,type:"result",timestamp:m.day})}}}const Ep=n=>{const c=["sleep","sleep_street","sleep_lover","meditate","use_morphine_risky","use_morphine","use_sedatives","use_sedative","use_alchemy_serum","eat_rat","eat_fish","drink_ale","consume_salt","use_purified_serum","use_strong_painkiller","use_nutritious_meal","use_fermented_bread","use_gnosis_elixir","wake_up","leave_lake","leave_library"];let o=!1,d;typeof n.result=="function"?o=n.id.includes("leave")||n.id.includes("go_")||n.id==="approach_altar":(o=!!n.result.teleport,d=n.result.teleport);const y=o&&(!d||["apartment","street","rooftop","sewers","market","asylum","ministry","cathedral","altar","tavern","clinic","black_market"].includes(d));return c.includes(n.id)||n.id.includes("sleep")||n.id.includes("meditate")||n.id.includes("morphine")||n.id.includes("sedative")||n.id.includes("serum")||n.id.includes("painkiller")||n.id.includes("eat")||n.id.includes("drink")||n.id.includes("consume")||n.id.includes("use_")&&(n.id.includes("meal")||n.id.includes("bread")||n.id.includes("elixir"))||y||n.id==="approach_altar"||n.id==="perform_ritual"},Cp=(n,c,o,d,m)=>{const y=typeof n.result=="function"?n.result(c):n.result,x=y.costAP??1;if(c.world.currentActionPoints<x&&n.id!=="sleep"&&x>0)return c;const k=JSON.parse(JSON.stringify(c)),{player:T,world:v}=k;v.currentActionPoints=Math.max(0,v.currentActionPoints-x);const D=[];if(y.changes&&n.id!=="sleep"&&Object.entries(y.changes).forEach(([G,me])=>{const he=G;let be=me;if(he==="sanity"&&me>0&&k.origin==="doctor"){const We=pe.medicalBonus.items;(n.id.includes("morphine")||n.id.includes("sedative")||n.id.includes("serum")||n.id.includes("painkiller")||y.removeItems&&y.removeItems.some(le=>We.includes(le)))&&(be=Math.floor(me*pe.medicalBonus.multiplier))}if(T.stats[he]=(T.stats[he]||0)+be,he==="sanity"?T.stats[he]=Math.min(100,T.stats[he]):he==="suspicion"&&(T.stats[he]=Math.max(0,T.stats[he])),be!==0){const We=_m[o].statChange[he],Qe=be>0?"+":"";D.push(`${Qe}${be} ${We}`)}}),y.addItems&&T.inventory.push(...y.addItems),y.removeItems&&(T.inventory=T.inventory.filter(G=>!y.removeItems?.includes(G))),y.addFollowers&&T.followers.push(...y.addFollowers),y.removeFollowers&&(T.followers=T.followers.filter(G=>!y.removeFollowers?.includes(G))),y.setFlags&&Object.assign(T.flags,y.setFlags),n.id==="enter_black_market"){const G=T.inventory.includes("officer_badge"),me=G?40:30;if(T.stats.suspicion>=me&&!T.flags.black_market_banned){T.flags.black_market_banned=!0;const he=o==="zh"?G?'""':'""':G?`The doorman's eyes turn like coins in the shadows. He shakes his head, whispering: "Even with a badge, the Ministry's eyes have opened. You are no longer welcome here."`:`The doorman's eyes turn like coins in the shadows. He shakes his head, whispering: "The Ministry's eyes have opened. You are no longer welcome here."`;k.logs.unshift({id:Ce(),text:he,type:"warning",timestamp:v.day}),y.teleport&&delete y.teleport,y.text=he}}if(y.teleport&&(v.currentLocationId=y.teleport),k.goals&&(wp(k,n.id,y.changes),n.id==="work_clinic")){const G=k.goals.find(me=>me.id==="work_clinic_first_time");if(G&&!G.completed){G.completed=!0;const me=o==="zh"?"3":"[IMPORTANT] You have started working at the clinic. Remember: missing work for 3 consecutive days will get you fired and you will lose this steady source of income.";k.logs.unshift({id:Ce(),text:me,type:"warning",timestamp:v.day})}}let U=y.text;if(D.length>0&&n.id!=="sleep"){const G=D.join(", ");U=`${y.text} (${G})`}return k.logs.unshift({id:Ce(),text:U,type:n.id==="sleep"?"narrative":"result",timestamp:v.day}),(n.id==="sleep"||n.id==="sleep_street"||n.id==="sleep_lover")&&Ap(k,o,d,m),Sp(k,o),k},Dp=(n="en")=>{const c=n==="zh"?yp:pp,o=n==="zh"?Zy:Qy,d=n==="zh"?Vy:Py,m=n==="zh"?$y:Ky,[y,x]=$.useState(()=>vp()),[k,T]=$.useState(()=>{const le=im(n);if(le){if(le.status==="defeat"||le.status==="victory"){if(y==="hardcore")return localStorage.removeItem(aa),localStorage.removeItem(Ka),tn("fallen_noble",n);{const ve=Fo(n);return ve&&ve.status==="playing"?ve:(localStorage.removeItem(aa),localStorage.removeItem(Ka),tn("fallen_noble",n))}}return le}return tn("fallen_noble",n)});$.useEffect(()=>{_p(y)},[y]),$.useEffect(()=>{gp(k,y)},[k,y]);const v={NIGHT_EVENTS:o},D=$.useCallback(le=>{if(k.status!=="playing")return;if(k.player.breakdown?.active&&!Ep(le)){const dt=n==="zh"?"[] ":"[BREAKDOWN] You cannot perform this action. You can only rest or use medicine to restore your sanity.",Ve={...k};Ve.logs.unshift({id:Ce(),text:dt,type:"warning",timestamp:k.world.day}),T(Ve);return}const at=Cp(le,k,n,y,v);T(at)},[k,n,y,v]),U=$.useCallback(le=>xp(le,k),[k]),G=()=>{localStorage.removeItem(aa),localStorage.removeItem(Ka);const le=k.origin||"fallen_noble",ve=tn(le,n);T(ve)},me=(le,ve="fallen_noble")=>{x(le),localStorage.removeItem(aa),localStorage.removeItem(Ka);const at=tn(ve,n);T(at)},he=()=>{const le=im(n);if(le){if(le.status==="defeat"||le.status==="victory"){if(y==="hardcore")return!1;{const ve=Fo(n);return ve&&ve.status==="playing"?(T(ve),!0):!1}}return T(le),!0}return!1},be=()=>{if(y==="hardcore")return!1;const le=Fo(n);return le&&le.status==="playing"&&le.world.day<k.world.day?(T(le),!0):!1},We=()=>{const le=y==="hardcore"?"normal":"hardcore";x(le),le==="hardcore"&&(k.status==="defeat"||k.status==="victory")&&(localStorage.removeItem(aa),localStorage.removeItem(Ka))},Qe=()=>bp();return{gameState:k,currentLocation:c[k.world.currentLocationId],itemsData:d,followersData:m,executeAction:D,checkRequirements:U,restartGame:G,startNewGame:me,loadGame:he,returnToPreviousDay:be,hasSave:Qe,gameMode:y,toggleGameMode:We,allLocations:c}},rm="pale_threshold_lang",Op=()=>{const[n,c]=$.useState(()=>{const m=localStorage.getItem(rm);return m==="en"||m==="zh"?m:"en"});$.useEffect(()=>{localStorage.setItem(rm,n)},[n]);const o=()=>{c(m=>m==="zh"?"en":"zh")};return{t:$.useCallback((m,y)=>{const x=m.split(".");let k=_m[n];for(const T of x)if(k&&typeof k=="object")k=k[T];else return m;return typeof k!="string"?m:y?k.replace(/\{\{(\w+)\}\}/g,(T,v)=>y[v]!==void 0?String(y[v]):`{{${v}}}`):k},[n]),lang:n,setLang:c,toggleLang:o}};const Rp=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yp=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,o,d)=>d?d.toUpperCase():o.toLowerCase()),om=n=>{const c=Yp(n);return c.charAt(0).toUpperCase()+c.slice(1)},vm=(...n)=>n.filter((c,o,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===o).join(" ").trim(),Up=n=>{for(const c in n)if(c.startsWith("aria-")||c==="role"||c==="title")return!0};var Hp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Bp=$.forwardRef(({color:n="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:y,iconNode:x,...k},T)=>$.createElement("svg",{ref:T,...Hp,width:c,height:c,stroke:n,strokeWidth:d?Number(o)*24/Number(c):o,className:vm("lucide",m),...!y&&!Up(k)&&{"aria-hidden":"true"},...k},[...x.map(([v,D])=>$.createElement(v,D)),...Array.isArray(y)?y:[y]]));const ge=(n,c)=>{const o=$.forwardRef(({className:d,...m},y)=>$.createElement(Bp,{ref:y,iconNode:c,className:vm(`lucide-${Rp(om(n))}`,`lucide-${n}`,d),...m}));return o.displayName=om(n),o};const Gp=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Io=ge("activity",Gp);const Lp=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Fp=ge("anchor",Lp);const Ip=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qo=ge("arrow-right",Ip);const Xp=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],xm=ge("backpack",Xp);const Zp=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],Qp=ge("bed-double",Zp);const Vp=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=ge("book-open",Vp);const Pp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xo=ge("check",Pp);const $p=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kp=ge("clock",$p);const Jp=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],cm=ge("coins",Jp);const Wp=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],eg=ge("door-open",Wp);const tg=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],um=ge("eye",tg);const ag=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vo=ge("file-text",ag);const lg=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Po=ge("flame",lg);const sg=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],ng=ge("gem",sg);const ig=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],rg=ge("key",ig);const og=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Zo=ge("languages",og);const cg=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dm=ge("map-pin",cg);const ug=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],xi=ge("message-circle",ug);const dg=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Sm=ge("moon",dg);const fg=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],mg=ge("pill",fg);const hg=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],yg=ge("rat",hg);const pg=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gg=ge("rotate-ccw",pg);const bg=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],_g=ge("scroll",bg);const vg=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xg=ge("search",vg);const wg=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Sg=ge("shopping-bag",wg);const Ag=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],ln=ge("skull",Ag);const kg=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ng=ge("sprout",kg);const Tg=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Mg=ge("sword",Tg);const zg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$a=ge("triangle-alert",zg);const jg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fm=ge("users",jg);const qg=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Eg=ge("utensils",qg);const Cg=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],Dg=ge("wheat",Cg);const Og=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Rg=ge("wine",Og);const Yg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ug=ge("x",Yg);const Hg=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mm=ge("zap",Hg);function Bg(){const{t:n,toggleLang:c,lang:o}=Op(),[d,m]=$.useState("game"),[y,x]=$.useState(!1),[k,T]=$.useState(null),[v,D]=$.useState(!1),[U,G]=$.useState(!1),[me,he]=$.useState(!1),[be,We]=$.useState(null),[Qe,le]=$.useState(!1),[ve,at]=$.useState(null),[dt,Ve]=$.useState([]),[ee,nt]=$.useState(null),[Tt,ht]=$.useState(null),{gameState:K,currentLocation:Me,executeAction:gt,checkRequirements:Rt,restartGame:bt,startNewGame:M,loadGame:Y,returnToPreviousDay:P,hasSave:ke,itemsData:_e,followersData:g,gameMode:q,toggleGameMode:H,allLocations:B}=Dp(o);$.useEffect(()=>{localStorage.getItem("pale_threshold_save_v1")||x(!0)},[]);const{player:C,world:I,logs:J}=K,[et,Be]=$.useState(I.day);$.useEffect(()=>{I.day===1&&K.origin&&!y&&(K.tutorialCompleted||setTimeout(()=>{he(!0)},2e3),G(!0))},[I.day,K.origin,y,K.tutorialCompleted]),$.useEffect(()=>{if(I.day>et&&et>0){const R=J.filter(O=>O.timestamp===I.day).filter(O=>O.type==="warning"&&(O.text.includes("[]")||O.text.includes("[NIGHTMARE]")||O.text.includes("")||O.text.includes("[STARVATION]")||O.text.includes("")||O.text.includes("[INFECTED]")||O.text.includes("")||O.text.includes("[WITHDRAWAL]")||O.text.includes("")||O.text.includes("[BLACK MARKET]")||O.text.includes("")||O.text.includes("[NIGHT RAID]")||O.text.includes("")||O.text.includes("[BREAKDOWN]")||O.text.includes("")||O.text.includes("returns with wounds"))||O.type==="narrative"&&(O.text.includes("[]")||O.text.includes("[INSOMNIA]")||O.text.includes("")||O.text.includes("Restful sleep")||O.text.includes("")||O.text.includes("Paid $")));if(R.length>0){const O=R.filter(ne=>ne.type==="warning"),Q=R.filter(ne=>ne.type==="narrative"),W=[...O,...Q],X=o==="zh"?"":"Night Event",xe=W.map(ne=>({title:X,message:ne.text,type:ne.type}));Ve(ne=>[...ne,...xe])}}Be(I.day)},[I.day,et,J,o]),$.useEffect(()=>{!ee&&dt.length>0&&(nt(dt[0]),Ve(b=>b.slice(1)))},[ee,dt]);const wa=b=>{if(!b)return b;const R=[];_e&&Object.values(_e).forEach(ue=>{ue.name&&R.push(ue.name),ue.id&&R.push(ue.id)});const O=[...R,"","","laudanum","","forbidden_name","","officer_badge","Ministry Badge","","Purge Ledger","purge_list","","Ritual Mask","ritual_mask","","ritual_dagger","","Alchemy Coin","alchemy_coin","","Purified Serum","purified_serum","","Gnosis Elixir","gnosis_elixir","","old_ring","","Classified Dossier","classified_file","","Lab Coat","doctor_coat","","Golden Mask","golden_mask","","Otherworldly Idol","alien_idol","","Void Salt","void_salt"],Q=new RegExp(`(${O.join("|")})`,"gi"),W=/([+-]\d+)/g,X=/\(([+-]\d+)\)/g,xe=o==="zh"?["","","","","","","",""]:["restore","heal","recover","gain","increase","restored","recovered"],ne=o==="zh"?["","","","","","","",""]:["lose","consume","cost","decrease","reduce","lost","damage","hurt"],Ge=new RegExp(`(${xe.join("|")})`,"gi"),_t=new RegExp(`(${ne.join("|")})`,"gi"),Ye=[];let ie;for(;(ie=Q.exec(b))!==null;)Ye.push({start:ie.index,end:ie.index+ie[0].length,color:"text-amber-400"});for(;(ie=X.exec(b))!==null;){const ue=parseInt(ie[1]);Ye.push({start:ie.index,end:ie.index+ie[0].length,color:ue>0?"text-emerald-400":"text-red-400"})}for(;(ie=W.exec(b))!==null;)if(!(b[ie.index-1]==="(")){const Le=parseInt(ie[0]);Ye.push({start:ie.index,end:ie.index+ie[0].length,color:Le>0?"text-emerald-400":"text-red-400"})}for(;(ie=Ge.exec(b))!==null;)Ye.push({start:ie.index,end:ie.index+ie[0].length,color:"text-emerald-400"});for(;(ie=_t.exec(b))!==null;)Ye.push({start:ie.index,end:ie.index+ie[0].length,color:"text-red-400"});Ye.sort((ue,Le)=>ue.start-Le.start);const Ue=[];for(const ue of Ye)if(Ue.length===0||ue.start>=Ue[Ue.length-1].end)Ue.push(ue);else{const Le=Ue[Ue.length-1];ue.color==="text-amber-400"||Le.color==="text-amber-400"?Ue[Ue.length-1]={start:Math.min(Le.start,ue.start),end:Math.max(Le.end,ue.end),color:"text-amber-400"}:Ue[Ue.length-1]={start:Math.min(Le.start,ue.start),end:Math.max(Le.end,ue.end),color:ue.color}}const ce=[];let ze=0;for(const ue of Ue)ue.start>ze&&ce.push(u.jsx("span",{children:b.substring(ze,ue.start)},`text-${ze}`)),ce.push(u.jsx("span",{className:ue.color,children:b.substring(ue.start,ue.end)},`match-${ue.start}`)),ze=ue.end;return ze<b.length&&ce.push(u.jsx("span",{children:b.substring(ze)},`text-${ze}`)),ce.length>0?u.jsx(u.Fragment,{children:ce}):b},Sa=$.useRef(null),cs=$.useRef(null),Mt=$.useRef(null),Vt=$.useRef({...C.stats}),Ja=$.useRef([...C.inventory]),_l=$.useRef(!0),sn=$.useRef(!0),[Wa,vl]=$.useState([]),xl=$.useRef(J.length),[Aa,nn]=$.useState(!1),wi=C.followers.some(b=>{const R=C.followerStates?.[b];return R&&R.task}),[yt,rn]=$.useState([]),ft=$.useCallback((b,R="info")=>{console.log("Adding toast:",b,R);const O=`${Date.now()}-${Math.random()}`;rn(Q=>{const W=[...Q,{id:O,message:b,type:R}];return console.log("Toasts state:",W),W}),setTimeout(()=>{rn(Q=>Q.filter(W=>W.id!==O))},3e3)},[]),Yt=$.useCallback((b=50)=>{if("vibrate"in navigator&&navigator.vibrate)try{const R=navigator.vibrate(b);console.log("Vibrate result:",R,"pattern:",b),R===!1&&console.warn("Vibration not supported or blocked")}catch(R){console.error("Vibration error:",R)}else console.log("Vibration API not available")},[]);$.useEffect(()=>{Sa.current&&Sa.current.scrollIntoView({behavior:"smooth",block:"end"}),J.length>xl.current&&(nn(!0),setTimeout(()=>nn(!1),1e3)),xl.current=J.length},[J,d]),$.useEffect(()=>{if(_l.current){_l.current=!1,Vt.current={...C.stats};return}const b=[],R=Vt.current,O=C.stats;if(R.sanity!==O.sanity){const Q=O.sanity-R.sanity;b.push({stat:"sanity",value:Q,label:n("stats.sanity")}),Q<-10?(ft(o==="zh"?` (-${Math.abs(Q)})`:`Sanity decreased (-${Math.abs(Q)})`,"error"),Yt([100,50,100])):Q>5&&(ft(o==="zh"?` (+${Q})`:`Sanity restored (+${Q})`,"success"),Yt(30))}if(R.funds!==O.funds){const Q=O.funds-R.funds;b.push({stat:"funds",value:Q,label:n("stats.funds")}),Q<-5&&(ft(o==="zh"?` (-${Math.abs(Q)})`:`Funds decreased (-${Math.abs(Q)})`,"warning"),Yt(50))}if(R.suspicion!==O.suspicion){const Q=O.suspicion-R.suspicion;b.push({stat:"suspicion",value:Q,label:n("stats.suspicion")}),Q>10&&(ft(o==="zh"?` (+${Q})`:`Suspicion increased (+${Q})`,"warning"),Yt([100,50,100]))}if(R.gnosis!==O.gnosis){const Q=O.gnosis-R.gnosis;b.push({stat:"gnosis",value:Q,label:n("stats.gnosis")}),Q>0&&(ft(o==="zh"?` (+${Q})`:`Gnosis increased (+${Q})`,"info"),Yt(30))}b.length>0&&(vl(b),setTimeout(()=>vl([]),1500)),Vt.current={...O}},[C.stats,n,o,ft,Yt]),$.useEffect(()=>{if(sn.current){sn.current=!1,Ja.current=[...C.inventory];return}const b=Ja.current,R=C.inventory,O=R.filter(W=>!b.includes(W));O.length>0&&O.forEach(W=>{const X=_e[W]?.name||W;ft(o==="zh"?`${X}`:`Item obtained: ${X}`,"success"),Yt([50,30,50])});const Q=b.filter(W=>!R.includes(W));if(Q.length>0){const W=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum","ritual_dagger"];Q.forEach(X=>{if(W.includes(X)){const xe=_e[X]?.name||X;ft(o==="zh"?`${xe}`:`Item lost: ${xe}`,"warning"),Yt(100)}})}Ja.current=[...R]},[C.inventory,_e,o,ft,Yt]),$.useEffect(()=>{if(!Mt.current){const b="/bgm.mp3";Mt.current=new Audio(b),Mt.current.loop=!0,Mt.current.volume=.3;const R=Mt.current.play();R!==void 0&&R.catch(()=>{const O=()=>{Mt.current&&Mt.current.play().catch(()=>{}),document.removeEventListener("click",O),document.removeEventListener("touchstart",O),document.removeEventListener("keydown",O)};document.addEventListener("click",O,{once:!0}),document.addEventListener("touchstart",O,{once:!0}),document.addEventListener("keydown",O,{once:!0})})}return()=>{Mt.current&&(Mt.current.pause(),Mt.current=null)}},[]),$.useEffect(()=>{localStorage.getItem("pale_threshold_save_v1")||x(!0)},[]);const wl=()=>{window.confirm(n("restartConfirm"))&&(bt(),x(!0))};return y?u.jsxs("div",{className:"relative flex items-start md:items-center justify-center min-h-[100dvh] w-screen bg-[#0c0c0e] text-[#a1a1aa] font-sans overflow-hidden pt-8 pb-20 md:pt-0 md:pb-0",children:[u.jsxs("div",{className:"atmo-layer",children:[u.jsx("div",{className:"atmo-mist"}),u.jsx("div",{className:"atmo-vignette"}),u.jsx("div",{className:"dust-particle",style:{left:"20%",bottom:"12%",animationDuration:"18s",animationDelay:"-4s"}}),u.jsx("div",{className:"dust-particle",style:{left:"55%",bottom:"8%",animationDuration:"22s",animationDelay:"-10s"}}),u.jsx("div",{className:"dust-particle",style:{left:"80%",bottom:"15%",animationDuration:"20s",animationDelay:"-7s"}})]}),u.jsxs("div",{className:"relative max-w-md w-full mx-4 my-4 md:my-0 pb-10 md:pb-0 space-y-6 z-20",children:[u.jsxs("div",{className:"text-center mb-6 md:mb-8",children:[u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-[0.2em] text-amber-600 uppercase mb-2 flex items-center justify-center gap-3",children:[u.jsx(Po,{size:32,className:"text-amber-700"}),u.jsx("span",{children:n("title")})]}),u.jsx("p",{className:"text-sm text-stone-500 font-serif italic mt-4",children:o==="zh"?"":"A game of sanity, secrets, and choices"})]}),u.jsxs("div",{className:"space-y-4",children:[v?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>{D(!1),T(null)},className:"flex items-center gap-2 text-stone-400 hover:text-stone-300 mb-2",children:[u.jsx(Qo,{size:16,className:"rotate-180"}),u.jsx("span",{className:"text-sm",children:o==="zh"?"":"Back"})]}),u.jsxs("div",{className:"border border-[#27272a] bg-[#141417] p-4 rounded",children:[u.jsx("h2",{className:"text-sm uppercase tracking-wider text-stone-400 mb-3",children:n("selectOrigin")}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>{k&&(M(k,"fallen_noble"),x(!1),G(!0))},className:"w-full text-left p-3 border border-amber-700/50 bg-amber-900/20 text-amber-300 hover:bg-amber-900/40 hover:border-amber-600 transition-all",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-serif text-base mb-1",children:n("origins.fallen_noble.name")}),u.jsx("div",{className:"text-xs text-stone-500 mb-2",children:n("origins.fallen_noble.desc")}),u.jsx("div",{className:"text-xs text-amber-400/70 font-mono mb-1",children:n("origins.fallen_noble.stats")}),u.jsx("div",{className:"text-xs text-amber-500/80 italic",children:n("origins.fallen_noble.passive")})]})}),u.jsx("button",{onClick:()=>{k&&(M(k,"doctor"),x(!1),G(!0))},className:"w-full text-left p-3 border border-blue-700/50 bg-blue-900/20 text-blue-300 hover:bg-blue-900/40 hover:border-blue-600 transition-all",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-serif text-base mb-1",children:n("origins.doctor.name")}),u.jsx("div",{className:"text-xs text-stone-500 mb-2",children:n("origins.doctor.desc")}),u.jsx("div",{className:"text-xs text-blue-400/70 font-mono mb-1",children:n("origins.doctor.stats")}),u.jsx("div",{className:"text-xs text-blue-500/80 italic",children:n("origins.doctor.passive")})]})}),u.jsx("button",{onClick:()=>{k&&(M(k,"vagrant"),x(!1),G(!0))},className:"w-full text-left p-3 border border-slate-700/50 bg-slate-900/20 text-slate-300 hover:bg-slate-900/40 hover:border-slate-600 transition-all",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-serif text-base mb-1",children:n("origins.vagrant.name")}),u.jsx("div",{className:"text-xs text-stone-500 mb-2",children:n("origins.vagrant.desc")}),u.jsx("div",{className:"text-xs text-slate-400/70 font-mono mb-1",children:n("origins.vagrant.stats")}),u.jsx("div",{className:"text-xs text-slate-400/80 italic",children:n("origins.vagrant.passive")})]})})]})]})]}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:"border border-[#27272a] bg-[#141417] p-4 rounded",children:[u.jsx("h2",{className:"text-sm uppercase tracking-wider text-stone-400 mb-3",children:n("selectMode")}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>{T("normal"),D(!0)},className:"w-full text-left p-3 border border-slate-700/50 bg-slate-900/20 text-slate-300 hover:bg-slate-900/40 hover:border-slate-600 transition-all",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-serif text-base mb-1",children:n("normalMode")}),u.jsx("div",{className:"text-xs text-stone-500",children:n("normalDesc")})]})})}),u.jsx("button",{onClick:()=>{T("hardcore"),D(!0)},className:"w-full text-left p-3 border border-red-700/50 bg-red-900/20 text-red-300 hover:bg-red-900/40 hover:border-red-600 transition-all",children:u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsxs("div",{className:"font-serif text-base mb-1 flex items-center gap-2",children:[u.jsx(ln,{size:16}),n("hardcoreMode")]}),u.jsx("div",{className:"text-xs text-stone-500",children:n("hardcoreDesc")})]})})})]})]})}),ke()&&u.jsx("button",{onClick:()=>{Y()?(x(!1),ft(o==="zh"?"":"Save loaded successfully","success")):ft(o==="zh"?"":"Failed to load save","error")},className:"w-full p-4 border-2 border-amber-700/50 bg-amber-900/20 text-amber-400 hover:bg-amber-900/40 hover:border-amber-600 transition-all font-serif tracking-wide",children:n("loadGame")}),u.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[u.jsxs("a",{href:"https://discord.gg/kmG4A7Esx3",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-indigo-700/50 bg-indigo-900/20 text-indigo-400 hover:bg-indigo-900/40 hover:border-indigo-600 transition-all rounded",children:[u.jsx(xi,{size:16}),u.jsx("span",{className:"text-xs uppercase",children:"Discord"})]}),u.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 border border-amber-700/50 bg-amber-900/20 text-amber-500 hover:bg-amber-900/40 transition-all rounded",children:[u.jsx(Zo,{size:16}),u.jsx("span",{className:"text-xs uppercase",children:o==="en"?"":"EN"})]})]})]})]})]}):u.jsxs("div",{className:"flex flex-col md:flex-row h-[100dvh] w-screen overflow-hidden bg-[#0c0c0e] text-[#a1a1aa] font-sans selection:bg-amber-900 selection:text-white relative",children:[u.jsxs("div",{className:"atmo-layer",children:[u.jsx("div",{className:"atmo-mist"}),u.jsx("div",{className:"atmo-vignette"}),u.jsx("div",{className:"dust-particle",style:{left:"18%",bottom:"10%",animationDuration:"18s",animationDelay:"-4s"}}),u.jsx("div",{className:"dust-particle",style:{left:"45%",bottom:"6%",animationDuration:"22s",animationDelay:"-9s"}}),u.jsx("div",{className:"dust-particle",style:{left:"72%",bottom:"14%",animationDuration:"20s",animationDelay:"-6s"}}),u.jsx("div",{className:"dust-particle",style:{left:"30%",bottom:"18%",animationDuration:"24s",animationDelay:"-12s"}})]}),(Me.id==="pale_city"||Me.id==="lake_hali"||Me.id==="dream_library")&&u.jsx("div",{className:"dream-overlay",style:{zIndex:1}}),u.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[200] flex flex-col gap-3 pointer-events-none md:top-6",style:{zIndex:200},children:yt.map(b=>u.jsxs("div",{className:`relative px-5 py-4 rounded border-2 min-w-[300px] max-w-[90vw] pointer-events-auto animate-slide-down shadow-2xl ${b.type==="success"?"bg-[#0c0c0e] border-emerald-600/60 text-emerald-200 shadow-emerald-900/50":b.type==="warning"?"bg-[#0c0c0e] border-amber-600/60 text-amber-200 shadow-amber-900/50":b.type==="error"?"bg-[#0c0c0e] border-red-600/60 text-red-200 shadow-red-900/50":"bg-[#0c0c0e] border-slate-600/60 text-slate-200 shadow-slate-900/50"}`,style:{backdropFilter:"blur(8px)",boxShadow:b.type==="success"?"0 0 20px rgba(16, 185, 129, 0.3), inset 0 0 20px rgba(16, 185, 129, 0.1)":b.type==="warning"?"0 0 20px rgba(245, 158, 11, 0.3), inset 0 0 20px rgba(245, 158, 11, 0.1)":b.type==="error"?"0 0 20px rgba(239, 68, 68, 0.3), inset 0 0 20px rgba(239, 68, 68, 0.1)":"0 0 20px rgba(148, 163, 184, 0.3), inset 0 0 20px rgba(148, 163, 184, 0.1)"},children:[u.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${b.type==="success"?"bg-emerald-500":b.type==="warning"?"bg-amber-500":b.type==="error"?"bg-red-500":"bg-slate-500"}`}),u.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[u.jsxs("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${b.type==="success"?"bg-emerald-900/50 border border-emerald-600/50":b.type==="warning"?"bg-amber-900/50 border border-amber-600/50":b.type==="error"?"bg-red-900/50 border border-red-600/50":"bg-slate-900/50 border border-slate-600/50"}`,children:[b.type==="success"&&u.jsx("span",{className:"text-emerald-300 text-lg font-bold",children:""}),b.type==="warning"&&u.jsx("span",{className:"text-amber-300 text-lg font-bold",children:""}),b.type==="error"&&u.jsx("span",{className:"text-red-300 text-lg font-bold",children:""}),b.type==="info"&&u.jsx("span",{className:"text-slate-300 text-lg font-bold",children:""})]}),u.jsx("span",{className:"text-sm md:text-base font-serif tracking-wide flex-1",children:b.message})]}),u.jsx("div",{className:`absolute inset-0 rounded pointer-events-none animate-pulse opacity-20 ${b.type==="success"?"bg-emerald-500":b.type==="warning"?"bg-amber-500":b.type==="error"?"bg-red-500":"bg-slate-500"}`,style:{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]},b.id))}),u.jsxs("div",{className:`${d==="stats"?"flex":"hidden"} md:flex w-full md:w-80 flex-shrink-0 flex-col border-r border-[#27272a] bg-[#141417] p-4 md:p-6 z-10 overflow-hidden flex-1 md:flex-none h-full md:h-auto relative`,children:[u.jsxs("div",{className:"mb-4 md:mb-8 border-b border-[#27272a] pb-3 md:pb-4 flex-shrink-0",children:[u.jsxs("h1",{className:"text-base md:text-xl font-bold tracking-[0.2em] text-[#e4e4e7] uppercase flex items-center gap-2 mb-3 md:mb-4",children:[u.jsx(Po,{size:18,className:"md:w-5 md:h-5 text-amber-700 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:n("title")})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u.jsxs("button",{onClick:wl,className:"flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border border-[#27272a] text-stone-500 hover:text-amber-400 hover:border-amber-600 transition-colors flex-shrink-0",title:n("restartRun"),children:[u.jsx(gg,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0"}),u.jsx("span",{children:n("restartRun")})]}),q==="normal"&&K.status==="playing"&&u.jsxs("button",{onClick:()=>{P()?ft(o==="zh"?"":"Returned to previous day","info"):ft(n("noBackup"),"warning")},className:"flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border border-blue-700/50 bg-blue-900/20 text-blue-400 hover:bg-blue-900/40 hover:border-blue-600 transition-colors flex-shrink-0",title:n("returnToPreviousDayDesc"),children:[u.jsx(Qo,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0 rotate-180"}),u.jsx("span",{children:n("returnToPreviousDay")})]}),u.jsxs("button",{onClick:c,className:"flex items-center gap-1 px-1.5 md:px-2.5 py-1 md:py-1.5 border border-amber-700/50 bg-amber-900/20 text-amber-500 hover:bg-amber-900/40 hover:border-amber-600 hover:text-amber-400 transition-all rounded flex-shrink-0",title:o==="en"?"":"Switch to English",children:[u.jsx(Zo,{size:12,className:"md:w-4 md:h-4 flex-shrink-0"}),u.jsx("span",{className:"text-[9px] md:text-xs font-bold uppercase tracking-wider",children:o==="en"?"EN":""})]}),u.jsxs("button",{onClick:H,className:`flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border transition-colors flex-shrink-0 ${q==="hardcore"?"border-red-700/50 bg-red-900/20 text-red-400 hover:bg-red-900/40 hover:border-red-600":"border-slate-700/50 bg-slate-900/20 text-slate-400 hover:bg-slate-900/40 hover:border-slate-600"}`,title:n(q==="hardcore"?"hardcoreDesc":"normalDesc"),children:[u.jsx(ln,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0"}),u.jsx("span",{children:n(q==="hardcore"?"hardcoreMode":"normalMode")})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-2 pr-2 pb-4",children:[u.jsxs("div",{className:"space-y-3 md:space-y-4 font-mono text-xs md:text-sm",children:[u.jsx(an,{icon:u.jsx(Kp,{size:14,className:"md:w-4 md:h-4"}),label:n("day",{day:I.day}),value:"",color:"text-stone-300"}),u.jsx("div",{className:"h-px bg-[#27272a] my-2"}),u.jsx(an,{icon:u.jsx(Io,{size:14,className:"md:w-4 md:h-4"}),label:n("stats.sanity"),value:C.stats.sanity,max:100,color:C.stats.sanity<pe.sanityThresholds.warning?"text-red-500 animate-pulse":"text-amber-600"}),C.breakdown?.active&&u.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-400",children:[u.jsx("div",{className:"font-bold mb-1",children:o==="zh"?" ":" BREAKDOWN"}),u.jsx("div",{className:"text-[10px] text-red-500",children:o==="zh"?` ${C.breakdown.turnsRemaining} `:`${C.breakdown.turnsRemaining} turn${C.breakdown.turnsRemaining>1?"s":""} left to recover`})]}),u.jsx(an,{icon:u.jsx(cm,{size:14,className:"md:w-4 md:h-4"}),label:n("stats.funds"),value:C.stats.funds,color:"text-yellow-600"}),u.jsx(an,{icon:u.jsx(um,{size:14,className:"md:w-4 md:h-4"}),label:n("stats.suspicion"),value:C.stats.suspicion,color:"text-purple-500"}),u.jsx(an,{icon:u.jsx(mm,{size:14,className:"md:w-4 md:h-4"}),label:n("stats.gnosis"),value:C.stats.gnosis,color:"text-cyan-600"}),K.origin&&u.jsx("div",{className:"pt-3 md:pt-4",children:u.jsxs("button",{onClick:()=>G(!0),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-xs border border-stone-700/50 bg-stone-900/30 text-stone-400 hover:bg-stone-800/50 hover:border-stone-600 hover:text-stone-300 transition-all rounded",title:o==="zh"?"":"View Origin Trait",children:[u.jsx($a,{size:12,className:"md:w-3.5 md:h-3.5"}),u.jsx("span",{className:"uppercase tracking-wider",children:o==="zh"?"":"Origin Trait"})]})}),K.goals&&K.goals.length>0&&u.jsxs("div",{className:"pt-4 md:pt-6 border-t border-[#27272a]",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[u.jsx(wm,{size:14,className:"md:w-4 md:h-4"}),u.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:o==="zh"?"":"GOALS"})]}),u.jsx("div",{className:"space-y-2",children:K.goals.filter(b=>!b.completed||b.type==="long").slice(0,3).map(b=>u.jsxs("div",{className:`p-2 bg-[#1f1f22] border rounded flex flex-col gap-1 ${b.completed?"border-emerald-700/50 bg-emerald-900/10":"border-[#27272a]"}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`text-xs md:text-sm font-serif ${b.completed?"text-emerald-400 line-through":"text-stone-300"}`,children:b.title}),u.jsx("div",{className:"text-[10px] md:text-xs text-stone-500 mt-0.5",children:b.description})]}),b.completed&&u.jsx(Xo,{size:12,className:"text-emerald-400 flex-shrink-0 mt-0.5"})]}),b.progress!==void 0&&b.maxProgress&&!b.completed&&u.jsxs("div",{className:"mt-1.5",children:[u.jsxs("div",{className:"flex justify-between text-[9px] text-stone-600 mb-1",children:[u.jsx("span",{children:b.progress}),u.jsx("span",{children:b.maxProgress})]}),u.jsx("div",{className:"h-1 bg-[#27272a] rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-amber-600 transition-all duration-300",style:{width:`${Math.min(100,b.progress/b.maxProgress*100)}%`}})})]})]},b.id))})]}),u.jsxs("div",{className:"pt-4 md:pt-6",children:[u.jsxs("div",{className:"flex justify-between mb-2 text-[9px] md:text-[10px] uppercase tracking-wider text-stone-500",children:[u.jsx("span",{children:n("stats.ap")}),u.jsxs("span",{children:[I.currentActionPoints," / ",I.maxActionPoints]})]}),u.jsx("div",{className:"h-1.5 bg-[#27272a] rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-stone-500 transition-all duration-300",style:{width:`${I.currentActionPoints/I.maxActionPoints*100}%`}})})]})]}),u.jsxs("div",{className:"mt-4 md:mt-6 pt-4 md:pt-6 border-t border-[#27272a]",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[u.jsxs("div",{className:"relative",children:[u.jsx(fm,{size:14,className:"md:w-4 md:h-4"}),C.followers.filter(R=>{const O=C.followerStates?.[R],Q=O?.status??"healthy",W=O?.task,X=R==="nurse_follower"&&C.flags.madeline_sick,xe=W&&Q==="healthy",ne=Q==="injured"&&!X,Ge=`talked_to_${R}_day_${I.day}`,Ye=!!!C.flags[Ge];return xe||ne||Ye}).length>0?u.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-red-500 rounded-full animate-pulse border border-[#141417]"}):null]}),u.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:n("cult")}),(()=>{const b=C.followers.filter(R=>{const O=C.followerStates?.[R],Q=O?.status??"healthy",W=O?.task,X=R==="nurse_follower"&&C.flags.madeline_sick,xe=W&&Q==="healthy",ne=Q==="injured"&&!X,Ge=`talked_to_${R}_day_${I.day}`,Ye=!!!C.flags[Ge];return xe||ne||Ye}).length;return b>0?u.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[u.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-[9px] md:text-[10px] text-red-400 font-semibold",children:b})]}):null})()]}),u.jsxs("div",{className:"space-y-2",children:[C.followers.length===0&&u.jsx("p",{className:"text-[10px] md:text-xs italic text-stone-600",children:n("lonely")}),C.followers.map((b,R)=>{const O=g[b],Q=C.followerStates?.[b],W=Q?.loyalty??50,X=Q?.status??"healthy",xe=Q?.task,ne=X==="injured"?"text-red-500":X==="insane"?"text-purple-500":"text-emerald-500",Ge=X==="injured"?u.jsx($a,{size:10}):X==="insane"?u.jsx(ln,{size:10}):u.jsx(Xo,{size:10}),_t=O?O.name:b,Ye=b==="nurse_follower"&&C.flags.madeline_sick,ie=xe&&X==="healthy",Ue=X==="injured"&&!Ye,ce=`talked_to_${b}_day_${I.day}`,ue=!!!C.flags[ce],Le=ie||Ue||ue;return u.jsxs("div",{className:`p-2 bg-[#1f1f22] border rounded flex flex-col gap-1 cursor-pointer transition-all relative ${Le?"border-red-500/60 bg-red-950/20 hover:border-red-500/80 shadow-[0_0_8px_rgba(239,68,68,0.3)]":"border-[#27272a] hover:border-amber-700/50"}`,onClick:()=>{ht(b)},children:[Le&&u.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-[#1f1f22] animate-pulse"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${Le?"bg-red-500":"bg-amber-700"}`}),u.jsx("span",{className:`text-xs md:text-sm ${Le?"text-red-200":"text-stone-300"}`,children:_t})]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsxs("span",{className:`flex items-center gap-1 ${ne}`,children:[Ge,n(`followerStatus.${X}`)]}),u.jsxs("span",{className:"text-stone-500",children:[n("loyalty"),": ",W]})]})]}),xe&&u.jsxs("div",{className:"text-xs text-stone-400 italic pl-4",children:[n("followerTask"),": ",xe.description]})]},R)})]})]}),u.jsxs("div",{className:"mt-4 pt-4 md:mt-6 md:pt-6 border-t border-[#27272a]",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[u.jsx(xm,{size:14,className:"md:w-4 md:h-4"}),u.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:n("inventory")})]}),u.jsxs("div",{className:"space-y-2",children:[C.inventory.length===0&&u.jsx("p",{className:"text-[10px] md:text-xs italic text-stone-600",children:n("emptyInventory")}),C.inventory.map((b,R)=>{const O=_e[b],Q=Gg(b);return u.jsxs("div",{className:"group relative p-2 bg-[#1f1f22] border border-[#27272a] rounded flex items-center gap-2 md:gap-3 hover:border-stone-500 transition-colors cursor-help",children:[u.jsx("div",{className:"p-1.5 bg-[#141417] rounded text-stone-400 group-hover:text-amber-500",children:u.jsx(Q,{size:12,className:"md:w-3.5 md:h-3.5"})}),u.jsx("div",{className:"text-xs md:text-sm text-stone-300 truncate",children:O?.name||b}),u.jsx("div",{className:"absolute left-0 bottom-full mb-2 w-48 p-3 bg-black border border-stone-700 text-xs text-stone-400 hidden group-hover:block z-50 shadow-xl pointer-events-none",children:O?.description})]},R)})]})]}),u.jsx("div",{className:"h-40 md:h-20 w-full shrink-0"})]})]}),u.jsxs("div",{className:`${d==="game"?"flex":"hidden"} md:flex flex-1 flex-col relative min-w-0 bg-[#0c0c0e] h-full z-10`,children:[u.jsxs("div",{className:"md:hidden px-3 py-2 bg-[#141417] border-b border-[#27272a] flex items-center justify-between gap-2 flex-shrink-0 relative overflow-hidden",children:[u.jsx("button",{onClick:c,className:"flex items-center justify-center gap-1 px-1.5 py-1.5 border border-amber-700/50 bg-amber-900/20 text-amber-500 active:bg-amber-900/40 active:border-amber-600 active:text-amber-400 transition-all rounded flex-shrink-0",title:o==="en"?"":"Switch to English",children:u.jsx(Zo,{size:12,className:"flex-shrink-0"})}),u.jsxs("div",{className:"flex items-center justify-around gap-2 flex-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[u.jsx(Io,{size:12,className:"text-amber-600 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:n("stats.sanity")}),u.jsx("div",{className:`text-[10px] font-mono ${C.stats.sanity<pe.sanityThresholds.warning?"text-red-500":"text-amber-600"}`,children:C.stats.sanity}),C.breakdown?.active&&u.jsx("div",{className:"text-[7px] text-red-400 font-bold mt-0.5",children:o==="zh"?` ${C.breakdown.turnsRemaining}`:`BD ${C.breakdown.turnsRemaining}`})]}),Wa.filter(b=>b.stat==="sanity").map((b,R)=>u.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${R*.1}s`},children:u.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${b.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[b.value>0?"+":"",b.value]})},`sanity-${R}`))]}),u.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),u.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[u.jsx(cm,{size:12,className:"text-yellow-600 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:n("stats.funds")}),u.jsxs("div",{className:"text-[10px] font-mono text-yellow-600",children:["$",C.stats.funds]})]}),Wa.filter(b=>b.stat==="funds").map((b,R)=>u.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${R*.1}s`},children:u.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${b.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[b.value>0?"+":"","$",b.value]})},`funds-${R}`))]}),u.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),u.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[u.jsx(um,{size:12,className:"text-purple-500 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:n("stats.suspicion")}),u.jsx("div",{className:"text-[10px] font-mono text-purple-500",children:C.stats.suspicion})]}),Wa.filter(b=>b.stat==="suspicion").map((b,R)=>u.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${R*.1}s`},children:u.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${b.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[b.value>0?"+":"",b.value]})},`suspicion-${R}`))]}),u.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),u.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[u.jsx(mm,{size:12,className:"text-cyan-600 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:n("stats.gnosis")}),u.jsx("div",{className:"text-[10px] font-mono text-cyan-600",children:C.stats.gnosis})]}),Wa.filter(b=>b.stat==="gnosis").map((b,R)=>u.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${R*.1}s`},children:u.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${b.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[b.value>0?"+":"",b.value]})},`gnosis-${R}`))]})]}),K.origin&&u.jsx("button",{onClick:()=>G(!0),className:"flex items-center justify-center px-2 py-1.5 border border-stone-700/50 bg-stone-900/30 text-stone-400 active:bg-stone-800/50 active:border-stone-600 active:text-stone-300 transition-all rounded flex-shrink-0",title:o==="zh"?"":"View Origin Trait",children:u.jsx($a,{size:14})})]}),wi&&d==="game"&&u.jsxs("div",{className:"md:hidden mx-3 mt-2 mb-0 p-3 bg-gradient-to-r from-amber-900/40 to-amber-800/30 border-2 border-amber-600/60 rounded-lg flex items-center justify-between gap-2 flex-shrink-0 shadow-lg shadow-amber-900/20 animate-slide-down",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[u.jsxs("div",{className:"relative",children:[u.jsx(xi,{size:18,className:"text-amber-400 flex-shrink-0 animate-pulse"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),u.jsx("span",{className:"text-xs text-amber-200 font-semibold truncate",children:o==="zh"?"":"Follower Request"})]}),u.jsx("button",{onClick:()=>m("stats"),className:"px-3 py-1.5 bg-amber-700/60 hover:bg-amber-700/80 active:bg-amber-600/80 text-amber-100 text-xs font-bold uppercase tracking-wider rounded transition-all transform active:scale-95 flex-shrink-0 shadow-md shadow-amber-900/30",children:o==="zh"?"":"VIEW"})]}),u.jsxs("div",{className:"px-4 md:px-10 pt-6 md:pt-10 pb-4 md:pb-6 border-b border-[#27272a]/50 flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-amber-700",children:[u.jsx(dm,{size:14,className:"md:w-4 md:h-4 flex-shrink-0"}),u.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase tracking-[0.15em] truncate",children:Me.id})]}),u.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-[10px] md:text-xs font-mono text-stone-300",children:[u.jsx("span",{className:"uppercase tracking-[0.15em] text-stone-500",children:n("stats.ap")}),u.jsxs("span",{className:"px-1.5 md:px-2 py-0.5 rounded-full border border-[#27272a] bg-[#11111a]",children:[I.currentActionPoints," / ",I.maxActionPoints]})]})]}),u.jsx("h2",{className:"text-2xl md:text-4xl font-serif text-[#e4e4e7] tracking-wide truncate",children:Me.name})]}),u.jsxs("div",{ref:cs,className:"flex-1 overflow-y-auto px-4 md:px-10 py-4 md:py-8 pb-32 md:pb-8 custom-scrollbar relative z-10",style:{touchAction:"pan-y"},onTouchStart:b=>{const R=b.target;(R.tagName==="BUTTON"||R.closest("button"))&&b.stopPropagation()},children:[u.jsx("div",{className:"mb-6 md:mb-10 pl-4 md:pl-6 border-l-2 border-[#27272a]",children:u.jsx("p",{className:"text-base md:text-xl leading-relaxed md:leading-loose text-stone-400 font-serif italic max-w-3xl",children:typeof Me.description=="function"?Me.description(K):Me.description})}),u.jsx("div",{className:"grid grid-cols-1 gap-2 md:gap-3 max-w-2xl",children:Me.actions.map(b=>{if(!Rt(b))return null;let O=b.id==="sleep"?0:typeof b.result=="function"?b.result(K).costAP??1:b.result.costAP??1,W=!(I.currentActionPoints>=O)&&b.id!=="sleep"&&O>0;const X=b.id.includes("buy")||b.id.includes("sell"),xe=b.id.includes("gamble")||b.id.includes("dice"),ne=b.id==="enter_black_market";let Ge=null;if(!xe&&!ne&&(X||b.id.includes("drink")||b.id.includes("eat")||b.reqStats?.funds))try{const ce=typeof b.result=="function"?b.result(K):b.result;ce.changes?.funds&&ce.changes.funds<0?Ge=Math.abs(ce.changes.funds):b.reqStats?.funds&&(Ge=b.reqStats.funds)}catch{b.reqStats?.funds&&(Ge=b.reqStats.funds)}if(ne){const ce=C.stats.funds>=5,ze=C.flags.black_market_banned;(!ce||ze)&&(W=!0)}let _t=n("actions.costAP",{val:O}),Ye="border-[#27272a] text-stone-500 bg-[#0c0c0e]";b.id==="sleep"?(_t=n("actions.endDay"),Ye="border-amber-900/30 text-amber-700 bg-amber-900/10"):O===0&&(_t=n("actions.free"),Ye="border-emerald-900/30 text-emerald-600 bg-emerald-900/10");const ie=Lg(b.id),Ue=()=>{W||(b.requiresConfirmation?(We(b),le(!0)):gt(b))};return u.jsxs("button",{onClick:Ue,disabled:W,className:`w-full text-left p-3 md:p-4 border rounded transition-all duration-200 flex items-center gap-3 md:gap-5 relative z-50 ${W?"border-[#27272a] bg-transparent opacity-40 cursor-not-allowed":"border-[#3f3f46] bg-[#18181b] active:bg-[#202023] md:hover:bg-[#202023] active:border-amber-700/50 md:hover:border-amber-700/50 active:translate-x-1 md:hover:translate-x-1"}`,style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent",pointerEvents:"auto",position:"relative",zIndex:50},children:[u.jsx("div",{className:`p-2 md:p-3 rounded-full bg-[#0c0c0e] border border-[#27272a] flex-shrink-0 ${W?"text-stone-700":"text-stone-400 group-hover:text-amber-500"}`,style:{pointerEvents:"none"},children:u.jsx(ie,{size:20,className:"md:w-6 md:h-6",strokeWidth:1.5})}),u.jsxs("div",{className:"flex-1 flex flex-col gap-1 min-w-0",style:{pointerEvents:"none"},children:[u.jsxs("div",{className:"flex justify-between items-center w-full gap-2",children:[u.jsx("span",{className:`text-base md:text-lg font-serif tracking-wide ${W?"text-stone-500":"text-stone-200"} truncate flex-1`,children:typeof b.label=="function"?b.label(K):b.label}),u.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[Ge!==null&&u.jsxs("span",{className:`text-[9px] md:text-[10px] font-mono px-1.5 md:px-2 py-0.5 md:py-1 rounded border ${b.id.includes("buy")||Ge>0&&!b.id.includes("sell")?"border-yellow-700/50 text-yellow-500 bg-yellow-900/20":"border-emerald-700/50 text-emerald-500 bg-emerald-900/20"}`,children:[b.id.includes("sell")?"+":"","$",Ge]}),u.jsx("span",{className:`text-[9px] md:text-[10px] font-mono px-1.5 md:px-2 py-0.5 md:py-1 rounded border ${Ye}`,children:_t})]})]}),u.jsx("div",{className:"text-xs md:text-sm text-stone-500 font-serif italic line-clamp-2",children:typeof b.description=="function"?b.description(K):b.description})]})]},b.id)})}),u.jsx("div",{className:"h-40 md:h-8 w-full shrink-0 pointer-events-none"})]})]}),u.jsxs("div",{className:`${d==="journal"?"flex":"hidden"} md:flex w-full md:w-80 flex-shrink-0 flex-col border-l border-[#27272a] bg-[#0c0c0e] h-full md:h-auto relative z-10`,children:[u.jsxs("div",{className:"p-3 md:p-4 border-b border-[#27272a] bg-[#141417] flex justify-between items-center flex-shrink-0",children:[u.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider text-stone-500",children:n("journal")}),u.jsx("span",{className:"text-[9px] md:text-[10px] text-stone-700 font-mono",children:n("latestEvents")})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 font-serif custom-scrollbar space-y-4 md:space-y-6",children:[[...J].reverse().map((b,R)=>{const O=b.text==="init_game"?n("initGame"):b.text;return u.jsxs("div",{className:`animate-in fade-in slide-in-from-bottom-2 duration-500 ${R===0&&Aa?"animate-log-update":""}`,children:[u.jsx("div",{className:"flex items-center mb-1",children:u.jsx("span",{className:"text-[9px] md:text-[10px] font-mono text-stone-600 uppercase",children:n("day",{day:b.timestamp})})}),u.jsx("p",{className:`text-xs md:text-sm leading-relaxed ${b.type==="warning"?"text-red-900 border-l-2 border-red-900 pl-2":b.type==="result"?"text-stone-300":"text-stone-500"}`,children:wa(O)})]},b.id)}),u.jsx("div",{ref:Sa,className:"h-1"}),u.jsx("div",{className:"h-32 md:h-0 w-full shrink-0"})]})]}),u.jsxs("div",{className:`md:hidden fixed bottom-16 left-0 right-0 px-4 pt-3 pb-2 border-t border-[#27272a] bg-[#0c0c0e] z-20 pointer-events-none ${d==="journal"?"hidden":"block"} ${Aa?"animate-log-container-update":""}`,style:{maxHeight:"120px"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-stone-500",children:[u.jsx(Vo,{size:14,className:Aa?"animate-pulse":""}),u.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider",children:n("journal")})]}),u.jsxs("button",{onClick:()=>m("journal"),className:"text-[9px] text-stone-600 active:text-amber-500 transition-colors pointer-events-auto relative z-10",children:[o==="en"?"View All":""," "]})]}),u.jsx("div",{className:"min-h-[20px] max-h-[80px] overflow-y-auto custom-scrollbar",children:J&&Array.isArray(J)&&J.length>0&&J[0]&&J[0].text?u.jsxs("div",{className:`flex items-start gap-2 ${Aa?"animate-log-entry-update":""}`,children:[u.jsx("div",{className:"w-1 h-1 rounded-full bg-amber-700/50 mt-1.5 flex-shrink-0"}),u.jsx("p",{className:`text-[11px] leading-relaxed flex-1 break-words whitespace-normal ${J[0].type==="warning"?"text-red-900":J[0].type==="result"?"text-stone-300":"text-stone-500"}`,children:wa(J[0].text==="init_game"?n("initGame"):J[0].text)})]}):u.jsx("p",{className:"text-[11px] text-stone-600 italic",children:o==="en"?"No events yet...":"..."})})]}),u.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[#141417] border-t border-[#27272a] z-30 safe-area-inset-bottom",children:u.jsxs("div",{className:"flex items-center justify-around h-16",children:[u.jsxs("button",{onClick:()=>m("game"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${d==="game"?"text-amber-500":"text-stone-500"}`,children:[u.jsx(dm,{size:20}),u.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:o==="zh"?"":"GAME"})]}),u.jsxs("button",{onClick:()=>m("stats"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors relative ${d==="stats"?"text-amber-500":"text-stone-500"}`,children:[u.jsxs("div",{className:"relative",children:[u.jsx(Io,{size:20}),C.followers.filter(R=>{const O=C.followerStates?.[R],Q=O?.status??"healthy",W=O?.task,X=R==="nurse_follower"&&C.flags.madeline_sick,xe=W&&Q==="healthy",ne=Q==="injured"&&!X,Ge=`talked_to_${R}_day_${I.day}`,Ye=!!!C.flags[Ge];return xe||ne||Ye}).length>0?u.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse border border-[#141417]"}):null]}),u.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:o==="zh"?"":"STATS"})]}),u.jsxs("button",{onClick:()=>m("journal"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${d==="journal"?"text-amber-500":"text-stone-500"}`,children:[u.jsx(Vo,{size:20}),u.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:n("journal")})]})]})}),Qe&&be&&u.jsx("div",{className:"absolute inset-0 z-[70] bg-black/95 flex items-center justify-center p-4 md:p-8",children:u.jsxs("div",{className:"max-w-lg w-full border border-red-700/50 bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($a,{size:24,className:"text-red-500 flex-shrink-0"}),u.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-red-400 uppercase",children:o==="zh"?" ":" HIGH RISK ACTION"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"text-sm md:text-base text-stone-300 font-serif",children:typeof be.label=="function"?be.label(K):be.label}),u.jsx("div",{className:"text-xs md:text-sm text-stone-400 leading-relaxed border-l-2 border-red-700/30 pl-4",children:be.confirmationMessage?typeof be.confirmationMessage=="function"?be.confirmationMessage(K):be.confirmationMessage:o==="zh"?"":"This action carries high risk and may lead to serious consequences (addiction, infection, resource loss, etc.). Are you sure you want to continue?"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{le(!1),We(null)},className:"flex-1 px-6 md:px-8 py-3 md:py-4 border border-stone-800 active:border-stone-900 md:hover:border-stone-900 active:text-stone-300 md:hover:text-stone-300 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:o==="zh"?"":"Cancel"}),u.jsx("button",{onClick:()=>{be&&(gt(be),le(!1),We(null))},className:"flex-1 px-6 md:px-8 py-3 md:py-4 border border-red-800 active:border-red-900 md:hover:border-red-900 active:text-red-400 md:hover:text-red-400 text-red-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all font-bold",children:o==="zh"?"":"Confirm"})]})]})}),U&&K.origin&&u.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-4 md:p-8",children:u.jsxs("div",{className:"max-w-lg w-full border border-[#27272a] bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[u.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-amber-500 uppercase",children:o==="zh"?"":"Origin Trait"}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"text-sm md:text-base text-stone-300 font-serif",children:n(`origins.${K.origin}.name`)}),u.jsxs("div",{className:"text-xs md:text-sm text-stone-400 leading-relaxed",children:[K.origin==="doctor"&&o==="zh"&&u.jsxs(u.Fragment,{children:["",Math.round((pe.medicalBonus.multiplier-1)*100),"%"]}),K.origin==="doctor"&&o==="en"&&u.jsxs(u.Fragment,{children:["As a doctor, your medical training increases the sanity restoration effect of medical items (morphine, sedatives, purified serum, strong painkiller) by ",Math.round((pe.medicalBonus.multiplier-1)*100),"%. Your medical bag contains morphine and a scalpel."]}),K.origin==="fallen_noble"&&o==="zh"&&u.jsx(u.Fragment,{children:""}),K.origin==="fallen_noble"&&o==="en"&&u.jsx(u.Fragment,{children:"As a fallen noble, your family heritage protects you from price inflation. Even when the Ministry raises prices, you can still purchase items at their original cost."}),K.origin==="vagrant"&&o==="zh"&&u.jsx(u.Fragment,{children:""}),K.origin==="vagrant"&&o==="en"&&u.jsx(u.Fragment,{children:"As a vagrant, the survival wisdom you learned on the streets gives you greater resistance to anomalous phenomena. You start with higher sanity and greater tolerance for fear."})]})]}),u.jsx("button",{onClick:()=>G(!1),className:"w-full mt-4 md:mt-6 px-6 md:px-8 py-3 md:py-4 border border-stone-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:o==="zh"?"":"Understood"})]})}),me&&I.day===1&&!K.tutorialCompleted&&u.jsx("div",{className:"absolute inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 md:p-8",children:u.jsxs("div",{className:"max-w-2xl w-full border border-amber-700/50 bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[u.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-amber-500 uppercase",children:o==="zh"?"":"Welcome to Pale Threshold"}),u.jsx("div",{className:"space-y-4 text-sm md:text-base text-stone-300 leading-relaxed",children:o==="zh"?u.jsxs(u.Fragment,{children:[u.jsx("p",{children:""}),u.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-amber-700/30",children:[u.jsx("p",{className:"font-bold text-amber-400",children:" "}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-400",children:[u.jsxs("li",{children:["",u.jsx("strong",{className:"text-amber-400",children:""}),""]}),K.origin==="doctor"&&u.jsxs("li",{children:["",u.jsx("strong",{className:"text-blue-400",children:""}),"",u.jsx("strong",{className:"text-cyan-400",children:""}),"+",pe.clinicWork.rewardFunds,"-",pe.clinicWork.costSanity,"",pe.clinicWork.costAP,"",pe.clinicWork.maxMissedDays,""]}),u.jsxs("li",{children:["",u.jsx("strong",{className:"text-yellow-400",children:""}),"",pe.livingCost.earlyGameDays,"",pe.livingCost.earlyGameCost,"",pe.livingCost.normalCost,""]}),u.jsxs("li",{children:["",u.jsx("strong",{className:"text-amber-400",children:""}),"",pe.sanityThresholds.warning,""]}),K.origin!=="doctor"&&u.jsxs("li",{children:["",u.jsx("strong",{className:"text-cyan-400",children:""}),"",u.jsx("strong",{className:"text-cyan-400",children:""}),""]}),u.jsxs("li",{children:["",u.jsx("strong",{className:"text-purple-400",children:""}),""]})]})]}),u.jsx("p",{className:"text-xs text-stone-500 italic",children:'""'})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"This is a game about survival, exploration, and choices. Your goal is to survive in this dangerous city and discover hidden truths."}),u.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-amber-700/30",children:[u.jsx("p",{className:"font-bold text-amber-400",children:" Starting Tips:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-400",children:[u.jsxs("li",{children:["First, ",u.jsx("strong",{className:"text-amber-400",children:"step outside to explore the street"})," and look for work and resources"]}),u.jsxs("li",{children:["Make sure you have enough ",u.jsx("strong",{className:"text-yellow-400",children:"funds"})," to pay living expenses (",pe.livingCost.earlyGameCost," coin daily for the first ",pe.livingCost.earlyGameDays," days, then ",pe.livingCost.normalCost," coins daily afterwards)"]}),u.jsxs("li",{children:["Keep your ",u.jsx("strong",{className:"text-amber-400",children:"sanity"})," above ",pe.sanityThresholds.warning," to avoid breakdown"]}),u.jsxs("li",{children:["Look for work opportunities in the ",u.jsx("strong",{className:"text-cyan-400",children:"black market"})," or ",u.jsx("strong",{className:"text-cyan-400",children:"street"})," to earn funds"]}),u.jsxs("li",{children:["Explore the city, ",u.jsx("strong",{className:"text-purple-400",children:"recruit followers"}),", and build your cult"]})]})]}),u.jsx("p",{className:"text-xs text-stone-500 italic",children:'Tip: Check the "Goals" panel in the left sidebar to see your current objectives. Completing goals will help you better understand the game mechanics.'})]})}),u.jsx("button",{onClick:()=>{he(!1);try{const b=localStorage.getItem("pale_threshold_save_v1");if(b){const R=JSON.parse(b);R.tutorialCompleted=!0,localStorage.setItem("pale_threshold_save_v1",JSON.stringify(R))}}catch(b){console.error("Failed to save tutorial completion:",b)}},className:"w-full mt-4 md:mt-6 px-6 md:px-8 py-3 md:py-4 border border-amber-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-amber-400 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:o==="zh"?"":"Start Playing"})]})}),ve&&u.jsx("div",{className:"absolute inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 md:p-8",children:u.jsxs("div",{className:"max-w-lg w-full border border-red-700/50 bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx($a,{size:24,className:"text-red-500 flex-shrink-0"}),u.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-red-400 uppercase",children:o==="zh"?"":"Follower Injured"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"text-sm md:text-base text-stone-300 font-serif",children:o==="zh"?`${ve.followerName}`:`${ve.followerName} returns with wounds. Blood seeps through the bandages.`}),u.jsx("div",{className:"text-xs md:text-sm text-stone-400 leading-relaxed border-l-2 border-red-700/30 pl-4",children:o==="zh"?'""':'You can heal them at your apartment using the "Heal Injured Follower" action. Requires morphine or purified serum.'})]}),u.jsx("div",{className:"flex gap-3",children:u.jsx("button",{onClick:()=>at(null),className:"flex-1 px-4 py-2 border border-stone-700 active:border-stone-600 md:hover:border-stone-600 text-stone-400 active:text-stone-300 md:hover:text-stone-300 tracking-wider uppercase text-xs md:text-sm",children:o==="zh"?"":"Got it"})})]})}),ee&&u.jsx("div",{className:"absolute inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 md:p-8",children:u.jsxs("div",{className:`max-w-lg w-full border ${ee.type==="warning"?"border-red-700/50":"border-amber-700/50"} bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[ee.type==="warning"?u.jsx($a,{size:24,className:"text-red-500 flex-shrink-0"}):u.jsx(Sm,{size:24,className:"text-amber-500 flex-shrink-0"}),u.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider uppercase",style:{color:ee.type==="warning"?"#f87171":"#f59e0b"},children:ee.title})]}),u.jsx("div",{className:"space-y-3",children:u.jsx("div",{className:`text-sm md:text-base font-serif ${ee.type==="warning"?"text-red-300":"text-stone-300"}`,children:ee.message})}),u.jsx("div",{className:"flex gap-3",children:u.jsx("button",{onClick:()=>{nt(null)},className:"flex-1 px-4 py-2 border border-stone-700 active:border-stone-600 md:hover:border-stone-600 text-stone-400 active:text-stone-300 md:hover:text-stone-300 tracking-wider uppercase text-xs md:text-sm",children:o==="zh"?"":"Continue"})})]})}),Tt&&(()=>{const b=Tt,R=g[b],O=C.followerStates?.[b],Q=O?.loyalty??50,W=O?.status??"healthy",X=O?.task,xe=R?R.name:b,ne=W==="injured",Ge=b==="nurse_follower"&&C.flags.madeline_sick,_t=ne&&!Ge&&(C.inventory.includes("morphine")||C.inventory.includes("purified_serum")),Ye=X&&W==="healthy";let ie="";if(X)if(X.type==="money"&&X.requirement.money)ie=o==="zh"?` ${X.requirement.money} `:`Requires ${X.requirement.money} coins`;else if(X.type==="item"&&X.requirement.item){const ze={bread:{zh:"",en:"bread"},morphine:{zh:"",en:"morphine"},sedatives:{zh:"",en:"sedatives"},cheap_spirits:{zh:"",en:"spirits"}}[X.requirement.item]?.[o]||X.requirement.item;ie=o==="zh"?` ${ze}`:`Requires ${ze}`}else X.type==="help"&&(ie=o==="zh"?"":"Requires your help");const Ue=Ye&&(X.type==="money"&&X.requirement.money&&C.stats.funds>=X.requirement.money||X.type==="item"&&X.requirement.item&&C.inventory.includes(X.requirement.item)||X.type==="help");return u.jsx("div",{className:"absolute inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 md:p-8",onClick:ce=>{ce.target===ce.currentTarget&&ht(null)},children:u.jsxs("div",{className:"max-w-lg w-full border border-amber-700/50 bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",onClick:ce=>{ce.stopPropagation()},children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(fm,{size:24,className:"text-amber-500 flex-shrink-0"}),u.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-amber-400 uppercase",children:xe})]}),u.jsx("button",{onClick:()=>ht(null),className:"text-stone-500 hover:text-stone-300 transition-colors",children:u.jsx(Ug,{size:20})})]}),R&&u.jsx("div",{className:"text-sm md:text-base text-stone-400 font-serif italic border-l-2 border-amber-700/30 pl-4",children:R.description}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("span",{className:"text-stone-500",children:[o==="zh"?"":"Status",":"]}),u.jsxs("span",{className:`flex items-center gap-1 ${W==="injured"?"text-red-500":W==="insane"?"text-purple-500":"text-emerald-500"}`,children:[W==="injured"&&u.jsx($a,{size:14}),W==="insane"&&u.jsx(ln,{size:14}),W==="healthy"&&u.jsx(Xo,{size:14}),n(`followerStatus.${W}`)]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("span",{className:"text-stone-500",children:[n("loyalty"),":"]}),u.jsxs("span",{className:"text-amber-400",children:[Q,"/100"]})]})]}),Ye&&u.jsxs("div",{className:"border border-amber-700/30 bg-amber-950/20 p-4 rounded space-y-3",children:[u.jsx("div",{className:"text-sm font-bold text-amber-400 uppercase tracking-wider",children:o==="zh"?"":"Request"}),u.jsx("div",{className:"text-sm text-stone-300 font-serif",children:X.description}),u.jsx("div",{className:"text-xs text-stone-400",children:ie}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{if(Ue){K.player.flags.target_follower_id=b;const ce=Me.actions.find(ze=>ze.id==="complete_follower_task");ce&&gt(ce),ht(null)}},disabled:!Ue,className:`flex-1 px-4 py-2 border ${Ue?"border-emerald-700/50 active:border-emerald-600 md:hover:border-emerald-600 text-emerald-400 active:text-emerald-300 md:hover:text-emerald-300":"border-stone-700/50 text-stone-600 cursor-not-allowed"} tracking-wider uppercase text-xs md:text-sm transition-colors`,children:o==="zh"?"":"Accept"}),u.jsx("button",{onClick:()=>{K.player.flags.target_follower_id=b;const ce=Me.actions.find(ze=>ze.id==="reject_follower_task");ce&&gt(ce),ht(null)},className:"flex-1 px-4 py-2 border border-red-700/50 active:border-red-600 md:hover:border-red-600 text-red-400 active:text-red-300 md:hover:text-red-300 tracking-wider uppercase text-xs md:text-sm transition-colors",children:o==="zh"?"":"Reject"})]})]}),ne&&!Ge&&u.jsxs("div",{className:"border border-red-700/30 bg-red-950/20 p-4 rounded space-y-3",children:[u.jsxs("div",{className:"text-sm font-bold text-red-400 uppercase tracking-wider flex items-center gap-2",children:[u.jsx($a,{size:16}),o==="zh"?"":"Injured"]}),u.jsx("div",{className:"text-sm text-stone-300",children:o==="zh"?`${xe}`:`${xe} returns with wounds. Blood seeps through the bandages.`}),_t?u.jsx("button",{onClick:()=>{K.player.flags.target_follower_id=b;const ce=Me.actions.find(ze=>ze.id==="heal_follower");ce&&gt(ce),ht(null)},className:"w-full px-4 py-2 border border-emerald-700/50 active:border-emerald-600 md:hover:border-emerald-600 text-emerald-400 active:text-emerald-300 md:hover:text-emerald-300 tracking-wider uppercase text-xs md:text-sm transition-colors",children:o==="zh"?`${C.inventory.includes("purified_serum")?o==="zh"?"":"Purified Serum":o==="zh"?"":"Morphine"}`:`Heal with ${C.inventory.includes("purified_serum")?"Purified Serum":"Morphine"}`}):u.jsx("div",{className:"text-xs text-stone-400 border-l-2 border-red-700/30 pl-4",children:o==="zh"?"":"Requires morphine or purified serum to heal."})]}),Ge&&u.jsxs("div",{className:"border border-purple-700/30 bg-purple-950/20 p-4 rounded space-y-3",children:[u.jsx("div",{className:"text-sm font-bold text-purple-400 uppercase tracking-wider",children:o==="zh"?"":"Special Condition"}),u.jsx("div",{className:"text-sm text-stone-300",children:o==="zh"?"":"Madeline's condition requires special treatment and cannot be healed with regular medicine."})]}),(()=>{const ce=`talked_to_${b}_day_${I.day}`,ue=!!!C.flags[ce];return u.jsxs("div",{className:"border border-amber-700/30 bg-amber-950/20 p-4 rounded space-y-3",children:[u.jsxs("div",{className:"text-sm font-bold text-amber-400 uppercase tracking-wider flex items-center gap-2",children:[u.jsx(xi,{size:16}),o==="zh"?"":"Talk"]}),u.jsx("div",{className:"text-sm text-stone-300",children:o==="zh"?`${xe}1`:`Have a deep conversation with ${xe} to strengthen your bond. Can talk once per day (costs 1 AP).`}),ue?u.jsx("button",{onClick:()=>{const Le=`talked_to_${b}_day_${I.day}`;if(C.flags[Le])return;K.player.flags.target_follower_id=b;let ka=Me.actions.find(Sl=>Sl.id==="talk_to_follower");if(!ka&&B){for(const Sl in B)if(ka=B[Sl].actions.find(el=>el.id==="talk_to_follower"),ka)break}ka&&Rt(ka)&&(gt(ka),ht(null))},disabled:!ue,className:"w-full px-4 py-2 border border-amber-700/50 active:border-amber-600 md:hover:border-amber-600 text-amber-400 active:text-amber-300 md:hover:text-amber-300 tracking-wider uppercase text-xs md:text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o==="zh"?"":"Talk"}):u.jsx("div",{className:"text-xs text-stone-400 border-l-2 border-amber-700/30 pl-4",children:o==="zh"?"":"You've already talked today. Come back tomorrow."})]})})(),u.jsx("button",{onClick:()=>ht(null),className:"w-full px-4 py-2 border border-stone-700 active:border-stone-600 md:hover:border-stone-600 text-stone-400 active:text-stone-300 md:hover:text-stone-300 tracking-wider uppercase text-xs md:text-sm transition-colors",children:o==="zh"?"":"Close"})]})})})(),K.status!=="playing"&&K.ending&&u.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-4 md:p-8",children:u.jsxs("div",{className:"max-w-2xl w-full text-center space-y-4 md:space-y-8",children:[u.jsx("h1",{className:"text-3xl md:text-6xl font-serif font-bold tracking-widest uppercase text-amber-500",children:K.ending.title}),u.jsx("p",{className:"text-base md:text-xl text-stone-400 font-serif italic",children:K.ending.description}),u.jsx("button",{onClick:bt,className:"mt-4 md:mt-8 px-6 md:px-10 py-3 md:py-4 border border-stone-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm",children:n("gameOver.restart")})]})})]})}const an=({icon:n,label:c,value:o,max:d,color:m})=>u.jsxs("div",{className:"flex items-center justify-between group",children:[u.jsxs("div",{className:"flex items-center text-stone-500 gap-2 md:gap-3",children:[u.jsx("span",{className:"opacity-70",children:n}),u.jsx("span",{className:"text-[10px] md:text-xs font-bold tracking-wider",children:c})]}),u.jsxs("span",{className:`font-mono text-xs md:text-sm ${m}`,children:[o,d?u.jsxs("span",{className:"text-stone-700 text-[9px] md:text-[10px]",children:["/",d]}):""]})]});function Gg(n){return n.includes("bread")?Dg:n.includes("rat")?yg:n.includes("spirit")?Rg:n.includes("sedative")||n.includes("morphine")?mg:n.includes("key")?rg:n.includes("lantern")?Po:n.includes("dagger")||n.includes("scalpel")?Mg:n.includes("scroll")||n.includes("file")?_g:n.includes("tooth")||n.includes("idol")?ng:n.includes("fungus")?Ng:n.includes("manuscript")||n.includes("coat")?Vo:xm}function Lg(n){return n.includes("leave")||n.includes("return")||n.includes("enter")||n.includes("unlock")||n.includes("visit")||n.includes("flee")||n.includes("wake")?eg:n.includes("sleep")?Sm:n.includes("work")||n.includes("job")?Fp:n.includes("buy")||n.includes("sell")?Sg:n.includes("talk")||n.includes("recruit")||n.includes("dispatch")?xi:n.includes("eat")||n.includes("drink")||n.includes("take")?Eg:n.includes("study")||n.includes("read")||n.includes("write")?wm:n.includes("explore")||n.includes("scavenge")||n.includes("search")||n.includes("find")?xg:n.includes("lay_low")?Qp:n.includes("ritual")||n.includes("lobotomy")||n.includes("blood")||n.includes("implant")||n.includes("harvest")||n.includes("shock")||n.includes("steal")?ln:Qo}Xy.createRoot(document.getElementById("root")).render(u.jsx($.StrictMode,{children:u.jsx(Bg,{})}));
