(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))c(S);new MutationObserver(S=>{for(const j of S)if(j.type==="childList")for(const R of j.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&c(R)}).observe(document,{childList:!0,subtree:!0});function d(S){const j={};return S.integrity&&(j.integrity=S.integrity),S.referrerPolicy&&(j.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?j.credentials="include":S.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function c(S){if(S.ep)return;S.ep=!0;const j=d(S);fetch(S.href,j)}})();var wo={exports:{}},Bn={};var Rf;function _y(){if(Rf)return Bn;Rf=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function d(c,S,j){var R=null;if(j!==void 0&&(R=""+j),S.key!==void 0&&(R=""+S.key),"key"in S){j={};for(var I in S)I!=="key"&&(j[I]=S[I])}else j=S;return S=j.ref,{$$typeof:i,type:c,key:R,ref:S!==void 0?S:null,props:j}}return Bn.Fragment=u,Bn.jsx=d,Bn.jsxs=d,Bn}var Cf;function vy(){return Cf||(Cf=1,wo.exports=_y()),wo.exports}var f=vy(),So={exports:{}},ee={};var Yf;function xy(){if(Yf)return ee;Yf=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),z=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),pe=Symbol.iterator;function oe(m){return m===null||typeof m!="object"?null:(m=pe&&m[pe]||m["@@iterator"],typeof m=="function"?m:null)}var De={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ke=Object.assign,vt={};function Je(m,w,O){this.props=m,this.context=w,this.refs=vt,this.updater=O||De}Je.prototype.isReactComponent={},Je.prototype.setState=function(m,w){if(typeof m!="object"&&typeof m!="function"&&m!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,m,w,"setState")},Je.prototype.forceUpdate=function(m){this.updater.enqueueForceUpdate(this,m,"forceUpdate")};function dt(){}dt.prototype=Je.prototype;function _(m,w,O){this.props=m,this.context=w,this.refs=vt,this.updater=O||De}var M=_.prototype=new dt;M.constructor=_,Ke(M,Je.prototype),M.isPureReactComponent=!0;var Y=Array.isArray;function Q(){}var G={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function Oe(m,w,O){var B=O.ref;return{$$typeof:i,type:m,key:w,ref:B!==void 0?B:null,props:O}}function V(m,w){return Oe(m.type,w,m.props)}function ze(m){return typeof m=="object"&&m!==null&&m.$$typeof===i}function ae(m){var w={"=":"=0",":":"=2"};return"$"+m.replace(/[=:]/g,function(O){return w[O]})}var Ie=/\/+/g;function xe(m,w){return typeof m=="object"&&m!==null&&m.key!=null?ae(""+m.key):w.toString(36)}function He(m){switch(m.status){case"fulfilled":return m.value;case"rejected":throw m.reason;default:switch(typeof m.status=="string"?m.then(Q,Q):(m.status="pending",m.then(function(w){m.status==="pending"&&(m.status="fulfilled",m.value=w)},function(w){m.status==="pending"&&(m.status="rejected",m.reason=w)})),m.status){case"fulfilled":return m.value;case"rejected":throw m.reason}}throw m}function p(m,w,O,B,J){var se=typeof m;(se==="undefined"||se==="boolean")&&(m=null);var me=!1;if(m===null)me=!0;else switch(se){case"bigint":case"string":case"number":me=!0;break;case"object":switch(m.$$typeof){case i:case u:me=!0;break;case te:return me=m._init,p(me(m._payload),w,O,B,J)}}if(me)return J=J(m),me=B===""?"."+xe(m,0):B,Y(J)?(O="",me!=null&&(O=me.replace(Ie,"$&/")+"/"),p(J,w,O,"",function(We){return We})):J!=null&&(ze(J)&&(J=V(J,O+(J.key==null||m&&m.key===J.key?"":(""+J.key).replace(Ie,"$&/")+"/")+me)),w.push(J)),1;me=0;var Qe=B===""?".":B+":";if(Y(m))for(var ue=0;ue<m.length;ue++)B=m[ue],se=Qe+xe(B,ue),me+=p(B,w,O,se,J);else if(ue=oe(m),typeof ue=="function")for(m=ue.call(m),ue=0;!(B=m.next()).done;)B=B.value,se=Qe+xe(B,ue++),me+=p(B,w,O,se,J);else if(se==="object"){if(typeof m.then=="function")return p(He(m),w,O,B,J);throw w=String(m),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.")}return me}function q(m,w,O){if(m==null)return m;var B=[],J=0;return p(m,B,"","",function(se){return w.call(O,se,J++)}),B}function D(m){if(m._status===-1){var w=m._result;w=w(),w.then(function(O){(m._status===0||m._status===-1)&&(m._status=1,m._result=O)},function(O){(m._status===0||m._status===-1)&&(m._status=2,m._result=O)}),m._status===-1&&(m._status=0,m._result=w)}if(m._status===1)return m._result.default;throw m._result}var H=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},C={map:q,forEach:function(m,w,O){q(m,function(){w.apply(this,arguments)},O)},count:function(m){var w=0;return q(m,function(){w++}),w},toArray:function(m){return q(m,function(w){return w})||[]},only:function(m){if(!ze(m))throw Error("React.Children.only expected to receive a single React element child.");return m}};return ee.Activity=K,ee.Children=C,ee.Component=Je,ee.Fragment=d,ee.Profiler=S,ee.PureComponent=_,ee.StrictMode=c,ee.Suspense=U,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ee.__COMPILER_RUNTIME={__proto__:null,c:function(m){return G.H.useMemoCache(m)}},ee.cache=function(m){return function(){return m.apply(null,arguments)}},ee.cacheSignal=function(){return null},ee.cloneElement=function(m,w,O){if(m==null)throw Error("The argument must be a React element, but you passed "+m+".");var B=Ke({},m.props),J=m.key;if(w!=null)for(se in w.key!==void 0&&(J=""+w.key),w)!P.call(w,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&w.ref===void 0||(B[se]=w[se]);var se=arguments.length-2;if(se===1)B.children=O;else if(1<se){for(var me=Array(se),Qe=0;Qe<se;Qe++)me[Qe]=arguments[Qe+2];B.children=me}return Oe(m.type,J,B)},ee.createContext=function(m){return m={$$typeof:R,_currentValue:m,_currentValue2:m,_threadCount:0,Provider:null,Consumer:null},m.Provider=m,m.Consumer={$$typeof:j,_context:m},m},ee.createElement=function(m,w,O){var B,J={},se=null;if(w!=null)for(B in w.key!==void 0&&(se=""+w.key),w)P.call(w,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(J[B]=w[B]);var me=arguments.length-2;if(me===1)J.children=O;else if(1<me){for(var Qe=Array(me),ue=0;ue<me;ue++)Qe[ue]=arguments[ue+2];J.children=Qe}if(m&&m.defaultProps)for(B in me=m.defaultProps,me)J[B]===void 0&&(J[B]=me[B]);return Oe(m,se,J)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(m){return{$$typeof:I,render:m}},ee.isValidElement=ze,ee.lazy=function(m){return{$$typeof:te,_payload:{_status:-1,_result:m},_init:D}},ee.memo=function(m,w){return{$$typeof:z,type:m,compare:w===void 0?null:w}},ee.startTransition=function(m){var w=G.T,O={};G.T=O;try{var B=m(),J=G.S;J!==null&&J(O,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(Q,H)}catch(se){H(se)}finally{w!==null&&O.types!==null&&(w.types=O.types),G.T=w}},ee.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ee.use=function(m){return G.H.use(m)},ee.useActionState=function(m,w,O){return G.H.useActionState(m,w,O)},ee.useCallback=function(m,w){return G.H.useCallback(m,w)},ee.useContext=function(m){return G.H.useContext(m)},ee.useDebugValue=function(){},ee.useDeferredValue=function(m,w){return G.H.useDeferredValue(m,w)},ee.useEffect=function(m,w){return G.H.useEffect(m,w)},ee.useEffectEvent=function(m){return G.H.useEffectEvent(m)},ee.useId=function(){return G.H.useId()},ee.useImperativeHandle=function(m,w,O){return G.H.useImperativeHandle(m,w,O)},ee.useInsertionEffect=function(m,w){return G.H.useInsertionEffect(m,w)},ee.useLayoutEffect=function(m,w){return G.H.useLayoutEffect(m,w)},ee.useMemo=function(m,w){return G.H.useMemo(m,w)},ee.useOptimistic=function(m,w){return G.H.useOptimistic(m,w)},ee.useReducer=function(m,w,O){return G.H.useReducer(m,w,O)},ee.useRef=function(m){return G.H.useRef(m)},ee.useState=function(m){return G.H.useState(m)},ee.useSyncExternalStore=function(m,w,O){return G.H.useSyncExternalStore(m,w,O)},ee.useTransition=function(){return G.H.useTransition()},ee.version="19.2.0",ee}var Uf;function Co(){return Uf||(Uf=1,So.exports=xy()),So.exports}var re=Co(),Ao={exports:{}},Gn={},ko={exports:{}},Mo={};var Hf;function wy(){return Hf||(Hf=1,(function(i){function u(p,q){var D=p.length;p.push(q);e:for(;0<D;){var H=D-1>>>1,C=p[H];if(0<S(C,q))p[H]=q,p[D]=C,D=H;else break e}}function d(p){return p.length===0?null:p[0]}function c(p){if(p.length===0)return null;var q=p[0],D=p.pop();if(D!==q){p[0]=D;e:for(var H=0,C=p.length,m=C>>>1;H<m;){var w=2*(H+1)-1,O=p[w],B=w+1,J=p[B];if(0>S(O,D))B<C&&0>S(J,O)?(p[H]=J,p[B]=D,H=B):(p[H]=O,p[w]=D,H=w);else if(B<C&&0>S(J,D))p[H]=J,p[B]=D,H=B;else break e}}return q}function S(p,q){var D=p.sortIndex-q.sortIndex;return D!==0?D:p.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var j=performance;i.unstable_now=function(){return j.now()}}else{var R=Date,I=R.now();i.unstable_now=function(){return R.now()-I}}var U=[],z=[],te=1,K=null,pe=3,oe=!1,De=!1,Ke=!1,vt=!1,Je=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function M(p){for(var q=d(z);q!==null;){if(q.callback===null)c(z);else if(q.startTime<=p)c(z),q.sortIndex=q.expirationTime,u(U,q);else break;q=d(z)}}function Y(p){if(Ke=!1,M(p),!De)if(d(U)!==null)De=!0,Q||(Q=!0,ae());else{var q=d(z);q!==null&&He(Y,q.startTime-p)}}var Q=!1,G=-1,P=5,Oe=-1;function V(){return vt?!0:!(i.unstable_now()-Oe<P)}function ze(){if(vt=!1,Q){var p=i.unstable_now();Oe=p;var q=!0;try{e:{De=!1,Ke&&(Ke=!1,dt(G),G=-1),oe=!0;var D=pe;try{t:{for(M(p),K=d(U);K!==null&&!(K.expirationTime>p&&V());){var H=K.callback;if(typeof H=="function"){K.callback=null,pe=K.priorityLevel;var C=H(K.expirationTime<=p);if(p=i.unstable_now(),typeof C=="function"){K.callback=C,M(p),q=!0;break t}K===d(U)&&c(U),M(p)}else c(U);K=d(U)}if(K!==null)q=!0;else{var m=d(z);m!==null&&He(Y,m.startTime-p),q=!1}}break e}finally{K=null,pe=D,oe=!1}q=void 0}}finally{q?ae():Q=!1}}}var ae;if(typeof _=="function")ae=function(){_(ze)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,xe=Ie.port2;Ie.port1.onmessage=ze,ae=function(){xe.postMessage(null)}}else ae=function(){Je(ze,0)};function He(p,q){G=Je(function(){p(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(p){p.callback=null},i.unstable_forceFrameRate=function(p){0>p||125<p?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<p?Math.floor(1e3/p):5},i.unstable_getCurrentPriorityLevel=function(){return pe},i.unstable_next=function(p){switch(pe){case 1:case 2:case 3:var q=3;break;default:q=pe}var D=pe;pe=q;try{return p()}finally{pe=D}},i.unstable_requestPaint=function(){vt=!0},i.unstable_runWithPriority=function(p,q){switch(p){case 1:case 2:case 3:case 4:case 5:break;default:p=3}var D=pe;pe=p;try{return q()}finally{pe=D}},i.unstable_scheduleCallback=function(p,q,D){var H=i.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?H+D:H):D=H,p){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=D+C,p={id:te++,callback:q,priorityLevel:p,startTime:D,expirationTime:C,sortIndex:-1},D>H?(p.sortIndex=D,u(z,p),d(U)===null&&p===d(z)&&(Ke?(dt(G),G=-1):Ke=!0,He(Y,D-H))):(p.sortIndex=C,u(U,p),De||oe||(De=!0,Q||(Q=!0,ae()))),p},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(p){var q=pe;return function(){var D=pe;pe=q;try{return p.apply(this,arguments)}finally{pe=D}}}})(Mo)),Mo}var Bf;function Sy(){return Bf||(Bf=1,ko.exports=wy()),ko.exports}var No={exports:{}},ut={};var Gf;function Ay(){if(Gf)return ut;Gf=1;var i=Co();function u(U){var z="https://react.dev/errors/"+U;if(1<arguments.length){z+="?args[]="+encodeURIComponent(arguments[1]);for(var te=2;te<arguments.length;te++)z+="&args[]="+encodeURIComponent(arguments[te])}return"Minified React error #"+U+"; visit "+z+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var c={d:{f:d,r:function(){throw Error(u(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},S=Symbol.for("react.portal");function j(U,z,te){var K=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:K==null?null:""+K,children:U,containerInfo:z,implementation:te}}var R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function I(U,z){if(U==="font")return"";if(typeof z=="string")return z==="use-credentials"?z:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,ut.createPortal=function(U,z){var te=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z||z.nodeType!==1&&z.nodeType!==9&&z.nodeType!==11)throw Error(u(299));return j(U,z,null,te)},ut.flushSync=function(U){var z=R.T,te=c.p;try{if(R.T=null,c.p=2,U)return U()}finally{R.T=z,c.p=te,c.d.f()}},ut.preconnect=function(U,z){typeof U=="string"&&(z?(z=z.crossOrigin,z=typeof z=="string"?z==="use-credentials"?z:"":void 0):z=null,c.d.C(U,z))},ut.prefetchDNS=function(U){typeof U=="string"&&c.d.D(U)},ut.preinit=function(U,z){if(typeof U=="string"&&z&&typeof z.as=="string"){var te=z.as,K=I(te,z.crossOrigin),pe=typeof z.integrity=="string"?z.integrity:void 0,oe=typeof z.fetchPriority=="string"?z.fetchPriority:void 0;te==="style"?c.d.S(U,typeof z.precedence=="string"?z.precedence:void 0,{crossOrigin:K,integrity:pe,fetchPriority:oe}):te==="script"&&c.d.X(U,{crossOrigin:K,integrity:pe,fetchPriority:oe,nonce:typeof z.nonce=="string"?z.nonce:void 0})}},ut.preinitModule=function(U,z){if(typeof U=="string")if(typeof z=="object"&&z!==null){if(z.as==null||z.as==="script"){var te=I(z.as,z.crossOrigin);c.d.M(U,{crossOrigin:te,integrity:typeof z.integrity=="string"?z.integrity:void 0,nonce:typeof z.nonce=="string"?z.nonce:void 0})}}else z==null&&c.d.M(U)},ut.preload=function(U,z){if(typeof U=="string"&&typeof z=="object"&&z!==null&&typeof z.as=="string"){var te=z.as,K=I(te,z.crossOrigin);c.d.L(U,te,{crossOrigin:K,integrity:typeof z.integrity=="string"?z.integrity:void 0,nonce:typeof z.nonce=="string"?z.nonce:void 0,type:typeof z.type=="string"?z.type:void 0,fetchPriority:typeof z.fetchPriority=="string"?z.fetchPriority:void 0,referrerPolicy:typeof z.referrerPolicy=="string"?z.referrerPolicy:void 0,imageSrcSet:typeof z.imageSrcSet=="string"?z.imageSrcSet:void 0,imageSizes:typeof z.imageSizes=="string"?z.imageSizes:void 0,media:typeof z.media=="string"?z.media:void 0})}},ut.preloadModule=function(U,z){if(typeof U=="string")if(z){var te=I(z.as,z.crossOrigin);c.d.m(U,{as:typeof z.as=="string"&&z.as!=="script"?z.as:void 0,crossOrigin:te,integrity:typeof z.integrity=="string"?z.integrity:void 0})}else c.d.m(U)},ut.requestFormReset=function(U){c.d.r(U)},ut.unstable_batchedUpdates=function(U,z){return U(z)},ut.useFormState=function(U,z,te){return R.H.useFormState(U,z,te)},ut.useFormStatus=function(){return R.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var If;function ky(){if(If)return No.exports;If=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),No.exports=Ay(),No.exports}var Lf;function My(){if(Lf)return Gn;Lf=1;var i=Sy(),u=Co(),d=ky();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function j(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function R(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U(e){if(j(e)!==e)throw Error(c(188))}function z(e){var t=e.alternate;if(!t){if(t=j(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var s=n.alternate;if(s===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===a)return U(n),e;if(s===l)return U(n),t;s=s.sibling}throw Error(c(188))}if(a.return!==l.return)a=n,l=s;else{for(var r=!1,o=n.child;o;){if(o===a){r=!0,a=n,l=s;break}if(o===l){r=!0,l=n,a=s;break}o=o.sibling}if(!r){for(o=s.child;o;){if(o===a){r=!0,a=s,l=n;break}if(o===l){r=!0,l=s,a=n;break}o=o.sibling}if(!r)throw Error(c(189))}}if(a.alternate!==l)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function te(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=te(e),t!==null)return t;e=e.sibling}return null}var K=Object.assign,pe=Symbol.for("react.element"),oe=Symbol.for("react.transitional.element"),De=Symbol.for("react.portal"),Ke=Symbol.for("react.fragment"),vt=Symbol.for("react.strict_mode"),Je=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),_=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Oe=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),ze=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=ze&&e[ze]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ke:return"Fragment";case Je:return"Profiler";case vt:return"StrictMode";case Y:return"Suspense";case Q:return"SuspenseList";case Oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case De:return"Portal";case _:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case M:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:xe(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return xe(e(t))}catch{}}return null}var He=Array.isArray,p=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},H=[],C=-1;function m(e){return{current:e}}function w(e){0>C||(e.current=H[C],H[C]=null,C--)}function O(e,t){C++,H[C]=e.current,e.current=t}var B=m(null),J=m(null),se=m(null),me=m(null);function Qe(e,t){switch(O(se,t),O(J,e),O(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lf(t),e=nf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}w(B),O(B,e)}function ue(){w(B),w(J),w(se)}function We(e){e.memoizedState!==null&&O(me,e);var t=B.current,a=nf(t,e.type);t!==a&&(O(J,e),O(B,a))}function ol(e){J.current===e&&(w(B),w(J)),me.current===e&&(w(me),Cn._currentValue=D)}var k,Z;function W(e){if(k===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||"",Z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+e+Z}var le=!1;function qe(e,t){if(!e||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var E=function(){throw Error()};if(Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(A){var x=A}Reflect.construct(e,[],E)}else{try{E.call()}catch(A){x=A}e.call(E.prototype)}}else{try{throw Error()}catch(A){x=A}(E=e())&&typeof E.catch=="function"&&E.catch(function(){})}}catch(A){if(A&&x&&typeof A.stack=="string")return[A.stack,x.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),r=s[0],o=s[1];if(r&&o){var h=r.split(`
`),v=o.split(`
`);for(n=l=0;l<h.length&&!h[l].includes("DetermineComponentFrameRoot");)l++;for(;n<v.length&&!v[n].includes("DetermineComponentFrameRoot");)n++;if(l===h.length||n===v.length)for(l=h.length-1,n=v.length-1;1<=l&&0<=n&&h[l]!==v[n];)n--;for(;1<=l&&0<=n;l--,n--)if(h[l]!==v[n]){if(l!==1||n!==1)do if(l--,n--,0>n||h[l]!==v[n]){var N=`
`+h[l].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=l&&0<=n);break}}}finally{le=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?W(a):""}function et(e,t){switch(e.tag){case 26:case 27:case 5:return W(e.type);case 16:return W("Lazy");case 13:return e.child!==t&&t!==null?W("Suspense Fallback"):W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return qe(e.type,!1);case 11:return qe(e.type.render,!1);case 1:return qe(e.type,!0);case 31:return W("Activity");default:return""}}function ot(e){try{var t="",a=null;do t+=et(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Bt=Object.prototype.hasOwnProperty,Gt=i.unstable_scheduleCallback,Ia=i.unstable_cancelCallback,It=i.unstable_shouldYield,we=i.unstable_requestPaint,Re=i.unstable_now,La=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,Se=i.unstable_UserBlockingPriority,ft=i.unstable_NormalPriority,eh=i.unstable_LowPriority,Yo=i.unstable_IdlePriority,th=i.log,ah=i.unstable_setDisableYieldValue,Zl=null,xt=null;function ga(e){if(typeof th=="function"&&ah(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Zl,e)}catch{}}var wt=Math.clz32?Math.clz32:sh,lh=Math.log,nh=Math.LN2;function sh(e){return e>>>=0,e===0?32:31-(lh(e)/nh|0)|0}var Vn=256,Zn=262144,Fn=4194304;function Xa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pn(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=l&134217727;return o!==0?(l=o&~s,l!==0?n=Xa(l):(r&=o,r!==0?n=Xa(r):a||(a=o&~e,a!==0&&(n=Xa(a))))):(o=l&~s,o!==0?n=Xa(o):r!==0?n=Xa(r):a||(a=l&~e,a!==0&&(n=Xa(a)))),n===0?0:t!==0&&t!==n&&(t&s)===0&&(s=n&-n,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:n}function Fl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ih(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var e=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),e}function ui(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rh(e,t,a,l,n,s){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,h=e.expirationTimes,v=e.hiddenUpdates;for(a=r&~a;0<a;){var N=31-wt(a),E=1<<N;o[N]=0,h[N]=-1;var x=v[N];if(x!==null)for(v[N]=null,N=0;N<x.length;N++){var A=x[N];A!==null&&(A.lane&=-536870913)}a&=~E}l!==0&&Ho(e,l,0),s!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function Ho(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-wt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Bo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-wt(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function Go(e,t){var a=t&-t;return a=(a&42)!==0?1:ci(a),(a&(e.suspendedLanes|t))!==0?0:a}function ci(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Io(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:Tf(e.type))}function Lo(e,t){var a=q.p;try{return q.p=e,t()}finally{q.p=a}}var ba=Math.random().toString(36).slice(2),lt="__reactFiber$"+ba,ht="__reactProps$"+ba,ul="__reactContainer$"+ba,fi="__reactEvents$"+ba,oh="__reactListeners$"+ba,uh="__reactHandles$"+ba,Xo="__reactResources$"+ba,Kl="__reactMarker$"+ba;function hi(e){delete e[lt],delete e[ht],delete e[fi],delete e[oh],delete e[uh]}function cl(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ul]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ff(e);e!==null;){if(a=e[lt])return a;e=ff(e)}return t}e=a,a=e.parentNode}return null}function dl(e){if(e=e[lt]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $l(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function fl(e){var t=e[Xo];return t||(t=e[Xo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Kl]=!0}var Qo=new Set,Vo={};function Qa(e,t){hl(e,t),hl(e+"Capture",t)}function hl(e,t){for(Vo[e]=t,e=0;e<t.length;e++)Qo.add(t[e])}var ch=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Fo={};function dh(e){return Bt.call(Fo,e)?!0:Bt.call(Zo,e)?!1:ch.test(e)?Fo[e]=!0:(Zo[e]=!0,!1)}function Kn(e,t,a){if(dh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function $n(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Wt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Po(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mi(e){if(!e._valueTracker){var t=Po(e)?"checked":"value";e._valueTracker=fh(e,t,""+e[t])}}function Ko(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Po(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hh=/[\n"\\]/g;function Et(e){return e.replace(hh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function yi(e,t,a,l,n,s,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?pi(e,r,qt(t)):a!=null?pi(e,r,qt(a)):l!=null&&e.removeAttribute("value"),n==null&&s!=null&&(e.defaultChecked=!!s),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+qt(o):e.removeAttribute("name")}function $o(e,t,a,l,n,s,r,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){mi(e);return}a=a!=null?""+qt(a):"",t=t!=null?""+qt(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=o?e.checked:!!l,e.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),mi(e)}function pi(e,t,a){t==="number"&&Jn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ml(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+qt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Jo(e,t,a){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+qt(a):""}function Wo(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(c(92));if(He(l)){if(1<l.length)throw Error(c(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=qt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),mi(e)}function yl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||mh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function tu(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&eu(e,n,l)}else for(var s in t)t.hasOwnProperty(s)&&eu(e,s,t[s])}function gi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(e){return ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var bi=null;function _i(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pl=null,gl=null;function au(e){var t=dl(e);if(t&&(e=t.stateNode)){var a=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(yi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[ht]||null;if(!n)throw Error(c(90));yi(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Ko(l)}break e;case"textarea":Jo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ml(e,!!a.multiple,t,!1)}}}var vi=!1;function lu(e,t,a){if(vi)return e(t,a);vi=!0;try{var l=e(t);return l}finally{if(vi=!1,(pl!==null||gl!==null)&&(Bs(),pl&&(t=pl,e=gl,gl=pl=null,au(t),e)))for(t=0;t<e.length;t++)au(e[t])}}function Jl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[ht]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=!1;if(ta)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){xi=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{xi=!1}var _a=null,wi=null,es=null;function nu(){if(es)return es;var e,t=wi,a=t.length,l,n="value"in _a?_a.value:_a.textContent,s=n.length;for(e=0;e<a&&t[e]===n[e];e++);var r=a-e;for(l=1;l<=r&&t[a-l]===n[s-l];l++);return es=n.slice(e,1<l?1-l:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function su(){return!1}function mt(e){function t(a,l,n,s,r){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?as:su,this.isPropagationStopped=su,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=mt(Va),en=K({},Va,{view:0,detail:0}),gh=mt(en),Si,Ai,tn,ns=K({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&e.type==="mousemove"?(Si=e.screenX-tn.screenX,Ai=e.screenY-tn.screenY):Ai=Si=0,tn=e),Si)},movementY:function(e){return"movementY"in e?e.movementY:Ai}}),iu=mt(ns),bh=K({},ns,{dataTransfer:0}),_h=mt(bh),vh=K({},en,{relatedTarget:0}),ki=mt(vh),xh=K({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),wh=mt(xh),Sh=K({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ah=mt(Sh),kh=K({},Va,{data:0}),ru=mt(kh),Mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Th[e])?!!t[e]:!1}function Mi(){return zh}var qh=K({},en,{key:function(e){if(e.key){var t=Mh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(e){return e.type==="keypress"?ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eh=mt(qh),jh=K({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=mt(jh),Dh=K({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),Oh=mt(Dh),Rh=K({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ch=mt(Rh),Yh=K({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uh=mt(Yh),Hh=K({},Va,{newState:0,oldState:0}),Bh=mt(Hh),Gh=[9,13,27,32],Ni=ta&&"CompositionEvent"in window,an=null;ta&&"documentMode"in document&&(an=document.documentMode);var Ih=ta&&"TextEvent"in window&&!an,uu=ta&&(!Ni||an&&8<an&&11>=an),cu=" ",du=!1;function fu(e,t){switch(e){case"keyup":return Gh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function Lh(e,t){switch(e){case"compositionend":return hu(t);case"keypress":return t.which!==32?null:(du=!0,cu);case"textInput":return e=t.data,e===cu&&du?null:e;default:return null}}function Xh(e,t){if(bl)return e==="compositionend"||!Ni&&fu(e,t)?(e=nu(),es=wi=_a=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uu&&t.locale!=="ko"?null:t.data;default:return null}}var Qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qh[e.type]:t==="textarea"}function yu(e,t,a,l){pl?gl?gl.push(l):gl=[l]:pl=l,t=Zs(t,"onChange"),0<t.length&&(a=new ls("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var ln=null,nn=null;function Vh(e){$d(e,0)}function ss(e){var t=$l(e);if(Ko(t))return e}function pu(e,t){if(e==="change")return t}var gu=!1;if(ta){var Ti;if(ta){var zi="oninput"in document;if(!zi){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),zi=typeof bu.oninput=="function"}Ti=zi}else Ti=!1;gu=Ti&&(!document.documentMode||9<document.documentMode)}function _u(){ln&&(ln.detachEvent("onpropertychange",vu),nn=ln=null)}function vu(e){if(e.propertyName==="value"&&ss(nn)){var t=[];yu(t,nn,e,_i(e)),lu(Vh,t)}}function Zh(e,t,a){e==="focusin"?(_u(),ln=t,nn=a,ln.attachEvent("onpropertychange",vu)):e==="focusout"&&_u()}function Fh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(nn)}function Ph(e,t){if(e==="click")return ss(t)}function Kh(e,t){if(e==="input"||e==="change")return ss(t)}function $h(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:$h;function sn(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Bt.call(t,n)||!St(e[n],t[n]))return!1}return!0}function xu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wu(e,t){var a=xu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xu(a)}}function Su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Au(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Jn(e.document)}return t}function qi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jh=ta&&"documentMode"in document&&11>=document.documentMode,_l=null,Ei=null,rn=null,ji=!1;function ku(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ji||_l==null||_l!==Jn(l)||(l=_l,"selectionStart"in l&&qi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rn&&sn(rn,l)||(rn=l,l=Zs(Ei,"onSelect"),0<l.length&&(t=new ls("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=_l)))}function Za(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var vl={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},Di={},Mu={};ta&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Fa(e){if(Di[e])return Di[e];if(!vl[e])return e;var t=vl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Mu)return Di[e]=t[a];return e}var Nu=Fa("animationend"),Tu=Fa("animationiteration"),zu=Fa("animationstart"),Wh=Fa("transitionrun"),em=Fa("transitionstart"),tm=Fa("transitioncancel"),qu=Fa("transitionend"),Eu=new Map,Oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oi.push("scrollEnd");function Lt(e,t){Eu.set(e,t),Qa(t,[e])}var is=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jt=[],xl=0,Ri=0;function rs(){for(var e=xl,t=Ri=xl=0;t<e;){var a=jt[t];jt[t++]=null;var l=jt[t];jt[t++]=null;var n=jt[t];jt[t++]=null;var s=jt[t];if(jt[t++]=null,l!==null&&n!==null){var r=l.pending;r===null?n.next=n:(n.next=r.next,r.next=n),l.pending=n}s!==0&&ju(a,n,s)}}function os(e,t,a,l){jt[xl++]=e,jt[xl++]=t,jt[xl++]=a,jt[xl++]=l,Ri|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ci(e,t,a,l){return os(e,t,a,l),us(e)}function Pa(e,t){return os(e,null,null,t),us(e)}function ju(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,s=e.return;s!==null;)s.childLanes|=a,l=s.alternate,l!==null&&(l.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(n=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,n&&t!==null&&(n=31-wt(a),e=s.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),s):null}function us(e){if(50<zn)throw zn=0,Qr=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wl={};function am(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,a,l){return new am(e,t,a,l)}function Yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var a=e.alternate;return a===null?(a=At(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Du(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cs(e,t,a,l,n,s){var r=0;if(l=e,typeof e=="function")Yi(e)&&(r=1);else if(typeof e=="string")r=ry(e,a,B.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Oe:return e=At(31,a,t,n),e.elementType=Oe,e.lanes=s,e;case Ke:return Ka(a.children,n,s,t);case vt:r=8,n|=24;break;case Je:return e=At(12,a,t,n|2),e.elementType=Je,e.lanes=s,e;case Y:return e=At(13,a,t,n),e.elementType=Y,e.lanes=s,e;case Q:return e=At(19,a,t,n),e.elementType=Q,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:r=10;break e;case dt:r=9;break e;case M:r=11;break e;case G:r=14;break e;case P:r=16,l=null;break e}r=29,a=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=At(r,a,t,n),t.elementType=e,t.type=l,t.lanes=s,t}function Ka(e,t,a,l){return e=At(7,e,l,t),e.lanes=a,e}function Ui(e,t,a){return e=At(6,e,null,t),e.lanes=a,e}function Ou(e){var t=At(18,null,null,0);return t.stateNode=e,t}function Hi(e,t,a){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ru=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var a=Ru.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ot(t)},Ru.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var Sl=[],Al=0,ds=null,on=0,Ot=[],Rt=0,va=null,Ft=1,Pt="";function la(e,t){Sl[Al++]=on,Sl[Al++]=ds,ds=e,on=t}function Cu(e,t,a){Ot[Rt++]=Ft,Ot[Rt++]=Pt,Ot[Rt++]=va,va=e;var l=Ft;e=Pt;var n=32-wt(l)-1;l&=~(1<<n),a+=1;var s=32-wt(t)+n;if(30<s){var r=n-n%5;s=(l&(1<<r)-1).toString(32),l>>=r,n-=r,Ft=1<<32-wt(t)+n|a<<n|l,Pt=s+e}else Ft=1<<s|a<<n|l,Pt=e}function Bi(e){e.return!==null&&(la(e,1),Cu(e,1,0))}function Gi(e){for(;e===ds;)ds=Sl[--Al],Sl[Al]=null,on=Sl[--Al],Sl[Al]=null;for(;e===va;)va=Ot[--Rt],Ot[Rt]=null,Pt=Ot[--Rt],Ot[Rt]=null,Ft=Ot[--Rt],Ot[Rt]=null}function Yu(e,t){Ot[Rt++]=Ft,Ot[Rt++]=Pt,Ot[Rt++]=va,Ft=t.id,Pt=t.overflow,va=e}var nt=null,Ce=null,ye=!1,xa=null,Ct=!1,Ii=Error(c(519));function wa(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw un(Dt(t,e)),Ii}function Uu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[lt]=e,t[ht]=l,a){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(a=0;a<En.length;a++)de(En[a],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),$o(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Wo(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||tf(t.textContent,a)?(l.popover!=null&&(de("beforetoggle",t),de("toggle",t)),l.onScroll!=null&&de("scroll",t),l.onScrollEnd!=null&&de("scrollend",t),l.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||wa(e,!0)}function Hu(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Ct=!1;return;case 27:case 3:Ct=!0;return;default:nt=nt.return}}function kl(e){if(e!==nt)return!1;if(!ye)return Hu(e),ye=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||io(e.type,e.memoizedProps)),a=!a),a&&Ce&&wa(e),Hu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ce=df(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ce=df(e)}else t===27?(t=Ce,Ca(e.type)?(e=fo,fo=null,Ce=e):Ce=t):Ce=nt?Ut(e.stateNode.nextSibling):null;return!0}function $a(){Ce=nt=null,ye=!1}function Li(){var e=xa;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),xa=null),e}function un(e){xa===null?xa=[e]:xa.push(e)}var Xi=m(null),Ja=null,na=null;function Sa(e,t,a){O(Xi,t._currentValue),t._currentValue=a}function sa(e){e._currentValue=Xi.current,w(Xi)}function Qi(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Vi(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var s=n.dependencies;if(s!==null){var r=n.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=n;for(var h=0;h<t.length;h++)if(o.context===t[h]){s.lanes|=a,o=s.alternate,o!==null&&(o.lanes|=a),Qi(s.return,a,e),l||(r=null);break e}s=o.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(c(341));r.lanes|=a,s=r.alternate,s!==null&&(s.lanes|=a),Qi(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function Ml(e,t,a,l){e=null;for(var n=t,s=!1;n!==null;){if(!s){if((n.flags&524288)!==0)s=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(c(387));if(r=r.memoizedProps,r!==null){var o=n.type;St(n.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(n===me.current){if(r=n.alternate,r===null)throw Error(c(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Cn):e=[Cn])}n=n.return}e!==null&&Vi(t,e,a,l),t.flags|=262144}function fs(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wa(e){Ja=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return Bu(Ja,e)}function hs(e,t){return Ja===null&&Wa(e),Bu(e,t)}function Bu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},na===null){if(e===null)throw Error(c(308));na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else na=na.next=t;return a}var lm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},nm=i.unstable_scheduleCallback,sm=i.unstable_NormalPriority,Ve={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zi(){return{controller:new lm,data:new Map,refCount:0}}function cn(e){e.refCount--,e.refCount===0&&nm(sm,function(){e.controller.abort()})}var dn=null,Fi=0,Nl=0,Tl=null;function im(e,t){if(dn===null){var a=dn=[];Fi=0,Nl=$r(),Tl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Fi++,t.then(Gu,Gu),t}function Gu(){if(--Fi===0&&dn!==null){Tl!==null&&(Tl.status="fulfilled");var e=dn;dn=null,Nl=0,Tl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rm(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var Iu=p.S;p.S=function(e,t){kd=Re(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&im(e,t),Iu!==null&&Iu(e,t)};var el=m(null);function Pi(){var e=el.current;return e!==null?e:Ee.pooledCache}function ms(e,t){t===null?O(el,el.current):O(el,t.pool)}function Lu(){var e=Pi();return e===null?null:{parent:Ve._currentValue,pool:e}}var zl=Error(c(460)),Ki=Error(c(474)),ys=Error(c(542)),ps={then:function(){}};function Xu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ea,ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zu(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zu(e),e}throw al=t,zl}}function tl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(al=a,zl):a}}var al=null;function Vu(){if(al===null)throw Error(c(459));var e=al;return al=null,e}function Zu(e){if(e===zl||e===ys)throw Error(c(483))}var ql=null,fn=0;function gs(e){var t=fn;return fn+=1,ql===null&&(ql=[]),Qu(ql,e,t)}function hn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bs(e,t){throw t.$$typeof===pe?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Fu(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function a(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function l(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function n(g,y){return g=aa(g,y),g.index=0,g.sibling=null,g}function s(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=67108866,y):b):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function r(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function o(g,y,b,T){return y===null||y.tag!==6?(y=Ui(b,g.mode,T),y.return=g,y):(y=n(y,b),y.return=g,y)}function h(g,y,b,T){var F=b.type;return F===Ke?N(g,y,b.props.children,T,b.key):y!==null&&(y.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===P&&tl(F)===y.type)?(y=n(y,b.props),hn(y,b),y.return=g,y):(y=cs(b.type,b.key,b.props,null,g.mode,T),hn(y,b),y.return=g,y)}function v(g,y,b,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hi(b,g.mode,T),y.return=g,y):(y=n(y,b.children||[]),y.return=g,y)}function N(g,y,b,T,F){return y===null||y.tag!==7?(y=Ka(b,g.mode,T,F),y.return=g,y):(y=n(y,b),y.return=g,y)}function E(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Ui(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case oe:return b=cs(y.type,y.key,y.props,null,g.mode,b),hn(b,y),b.return=g,b;case De:return y=Hi(y,g.mode,b),y.return=g,y;case P:return y=tl(y),E(g,y,b)}if(He(y)||ae(y))return y=Ka(y,g.mode,b,null),y.return=g,y;if(typeof y.then=="function")return E(g,gs(y),b);if(y.$$typeof===_)return E(g,hs(g,y),b);bs(g,y)}return null}function x(g,y,b,T){var F=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return F!==null?null:o(g,y,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case oe:return b.key===F?h(g,y,b,T):null;case De:return b.key===F?v(g,y,b,T):null;case P:return b=tl(b),x(g,y,b,T)}if(He(b)||ae(b))return F!==null?null:N(g,y,b,T,null);if(typeof b.then=="function")return x(g,y,gs(b),T);if(b.$$typeof===_)return x(g,y,hs(g,b),T);bs(g,b)}return null}function A(g,y,b,T,F){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return g=g.get(b)||null,o(y,g,""+T,F);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case oe:return g=g.get(T.key===null?b:T.key)||null,h(y,g,T,F);case De:return g=g.get(T.key===null?b:T.key)||null,v(y,g,T,F);case P:return T=tl(T),A(g,y,b,T,F)}if(He(T)||ae(T))return g=g.get(b)||null,N(y,g,T,F,null);if(typeof T.then=="function")return A(g,y,b,gs(T),F);if(T.$$typeof===_)return A(g,y,b,hs(y,T),F);bs(y,T)}return null}function L(g,y,b,T){for(var F=null,be=null,X=y,ie=y=0,he=null;X!==null&&ie<b.length;ie++){X.index>ie?(he=X,X=null):he=X.sibling;var _e=x(g,X,b[ie],T);if(_e===null){X===null&&(X=he);break}e&&X&&_e.alternate===null&&t(g,X),y=s(_e,y,ie),be===null?F=_e:be.sibling=_e,be=_e,X=he}if(ie===b.length)return a(g,X),ye&&la(g,ie),F;if(X===null){for(;ie<b.length;ie++)X=E(g,b[ie],T),X!==null&&(y=s(X,y,ie),be===null?F=X:be.sibling=X,be=X);return ye&&la(g,ie),F}for(X=l(X);ie<b.length;ie++)he=A(X,g,ie,b[ie],T),he!==null&&(e&&he.alternate!==null&&X.delete(he.key===null?ie:he.key),y=s(he,y,ie),be===null?F=he:be.sibling=he,be=he);return e&&X.forEach(function(Ga){return t(g,Ga)}),ye&&la(g,ie),F}function $(g,y,b,T){if(b==null)throw Error(c(151));for(var F=null,be=null,X=y,ie=y=0,he=null,_e=b.next();X!==null&&!_e.done;ie++,_e=b.next()){X.index>ie?(he=X,X=null):he=X.sibling;var Ga=x(g,X,_e.value,T);if(Ga===null){X===null&&(X=he);break}e&&X&&Ga.alternate===null&&t(g,X),y=s(Ga,y,ie),be===null?F=Ga:be.sibling=Ga,be=Ga,X=he}if(_e.done)return a(g,X),ye&&la(g,ie),F;if(X===null){for(;!_e.done;ie++,_e=b.next())_e=E(g,_e.value,T),_e!==null&&(y=s(_e,y,ie),be===null?F=_e:be.sibling=_e,be=_e);return ye&&la(g,ie),F}for(X=l(X);!_e.done;ie++,_e=b.next())_e=A(X,g,ie,_e.value,T),_e!==null&&(e&&_e.alternate!==null&&X.delete(_e.key===null?ie:_e.key),y=s(_e,y,ie),be===null?F=_e:be.sibling=_e,be=_e);return e&&X.forEach(function(by){return t(g,by)}),ye&&la(g,ie),F}function Te(g,y,b,T){if(typeof b=="object"&&b!==null&&b.type===Ke&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case oe:e:{for(var F=b.key;y!==null;){if(y.key===F){if(F=b.type,F===Ke){if(y.tag===7){a(g,y.sibling),T=n(y,b.props.children),T.return=g,g=T;break e}}else if(y.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===P&&tl(F)===y.type){a(g,y.sibling),T=n(y,b.props),hn(T,b),T.return=g,g=T;break e}a(g,y);break}else t(g,y);y=y.sibling}b.type===Ke?(T=Ka(b.props.children,g.mode,T,b.key),T.return=g,g=T):(T=cs(b.type,b.key,b.props,null,g.mode,T),hn(T,b),T.return=g,g=T)}return r(g);case De:e:{for(F=b.key;y!==null;){if(y.key===F)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){a(g,y.sibling),T=n(y,b.children||[]),T.return=g,g=T;break e}else{a(g,y);break}else t(g,y);y=y.sibling}T=Hi(b,g.mode,T),T.return=g,g=T}return r(g);case P:return b=tl(b),Te(g,y,b,T)}if(He(b))return L(g,y,b,T);if(ae(b)){if(F=ae(b),typeof F!="function")throw Error(c(150));return b=F.call(b),$(g,y,b,T)}if(typeof b.then=="function")return Te(g,y,gs(b),T);if(b.$$typeof===_)return Te(g,y,hs(g,b),T);bs(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,y!==null&&y.tag===6?(a(g,y.sibling),T=n(y,b),T.return=g,g=T):(a(g,y),T=Ui(b,g.mode,T),T.return=g,g=T),r(g)):a(g,y)}return function(g,y,b,T){try{fn=0;var F=Te(g,y,b,T);return ql=null,F}catch(X){if(X===zl||X===ys)throw X;var be=At(29,X,null,g.mode);return be.lanes=T,be.return=g,be}finally{}}}var ll=Fu(!0),Pu=Fu(!1),Aa=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ji(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ve&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=us(e),ju(e,null,a),t}return os(e,l,t,a),us(e)}function mn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Bo(e,a)}}function Wi(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?n=s=r:s=s.next=r,a=a.next}while(a!==null);s===null?n=s=t:s=s.next=t}else n=s=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var er=!1;function yn(){if(er){var e=Tl;if(e!==null)throw e}}function pn(e,t,a,l){er=!1;var n=e.updateQueue;Aa=!1;var s=n.firstBaseUpdate,r=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var h=o,v=h.next;h.next=null,r===null?s=v:r.next=v,r=h;var N=e.alternate;N!==null&&(N=N.updateQueue,o=N.lastBaseUpdate,o!==r&&(o===null?N.firstBaseUpdate=v:o.next=v,N.lastBaseUpdate=h))}if(s!==null){var E=n.baseState;r=0,N=v=h=null,o=s;do{var x=o.lane&-536870913,A=x!==o.lane;if(A?(fe&x)===x:(l&x)===x){x!==0&&x===Nl&&(er=!0),N!==null&&(N=N.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var L=e,$=o;x=t;var Te=a;switch($.tag){case 1:if(L=$.payload,typeof L=="function"){E=L.call(Te,E,x);break e}E=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=$.payload,x=typeof L=="function"?L.call(Te,E,x):L,x==null)break e;E=K({},E,x);break e;case 2:Aa=!0}}x=o.callback,x!==null&&(e.flags|=64,A&&(e.flags|=8192),A=n.callbacks,A===null?n.callbacks=[x]:A.push(x))}else A={lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},N===null?(v=N=A,h=E):N=N.next=A,r|=x;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;A=o,o=A.next,A.next=null,n.lastBaseUpdate=A,n.shared.pending=null}}while(!0);N===null&&(h=E),n.baseState=h,n.firstBaseUpdate=v,n.lastBaseUpdate=N,s===null&&(n.shared.lanes=0),Ea|=r,e.lanes=r,e.memoizedState=E}}function Ku(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function $u(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ku(a[e],t)}var El=m(null),_s=m(0);function Ju(e,t){e=ma,O(_s,e),O(El,t),ma=e|t.baseLanes}function tr(){O(_s,ma),O(El,El.current)}function ar(){ma=_s.current,w(El),w(_s)}var kt=m(null),Yt=null;function Na(e){var t=e.alternate;O(Le,Le.current&1),O(kt,e),Yt===null&&(t===null||El.current!==null||t.memoizedState!==null)&&(Yt=e)}function lr(e){O(Le,Le.current),O(kt,e),Yt===null&&(Yt=e)}function Wu(e){e.tag===22?(O(Le,Le.current),O(kt,e),Yt===null&&(Yt=e)):Ta()}function Ta(){O(Le,Le.current),O(kt,kt.current)}function Mt(e){w(kt),Yt===e&&(Yt=null),w(Le)}var Le=m(0);function vs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||uo(a)||co(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=0,ne=null,Me=null,Ze=null,xs=!1,jl=!1,nl=!1,ws=0,gn=0,Dl=null,om=0;function Be(){throw Error(c(321))}function nr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!St(e[a],t[a]))return!1;return!0}function sr(e,t,a,l,n,s){return ia=s,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,p.H=e===null||e.memoizedState===null?Cc:vr,nl=!1,s=a(l,n),nl=!1,jl&&(s=tc(t,a,l,n)),ec(e),s}function ec(e){p.H=vn;var t=Me!==null&&Me.next!==null;if(ia=0,Ze=Me=ne=null,xs=!1,gn=0,Dl=null,t)throw Error(c(300));e===null||Fe||(e=e.dependencies,e!==null&&fs(e)&&(Fe=!0))}function tc(e,t,a,l){ne=e;var n=0;do{if(jl&&(Dl=null),gn=0,jl=!1,25<=n)throw Error(c(301));if(n+=1,Ze=Me=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}p.H=Yc,s=t(a,l)}while(jl);return s}function um(){var e=p.H,t=e.useState()[0];return t=typeof t.then=="function"?bn(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ne.flags|=1024),t}function ir(){var e=ws!==0;return ws=0,e}function rr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function or(e){if(xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xs=!1}ia=0,Ze=Me=ne=null,jl=!1,gn=ws=0,Dl=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ne.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Xe(){if(Me===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ze===null?ne.memoizedState:Ze.next;if(t!==null)Ze=t,Me=e;else{if(e===null)throw ne.alternate===null?Error(c(467)):Error(c(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ze===null?ne.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ss(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bn(e){var t=gn;return gn+=1,Dl===null&&(Dl=[]),e=Qu(Dl,e,t),t=ne,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,p.H=t===null||t.memoizedState===null?Cc:vr),e}function As(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bn(e);if(e.$$typeof===_)return st(e)}throw Error(c(438,String(e)))}function ur(e){var t=null,a=ne.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ss(),ne.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=V;return t.index++,a}function ra(e,t){return typeof t=="function"?t(e):t}function ks(e){var t=Xe();return cr(t,Me,e)}function cr(e,t,a){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=a;var n=e.baseQueue,s=l.pending;if(s!==null){if(n!==null){var r=n.next;n.next=s.next,s.next=r}t.baseQueue=n=s,l.pending=null}if(s=e.baseState,n===null)e.memoizedState=s;else{t=n.next;var o=r=null,h=null,v=t,N=!1;do{var E=v.lane&-536870913;if(E!==v.lane?(fe&E)===E:(ia&E)===E){var x=v.revertLane;if(x===0)h!==null&&(h=h.next={lane:0,revertLane:0,gesture:null,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),E===Nl&&(N=!0);else if((ia&x)===x){v=v.next,x===Nl&&(N=!0);continue}else E={lane:0,revertLane:v.revertLane,gesture:null,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},h===null?(o=h=E,r=s):h=h.next=E,ne.lanes|=x,Ea|=x;E=v.action,nl&&a(s,E),s=v.hasEagerState?v.eagerState:a(s,E)}else x={lane:E,revertLane:v.revertLane,gesture:v.gesture,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},h===null?(o=h=x,r=s):h=h.next=x,ne.lanes|=E,Ea|=E;v=v.next}while(v!==null&&v!==t);if(h===null?r=s:h.next=o,!St(s,e.memoizedState)&&(Fe=!0,N&&(a=Tl,a!==null)))throw a;e.memoizedState=s,e.baseState=r,e.baseQueue=h,l.lastRenderedState=s}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function dr(e){var t=Xe(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,s=t.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do s=e(s,r.action),r=r.next;while(r!==n);St(s,t.memoizedState)||(Fe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,l]}function ac(e,t,a){var l=ne,n=Xe(),s=ye;if(s){if(a===void 0)throw Error(c(407));a=a()}else a=t();var r=!St((Me||n).memoizedState,a);if(r&&(n.memoizedState=a,Fe=!0),n=n.queue,mr(sc.bind(null,l,n,e),[e]),n.getSnapshot!==t||r||Ze!==null&&Ze.memoizedState.tag&1){if(l.flags|=2048,Ol(9,{destroy:void 0},nc.bind(null,l,n,a,t),null),Ee===null)throw Error(c(349));s||(ia&127)!==0||lc(l,t,a)}return a}function lc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ne.updateQueue,t===null?(t=Ss(),ne.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function nc(e,t,a,l){t.value=a,t.getSnapshot=l,ic(t)&&rc(e)}function sc(e,t,a){return a(function(){ic(t)&&rc(e)})}function ic(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!St(e,a)}catch{return!0}}function rc(e){var t=Pa(e,2);t!==null&&_t(t,e,2)}function fr(e){var t=ct();if(typeof e=="function"){var a=e;if(e=a(),nl){ga(!0);try{a()}finally{ga(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},t}function oc(e,t,a,l){return e.baseState=a,cr(e,Me,typeof l=="function"?l:ra)}function cm(e,t,a,l,n){if(Ts(e))throw Error(c(485));if(e=t.action,e!==null){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};p.T!==null?a(!0):s.isTransition=!1,l(s),a=t.pending,a===null?(s.next=t.pending=s,uc(t,s)):(s.next=a.next,t.pending=a.next=s)}}function uc(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var s=p.T,r={};p.T=r;try{var o=a(n,l),h=p.S;h!==null&&h(r,o),cc(e,t,o)}catch(v){hr(e,t,v)}finally{s!==null&&r.types!==null&&(s.types=r.types),p.T=s}}else try{s=a(n,l),cc(e,t,s)}catch(v){hr(e,t,v)}}function cc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dc(e,t,l)},function(l){return hr(e,t,l)}):dc(e,t,a)}function dc(e,t,a){t.status="fulfilled",t.value=a,fc(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,uc(e,a)))}function hr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,fc(t),t=t.next;while(t!==l)}e.action=null}function fc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hc(e,t){return t}function mc(e,t){if(ye){var a=Ee.formState;if(a!==null){e:{var l=ne;if(ye){if(Ce){t:{for(var n=Ce,s=Ct;n.nodeType!==8;){if(!s){n=null;break t}if(n=Ut(n.nextSibling),n===null){n=null;break t}}s=n.data,n=s==="F!"||s==="F"?n:null}if(n){Ce=Ut(n.nextSibling),l=n.data==="F!";break e}}wa(l)}l=!1}l&&(t=a[0])}}return a=ct(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:t},a.queue=l,a=Dc.bind(null,ne,l),l.dispatch=a,l=fr(!1),s=_r.bind(null,ne,!1,l.queue),l=ct(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=cm.bind(null,ne,n,s,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function yc(e){var t=Xe();return pc(t,Me,e)}function pc(e,t,a){if(t=cr(e,t,hc)[0],e=ks(ra)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=bn(t)}catch(r){throw r===zl?ys:r}else l=t;t=Xe();var n=t.queue,s=n.dispatch;return a!==t.memoizedState&&(ne.flags|=2048,Ol(9,{destroy:void 0},dm.bind(null,n,a),null)),[l,s,e]}function dm(e,t){e.action=t}function gc(e){var t=Xe(),a=Me;if(a!==null)return pc(t,a,e);Xe(),t=t.memoizedState,a=Xe();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Ol(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ne.updateQueue,t===null&&(t=Ss(),ne.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function bc(){return Xe().memoizedState}function Ms(e,t,a,l){var n=ct();ne.flags|=e,n.memoizedState=Ol(1|t,{destroy:void 0},a,l===void 0?null:l)}function Ns(e,t,a,l){var n=Xe();l=l===void 0?null:l;var s=n.memoizedState.inst;Me!==null&&l!==null&&nr(l,Me.memoizedState.deps)?n.memoizedState=Ol(t,s,a,l):(ne.flags|=e,n.memoizedState=Ol(1|t,s,a,l))}function _c(e,t){Ms(8390656,8,e,t)}function mr(e,t){Ns(2048,8,e,t)}function fm(e){ne.flags|=4;var t=ne.updateQueue;if(t===null)t=Ss(),ne.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function vc(e){var t=Xe().memoizedState;return fm({ref:t,nextImpl:e}),function(){if((ve&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function xc(e,t){return Ns(4,2,e,t)}function wc(e,t){return Ns(4,4,e,t)}function Sc(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ac(e,t,a){a=a!=null?a.concat([e]):null,Ns(4,4,Sc.bind(null,t,e),a)}function yr(){}function kc(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&nr(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Mc(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&nr(t,l[1]))return l[0];if(l=e(),nl){ga(!0);try{e()}finally{ga(!1)}}return a.memoizedState=[l,t],l}function pr(e,t,a){return a===void 0||(ia&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Nd(),ne.lanes|=e,Ea|=e,a)}function Nc(e,t,a,l){return St(a,t)?a:El.current!==null?(e=pr(e,a,l),St(e,t)||(Fe=!0),e):(ia&42)===0||(ia&1073741824)!==0&&(fe&261930)===0?(Fe=!0,e.memoizedState=a):(e=Nd(),ne.lanes|=e,Ea|=e,t)}function Tc(e,t,a,l,n){var s=q.p;q.p=s!==0&&8>s?s:8;var r=p.T,o={};p.T=o,_r(e,!1,t,a);try{var h=n(),v=p.S;if(v!==null&&v(o,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var N=rm(h,l);_n(e,t,N,zt(e))}else _n(e,t,l,zt(e))}catch(E){_n(e,t,{then:function(){},status:"rejected",reason:E},zt())}finally{q.p=s,r!==null&&o.types!==null&&(r.types=o.types),p.T=r}}function hm(){}function gr(e,t,a,l){if(e.tag!==5)throw Error(c(476));var n=zc(e).queue;Tc(e,n,t,D,a===null?hm:function(){return qc(e),a(l)})}function zc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:D},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qc(e){var t=zc(e);t.next===null&&(t=e.alternate.memoizedState),_n(e,t.next.queue,{},zt())}function br(){return st(Cn)}function Ec(){return Xe().memoizedState}function jc(){return Xe().memoizedState}function mm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=zt();e=ka(a);var l=Ma(t,e,a);l!==null&&(_t(l,t,a),mn(l,t,a)),t={cache:Zi()},e.payload=t;return}t=t.return}}function ym(e,t,a){var l=zt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ts(e)?Oc(t,a):(a=Ci(e,t,a,l),a!==null&&(_t(a,e,l),Rc(a,t,l)))}function Dc(e,t,a){var l=zt();_n(e,t,a,l)}function _n(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ts(e))Oc(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,o=s(r,a);if(n.hasEagerState=!0,n.eagerState=o,St(o,r))return os(e,t,n,0),Ee===null&&rs(),!1}catch{}finally{}if(a=Ci(e,t,n,l),a!==null)return _t(a,e,l),Rc(a,t,l),!0}return!1}function _r(e,t,a,l){if(l={lane:2,revertLane:$r(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ts(e)){if(t)throw Error(c(479))}else t=Ci(e,a,l,2),t!==null&&_t(t,e,2)}function Ts(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Oc(e,t){jl=xs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Rc(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Bo(e,a)}}var vn={readContext:st,use:As,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};vn.useEffectEvent=Be;var Cc={readContext:st,use:As,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:_c,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ms(4194308,4,Sc.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){Ms(4,2,e,t)},useMemo:function(e,t){var a=ct();t=t===void 0?null:t;var l=e();if(nl){ga(!0);try{e()}finally{ga(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=ct();if(a!==void 0){var n=a(t);if(nl){ga(!0);try{a(t)}finally{ga(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=ym.bind(null,ne,e),[l.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=fr(e);var t=e.queue,a=Dc.bind(null,ne,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:yr,useDeferredValue:function(e,t){var a=ct();return pr(a,e,t)},useTransition:function(){var e=fr(!1);return e=Tc.bind(null,ne,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ne,n=ct();if(ye){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),Ee===null)throw Error(c(349));(fe&127)!==0||lc(l,t,a)}n.memoizedState=a;var s={value:a,getSnapshot:t};return n.queue=s,_c(sc.bind(null,l,s,e),[e]),l.flags|=2048,Ol(9,{destroy:void 0},nc.bind(null,l,s,a,t),null),a},useId:function(){var e=ct(),t=Ee.identifierPrefix;if(ye){var a=Pt,l=Ft;a=(l&~(1<<32-wt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ws++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=om++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:br,useFormState:mc,useActionState:mc,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=_r.bind(null,ne,!0,a),a.dispatch=t,[e,t]},useMemoCache:ur,useCacheRefresh:function(){return ct().memoizedState=mm.bind(null,ne)},useEffectEvent:function(e){var t=ct(),a={impl:e};return t.memoizedState=a,function(){if((ve&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},vr={readContext:st,use:As,useCallback:kc,useContext:st,useEffect:mr,useImperativeHandle:Ac,useInsertionEffect:xc,useLayoutEffect:wc,useMemo:Mc,useReducer:ks,useRef:bc,useState:function(){return ks(ra)},useDebugValue:yr,useDeferredValue:function(e,t){var a=Xe();return Nc(a,Me.memoizedState,e,t)},useTransition:function(){var e=ks(ra)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:bn(e),t]},useSyncExternalStore:ac,useId:Ec,useHostTransitionStatus:br,useFormState:yc,useActionState:yc,useOptimistic:function(e,t){var a=Xe();return oc(a,Me,e,t)},useMemoCache:ur,useCacheRefresh:jc};vr.useEffectEvent=vc;var Yc={readContext:st,use:As,useCallback:kc,useContext:st,useEffect:mr,useImperativeHandle:Ac,useInsertionEffect:xc,useLayoutEffect:wc,useMemo:Mc,useReducer:dr,useRef:bc,useState:function(){return dr(ra)},useDebugValue:yr,useDeferredValue:function(e,t){var a=Xe();return Me===null?pr(a,e,t):Nc(a,Me.memoizedState,e,t)},useTransition:function(){var e=dr(ra)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:bn(e),t]},useSyncExternalStore:ac,useId:Ec,useHostTransitionStatus:br,useFormState:gc,useActionState:gc,useOptimistic:function(e,t){var a=Xe();return Me!==null?oc(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ur,useCacheRefresh:jc};Yc.useEffectEvent=vc;function xr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:K({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=zt(),n=ka(l);n.payload=t,a!=null&&(n.callback=a),t=Ma(e,n,l),t!==null&&(_t(t,e,l),mn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=zt(),n=ka(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ma(e,n,l),t!==null&&(_t(t,e,l),mn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=zt(),l=ka(a);l.tag=2,t!=null&&(l.callback=t),t=Ma(e,l,a),t!==null&&(_t(t,e,a),mn(t,e,a))}};function Uc(e,t,a,l,n,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,r):t.prototype&&t.prototype.isPureReactComponent?!sn(a,l)||!sn(n,s):!0}function Hc(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&wr.enqueueReplaceState(t,t.state,null)}function sl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=K({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function Bc(e){is(e)}function Gc(e){console.error(e)}function Ic(e){is(e)}function zs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Lc(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Sr(e,t,a){return a=ka(a),a.tag=3,a.payload={element:null},a.callback=function(){zs(e,t)},a}function Xc(e){return e=ka(e),e.tag=3,e}function Qc(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var s=l.value;e.payload=function(){return n(s)},e.callback=function(){Lc(t,a,l)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Lc(t,a,l),typeof n!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var o=l.stack;this.componentDidCatch(l.value,{componentStack:o!==null?o:""})})}function pm(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Ml(t,a,n,!0),a=kt.current,a!==null){switch(a.tag){case 31:case 13:return Yt===null?Gs():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===ps?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Fr(e,l,n)),!1;case 22:return a.flags|=65536,l===ps?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Fr(e,l,n)),!1}throw Error(c(435,a.tag))}return Fr(e,l,n),Gs(),!1}if(ye)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Ii&&(e=Error(c(422),{cause:l}),un(Dt(e,a)))):(l!==Ii&&(t=Error(c(423),{cause:l}),un(Dt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Dt(l,a),n=Sr(e.stateNode,l,n),Wi(e,n),Ge!==4&&(Ge=2)),!1;var s=Error(c(520),{cause:l});if(s=Dt(s,a),Tn===null?Tn=[s]:Tn.push(s),Ge!==4&&(Ge=2),t===null)return!0;l=Dt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Sr(a.stateNode,l,e),Wi(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ja===null||!ja.has(s))))return a.flags|=65536,n&=-n,a.lanes|=n,n=Xc(n),Qc(n,e,a,l),Wi(a,n),!1}a=a.return}while(a!==null);return!1}var Ar=Error(c(461)),Fe=!1;function it(e,t,a,l){t.child=e===null?Pu(t,null,a,l):ll(t,e.child,a,l)}function Vc(e,t,a,l,n){a=a.render;var s=t.ref;if("ref"in l){var r={};for(var o in l)o!=="ref"&&(r[o]=l[o])}else r=l;return Wa(t),l=sr(e,t,a,r,s,n),o=ir(),e!==null&&!Fe?(rr(e,t,n),oa(e,t,n)):(ye&&o&&Bi(t),t.flags|=1,it(e,t,l,n),t.child)}function Zc(e,t,a,l,n){if(e===null){var s=a.type;return typeof s=="function"&&!Yi(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,Fc(e,t,s,l,n)):(e=cs(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!jr(e,n)){var r=s.memoizedProps;if(a=a.compare,a=a!==null?a:sn,a(r,l)&&e.ref===t.ref)return oa(e,t,n)}return t.flags|=1,e=aa(s,l),e.ref=t.ref,e.return=t,t.child=e}function Fc(e,t,a,l,n){if(e!==null){var s=e.memoizedProps;if(sn(s,l)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=l=s,jr(e,n))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,oa(e,t,n)}return kr(e,t,a,l,n)}function Pc(e,t,a,l){var n=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~s}else l=0,t.child=null;return Kc(e,t,s,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ms(t,s!==null?s.cachePool:null),s!==null?Ju(t,s):tr(),Wu(t);else return l=t.lanes=536870912,Kc(e,t,s!==null?s.baseLanes|a:a,a,l)}else s!==null?(ms(t,s.cachePool),Ju(t,s),Ta(),t.memoizedState=null):(e!==null&&ms(t,null),tr(),Ta());return it(e,t,n,a),t.child}function xn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Kc(e,t,a,l,n){var s=Pi();return s=s===null?null:{parent:Ve._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&ms(t,null),tr(),Wu(t),e!==null&&Ml(e,t,l,!0),t.childLanes=n,null}function qs(e,t){return t=js({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function $c(e,t,a){return ll(t,e.child,null,a),e=qs(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function gm(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(l.mode==="hidden")return e=qs(t,l),t.lanes=536870912,xn(null,e);if(lr(t),(e=Ce)?(e=cf(e,Ct),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Ft,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},a=Ou(e),a.return=t,t.child=a,nt=t,Ce=null)):e=null,e===null)throw wa(t);return t.lanes=536870912,null}return qs(t,l)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(lr(t),n)if(t.flags&256)t.flags&=-257,t=$c(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Fe||Ml(e,t,a,!1),n=(a&e.childLanes)!==0,Fe||n){if(l=Ee,l!==null&&(r=Go(l,a),r!==0&&r!==s.retryLane))throw s.retryLane=r,Pa(e,r),_t(l,e,r),Ar;Gs(),t=$c(e,t,a)}else e=s.treeContext,Ce=Ut(r.nextSibling),nt=t,ye=!0,xa=null,Ct=!1,e!==null&&Yu(t,e),t=qs(t,l),t.flags|=4096;return t}return e=aa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Es(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function kr(e,t,a,l,n){return Wa(t),a=sr(e,t,a,l,void 0,n),l=ir(),e!==null&&!Fe?(rr(e,t,n),oa(e,t,n)):(ye&&l&&Bi(t),t.flags|=1,it(e,t,a,n),t.child)}function Jc(e,t,a,l,n,s){return Wa(t),t.updateQueue=null,a=tc(t,l,a,n),ec(e),l=ir(),e!==null&&!Fe?(rr(e,t,s),oa(e,t,s)):(ye&&l&&Bi(t),t.flags|=1,it(e,t,a,s),t.child)}function Wc(e,t,a,l,n){if(Wa(t),t.stateNode===null){var s=wl,r=a.contextType;typeof r=="object"&&r!==null&&(s=st(r)),s=new a(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wr,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},$i(t),r=a.contextType,s.context=typeof r=="object"&&r!==null?st(r):wl,s.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(xr(t,a,r,l),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&wr.enqueueReplaceState(s,s.state,null),pn(t,l,s,n),yn(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,h=sl(a,o);s.props=h;var v=s.context,N=a.contextType;r=wl,typeof N=="object"&&N!==null&&(r=st(N));var E=a.getDerivedStateFromProps;N=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,N||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||v!==r)&&Hc(t,s,l,r),Aa=!1;var x=t.memoizedState;s.state=x,pn(t,l,s,n),yn(),v=t.memoizedState,o||x!==v||Aa?(typeof E=="function"&&(xr(t,a,E,l),v=t.memoizedState),(h=Aa||Uc(t,a,h,l,x,v,r))?(N||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=v),s.props=l,s.state=v,s.context=r,l=h):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Ji(e,t),r=t.memoizedProps,N=sl(a,r),s.props=N,E=t.pendingProps,x=s.context,v=a.contextType,h=wl,typeof v=="object"&&v!==null&&(h=st(v)),o=a.getDerivedStateFromProps,(v=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==E||x!==h)&&Hc(t,s,l,h),Aa=!1,x=t.memoizedState,s.state=x,pn(t,l,s,n),yn();var A=t.memoizedState;r!==E||x!==A||Aa||e!==null&&e.dependencies!==null&&fs(e.dependencies)?(typeof o=="function"&&(xr(t,a,o,l),A=t.memoizedState),(N=Aa||Uc(t,a,N,l,x,A,h)||e!==null&&e.dependencies!==null&&fs(e.dependencies))?(v||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,A,h),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,A,h)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=A),s.props=l,s.state=A,s.context=h,l=N):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Es(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ll(t,e.child,null,n),t.child=ll(t,null,a,n)):it(e,t,a,n),t.memoizedState=s.state,e=t.child):e=oa(e,t,n),e}function ed(e,t,a,l){return $a(),t.flags|=256,it(e,t,a,l),t.child}var Mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nr(e){return{baseLanes:e,cachePool:Lu()}}function Tr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Tt),e}function td(e,t,a){var l=t.pendingProps,n=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(n?Na(t):Ta(),(e=Ce)?(e=cf(e,Ct),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:va!==null?{id:Ft,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},a=Ou(e),a.return=t,t.child=a,nt=t,Ce=null)):e=null,e===null)throw wa(t);return co(e)?t.lanes=32:t.lanes=536870912,null}var o=l.children;return l=l.fallback,n?(Ta(),n=t.mode,o=js({mode:"hidden",children:o},n),l=Ka(l,n,a,null),o.return=t,l.return=t,o.sibling=l,t.child=o,l=t.child,l.memoizedState=Nr(a),l.childLanes=Tr(e,r,a),t.memoizedState=Mr,xn(null,l)):(Na(t),zr(t,o))}var h=e.memoizedState;if(h!==null&&(o=h.dehydrated,o!==null)){if(s)t.flags&256?(Na(t),t.flags&=-257,t=qr(e,t,a)):t.memoizedState!==null?(Ta(),t.child=e.child,t.flags|=128,t=null):(Ta(),o=l.fallback,n=t.mode,l=js({mode:"visible",children:l.children},n),o=Ka(o,n,a,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,ll(t,e.child,null,a),l=t.child,l.memoizedState=Nr(a),l.childLanes=Tr(e,r,a),t.memoizedState=Mr,t=xn(null,l));else if(Na(t),co(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var v=r.dgst;r=v,l=Error(c(419)),l.stack="",l.digest=r,un({value:l,source:null,stack:null}),t=qr(e,t,a)}else if(Fe||Ml(e,t,a,!1),r=(a&e.childLanes)!==0,Fe||r){if(r=Ee,r!==null&&(l=Go(r,a),l!==0&&l!==h.retryLane))throw h.retryLane=l,Pa(e,l),_t(r,e,l),Ar;uo(o)||Gs(),t=qr(e,t,a)}else uo(o)?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,Ce=Ut(o.nextSibling),nt=t,ye=!0,xa=null,Ct=!1,e!==null&&Yu(t,e),t=zr(t,l.children),t.flags|=4096);return t}return n?(Ta(),o=l.fallback,n=t.mode,h=e.child,v=h.sibling,l=aa(h,{mode:"hidden",children:l.children}),l.subtreeFlags=h.subtreeFlags&65011712,v!==null?o=aa(v,o):(o=Ka(o,n,a,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,xn(null,l),l=t.child,o=e.child.memoizedState,o===null?o=Nr(a):(n=o.cachePool,n!==null?(h=Ve._currentValue,n=n.parent!==h?{parent:h,pool:h}:n):n=Lu(),o={baseLanes:o.baseLanes|a,cachePool:n}),l.memoizedState=o,l.childLanes=Tr(e,r,a),t.memoizedState=Mr,xn(e.child,l)):(Na(t),a=e.child,e=a.sibling,a=aa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function zr(e,t){return t=js({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function js(e,t){return e=At(22,e,null,t),e.lanes=0,e}function qr(e,t,a){return ll(t,e.child,null,a),e=zr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ad(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Qi(e.return,t,a)}function Er(e,t,a,l,n,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n,r.treeForkCount=s)}function ld(e,t,a){var l=t.pendingProps,n=l.revealOrder,s=l.tail;l=l.children;var r=Le.current,o=(r&2)!==0;if(o?(r=r&1|2,t.flags|=128):r&=1,O(Le,r),it(e,t,l,a),l=ye?on:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,a,t);else if(e.tag===19)ad(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&vs(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Er(t,!1,n,a,s,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&vs(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Er(t,!0,a,null,s,l);break;case"together":Er(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function oa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ea|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ml(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function jr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fs(e)))}function bm(e,t,a){switch(t.tag){case 3:Qe(t,t.stateNode.containerInfo),Sa(t,Ve,e.memoizedState.cache),$a();break;case 27:case 5:We(t);break;case 4:Qe(t,t.stateNode.containerInfo);break;case 10:Sa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,lr(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Na(t),t.flags|=128,null):(a&t.child.childLanes)!==0?td(e,t,a):(Na(t),e=oa(e,t,a),e!==null?e.sibling:null);Na(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Ml(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return ld(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),O(Le,Le.current),l)break;return null;case 22:return t.lanes=0,Pc(e,t,a,t.pendingProps);case 24:Sa(t,Ve,e.memoizedState.cache)}return oa(e,t,a)}function nd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!jr(e,a)&&(t.flags&128)===0)return Fe=!1,bm(e,t,a);Fe=(e.flags&131072)!==0}else Fe=!1,ye&&(t.flags&1048576)!==0&&Cu(t,on,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=tl(t.elementType),t.type=e,typeof e=="function")Yi(e)?(l=sl(e,l),t.tag=1,t=Wc(null,t,e,l,a)):(t.tag=0,t=kr(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===M){t.tag=11,t=Vc(null,t,e,l,a);break e}else if(n===G){t.tag=14,t=Zc(null,t,e,l,a);break e}}throw t=xe(e)||e,Error(c(306,t,""))}}return t;case 0:return kr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=sl(l,t.pendingProps),Wc(e,t,l,n,a);case 3:e:{if(Qe(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var s=t.memoizedState;n=s.element,Ji(e,t),pn(t,l,null,a);var r=t.memoizedState;if(l=r.cache,Sa(t,Ve,l),l!==s.cache&&Vi(t,[Ve],a,!0),yn(),l=r.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=ed(e,t,l,a);break e}else if(l!==n){n=Dt(Error(c(424)),t),un(n),t=ed(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ce=Ut(e.firstChild),nt=t,ye=!0,xa=null,Ct=!0,a=Pu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($a(),l===n){t=oa(e,t,a);break e}it(e,t,l,a)}t=t.child}return t;case 26:return Es(e,t),e===null?(a=pf(t.type,null,t.pendingProps,null))?t.memoizedState=a:ye||(a=t.type,e=t.pendingProps,l=Fs(se.current).createElement(a),l[lt]=t,l[ht]=e,rt(l,a,e),tt(l),t.stateNode=l):t.memoizedState=pf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return We(t),e===null&&ye&&(l=t.stateNode=hf(t.type,t.pendingProps,se.current),nt=t,Ct=!0,n=Ce,Ca(t.type)?(fo=n,Ce=Ut(l.firstChild)):Ce=n),it(e,t,t.pendingProps.children,a),Es(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((n=l=Ce)&&(l=Fm(l,t.type,t.pendingProps,Ct),l!==null?(t.stateNode=l,nt=t,Ce=Ut(l.firstChild),Ct=!1,n=!0):n=!1),n||wa(t)),We(t),n=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,l=s.children,io(n,s)?l=null:r!==null&&io(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=sr(e,t,um,null,null,a),Cn._currentValue=n),Es(e,t),it(e,t,l,a),t.child;case 6:return e===null&&ye&&((e=a=Ce)&&(a=Pm(a,t.pendingProps,Ct),a!==null?(t.stateNode=a,nt=t,Ce=null,e=!0):e=!1),e||wa(t)),null;case 13:return td(e,t,a);case 4:return Qe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ll(t,null,l,a):it(e,t,l,a),t.child;case 11:return Vc(e,t,t.type,t.pendingProps,a);case 7:return it(e,t,t.pendingProps,a),t.child;case 8:return it(e,t,t.pendingProps.children,a),t.child;case 12:return it(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Sa(t,t.type,l.value),it(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Wa(t),n=st(n),l=l(n),t.flags|=1,it(e,t,l,a),t.child;case 14:return Zc(e,t,t.type,t.pendingProps,a);case 15:return Fc(e,t,t.type,t.pendingProps,a);case 19:return ld(e,t,a);case 31:return gm(e,t,a);case 22:return Pc(e,t,a,t.pendingProps);case 24:return Wa(t),l=st(Ve),e===null?(n=Pi(),n===null&&(n=Ee,s=Zi(),n.pooledCache=s,s.refCount++,s!==null&&(n.pooledCacheLanes|=a),n=s),t.memoizedState={parent:l,cache:n},$i(t),Sa(t,Ve,n)):((e.lanes&a)!==0&&(Ji(e,t),pn(t,null,null,a),yn()),n=e.memoizedState,s=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Sa(t,Ve,l)):(l=s.cache,Sa(t,Ve,l),l!==n.cache&&Vi(t,[Ve],a,!0))),it(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function ua(e){e.flags|=4}function Dr(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Ed())e.flags|=8192;else throw al=ps,Ki}else e.flags&=-16777217}function sd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xf(t))if(Ed())e.flags|=8192;else throw al=ps,Ki}function Ds(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Uo():536870912,e.lanes|=t,Ul|=t)}function wn(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function _m(e,t,a){var l=t.pendingProps;switch(Gi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),sa(Ve),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(kl(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Li())),Ye(t),null;case 26:var n=t.type,s=t.memoizedState;return e===null?(ua(t),s!==null?(Ye(t),sd(t,s)):(Ye(t),Dr(t,n,null,l,a))):s?s!==e.memoizedState?(ua(t),Ye(t),sd(t,s)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ua(t),Ye(t),Dr(t,n,e,l,a)),null;case 27:if(ol(t),a=se.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ua(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ye(t),null}e=B.current,kl(t)?Uu(t):(e=hf(n,l,a),t.stateNode=e,ua(t))}return Ye(t),null;case 5:if(ol(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ua(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return Ye(t),null}if(s=B.current,kl(t))Uu(t);else{var r=Fs(se.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?r.createElement(n,{is:l.is}):r.createElement(n)}}s[lt]=t,s[ht]=l;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(rt(s,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ua(t)}}return Ye(t),Dr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ua(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=se.current,kl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=nt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tf(e.nodeValue,a)),e||wa(t,!0)}else e=Fs(e).createTextNode(l),e[lt]=t,t.stateNode=e}return Ye(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=kl(t),a!==null){if(e===null){if(!l)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[lt]=t}else $a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else a=Li(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ye(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=kl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(c(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));n[lt]=t}else $a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),n=!1}else n=Li(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ds(t,t.updateQueue),Ye(t),null);case 4:return ue(),e===null&&to(t.stateNode.containerInfo),Ye(t),null;case 10:return sa(t.type),Ye(t),null;case 19:if(w(Le),l=t.memoizedState,l===null)return Ye(t),null;if(n=(t.flags&128)!==0,s=l.rendering,s===null)if(n)wn(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=vs(e),s!==null){for(t.flags|=128,wn(l,!1),e=s.updateQueue,t.updateQueue=e,Ds(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Du(a,e),a=a.sibling;return O(Le,Le.current&1|2),ye&&la(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Re()>Us&&(t.flags|=128,n=!0,wn(l,!1),t.lanes=4194304)}else{if(!n)if(e=vs(s),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ds(t,e),wn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!ye)return Ye(t),null}else 2*Re()-l.renderingStartTime>Us&&a!==536870912&&(t.flags|=128,n=!0,wn(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Re(),e.sibling=null,a=Le.current,O(Le,n?a&1|2:a&1),ye&&la(t,l.treeForkCount),e):(Ye(t),null);case 22:case 23:return Mt(t),ar(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),a=t.updateQueue,a!==null&&Ds(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&w(el),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),sa(Ve),Ye(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function vm(e,t){switch(Gi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(Ve),ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ol(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(c(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return w(Le),null;case 4:return ue(),null;case 10:return sa(t.type),null;case 22:case 23:return Mt(t),ar(),e!==null&&w(el),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa(Ve),null;case 25:return null;default:return null}}function id(e,t){switch(Gi(t),t.tag){case 3:sa(Ve),ue();break;case 26:case 27:case 5:ol(t);break;case 4:ue();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:w(Le);break;case 10:sa(t.type);break;case 22:case 23:Mt(t),ar(),e!==null&&w(el);break;case 24:sa(Ve)}}function Sn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var s=a.create,r=a.inst;l=s(),r.destroy=l}a=a.next}while(a!==n)}}catch(o){ke(t,t.return,o)}}function za(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var s=n.next;l=s;do{if((l.tag&e)===e){var r=l.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,n=t;var h=a,v=o;try{v()}catch(N){ke(n,h,N)}}}l=l.next}while(l!==s)}}catch(N){ke(t,t.return,N)}}function rd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{$u(t,a)}catch(l){ke(e,e.return,l)}}}function od(e,t,a){a.props=sl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ke(e,t,l)}}function An(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){ke(e,t,n)}}function Kt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){ke(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){ke(e,t,n)}else a.current=null}function ud(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){ke(e,e.return,n)}}function Or(e,t,a){try{var l=e.stateNode;Im(l,e.type,a,t),l[ht]=t}catch(n){ke(e,e.return,n)}}function cd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ca(e.type)||e.tag===4}function Rr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ca(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ea));else if(l!==4&&(l===27&&Ca(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Cr(e,t,a),e=e.sibling;e!==null;)Cr(e,t,a),e=e.sibling}function Os(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ca(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Os(e,t,a),e=e.sibling;e!==null;)Os(e,t,a),e=e.sibling}function dd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);rt(t,l,a),t[lt]=e,t[ht]=a}catch(s){ke(e,e.return,s)}}var ca=!1,Pe=!1,Yr=!1,fd=typeof WeakSet=="function"?WeakSet:Set,at=null;function xm(e,t){if(e=e.containerInfo,no=ti,e=Au(e),qi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var r=0,o=-1,h=-1,v=0,N=0,E=e,x=null;t:for(;;){for(var A;E!==a||n!==0&&E.nodeType!==3||(o=r+n),E!==s||l!==0&&E.nodeType!==3||(h=r+l),E.nodeType===3&&(r+=E.nodeValue.length),(A=E.firstChild)!==null;)x=E,E=A;for(;;){if(E===e)break t;if(x===a&&++v===n&&(o=r),x===s&&++N===l&&(h=r),(A=E.nextSibling)!==null)break;E=x,x=E.parentNode}E=A}a=o===-1||h===-1?null:{start:o,end:h}}else a=null}a=a||{start:0,end:0}}else a=null;for(so={focusedElem:e,selectionRange:a},ti=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,a=t,n=s.memoizedProps,s=s.memoizedState,l=a.stateNode;try{var L=sl(a.type,n);e=l.getSnapshotBeforeUpdate(L,s),l.__reactInternalSnapshotBeforeUpdate=e}catch($){ke(a,a.return,$)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)oo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function hd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fa(e,a),l&4&&Sn(5,a);break;case 1:if(fa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){ke(a,a.return,r)}else{var n=sl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ke(a,a.return,r)}}l&64&&rd(a),l&512&&An(a,a.return);break;case 3:if(fa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{$u(e,t)}catch(r){ke(a,a.return,r)}}break;case 27:t===null&&l&4&&dd(a);case 26:case 5:fa(e,a),t===null&&l&4&&ud(a),l&512&&An(a,a.return);break;case 12:fa(e,a);break;case 31:fa(e,a),l&4&&pd(e,a);break;case 13:fa(e,a),l&4&&gd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qm.bind(null,a),Km(e,a))));break;case 22:if(l=a.memoizedState!==null||ca,!l){t=t!==null&&t.memoizedState!==null||Pe,n=ca;var s=Pe;ca=l,(Pe=t)&&!s?ha(e,a,(a.subtreeFlags&8772)!==0):fa(e,a),ca=n,Pe=s}break;case 30:break;default:fa(e,a)}}function md(e){var t=e.alternate;t!==null&&(e.alternate=null,md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,yt=!1;function da(e,t,a){for(a=a.child;a!==null;)yd(e,t,a),a=a.sibling}function yd(e,t,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Zl,a)}catch{}switch(a.tag){case 26:Pe||Kt(a,t),da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Kt(a,t);var l=Ue,n=yt;Ca(a.type)&&(Ue=a.stateNode,yt=!1),da(e,t,a),Dn(a.stateNode),Ue=l,yt=n;break;case 5:Pe||Kt(a,t);case 6:if(l=Ue,n=yt,Ue=null,da(e,t,a),Ue=l,yt=n,Ue!==null)if(yt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(a.stateNode)}catch(s){ke(a,t,s)}else try{Ue.removeChild(a.stateNode)}catch(s){ke(a,t,s)}break;case 18:Ue!==null&&(yt?(e=Ue,of(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Vl(e)):of(Ue,a.stateNode));break;case 4:l=Ue,n=yt,Ue=a.stateNode.containerInfo,yt=!0,da(e,t,a),Ue=l,yt=n;break;case 0:case 11:case 14:case 15:za(2,a,t),Pe||za(4,a,t),da(e,t,a);break;case 1:Pe||(Kt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&od(a,t,l)),da(e,t,a);break;case 21:da(e,t,a);break;case 22:Pe=(l=Pe)||a.memoizedState!==null,da(e,t,a),Pe=l;break;default:da(e,t,a)}}function pd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vl(e)}catch(a){ke(t,t.return,a)}}}function gd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vl(e)}catch(a){ke(t,t.return,a)}}function wm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new fd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new fd),t;default:throw Error(c(435,e.tag))}}function Rs(e,t){var a=wm(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=Em.bind(null,e,l);l.then(n,n)}})}function pt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],s=e,r=t,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(Ca(o.type)){Ue=o.stateNode,yt=!1;break e}break;case 5:Ue=o.stateNode,yt=!1;break e;case 3:case 4:Ue=o.stateNode.containerInfo,yt=!0;break e}o=o.return}if(Ue===null)throw Error(c(160));yd(s,r,n),Ue=null,yt=!1,s=n.alternate,s!==null&&(s.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bd(t,e),t=t.sibling}var Xt=null;function bd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),gt(e),l&4&&(za(3,e,e.return),Sn(3,e),za(5,e,e.return));break;case 1:pt(t,e),gt(e),l&512&&(Pe||a===null||Kt(a,a.return)),l&64&&ca&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Xt;if(pt(t,e),gt(e),l&512&&(Pe||a===null||Kt(a,a.return)),l&4){var s=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":s=n.getElementsByTagName("title")[0],(!s||s[Kl]||s[lt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=n.createElement(l),n.head.insertBefore(s,n.querySelector("head > title"))),rt(s,l,a),s[lt]=e,tt(s),l=s;break e;case"link":var r=_f("link","href",n).get(l+(a.href||""));if(r){for(var o=0;o<r.length;o++)if(s=r[o],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(o,1);break t}}s=n.createElement(l),rt(s,l,a),n.head.appendChild(s);break;case"meta":if(r=_f("meta","content",n).get(l+(a.content||""))){for(o=0;o<r.length;o++)if(s=r[o],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(o,1);break t}}s=n.createElement(l),rt(s,l,a),n.head.appendChild(s);break;default:throw Error(c(468,l))}s[lt]=e,tt(s),l=s}e.stateNode=l}else vf(n,e.type,e.stateNode);else e.stateNode=bf(n,l,e.memoizedProps);else s!==l?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,l===null?vf(n,e.type,e.stateNode):bf(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Or(e,e.memoizedProps,a.memoizedProps)}break;case 27:pt(t,e),gt(e),l&512&&(Pe||a===null||Kt(a,a.return)),a!==null&&l&4&&Or(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pt(t,e),gt(e),l&512&&(Pe||a===null||Kt(a,a.return)),e.flags&32){n=e.stateNode;try{yl(n,"")}catch(L){ke(e,e.return,L)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Or(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Yr=!0);break;case 6:if(pt(t,e),gt(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(L){ke(e,e.return,L)}}break;case 3:if($s=null,n=Xt,Xt=Ps(t.containerInfo),pt(t,e),Xt=n,gt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(t.containerInfo)}catch(L){ke(e,e.return,L)}Yr&&(Yr=!1,_d(e));break;case 4:l=Xt,Xt=Ps(e.stateNode.containerInfo),pt(t,e),gt(e),Xt=l;break;case 12:pt(t,e),gt(e);break;case 31:pt(t,e),gt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rs(e,l)));break;case 13:pt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ys=Re()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rs(e,l)));break;case 22:n=e.memoizedState!==null;var h=a!==null&&a.memoizedState!==null,v=ca,N=Pe;if(ca=v||n,Pe=N||h,pt(t,e),Pe=N,ca=v,gt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||h||ca||Pe||il(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){h=a=t;try{if(s=h.stateNode,n)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=h.stateNode;var E=h.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null;o.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(L){ke(h,h.return,L)}}}else if(t.tag===6){if(a===null){h=t;try{h.stateNode.nodeValue=n?"":h.memoizedProps}catch(L){ke(h,h.return,L)}}}else if(t.tag===18){if(a===null){h=t;try{var A=h.stateNode;n?uf(A,!0):uf(h.stateNode,!1)}catch(L){ke(h,h.return,L)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rs(e,a))));break;case 19:pt(t,e),gt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rs(e,l)));break;case 30:break;case 21:break;default:pt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(cd(l)){a=l;break}l=l.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var n=a.stateNode,s=Rr(e);Os(e,s,n);break;case 5:var r=a.stateNode;a.flags&32&&(yl(r,""),a.flags&=-33);var o=Rr(e);Os(e,o,r);break;case 3:case 4:var h=a.stateNode.containerInfo,v=Rr(e);Cr(e,v,h);break;default:throw Error(c(161))}}catch(N){ke(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _d(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_d(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hd(e,t.alternate,t),t=t.sibling}function il(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:za(4,t,t.return),il(t);break;case 1:Kt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&od(t,t.return,a),il(t);break;case 27:Dn(t.stateNode);case 26:case 5:Kt(t,t.return),il(t);break;case 22:t.memoizedState===null&&il(t);break;case 30:il(t);break;default:il(t)}e=e.sibling}}function ha(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:ha(n,s,a),Sn(4,s);break;case 1:if(ha(n,s,a),l=s,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(v){ke(l,l.return,v)}if(l=s,n=l.updateQueue,n!==null){var o=l.stateNode;try{var h=n.shared.hiddenCallbacks;if(h!==null)for(n.shared.hiddenCallbacks=null,n=0;n<h.length;n++)Ku(h[n],o)}catch(v){ke(l,l.return,v)}}a&&r&64&&rd(s),An(s,s.return);break;case 27:dd(s);case 26:case 5:ha(n,s,a),a&&l===null&&r&4&&ud(s),An(s,s.return);break;case 12:ha(n,s,a);break;case 31:ha(n,s,a),a&&r&4&&pd(n,s);break;case 13:ha(n,s,a),a&&r&4&&gd(n,s);break;case 22:s.memoizedState===null&&ha(n,s,a),An(s,s.return);break;case 30:break;default:ha(n,s,a)}t=t.sibling}}function Ur(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cn(a))}function Hr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cn(e))}function Qt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vd(e,t,a,l),t=t.sibling}function vd(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,a,l),n&2048&&Sn(9,t);break;case 1:Qt(e,t,a,l);break;case 3:Qt(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&cn(e)));break;case 12:if(n&2048){Qt(e,t,a,l),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,o=s.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(h){ke(t,t.return,h)}}else Qt(e,t,a,l);break;case 31:Qt(e,t,a,l);break;case 13:Qt(e,t,a,l);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Qt(e,t,a,l):kn(e,t):s._visibility&2?Qt(e,t,a,l):(s._visibility|=2,Rl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Ur(r,t);break;case 24:Qt(e,t,a,l),n&2048&&Hr(t.alternate,t);break;default:Qt(e,t,a,l)}}function Rl(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,o=a,h=l,v=r.flags;switch(r.tag){case 0:case 11:case 15:Rl(s,r,o,h,n),Sn(8,r);break;case 23:break;case 22:var N=r.stateNode;r.memoizedState!==null?N._visibility&2?Rl(s,r,o,h,n):kn(s,r):(N._visibility|=2,Rl(s,r,o,h,n)),n&&v&2048&&Ur(r.alternate,r);break;case 24:Rl(s,r,o,h,n),n&&v&2048&&Hr(r.alternate,r);break;default:Rl(s,r,o,h,n)}t=t.sibling}}function kn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:kn(a,l),n&2048&&Ur(l.alternate,l);break;case 24:kn(a,l),n&2048&&Hr(l.alternate,l);break;default:kn(a,l)}t=t.sibling}}var Mn=8192;function Cl(e,t,a){if(e.subtreeFlags&Mn)for(e=e.child;e!==null;)xd(e,t,a),e=e.sibling}function xd(e,t,a){switch(e.tag){case 26:Cl(e,t,a),e.flags&Mn&&e.memoizedState!==null&&oy(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Cl(e,t,a);break;case 3:case 4:var l=Xt;Xt=Ps(e.stateNode.containerInfo),Cl(e,t,a),Xt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Mn,Mn=16777216,Cl(e,t,a),Mn=l):Cl(e,t,a));break;default:Cl(e,t,a)}}function wd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Nn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];at=l,Ad(l,e)}wd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sd(e),e=e.sibling}function Sd(e){switch(e.tag){case 0:case 11:case 15:Nn(e),e.flags&2048&&za(9,e,e.return);break;case 3:Nn(e);break;case 12:Nn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cs(e)):Nn(e);break;default:Nn(e)}}function Cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];at=l,Ad(l,e)}wd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:za(8,t,t.return),Cs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Cs(t));break;default:Cs(t)}e=e.sibling}}function Ad(e,t){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:za(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,at=l;else e:for(a=e;at!==null;){l=at;var n=l.sibling,s=l.return;if(md(l),l===a){at=null;break e}if(n!==null){n.return=s,at=n;break e}at=s}}}var Sm={getCacheForType:function(e){var t=st(Ve),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return st(Ve).controller.signal}},Am=typeof WeakMap=="function"?WeakMap:Map,ve=0,Ee=null,ce=null,fe=0,Ae=0,Nt=null,qa=!1,Yl=!1,Br=!1,ma=0,Ge=0,Ea=0,rl=0,Gr=0,Tt=0,Ul=0,Tn=null,bt=null,Ir=!1,Ys=0,kd=0,Us=1/0,Hs=null,ja=null,$e=0,Da=null,Hl=null,ya=0,Lr=0,Xr=null,Md=null,zn=0,Qr=null;function zt(){return(ve&2)!==0&&fe!==0?fe&-fe:p.T!==null?$r():Io()}function Nd(){if(Tt===0)if((fe&536870912)===0||ye){var e=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),Tt=e}else Tt=536870912;return e=kt.current,e!==null&&(e.flags|=32),Tt}function _t(e,t,a){(e===Ee&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Bl(e,0),Oa(e,fe,Tt,!1)),Pl(e,a),((ve&2)===0||e!==Ee)&&(e===Ee&&((ve&2)===0&&(rl|=a),Ge===4&&Oa(e,fe,Tt,!1)),$t(e))}function Td(e,t,a){if((ve&6)!==0)throw Error(c(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Fl(e,t),n=l?Nm(e,t):Zr(e,t,!0),s=l;do{if(n===0){Yl&&!l&&Oa(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!km(a)){n=Zr(e,t,!1),s=!1;continue}if(n===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var o=e;n=Tn;var h=o.current.memoizedState.isDehydrated;if(h&&(Bl(o,r).flags|=256),r=Zr(o,r,!1),r!==2){if(Br&&!h){o.errorRecoveryDisabledLanes|=s,rl|=s,n=4;break e}s=bt,bt=n,s!==null&&(bt===null?bt=s:bt.push.apply(bt,s))}n=r}if(s=!1,n!==2)continue}}if(n===1){Bl(e,0),Oa(e,t,0,!0);break}e:{switch(l=e,s=n,s){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Oa(l,t,Tt,!qa);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(n=Ys+300-Re(),10<n)){if(Oa(l,t,Tt,!qa),Pn(l,0,!0)!==0)break e;ya=t,l.timeoutHandle=sf(zd.bind(null,l,a,bt,Hs,Ir,t,Tt,rl,Ul,qa,s,"Throttled",-0,0),n);break e}zd(l,a,bt,Hs,Ir,t,Tt,rl,Ul,qa,s,null,-0,0)}}break}while(!0);$t(e)}function zd(e,t,a,l,n,s,r,o,h,v,N,E,x,A){if(e.timeoutHandle=-1,E=t.subtreeFlags,E&8192||(E&16785408)===16785408){E={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},xd(t,s,E);var L=(s&62914560)===s?Ys-Re():(s&4194048)===s?kd-Re():0;if(L=uy(E,L),L!==null){ya=s,e.cancelPendingCommit=L(Yd.bind(null,e,t,s,a,l,n,r,o,h,N,E,null,x,A)),Oa(e,s,r,!v);return}}Yd(e,t,s,a,l,n,r,o,h)}function km(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],s=n.getSnapshot;n=n.value;try{if(!St(s(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oa(e,t,a,l){t&=~Gr,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var s=31-wt(n),r=1<<s;l[s]=-1,n&=~r}a!==0&&Ho(e,a,t)}function Bs(){return(ve&6)===0?(qn(0),!1):!0}function Vr(){if(ce!==null){if(Ae===0)var e=ce.return;else e=ce,na=Ja=null,or(e),ql=null,fn=0,e=ce;for(;e!==null;)id(e.alternate,e),e=e.return;ce=null}}function Bl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Qm(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ya=0,Vr(),Ee=e,ce=a=aa(e.current,null),fe=t,Ae=0,Nt=null,qa=!1,Yl=Fl(e,t),Br=!1,Ul=Tt=Gr=rl=Ea=Ge=0,bt=Tn=null,Ir=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-wt(l),s=1<<n;t|=e[n],l&=~s}return ma=t,rs(),a}function qd(e,t){ne=null,p.H=vn,t===zl||t===ys?(t=Vu(),Ae=3):t===Ki?(t=Vu(),Ae=4):Ae=t===Ar?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,ce===null&&(Ge=1,zs(e,Dt(t,e.current)))}function Ed(){var e=kt.current;return e===null?!0:(fe&4194048)===fe?Yt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Yt:!1}function jd(){var e=p.H;return p.H=vn,e===null?vn:e}function Dd(){var e=p.A;return p.A=Sm,e}function Gs(){Ge=4,qa||(fe&4194048)!==fe&&kt.current!==null||(Yl=!0),(Ea&134217727)===0&&(rl&134217727)===0||Ee===null||Oa(Ee,fe,Tt,!1)}function Zr(e,t,a){var l=ve;ve|=2;var n=jd(),s=Dd();(Ee!==e||fe!==t)&&(Hs=null,Bl(e,t)),t=!1;var r=Ge;e:do try{if(Ae!==0&&ce!==null){var o=ce,h=Nt;switch(Ae){case 8:Vr(),r=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var v=Ae;if(Ae=0,Nt=null,Gl(e,o,h,v),a&&Yl){r=0;break e}break;default:v=Ae,Ae=0,Nt=null,Gl(e,o,h,v)}}Mm(),r=Ge;break}catch(N){qd(e,N)}while(!0);return t&&e.shellSuspendCounter++,na=Ja=null,ve=l,p.H=n,p.A=s,ce===null&&(Ee=null,fe=0,rs()),r}function Mm(){for(;ce!==null;)Od(ce)}function Nm(e,t){var a=ve;ve|=2;var l=jd(),n=Dd();Ee!==e||fe!==t?(Hs=null,Us=Re()+500,Bl(e,t)):Yl=Fl(e,t);e:do try{if(Ae!==0&&ce!==null){t=ce;var s=Nt;t:switch(Ae){case 1:Ae=0,Nt=null,Gl(e,t,s,1);break;case 2:case 9:if(Xu(s)){Ae=0,Nt=null,Rd(t);break}t=function(){Ae!==2&&Ae!==9||Ee!==e||(Ae=7),$t(e)},s.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Xu(s)?(Ae=0,Nt=null,Rd(t)):(Ae=0,Nt=null,Gl(e,t,s,7));break;case 5:var r=null;switch(ce.tag){case 26:r=ce.memoizedState;case 5:case 27:var o=ce;if(r?xf(r):o.stateNode.complete){Ae=0,Nt=null;var h=o.sibling;if(h!==null)ce=h;else{var v=o.return;v!==null?(ce=v,Is(v)):ce=null}break t}}Ae=0,Nt=null,Gl(e,t,s,5);break;case 6:Ae=0,Nt=null,Gl(e,t,s,6);break;case 8:Vr(),Ge=6;break e;default:throw Error(c(462))}}Tm();break}catch(N){qd(e,N)}while(!0);return na=Ja=null,p.H=l,p.A=n,ve=a,ce!==null?0:(Ee=null,fe=0,rs(),Ge)}function Tm(){for(;ce!==null&&!It();)Od(ce)}function Od(e){var t=nd(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?Is(e):ce=t}function Rd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jc(a,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Jc(a,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:or(t);default:id(a,t),t=ce=Du(t,ma),t=nd(a,t,ma)}e.memoizedProps=e.pendingProps,t===null?Is(e):ce=t}function Gl(e,t,a,l){na=Ja=null,or(t),ql=null,fn=0;var n=t.return;try{if(pm(e,n,t,a,fe)){Ge=1,zs(e,Dt(a,e.current)),ce=null;return}}catch(s){if(n!==null)throw ce=n,s;Ge=1,zs(e,Dt(a,e.current)),ce=null;return}t.flags&32768?(ye||l===1?e=!0:Yl||(fe&536870912)!==0?e=!1:(qa=e=!0,(l===2||l===9||l===3||l===6)&&(l=kt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cd(t,e)):Is(t)}function Is(e){var t=e;do{if((t.flags&32768)!==0){Cd(t,qa);return}e=t.return;var a=_m(t.alternate,t,ma);if(a!==null){ce=a;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);Ge===0&&(Ge=5)}function Cd(e,t){do{var a=vm(e.alternate,e);if(a!==null){a.flags&=32767,ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=a}while(e!==null);Ge=6,ce=null}function Yd(e,t,a,l,n,s,r,o,h){e.cancelPendingCommit=null;do Ls();while($e!==0);if((ve&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(s=t.lanes|t.childLanes,s|=Ri,rh(e,a,s,r,o,h),e===Ee&&(ce=Ee=null,fe=0),Hl=t,Da=e,ya=a,Lr=s,Xr=n,Md=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jm(ft,function(){return Id(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=p.T,p.T=null,n=q.p,q.p=2,r=ve,ve|=4;try{xm(e,t,a)}finally{ve=r,q.p=n,p.T=l}}$e=1,Ud(),Hd(),Bd()}}function Ud(){if($e===1){$e=0;var e=Da,t=Hl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=p.T,p.T=null;var l=q.p;q.p=2;var n=ve;ve|=4;try{bd(t,e);var s=so,r=Au(e.containerInfo),o=s.focusedElem,h=s.selectionRange;if(r!==o&&o&&o.ownerDocument&&Su(o.ownerDocument.documentElement,o)){if(h!==null&&qi(o)){var v=h.start,N=h.end;if(N===void 0&&(N=v),"selectionStart"in o)o.selectionStart=v,o.selectionEnd=Math.min(N,o.value.length);else{var E=o.ownerDocument||document,x=E&&E.defaultView||window;if(x.getSelection){var A=x.getSelection(),L=o.textContent.length,$=Math.min(h.start,L),Te=h.end===void 0?$:Math.min(h.end,L);!A.extend&&$>Te&&(r=Te,Te=$,$=r);var g=wu(o,$),y=wu(o,Te);if(g&&y&&(A.rangeCount!==1||A.anchorNode!==g.node||A.anchorOffset!==g.offset||A.focusNode!==y.node||A.focusOffset!==y.offset)){var b=E.createRange();b.setStart(g.node,g.offset),A.removeAllRanges(),$>Te?(A.addRange(b),A.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),A.addRange(b))}}}}for(E=[],A=o;A=A.parentNode;)A.nodeType===1&&E.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<E.length;o++){var T=E[o];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}ti=!!no,so=no=null}finally{ve=n,q.p=l,p.T=a}}e.current=t,$e=2}}function Hd(){if($e===2){$e=0;var e=Da,t=Hl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=p.T,p.T=null;var l=q.p;q.p=2;var n=ve;ve|=4;try{hd(e,t.alternate,t)}finally{ve=n,q.p=l,p.T=a}}$e=3}}function Bd(){if($e===4||$e===3){$e=0,we();var e=Da,t=Hl,a=ya,l=Md;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?$e=5:($e=0,Hl=Da=null,Gd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ja=null),di(a),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Zl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=p.T,n=q.p,q.p=2,p.T=null;try{for(var s=e.onRecoverableError,r=0;r<l.length;r++){var o=l[r];s(o.value,{componentStack:o.stack})}}finally{p.T=t,q.p=n}}(ya&3)!==0&&Ls(),$t(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Qr?zn++:(zn=0,Qr=e):zn=0,qn(0)}}function Gd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,cn(t)))}function Ls(){return Ud(),Hd(),Bd(),Id()}function Id(){if($e!==5)return!1;var e=Da,t=Lr;Lr=0;var a=di(ya),l=p.T,n=q.p;try{q.p=32>a?32:a,p.T=null,a=Xr,Xr=null;var s=Da,r=ya;if($e=0,Hl=Da=null,ya=0,(ve&6)!==0)throw Error(c(331));var o=ve;if(ve|=4,Sd(s.current),vd(s,s.current,r,a),ve=o,qn(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Zl,s)}catch{}return!0}finally{q.p=n,p.T=l,Gd(e,t)}}function Ld(e,t,a){t=Dt(a,t),t=Sr(e.stateNode,t,2),e=Ma(e,t,2),e!==null&&(Pl(e,2),$t(e))}function ke(e,t,a){if(e.tag===3)Ld(e,e,a);else for(;t!==null;){if(t.tag===3){Ld(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ja===null||!ja.has(l))){e=Dt(a,e),a=Xc(2),l=Ma(t,a,2),l!==null&&(Qc(a,l,t,e),Pl(l,2),$t(l));break}}t=t.return}}function Fr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Am;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(Br=!0,n.add(a),e=zm.bind(null,e,t,a),t.then(e,e))}function zm(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ee===e&&(fe&a)===a&&(Ge===4||Ge===3&&(fe&62914560)===fe&&300>Re()-Ys?(ve&2)===0&&Bl(e,0):Gr|=a,Ul===fe&&(Ul=0)),$t(e)}function Xd(e,t){t===0&&(t=Uo()),e=Pa(e,t),e!==null&&(Pl(e,t),$t(e))}function qm(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Xd(e,a)}function Em(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),Xd(e,a)}function jm(e,t){return Gt(e,t)}var Xs=null,Il=null,Pr=!1,Qs=!1,Kr=!1,Ra=0;function $t(e){e!==Il&&e.next===null&&(Il===null?Xs=Il=e:Il=Il.next=e),Qs=!0,Pr||(Pr=!0,Om())}function qn(e,t){if(!Kr&&Qs){Kr=!0;do for(var a=!1,l=Xs;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var s=0;else{var r=l.suspendedLanes,o=l.pingedLanes;s=(1<<31-wt(42|e)+1)-1,s&=n&~(r&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,Fd(l,s))}else s=fe,s=Pn(l,l===Ee?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||Fl(l,s)||(a=!0,Fd(l,s));l=l.next}while(a);Kr=!1}}function Dm(){Qd()}function Qd(){Qs=Pr=!1;var e=0;Ra!==0&&Xm()&&(e=Ra);for(var t=Re(),a=null,l=Xs;l!==null;){var n=l.next,s=Vd(l,t);s===0?(l.next=null,a===null?Xs=n:a.next=n,n===null&&(Il=a)):(a=l,(e!==0||(s&3)!==0)&&(Qs=!0)),l=n}$e!==0&&$e!==5||qn(e),Ra!==0&&(Ra=0)}function Vd(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-wt(s),o=1<<r,h=n[r];h===-1?((o&a)===0||(o&l)!==0)&&(n[r]=ih(o,t)):h<=t&&(e.expiredLanes|=o),s&=~o}if(t=Ee,a=fe,a=Pn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ia(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ia(l),di(a)){case 2:case 8:a=Se;break;case 32:a=ft;break;case 268435456:a=Yo;break;default:a=ft}return l=Zd.bind(null,e),a=Gt(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ia(l),e.callbackPriority=2,e.callbackNode=null,2}function Zd(e,t){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ls()&&e.callbackNode!==a)return null;var l=fe;return l=Pn(e,e===Ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Td(e,l,t),Vd(e,Re()),e.callbackNode!=null&&e.callbackNode===a?Zd.bind(null,e):null)}function Fd(e,t){if(Ls())return null;Td(e,t,!0)}function Om(){Vm(function(){(ve&6)!==0?Gt(Zt,Dm):Qd()})}function $r(){if(Ra===0){var e=Nl;e===0&&(e=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),Ra=e}return Ra}function Pd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wn(""+e)}function Kd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Rm(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var s=Pd((n[ht]||null).action),r=l.submitter;r&&(t=(t=r[ht]||null)?Pd(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var o=new ls("action","action",null,l,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ra!==0){var h=r?Kd(n,r):new FormData(n);gr(a,{pending:!0,data:h,method:n.method,action:s},null,h)}}else typeof s=="function"&&(o.preventDefault(),h=r?Kd(n,r):new FormData(n),gr(a,{pending:!0,data:h,method:n.method,action:s},s,h))},currentTarget:n}]})}}for(var Jr=0;Jr<Oi.length;Jr++){var Wr=Oi[Jr],Cm=Wr.toLowerCase(),Ym=Wr[0].toUpperCase()+Wr.slice(1);Lt(Cm,"on"+Ym)}Lt(Nu,"onAnimationEnd"),Lt(Tu,"onAnimationIteration"),Lt(zu,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(Wh,"onTransitionRun"),Lt(em,"onTransitionStart"),Lt(tm,"onTransitionCancel"),Lt(qu,"onTransitionEnd"),hl("onMouseEnter",["mouseout","mouseover"]),hl("onMouseLeave",["mouseout","mouseover"]),hl("onPointerEnter",["pointerout","pointerover"]),hl("onPointerLeave",["pointerout","pointerover"]),Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var En="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(En));function $d(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var r=l.length-1;0<=r;r--){var o=l[r],h=o.instance,v=o.currentTarget;if(o=o.listener,h!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=v;try{s(n)}catch(N){is(N)}n.currentTarget=null,s=h}else for(r=0;r<l.length;r++){if(o=l[r],h=o.instance,v=o.currentTarget,o=o.listener,h!==s&&n.isPropagationStopped())break e;s=o,n.currentTarget=v;try{s(n)}catch(N){is(N)}n.currentTarget=null,s=h}}}}function de(e,t){var a=t[fi];a===void 0&&(a=t[fi]=new Set);var l=e+"__bubble";a.has(l)||(Jd(t,e,2,!1),a.add(l))}function eo(e,t,a){var l=0;t&&(l|=4),Jd(a,e,l,t)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[Vs]){e[Vs]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(Um.has(a)||eo(a,!1,e),eo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vs]||(t[Vs]=!0,eo("selectionchange",!1,t))}}function Jd(e,t,a,l){switch(Tf(t)){case 2:var n=fy;break;case 8:n=hy;break;default:n=go}a=n.bind(null,t,a,e),n=void 0,!xi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function ao(e,t,a,l,n){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var o=l.stateNode.containerInfo;if(o===n)break;if(r===4)for(r=l.return;r!==null;){var h=r.tag;if((h===3||h===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;o!==null;){if(r=cl(o),r===null)return;if(h=r.tag,h===5||h===6||h===26||h===27){l=s=r;continue e}o=o.parentNode}}l=l.return}lu(function(){var v=s,N=_i(a),E=[];e:{var x=Eu.get(e);if(x!==void 0){var A=ls,L=e;switch(e){case"keypress":if(ts(a)===0)break e;case"keydown":case"keyup":A=Eh;break;case"focusin":L="focus",A=ki;break;case"focusout":L="blur",A=ki;break;case"beforeblur":case"afterblur":A=ki;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Oh;break;case Nu:case Tu:case zu:A=wh;break;case qu:A=Ch;break;case"scroll":case"scrollend":A=gh;break;case"wheel":A=Uh;break;case"copy":case"cut":case"paste":A=Ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=ou;break;case"toggle":case"beforetoggle":A=Bh}var $=(t&4)!==0,Te=!$&&(e==="scroll"||e==="scrollend"),g=$?x!==null?x+"Capture":null:x;$=[];for(var y=v,b;y!==null;){var T=y;if(b=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||b===null||g===null||(T=Jl(y,g),T!=null&&$.push(jn(y,T,b))),Te)break;y=y.return}0<$.length&&(x=new A(x,L,null,a,N),E.push({event:x,listeners:$}))}}if((t&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",x&&a!==bi&&(L=a.relatedTarget||a.fromElement)&&(cl(L)||L[ul]))break e;if((A||x)&&(x=N.window===N?N:(x=N.ownerDocument)?x.defaultView||x.parentWindow:window,A?(L=a.relatedTarget||a.toElement,A=v,L=L?cl(L):null,L!==null&&(Te=j(L),$=L.tag,L!==Te||$!==5&&$!==27&&$!==6)&&(L=null)):(A=null,L=v),A!==L)){if($=iu,T="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&($=ou,T="onPointerLeave",g="onPointerEnter",y="pointer"),Te=A==null?x:$l(A),b=L==null?x:$l(L),x=new $(T,y+"leave",A,a,N),x.target=Te,x.relatedTarget=b,T=null,cl(N)===v&&($=new $(g,y+"enter",L,a,N),$.target=b,$.relatedTarget=Te,T=$),Te=T,A&&L)t:{for($=Hm,g=A,y=L,b=0,T=g;T;T=$(T))b++;T=0;for(var F=y;F;F=$(F))T++;for(;0<b-T;)g=$(g),b--;for(;0<T-b;)y=$(y),T--;for(;b--;){if(g===y||y!==null&&g===y.alternate){$=g;break t}g=$(g),y=$(y)}$=null}else $=null;A!==null&&Wd(E,x,A,$,!1),L!==null&&Te!==null&&Wd(E,Te,L,$,!0)}}e:{if(x=v?$l(v):window,A=x.nodeName&&x.nodeName.toLowerCase(),A==="select"||A==="input"&&x.type==="file")var be=pu;else if(mu(x))if(gu)be=Kh;else{be=Fh;var X=Zh}else A=x.nodeName,!A||A.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?v&&gi(v.elementType)&&(be=pu):be=Ph;if(be&&(be=be(e,v))){yu(E,be,a,N);break e}X&&X(e,x,v),e==="focusout"&&v&&x.type==="number"&&v.memoizedProps.value!=null&&pi(x,"number",x.value)}switch(X=v?$l(v):window,e){case"focusin":(mu(X)||X.contentEditable==="true")&&(_l=X,Ei=v,rn=null);break;case"focusout":rn=Ei=_l=null;break;case"mousedown":ji=!0;break;case"contextmenu":case"mouseup":case"dragend":ji=!1,ku(E,a,N);break;case"selectionchange":if(Jh)break;case"keydown":case"keyup":ku(E,a,N)}var ie;if(Ni)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else bl?fu(e,a)&&(he="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(uu&&a.locale!=="ko"&&(bl||he!=="onCompositionStart"?he==="onCompositionEnd"&&bl&&(ie=nu()):(_a=N,wi="value"in _a?_a.value:_a.textContent,bl=!0)),X=Zs(v,he),0<X.length&&(he=new ru(he,e,null,a,N),E.push({event:he,listeners:X}),ie?he.data=ie:(ie=hu(a),ie!==null&&(he.data=ie)))),(ie=Ih?Lh(e,a):Xh(e,a))&&(he=Zs(v,"onBeforeInput"),0<he.length&&(X=new ru("onBeforeInput","beforeinput",null,a,N),E.push({event:X,listeners:he}),X.data=ie)),Rm(E,e,v,a,N)}$d(E,t)})}function jn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Zs(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,s=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||s===null||(n=Jl(e,a),n!=null&&l.unshift(jn(e,n,s)),n=Jl(e,t),n!=null&&l.push(jn(e,n,s))),e.tag===3)return l;e=e.return}return[]}function Hm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wd(e,t,a,l,n){for(var s=t._reactName,r=[];a!==null&&a!==l;){var o=a,h=o.alternate,v=o.stateNode;if(o=o.tag,h!==null&&h===l)break;o!==5&&o!==26&&o!==27||v===null||(h=v,n?(v=Jl(a,s),v!=null&&r.unshift(jn(a,v,h))):n||(v=Jl(a,s),v!=null&&r.push(jn(a,v,h)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var Bm=/\r\n?/g,Gm=/\u0000|\uFFFD/g;function ef(e){return(typeof e=="string"?e:""+e).replace(Bm,`
`).replace(Gm,"")}function tf(e,t){return t=ef(t),ef(e)===t}function Ne(e,t,a,l,n,s){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||yl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&yl(e,""+l);break;case"className":$n(e,"class",l);break;case"tabIndex":$n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,l);break;case"style":tu(e,l,s);break;case"data":if(t!=="object"){$n(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Wn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&Ne(e,t,"name",n.name,n,null),Ne(e,t,"formEncType",n.formEncType,n,null),Ne(e,t,"formMethod",n.formMethod,n,null),Ne(e,t,"formTarget",n.formTarget,n,null)):(Ne(e,t,"encType",n.encType,n,null),Ne(e,t,"method",n.method,n,null),Ne(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Wn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ea);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Wn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":de("beforetoggle",e),de("toggle",e),Kn(e,"popover",l);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Kn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yh.get(a)||a,Kn(e,a,l))}}function lo(e,t,a,l,n,s){switch(a){case"style":tu(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof l=="string"?yl(e,l):(typeof l=="number"||typeof l=="bigint")&&yl(e,""+l);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),s=e[ht]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,n),typeof l=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Kn(e,a,l)}}}function rt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var l=!1,n=!1,s;for(s in a)if(a.hasOwnProperty(s)){var r=a[s];if(r!=null)switch(s){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ne(e,t,s,r,a,null)}}n&&Ne(e,t,"srcSet",a.srcSet,a,null),l&&Ne(e,t,"src",a.src,a,null);return;case"input":de("invalid",e);var o=s=r=n=null,h=null,v=null;for(l in a)if(a.hasOwnProperty(l)){var N=a[l];if(N!=null)switch(l){case"name":n=N;break;case"type":r=N;break;case"checked":h=N;break;case"defaultChecked":v=N;break;case"value":s=N;break;case"defaultValue":o=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(c(137,t));break;default:Ne(e,t,l,N,a,null)}}$o(e,s,o,h,v,r,n,!1);return;case"select":de("invalid",e),l=r=s=null;for(n in a)if(a.hasOwnProperty(n)&&(o=a[n],o!=null))switch(n){case"value":s=o;break;case"defaultValue":r=o;break;case"multiple":l=o;default:Ne(e,t,n,o,a,null)}t=s,a=r,e.multiple=!!l,t!=null?ml(e,!!l,t,!1):a!=null&&ml(e,!!l,a,!0);return;case"textarea":de("invalid",e),s=n=l=null;for(r in a)if(a.hasOwnProperty(r)&&(o=a[r],o!=null))switch(r){case"value":l=o;break;case"defaultValue":n=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:Ne(e,t,r,o,a,null)}Wo(e,l,n,s);return;case"option":for(h in a)if(a.hasOwnProperty(h)&&(l=a[h],l!=null))switch(h){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ne(e,t,h,l,a,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(l=0;l<En.length;l++)de(En[l],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(v in a)if(a.hasOwnProperty(v)&&(l=a[v],l!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ne(e,t,v,l,a,null)}return;default:if(gi(t)){for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!==void 0&&lo(e,t,N,l,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(l=a[o],l!=null&&Ne(e,t,o,l,a,null))}function Im(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,r=null,o=null,h=null,v=null,N=null;for(A in a){var E=a[A];if(a.hasOwnProperty(A)&&E!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":h=E;default:l.hasOwnProperty(A)||Ne(e,t,A,null,l,E)}}for(var x in l){var A=l[x];if(E=a[x],l.hasOwnProperty(x)&&(A!=null||E!=null))switch(x){case"type":s=A;break;case"name":n=A;break;case"checked":v=A;break;case"defaultChecked":N=A;break;case"value":r=A;break;case"defaultValue":o=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(c(137,t));break;default:A!==E&&Ne(e,t,x,A,l,E)}}yi(e,r,o,h,v,N,s,n);return;case"select":A=r=o=x=null;for(s in a)if(h=a[s],a.hasOwnProperty(s)&&h!=null)switch(s){case"value":break;case"multiple":A=h;default:l.hasOwnProperty(s)||Ne(e,t,s,null,l,h)}for(n in l)if(s=l[n],h=a[n],l.hasOwnProperty(n)&&(s!=null||h!=null))switch(n){case"value":x=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:s!==h&&Ne(e,t,n,s,l,h)}t=o,a=r,l=A,x!=null?ml(e,!!a,x,!1):!!l!=!!a&&(t!=null?ml(e,!!a,t,!0):ml(e,!!a,a?[]:"",!1));return;case"textarea":A=x=null;for(o in a)if(n=a[o],a.hasOwnProperty(o)&&n!=null&&!l.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ne(e,t,o,null,l,n)}for(r in l)if(n=l[r],s=a[r],l.hasOwnProperty(r)&&(n!=null||s!=null))switch(r){case"value":x=n;break;case"defaultValue":A=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(c(91));break;default:n!==s&&Ne(e,t,r,n,l,s)}Jo(e,x,A);return;case"option":for(var L in a)if(x=a[L],a.hasOwnProperty(L)&&x!=null&&!l.hasOwnProperty(L))switch(L){case"selected":e.selected=!1;break;default:Ne(e,t,L,null,l,x)}for(h in l)if(x=l[h],A=a[h],l.hasOwnProperty(h)&&x!==A&&(x!=null||A!=null))switch(h){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Ne(e,t,h,x,l,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $ in a)x=a[$],a.hasOwnProperty($)&&x!=null&&!l.hasOwnProperty($)&&Ne(e,t,$,null,l,x);for(v in l)if(x=l[v],A=a[v],l.hasOwnProperty(v)&&x!==A&&(x!=null||A!=null))switch(v){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(c(137,t));break;default:Ne(e,t,v,x,l,A)}return;default:if(gi(t)){for(var Te in a)x=a[Te],a.hasOwnProperty(Te)&&x!==void 0&&!l.hasOwnProperty(Te)&&lo(e,t,Te,void 0,l,x);for(N in l)x=l[N],A=a[N],!l.hasOwnProperty(N)||x===A||x===void 0&&A===void 0||lo(e,t,N,x,l,A);return}}for(var g in a)x=a[g],a.hasOwnProperty(g)&&x!=null&&!l.hasOwnProperty(g)&&Ne(e,t,g,null,l,x);for(E in l)x=l[E],A=a[E],!l.hasOwnProperty(E)||x===A||x==null&&A==null||Ne(e,t,E,x,l,A)}function af(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],s=n.transferSize,r=n.initiatorType,o=n.duration;if(s&&o&&af(r)){for(r=0,o=n.responseEnd,l+=1;l<a.length;l++){var h=a[l],v=h.startTime;if(v>o)break;var N=h.transferSize,E=h.initiatorType;N&&af(E)&&(h=h.responseEnd,r+=N*(h<o?1:(o-v)/(h-v)))}if(--l,t+=8*(s+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var no=null,so=null;function Fs(e){return e.nodeType===9?e:e.ownerDocument}function lf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function io(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ro=null;function Xm(){var e=window.event;return e&&e.type==="popstate"?e===ro?!1:(ro=e,!0):(ro=null,!1)}var sf=typeof setTimeout=="function"?setTimeout:void 0,Qm=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,Vm=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(e){return rf.resolve(null).then(e).catch(Zm)}:sf;function Zm(e){setTimeout(function(){throw e})}function Ca(e){return e==="head"}function of(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),Vl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Dn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Dn(a);for(var s=a.firstChild;s;){var r=s.nextSibling,o=s.nodeName;s[Kl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||a.removeChild(s),s=r}}else a==="body"&&Dn(e.ownerDocument.body);a=n}while(a);Vl(t)}function uf(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function oo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":oo(a),hi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fm(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Kl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Ut(e.nextSibling),e===null)break}return null}function Pm(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ut(e.nextSibling),e===null))return null;return e}function cf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ut(e.nextSibling),e===null))return null;return e}function uo(e){return e.data==="$?"||e.data==="$~"}function co(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Km(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var fo=null;function df(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ut(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function hf(e,t,a){switch(t=Fs(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Dn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hi(e)}var Ht=new Map,mf=new Set;function Ps(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pa=q.d;q.d={f:$m,r:Jm,D:Wm,C:ey,L:ty,m:ay,X:ny,S:ly,M:sy};function $m(){var e=pa.f(),t=Bs();return e||t}function Jm(e){var t=dl(e);t!==null&&t.tag===5&&t.type==="form"?qc(t):pa.r(e)}var Ll=typeof document>"u"?null:document;function yf(e,t,a){var l=Ll;if(l&&typeof t=="string"&&t){var n=Et(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),mf.has(n)||(mf.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),rt(t,"link",e),tt(t),l.head.appendChild(t)))}}function Wm(e){pa.D(e),yf("dns-prefetch",e,null)}function ey(e,t){pa.C(e,t),yf("preconnect",e,t)}function ty(e,t,a){pa.L(e,t,a);var l=Ll;if(l&&e&&t){var n='link[rel="preload"][as="'+Et(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Et(a.imageSizes)+'"]')):n+='[href="'+Et(e)+'"]';var s=n;switch(t){case"style":s=Xl(e);break;case"script":s=Ql(e)}Ht.has(s)||(e=K({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ht.set(s,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(On(s))||t==="script"&&l.querySelector(Rn(s))||(t=l.createElement("link"),rt(t,"link",e),tt(t),l.head.appendChild(t)))}}function ay(e,t){pa.m(e,t);var a=Ll;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(e)+'"]',s=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ql(e)}if(!Ht.has(s)&&(e=K({rel:"modulepreload",href:e},t),Ht.set(s,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rn(s)))return}l=a.createElement("link"),rt(l,"link",e),tt(l),a.head.appendChild(l)}}}function ly(e,t,a){pa.S(e,t,a);var l=Ll;if(l&&e){var n=fl(l).hoistableStyles,s=Xl(e);t=t||"default";var r=n.get(s);if(!r){var o={loading:0,preload:null};if(r=l.querySelector(On(s)))o.loading=5;else{e=K({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ht.get(s))&&ho(e,a);var h=r=l.createElement("link");tt(h),rt(h,"link",e),h._p=new Promise(function(v,N){h.onload=v,h.onerror=N}),h.addEventListener("load",function(){o.loading|=1}),h.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ks(r,t,l)}r={type:"stylesheet",instance:r,count:1,state:o},n.set(s,r)}}}function ny(e,t){pa.X(e,t);var a=Ll;if(a&&e){var l=fl(a).hoistableScripts,n=Ql(e),s=l.get(n);s||(s=a.querySelector(Rn(n)),s||(e=K({src:e,async:!0},t),(t=Ht.get(n))&&mo(e,t),s=a.createElement("script"),tt(s),rt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(n,s))}}function sy(e,t){pa.M(e,t);var a=Ll;if(a&&e){var l=fl(a).hoistableScripts,n=Ql(e),s=l.get(n);s||(s=a.querySelector(Rn(n)),s||(e=K({src:e,async:!0,type:"module"},t),(t=Ht.get(n))&&mo(e,t),s=a.createElement("script"),tt(s),rt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(n,s))}}function pf(e,t,a,l){var n=(n=se.current)?Ps(n):null;if(!n)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Xl(a.href),a=fl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xl(a.href);var s=fl(n).hoistableStyles,r=s.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=n.querySelector(On(e)))&&!s._p&&(r.instance=s,r.state.loading=5),Ht.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ht.set(e,a),s||iy(n,e,a,r.state))),t&&l===null)throw Error(c(528,""));return r}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ql(a),a=fl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Xl(e){return'href="'+Et(e)+'"'}function On(e){return'link[rel="stylesheet"]['+e+"]"}function gf(e){return K({},e,{"data-precedence":e.precedence,precedence:null})}function iy(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),rt(t,"link",a),tt(t),e.head.appendChild(t))}function Ql(e){return'[src="'+Et(e)+'"]'}function Rn(e){return"script[async]"+e}function bf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return t.instance=l,tt(l),l;var n=K({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),tt(l),rt(l,"style",n),Ks(l,a.precedence,e),t.instance=l;case"stylesheet":n=Xl(a.href);var s=e.querySelector(On(n));if(s)return t.state.loading|=4,t.instance=s,tt(s),s;l=gf(a),(n=Ht.get(n))&&ho(l,n),s=(e.ownerDocument||e).createElement("link"),tt(s);var r=s;return r._p=new Promise(function(o,h){r.onload=o,r.onerror=h}),rt(s,"link",l),t.state.loading|=4,Ks(s,a.precedence,e),t.instance=s;case"script":return s=Ql(a.src),(n=e.querySelector(Rn(s)))?(t.instance=n,tt(n),n):(l=a,(n=Ht.get(s))&&(l=K({},a),mo(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),tt(n),rt(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ks(l,a.precedence,e));return t.instance}function Ks(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,s=n,r=0;r<l.length;r++){var o=l[r];if(o.dataset.precedence===t)s=o;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ho(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $s=null;function _f(e,t,a){if($s===null){var l=new Map,n=$s=new Map;n.set(a,l)}else n=$s,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var s=a[n];if(!(s[Kl]||s[lt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var o=l.get(r);o?o.push(s):l.set(r,[s])}}return l}function vf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ry(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function xf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oy(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Xl(l.href),s=t.querySelector(On(n));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Js.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=s,tt(s);return}s=t.ownerDocument||t,l=gf(l),(n=Ht.get(n))&&ho(l,n),s=s.createElement("link"),tt(s);var r=s;r._p=new Promise(function(o,h){r.onload=o,r.onerror=h}),rt(s,"link",l),a.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Js.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var yo=0;function uy(e,t){return e.stylesheets&&e.count===0&&ei(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ei(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&yo===0&&(yo=62500*Lm());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ei(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>yo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function Js(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ei(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ws=null;function ei(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ws=new Map,t.forEach(cy,e),Ws=null,Js.call(e))}function cy(e,t){if(!(t.state.loading&4)){var a=Ws.get(e);if(a)var l=a.get(null);else{a=new Map,Ws.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var r=n[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),l=r)}l&&a.set(null,l)}n=t.instance,r=n.getAttribute("data-precedence"),s=a.get(r)||l,s===l&&a.set(null,n),a.set(r,n),this.count++,l=Js.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),s?s.parentNode.insertBefore(n,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Cn={$$typeof:_,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function dy(e,t,a,l,n,s,r,o,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function wf(e,t,a,l,n,s,r,o,h,v,N,E){return e=new dy(e,t,a,r,h,v,N,E,o),t=1,s===!0&&(t|=24),s=At(3,null,null,t),e.current=s,s.stateNode=e,t=Zi(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:a,cache:t},$i(s),e}function Sf(e){return e?(e=wl,e):wl}function Af(e,t,a,l,n,s){n=Sf(n),l.context===null?l.context=n:l.pendingContext=n,l=ka(t),l.payload={element:a},s=s===void 0?null:s,s!==null&&(l.callback=s),a=Ma(e,l,t),a!==null&&(_t(a,e,t),mn(a,e,t))}function kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function po(e,t){kf(e,t),(e=e.alternate)&&kf(e,t)}function Mf(e){if(e.tag===13||e.tag===31){var t=Pa(e,67108864);t!==null&&_t(t,e,67108864),po(e,67108864)}}function Nf(e){if(e.tag===13||e.tag===31){var t=zt();t=ci(t);var a=Pa(e,t);a!==null&&_t(a,e,t),po(e,t)}}var ti=!0;function fy(e,t,a,l){var n=p.T;p.T=null;var s=q.p;try{q.p=2,go(e,t,a,l)}finally{q.p=s,p.T=n}}function hy(e,t,a,l){var n=p.T;p.T=null;var s=q.p;try{q.p=8,go(e,t,a,l)}finally{q.p=s,p.T=n}}function go(e,t,a,l){if(ti){var n=bo(l);if(n===null)ao(e,t,l,ai,a),zf(e,l);else if(yy(n,e,t,a,l))l.stopPropagation();else if(zf(e,l),t&4&&-1<my.indexOf(e)){for(;n!==null;){var s=dl(n);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Xa(s.pendingLanes);if(r!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var h=1<<31-wt(r);o.entanglements[1]|=h,r&=~h}$t(s),(ve&6)===0&&(Us=Re()+500,qn(0))}}break;case 31:case 13:o=Pa(s,2),o!==null&&_t(o,s,2),Bs(),po(s,2)}if(s=bo(l),s===null&&ao(e,t,l,ai,a),s===n)break;n=s}n!==null&&l.stopPropagation()}else ao(e,t,l,null,a)}}function bo(e){return e=_i(e),_o(e)}var ai=null;function _o(e){if(ai=null,e=cl(e),e!==null){var t=j(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=R(t),e!==null)return e;e=null}else if(a===31){if(e=I(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ai=e,null}function Tf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(La()){case Zt:return 2;case Se:return 8;case ft:case eh:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var vo=!1,Ya=null,Ua=null,Ha=null,Yn=new Map,Un=new Map,Ba=[],my="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zf(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Yn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function Hn(e,t,a,l,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:s,targetContainers:[n]},t!==null&&(t=dl(t),t!==null&&Mf(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function yy(e,t,a,l,n){switch(t){case"focusin":return Ya=Hn(Ya,e,t,a,l,n),!0;case"dragenter":return Ua=Hn(Ua,e,t,a,l,n),!0;case"mouseover":return Ha=Hn(Ha,e,t,a,l,n),!0;case"pointerover":var s=n.pointerId;return Yn.set(s,Hn(Yn.get(s)||null,e,t,a,l,n)),!0;case"gotpointercapture":return s=n.pointerId,Un.set(s,Hn(Un.get(s)||null,e,t,a,l,n)),!0}return!1}function qf(e){var t=cl(e.target);if(t!==null){var a=j(t);if(a!==null){if(t=a.tag,t===13){if(t=R(a),t!==null){e.blockedOn=t,Lo(e.priority,function(){Nf(a)});return}}else if(t===31){if(t=I(a),t!==null){e.blockedOn=t,Lo(e.priority,function(){Nf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function li(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=bo(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);bi=l,a.target.dispatchEvent(l),bi=null}else return t=dl(a),t!==null&&Mf(t),e.blockedOn=a,!1;t.shift()}return!0}function Ef(e,t,a){li(e)&&a.delete(t)}function py(){vo=!1,Ya!==null&&li(Ya)&&(Ya=null),Ua!==null&&li(Ua)&&(Ua=null),Ha!==null&&li(Ha)&&(Ha=null),Yn.forEach(Ef),Un.forEach(Ef)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,vo||(vo=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,py)))}var si=null;function jf(e){si!==e&&(si=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){si===e&&(si=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(_o(l||a)===null)continue;break}var s=dl(a);s!==null&&(e.splice(t,3),t-=3,gr(s,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Vl(e){function t(h){return ni(h,e)}Ya!==null&&ni(Ya,e),Ua!==null&&ni(Ua,e),Ha!==null&&ni(Ha,e),Yn.forEach(t),Un.forEach(t);for(var a=0;a<Ba.length;a++){var l=Ba[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ba.length&&(a=Ba[0],a.blockedOn===null);)qf(a),a.blockedOn===null&&Ba.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],s=a[l+1],r=n[ht]||null;if(typeof s=="function")r||jf(a);else if(r){var o=null;if(s&&s.hasAttribute("formAction")){if(n=s,r=s[ht]||null)o=r.formAction;else if(_o(n)!==null)continue}else o=r.action;typeof o=="function"?a[l+1]=o:(a.splice(l,3),l-=3),jf(a)}}}function Df(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function xo(e){this._internalRoot=e}ii.prototype.render=xo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,l=zt();Af(a,l,e,t,null,null)},ii.prototype.unmount=xo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Af(e.current,2,null,e,null,null),Bs(),t[ul]=null}};function ii(e){this._internalRoot=e}ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Io();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ba.length&&t!==0&&t<Ba[a].priority;a++);Ba.splice(a,0,e),a===0&&qf(e)}};var Of=u.version;if(Of!=="19.2.0")throw Error(c(527,Of,"19.2.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=z(t),e=e!==null?te(e):null,e=e===null?null:e.stateNode,e};var gy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:p,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{Zl=ri.inject(gy),xt=ri}catch{}}return Gn.createRoot=function(e,t){if(!S(e))throw Error(c(299));var a=!1,l="",n=Bc,s=Gc,r=Ic;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=wf(e,1,!1,null,null,a,l,null,n,s,r,Df),e[ul]=t.current,to(e),new xo(t)},Gn.hydrateRoot=function(e,t,a){if(!S(e))throw Error(c(299));var l=!1,n="",s=Bc,r=Gc,o=Ic,h=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(h=a.formState)),t=wf(e,1,!0,t,a??null,l,n,h,s,r,o,Df),t.context=Sf(null),a=t.current,l=zt(),l=ci(l),n=ka(l),n.callback=null,Ma(a,n,l),a=l,t.current.lanes=a,Pl(t,a),$t(t),e[ul]=t.current,to(e),new ii(t)},Gn.version="19.2.0",Gn}var Xf;function Ny(){if(Xf)return Ao.exports;Xf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),Ao.exports=My(),Ao.exports}var Ty=Ny();const $f={zh:{title:"",day:" {{day}} ",stats:{sanity:"",funds:"",suspicion:"",gnosis:"",ap:""},restartRun:"",restartConfirm:"",gameMode:"",hardcoreMode:"",normalMode:"",hardcoreDesc:"",normalDesc:"",startGame:"",newGame:"",loadGame:"",returnToPreviousDay:"",returnToPreviousDayDesc:"",noBackup:"",selectMode:"",selectOrigin:"",hasSave:"",noSave:"",origins:{fallen_noble:{name:"",desc:"",stats:" +20 |  +25 |  80",passive:""},doctor:{name:"",desc:"",stats:" 5 |  5 |  60 | ",passive:"+50%"},vagrant:{name:"",desc:"",stats:" 0 |  0 |  90 | ",passive:""}},inventory:"",emptyInventory:"...",cult:"",lonely:"...",loyalty:"",followerStatus:{healthy:"",injured:"",insane:"",betrayed:""},followerTask:"",journal:"",latestEvents:"",initGame:"404",statChange:{sanity:"",funds:"",suspicion:"",gnosis:""},actions:{free:"",endDay:"",costAP:"{{val}} "},gameOver:{victory:"",defeat:"",daysSurvived:"",finalSanity:"",finalGnosis:"",restart:""}},en:{title:"PALE THRESHOLD",day:"DAY {{day}}",stats:{sanity:"SANITY",funds:"FUNDS",suspicion:"SUSPICION",gnosis:"GNOSIS",ap:"ACTION POINTS"},restartRun:"Abandon Run",restartConfirm:"Abandon this run and restart?",gameMode:"Game Mode",hardcoreMode:"Hardcore",normalMode:"Normal",hardcoreDesc:"Save deleted on death",normalDesc:"Can load previous day",startGame:"Start Game",newGame:"New Game",loadGame:"Load Game",returnToPreviousDay:"Return to Previous Day",returnToPreviousDayDesc:"Return to the previous day's state (Normal mode only)",noBackup:"No backup save available",selectMode:"Select Game Mode",selectOrigin:"Select Origin",hasSave:"Save detected",noSave:"No save",origins:{fallen_noble:{name:"Fallen Noble",desc:"You were once part of high society, but your family has fallen. You have funds and heirlooms, but the Ministry has long watched your family.",stats:"Funds +20 | Suspicion +25 | Sanity 80",passive:"Passive: Immune to price inflation"},doctor:{name:"Doctor",desc:"You are a doctor who has seen too much death and suffering. You have medical supplies, but your sanity is severely eroded.",stats:"Funds 5 | Suspicion 5 | Sanity 60 | Items: Morphine, Scalpel",passive:"Passive: Medical items +50% effect"},vagrant:{name:"Vagrant",desc:"You have wandered the streets for years, long accustomed to hardship. You have nothing, but possess strong resistance and clear awareness of reality.",stats:"Funds 0 | Suspicion 0 | Sanity 90 | High Resistance",passive:"Passive: High sanity start, strong resistance"}},inventory:"INVENTORY",emptyInventory:"Empty...",cult:"THE CULT",lonely:"Alone...",loyalty:"Loyalty",followerStatus:{healthy:"Healthy",injured:"Injured",insane:"Insane",betrayed:"Betrayed"},followerTask:"Request",journal:"JOURNAL",latestEvents:"LATEST EVENTS",initGame:"You wake in Apartment 404, neon slashing through the blinds like fresh wounds.",statChange:{sanity:"Sanity",funds:"Funds",suspicion:"Suspicion",gnosis:"Gnosis"},actions:{free:"FREE",endDay:"END DAY",costAP:"{{val}} AP"},gameOver:{victory:"ASCENSION",defeat:"TERMINATED",daysSurvived:"Days Survived",finalSanity:"Final Sanity",finalGnosis:"Final Gnosis",restart:"BEGIN AGAIN"}}},In=i=>{const{player:u}=i,{stats:d,flags:c}=u,S=[];return d.sanity<40&&S.push(" "),d.suspicion>60&&S.push(" "),d.funds<3&&S.push(" "),c.infected&&S.push(" "),c.addicted&&!c.morphine_taken_today&&S.push(" "),c.lover_madeline?S.push(" "):c.madeline_sick&&S.push(" "),d.gnosis>=10&&!u.inventory.includes("laudanum")&&S.push(" "),S.length>0?S[Math.floor(Math.random()*S.length)]:""},zy={normal:["","","","",""],insane:["","","","","","","","","",""]},qy={bread:{id:"bread",name:"",description:""},rat_meat:{id:"rat_meat",name:"",description:""},fresh_fish:{id:"fresh_fish",name:"",description:""},cheap_spirits:{id:"cheap_spirits",name:"",description:""},sedatives:{id:"sedatives",name:"",description:""},morphine:{id:"morphine",name:"",description:""},laudanum:{id:"laudanum",name:"",description:""},forbidden_name:{id:"forbidden_name",name:"",description:""},rusty_key:{id:"rusty_key",name:"",description:"7-B"},brass_lantern:{id:"brass_lantern",name:"",description:""},ritual_dagger:{id:"ritual_dagger",name:"",description:""},iron_dagger:{id:"iron_dagger",name:"",description:""},scalpel:{id:"scalpel",name:"",description:""},crumbling_scroll:{id:"crumbling_scroll",name:"",description:""},old_radio:{id:"old_radio",name:"",description:""},loaded_dice:{id:"loaded_dice",name:"",description:""},silver_ring:{id:"silver_ring",name:"",description:""},old_ring:{id:"old_ring",name:"",description:""},music_box:{id:"music_box",name:"",description:"",price:20},doctor_coat:{id:"doctor_coat",name:"",description:""},classified_file:{id:"classified_file",name:"",description:"0"},officer_badge:{id:"officer_badge",name:"",description:""},purge_list:{id:"purge_list",name:"",description:""},gold_tooth:{id:"gold_tooth",name:"",description:""},strange_fungus:{id:"strange_fungus",name:"",description:""},alien_idol:{id:"alien_idol",name:"",description:""},void_salt:{id:"void_salt",name:"",description:""},golden_mask:{id:"golden_mask",name:"",description:""},alchemy_kit:{id:"alchemy_kit",name:"",description:""},purified_serum:{id:"purified_serum",name:"",description:""},ancient_coin:{id:"ancient_coin",name:"",description:""},nutritious_meal:{id:"nutritious_meal",name:"",description:""},strong_painkiller:{id:"strong_painkiller",name:"",description:""},gnosis_elixir:{id:"gnosis_elixir",name:"",description:""},alchemy_coin:{id:"alchemy_coin",name:"",description:""},ritual_mask:{id:"ritual_mask",name:"",description:""},fermented_bread:{id:"fermented_bread",name:"",description:""},recipe_scrap_bread_rat:{id:"recipe_scrap_bread_rat",name:"",description:""},recipe_scrap_morphine_sedatives:{id:"recipe_scrap_morphine_sedatives",name:"",description:""},recipe_scrap_void_salt_fungus:{id:"recipe_scrap_void_salt_fungus",name:"",description:""},recipe_scrap_gold_tooth_coin:{id:"recipe_scrap_gold_tooth_coin",name:"",description:""},recipe_scrap_idol_mask:{id:"recipe_scrap_idol_mask",name:"",description:""},recipe_scrap_bread_spirits:{id:"recipe_scrap_bread_spirits",name:"",description:""},recipe_scrap_serum:{id:"recipe_scrap_serum",name:"",description:""}},Ey={beggar_follower:{id:"beggar_follower",name:"",description:"",role:"moth"},thug_follower:{id:"thug_follower",name:"",description:"",role:"edge"},nurse_follower:{id:"nurse_follower",name:"",description:"",role:"heart"},cat_follower:{id:"cat_follower",name:"",description:"",role:"heart"}},jy={apartment:{id:"apartment",name:"404",description:i=>{let u="";return i.player.stats.sanity<50&&(u=""),u+In(i)},actions:[{id:"leave_apartment",label:"",description:"",result:{text:"",costAP:0,teleport:"street"}},{id:"go_rooftop",label:"",description:"",result:{text:"",costAP:0,teleport:"rooftop"}},{id:"sleep",label:"",description:"",reqFlagsNot:["lover_madeline"],result:{text:"",costAP:99}},{id:"sleep_lover",label:"",description:"",reqFlags:["lover_madeline"],result:{text:"",costAP:99,changes:{sanity:30}}},{id:"eat_rat",label:"",description:"",reqItems:["rat_meat"],result:i=>({text:"",costAP:1,changes:{funds:2,sanity:i.origin==="vagrant"?0:-5},removeItems:["rat_meat"]})},{id:"meditate",label:"/",description:"",result:()=>Math.random()<.15?{text:"",costAP:2,changes:{sanity:5,gnosis:1}}:{text:"",costAP:2,changes:{sanity:5}}},{id:"talk_madeline",label:"",description:"",reqFollowers:["nurse_follower"],reqFlagsNot:["madeline_sick"],result:{text:"",costAP:1,setFlags:{madeline_sick:!0}}},{id:"cure_madeline",label:"",description:" (: )",reqFlags:["madeline_sick"],reqItems:["purified_serum"],reqFlagsNot:["madeline_cured"],result:{text:"",costAP:1,removeItems:["purified_serum"],setFlags:{madeline_cured:!0,madeline_sick:!1},changes:{sanity:20}}},{id:"propose_madeline",label:"",description:" (: , )",reqFlags:["madeline_cured"],reqItems:["silver_ring"],reqFlagsNot:["lover_madeline"],result:{text:"",costAP:1,removeItems:["silver_ring"],setFlags:{lover_madeline:!0},changes:{sanity:50}}},{id:"study_scroll",label:"",description:"",reqItems:["crumbling_scroll"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-25},removeItems:["crumbling_scroll"]}},{id:"enter_dream",label:"",description:"",reqItems:["laudanum"],result:{text:"",costAP:1,teleport:"pale_city",removeItems:["laudanum"]}},{id:"read_recipe_bread_rat",label:"",description:"",reqItems:["recipe_scrap_bread_rat"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_bread_rat"],setFlags:{recipe_known_bread_rat:!0}}},{id:"read_recipe_morphine_sedatives",label:"",description:"",reqItems:["recipe_scrap_morphine_sedatives"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_morphine_sedatives"],setFlags:{recipe_known_morphine_sedatives:!0}}},{id:"read_recipe_void_salt_fungus",label:"",description:"",reqItems:["recipe_scrap_void_salt_fungus"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_void_salt_fungus"],setFlags:{recipe_known_void_salt_fungus:!0}}},{id:"read_recipe_gold_tooth_coin",label:"",description:"",reqItems:["recipe_scrap_gold_tooth_coin"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_gold_tooth_coin"],setFlags:{recipe_known_gold_tooth_coin:!0}}},{id:"read_recipe_idol_mask",label:"",description:"",reqItems:["recipe_scrap_idol_mask"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_idol_mask"],setFlags:{recipe_known_idol_mask:!0}}},{id:"read_recipe_bread_spirits",label:"",description:"",reqItems:["recipe_scrap_bread_spirits"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_bread_spirits"],setFlags:{recipe_known_bread_spirits:!0}}},{id:"read_recipe_serum",label:"",description:"",reqItems:["recipe_scrap_serum"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_serum"],setFlags:{recipe_known_serum:!0}}},{id:"use_alchemy_serum",label:i=>i.player.flags.recipe_known_serum||i.player.inventory.includes("recipe_scrap_serum")?"":"",description:" +   ",reqItems:["alchemy_kit","strange_fungus","cheap_spirits"],result:{text:"",costAP:1,removeItems:["strange_fungus","cheap_spirits"],addItems:["purified_serum"]}},{id:"combine_bread_rat",label:i=>i.player.flags.recipe_known_bread_rat||i.player.inventory.includes("recipe_scrap_bread_rat")?"":"",description:" +   ",reqItems:["alchemy_kit","bread","rat_meat"],result:{text:"",costAP:1,removeItems:["bread","rat_meat"],addItems:["nutritious_meal"],changes:{sanity:10}}},{id:"combine_morphine_sedatives",label:i=>i.player.flags.recipe_known_morphine_sedatives||i.player.inventory.includes("recipe_scrap_morphine_sedatives")?"":"",description:" +   ",reqItems:["alchemy_kit","morphine","sedatives"],result:i=>{const d=i.player.flags.addicted;return Math.random()<.4&&!d?{text:"",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"combine_void_salt_fungus",label:i=>i.player.flags.recipe_known_void_salt_fungus||i.player.inventory.includes("recipe_scrap_void_salt_fungus")?"":"",description:" +   ",reqItems:["alchemy_kit","void_salt","strange_fungus"],result:{text:"",costAP:1,removeItems:["void_salt","strange_fungus"],addItems:["gnosis_elixir"]}},{id:"combine_gold_tooth_coin",label:i=>i.player.flags.recipe_known_gold_tooth_coin||i.player.inventory.includes("recipe_scrap_gold_tooth_coin")?"":"",description:" +   ",reqItems:["alchemy_kit","gold_tooth","ancient_coin"],result:{text:"",costAP:1,removeItems:["gold_tooth","ancient_coin"],addItems:["alchemy_coin"],changes:{gnosis:2}}},{id:"combine_idol_mask",label:i=>i.player.flags.recipe_known_idol_mask||i.player.inventory.includes("recipe_scrap_idol_mask")?"":"",description:" +   ",reqItems:["alchemy_kit","alien_idol","golden_mask"],result:{text:"",costAP:1,removeItems:["alien_idol","golden_mask"],addItems:["ritual_mask"],changes:{gnosis:10,sanity:-30}}},{id:"combine_bread_spirits",label:i=>i.player.flags.recipe_known_bread_spirits||i.player.inventory.includes("recipe_scrap_bread_spirits")?"":"",description:" +   ",reqItems:["alchemy_kit","bread","cheap_spirits"],result:{text:"",costAP:1,removeItems:["bread","cheap_spirits"],addItems:["fermented_bread"]}},{id:"pet_cat",label:'""',description:"",reqFollowers:["cat_follower"],result:i=>{const u=`petted_cat_day_${i.world.day}`;if(i.player.flags[u])return{text:'""',costAP:0};const c=i.player.followerStates?.cat_follower?.loyalty??50,S=10+Math.floor(c/20);return{text:'""',costAP:0,changes:{sanity:Math.min(15,S)},setFlags:{[u]:!0}}}},{id:"feed_cat_fish_again",label:'""',description:"",reqFollowers:["cat_follower"],reqItems:["fresh_fish"],result:i=>{const u=i.player.followerStates?.cat_follower,d=u?.loyalty??50,c=Math.min(100,d+10);return i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={...u,loyalty:c,status:"healthy"},{text:'""',costAP:1,removeItems:["fresh_fish"],changes:{sanity:5}}}},{id:"eat_fish",label:"",description:"",reqItems:["fresh_fish"],result:{text:"",costAP:1,removeItems:["fresh_fish"],changes:{funds:2,sanity:5}}},{id:"eat_bread",label:"",description:"",reqItems:["bread"],result:{text:"",costAP:1,removeItems:["bread"],changes:{sanity:3}}},{id:"drink_spirits",label:"",description:"",reqItems:["cheap_spirits"],result:{text:"",costAP:1,removeItems:["cheap_spirits"],changes:{sanity:10}}},{id:"consume_alchemy_coin",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:5,sanity:15}}},{id:"use_nutritious_meal",label:"",description:"",reqItems:["nutritious_meal"],result:{text:"",costAP:1,removeItems:["nutritious_meal"],changes:{sanity:10}}},{id:"use_strong_painkiller",label:"",description:"",reqItems:["strong_painkiller"],result:i=>{const d=i.player.flags.addicted;return d||Math.random()<.3&&!d?{text:"",costAP:1,removeItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"",costAP:1,removeItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"use_sedatives",label:"",description:"",reqItems:["sedatives"],result:{text:"",costAP:1,removeItems:["sedatives"],changes:{sanity:15}}},{id:"use_morphine",label:"",description:"",reqItems:["morphine"],result:i=>{const d=i.player.flags.addicted;return Math.random()<.3&&!d?{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}},{id:"use_purified_serum",label:"",description:"",reqItems:["purified_serum"],result:{text:"",costAP:1,removeItems:["purified_serum"],changes:{sanity:20}}},{id:"use_gnosis_elixir",label:"",description:"",reqItems:["gnosis_elixir"],result:{text:"",costAP:1,removeItems:["gnosis_elixir"],changes:{gnosis:8,sanity:-2}}},{id:"use_fermented_bread",label:"",description:"",reqItems:["fermented_bread"],result:{text:"",costAP:1,removeItems:["fermented_bread"],changes:{sanity:18}}},{id:"use_ritual_mask",label:"",description:"",reqItems:["ritual_mask"],result:i=>{const u=`used_ritual_mask_day_${i.world.day}`;return i.player.flags[u]?{text:"",costAP:0}:{text:"",costAP:1,changes:{gnosis:7,sanity:-20},setFlags:{[u]:!0}}}},{id:"complete_follower_task",label:"",description:"",reqFollowers:[],result:i=>{const u=i.player.followers.find(j=>{const R=i.player.followerStates?.[j];return R&&R.task&&R.status==="healthy"});if(!u)return{text:"",costAP:0};const d=i.player.followerStates[u],c=d.task,S=u==="beggar_follower"?"":u==="thug_follower"?"":u==="nurse_follower"?"":"";return c.type==="money"&&c.requirement.money?i.player.stats.funds<c.requirement.money?{text:` ${c.requirement.money} `,costAP:0}:(i.player.stats.funds-=c.requirement.money,d.loyalty=Math.min(100,d.loyalty+(c.reward.loyalty||0)),d.task=void 0,{text:`${S}""`,costAP:1,changes:{funds:-c.requirement.money}}):c.type==="item"&&c.requirement.item?i.player.inventory.includes(c.requirement.item)?(i.player.inventory=i.player.inventory.filter(R=>R!==c.requirement.item),d.loyalty=Math.min(100,d.loyalty+(c.reward.loyalty||0)),d.task=void 0,{text:`${S}${{bread:"",morphine:"",sedatives:"",cheap_spirits:""}[c.requirement.item]||c.requirement.item}""`,costAP:1,removeItems:[c.requirement.item]}):{text:` ${{bread:"",morphine:"",sedatives:"",cheap_spirits:""}[c.requirement.item]||c.requirement.item}`,costAP:0}:c.type==="help"?(d.loyalty=Math.min(100,d.loyalty+(c.reward.loyalty||0)),d.task=void 0,{text:`${S}""`,costAP:1,changes:{sanity:5}}):{text:"",costAP:1}}},{id:"reject_follower_task",label:"",description:"",reqFollowers:[],result:i=>{const u=i.player.followers.find(z=>{const te=i.player.followerStates?.[z];return te&&te.task&&te.status==="healthy"});if(!u)return{text:"",costAP:0};const d=i.player.followerStates[u],c=d.task,S=u==="beggar_follower"?"":u==="thug_follower"?"":u==="nurse_follower"?"":"";d.loyalty=Math.max(0,d.loyalty+(c.penalty.loyalty||0));const j=u==="nurse_follower",R=j&&i.player.flags.lover_madeline,I=j?"":"";return c.penalty.leave&&d.loyalty<30&&!R?(i.player.followers=i.player.followers.filter(z=>z!==u),delete i.player.followerStates[u],j?i.player.flags.madeline_left=!0:u==="beggar_follower"&&(i.player.flags.beggar_died=!0),{text:`${S}""${I}`,costAP:1,removeFollowers:[u],changes:{sanity:-10}}):(d.task=void 0,{text:R?`${S}"..."`:`${S}""`,costAP:1,changes:{sanity:-5}})}},{id:"heal_follower",label:"",description:"",reqItems:["morphine","purified_serum"],reqFollowers:[],result:i=>{const u=i.origin==="doctor",d=i.player.followers.find(R=>{const I=i.player.followerStates?.[R];return I&&I.status==="injured"});if(!d)return{text:"",costAP:0};const c=i.player.followerStates[d],S=d==="beggar_follower"?"":d==="thug_follower"?"":d==="nurse_follower"?"":"";let j="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(R=>R!=="purified_serum"),j="purified_serum";else if(i.player.inventory.includes("morphine"))i.player.inventory=i.player.inventory.filter(R=>R!=="morphine"),j="morphine";else return{text:"",costAP:0};return c.status="healthy",c.loyalty=Math.min(100,c.loyalty+25),{text:`${S}""`,costAP:u?0:1,removeItems:[j],changes:{sanity:10}}}},{id:"calm_insane_follower",label:"",description:"",reqItems:["sedatives","purified_serum"],reqFollowers:[],result:i=>{const u=i.player.followers.find(j=>{const R=i.player.followerStates?.[j];return R&&R.status==="insane"});if(!u)return{text:"",costAP:0};const d=i.player.followerStates[u],c=u==="beggar_follower"?"":u==="thug_follower"?"":u==="nurse_follower"?"":"";let S="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(j=>j!=="purified_serum"),S="purified_serum";else if(i.player.inventory.includes("sedatives"))i.player.inventory=i.player.inventory.filter(j=>j!=="sedatives"),S="sedatives";else return{text:"",costAP:0};return Math.random()<.7?(d.status="healthy",d.loyalty=Math.min(100,d.loyalty+30),{text:`${c}"..."`,costAP:1,removeItems:[S],changes:{sanity:15}}):(d.loyalty=Math.min(100,d.loyalty+10),{text:`${c}`,costAP:1,removeItems:[S],changes:{sanity:5}})}},{id:"dispatch_beggar_steal",label:"",reqFollowers:["beggar_follower"],result:i=>{const u=i.player.followerStates?.beggar_follower;if(u&&u.status!=="healthy")return{text:"",costAP:0};const d=i.player.stats.suspicion,j=d>30?Math.min(.5,.1+(d-30)*.0057):0;if(Math.random()<j)return i.player.flags.beggar_died=!0,{text:"",costAP:1,removeFollowers:["beggar_follower"],setFlags:{beggar_died:!0},changes:{suspicion:40,sanity:-10}};const R=u?Math.floor(u.loyalty/20):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"",costAP:1,changes:{funds:3+R,suspicion:3}}}},{id:"dispatch_thug_extort",label:"",reqFollowers:["thug_follower"],result:i=>{const u=i.player.followerStates?.thug_follower;if(u&&u.status!=="healthy")return{text:"",costAP:0};const d=u?u.loyalty:50,c=.35,j=c-d/100*(c-.05);if(Math.random()<j)return delete i.player.flags.thug_healed,{text:'"..."',costAP:1,removeFollowers:["thug_follower"],changes:{sanity:-20}};const R=u?Math.floor(u.loyalty/15):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"",costAP:1,changes:{funds:8+R,suspicion:10,sanity:-2}}}}]},rooftop:{id:"rooftop",name:"",description:"",actions:[{id:"return_apartment_roof",label:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"dance_madeline",label:"",description:" (: , )",reqFlags:["lover_madeline"],reqItems:["music_box"],result:{text:"",costAP:1,changes:{sanity:15}}},{id:"gaze_stars",label:"",description:"",result:i=>{const u=`gazed_stars_day_${i.world.day}`;return i.player.flags[u]?{text:"",costAP:0}:{text:"",costAP:1,changes:{gnosis:1,sanity:-15},setFlags:{[u]:!0}}}},{id:"spot_cat",label:"",description:"",reqFollowersNot:["cat_follower"],result:{text:"",costAP:0}},{id:"feed_cat_fish",label:"",reqItems:["fresh_fish"],reqFollowersNot:["cat_follower"],result:i=>(i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={loyalty:30,status:"healthy"},{text:"",costAP:1,removeItems:["fresh_fish"],addFollowers:["cat_follower"],changes:{sanity:10}})}]},street:{id:"street",name:"7",description:i=>""+In(i),actions:[{id:"return_apartment",label:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"run_away",label:"",description:" (: , $50)",reqFlags:["lover_madeline"],reqStats:{funds:50},result:{text:"",costAP:1,setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"escape_smuggle",label:"",description:" (: $200)",reqStats:{funds:200},result:{text:"",costAP:2,changes:{funds:-200},setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"enter_clinic",label:"",description:"",result:{text:"",costAP:0,teleport:"clinic"}},{id:"enter_tavern",label:"",description:"",result:{text:"",costAP:0,teleport:"tavern",setFlags:{known_tavern:!0}}},{id:"work_dock",label:"",description:"",reqStats:{sanity:15},result:{text:"",costAP:1,changes:{funds:4,sanity:-12}}},{id:"scavenge",label:"",description:"",result:()=>{if(Math.random()<.05){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],d=u[Math.floor(Math.random()*u.length)];return{text:"",costAP:1,changes:{funds:1,sanity:-2},addItems:[d]}}return{text:"",costAP:1,changes:{funds:1,sanity:-2}}}},{id:"beg",label:"",description:"",result:i=>{const d=i.origin==="vagrant"?.8:.4;if(Math.random()<d){const S=Math.random()<.5?1:2;return{text:S===1?"":"",costAP:1,changes:{funds:S,sanity:-3}}}else return{text:"",costAP:1,changes:{sanity:-5}}}},{id:"enter_black_market",label:"",description:"",reqFlags:["known_market"],reqFlagsNot:["black_market_banned"],reqStats:{funds:5},result:{text:"",costAP:1,teleport:"black_market"}},{id:"visit_asylum",label:"",description:"9",reqFlags:["known_asylum"],result:{text:"",costAP:0,teleport:"asylum"}},{id:"visit_ministry",label:"",description:"",reqFlags:["known_ministry"],result:{text:"",costAP:0,teleport:"ministry"}},{id:"recruit_beggar",label:"",description:"",reqFlags:["met_beggar"],reqFollowersNot:["beggar_follower"],reqFlagsNot:["beggar_died"],reqStats:{gnosis:3},reqItems:["strange_fungus"],result:{text:'""',costAP:1,removeItems:["strange_fungus"],addFollowers:["beggar_follower"],changes:{gnosis:1}}},{id:"recruit_thug",label:"",description:"",reqItems:["morphine"],reqFollowersNot:["thug_follower"],reqFlagsNot:["thug_healed"],result:{text:"",costAP:1,removeItems:["morphine"],addFollowers:["thug_follower"],setFlags:{thug_healed:!0}}},{id:"talk_beggar",label:"",reqFlagsNot:["met_beggar"],result:()=>({text:"",costAP:1,addItems:["rusty_key"],setFlags:{met_beggar:!0,known_market:!0},changes:{suspicion:5}})},{id:"unlock_sewers",label:"",reqItems:["rusty_key"],reqFlagsNot:["sewers_open"],result:{text:"",costAP:1,setFlags:{sewers_open:!0},teleport:"sewers"}},{id:"enter_sewers",label:"",reqFlags:["sewers_open"],result:{text:"",costAP:0,teleport:"sewers"}},{id:"steal_fish",label:"",description:"",reqFlagsNot:["cat_follower"],result:i=>{const u=i.player.inventory.includes("officer_badge"),d=u?3:0;return Math.random()<.3?{text:u?"":'""',costAP:1,changes:{suspicion:10-d}}:{text:u?"":"",costAP:1,addItems:["fresh_fish"],changes:{suspicion:5-d}}}}]},tavern:{id:"tavern",name:"",description:i=>""+In(i),actions:[{id:"leave_tavern",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"buy_bread",label:"",description:"",reqStats:{funds:2},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"drink_ale",label:"",description:"",reqStats:{funds:3},result:{text:"",costAP:1,changes:{funds:-3,sanity:5}}},{id:"gamble_dice",label:"",description:"",reqStats:{funds:5},result:i=>Math.random()<(i.player.inventory.includes("loaded_dice")?.6:.3)?{text:"",costAP:1,changes:{funds:8,sanity:2}}:{text:"",costAP:1,changes:{funds:-5,sanity:-2}}},{id:"listen_rumors",label:"",description:"",result:i=>{if(i.player.flags.known_market)if(i.player.flags.known_asylum){if(!i.player.flags.known_ministry)return{text:"",costAP:1,setFlags:{known_ministry:!0}}}else return{text:"9",costAP:1,setFlags:{known_asylum:!0}};else return{text:"",costAP:1,setFlags:{known_market:!0}};return{text:"",costAP:1,changes:{suspicion:2}}}}]},clinic:{id:"clinic",name:"",description:i=>""+In(i),actions:[{id:"leave_clinic",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"talk_nurse",label:"",description:"",reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'""',costAP:1}},{id:"recruit_nurse_gold",label:"",description:"",reqItems:["gold_tooth"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'""',costAP:1,removeItems:["gold_tooth"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"recruit_nurse_file",label:"",description:"",reqItems:["classified_file"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:"",costAP:1,removeItems:["classified_file"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"cure_infection",label:"",description:"",reqStats:{funds:20},reqFlags:["infected"],result:{text:"",costAP:1,changes:{funds:-20},setFlags:{infected:!1}}},{id:"rehab_addiction",label:"",description:"",reqStats:{funds:35},reqFlags:["addicted"],result:{text:"",costAP:3,changes:{funds:-35,sanity:-20},setFlags:{addicted:!1}}},{id:"sell_blood",label:"",description:"",reqStats:{sanity:30},result:{text:"",costAP:1,changes:{funds:6,sanity:-25}}},{id:"sell_kidney",label:"",description:"",reqStats:{funds:0},reqFlagsNot:["kidney_sold"],result:{text:"",costAP:3,changes:{funds:40,sanity:-20},setFlags:{kidney_sold:!0}}},{id:"buy_laudanum",label:"",description:"",reqStats:{funds:15},reqItemsNot:["laudanum","forbidden_name"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["laudanum"]})},{id:"buy_sedatives",label:"",description:"",reqStats:{funds:10},result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["sedatives"]})},{id:"buy_morphine",label:"",description:"",reqStats:{funds:25},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["morphine"]})},{id:"implant_fungus",label:"",description:"",reqItems:["strange_fungus"],reqFlagsNot:["fungus_host"],result:{text:"",costAP:2,removeItems:["strange_fungus"],changes:{sanity:-20},setFlags:{fungus_host:!0}}},{id:"harvest_self",label:"",description:"",reqFlags:["fungus_host"],result:()=>{const i=Math.random()<.4;return{text:i?"":"",costAP:1,addItems:["strange_fungus"],changes:{sanity:-20},setFlags:i?{infected:!0}:{}}}},{id:"use_morphine_risky",label:"",reqItems:["morphine"],description:"",result:i=>Math.random()<.3&&!i.player.flags.addicted?{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}]},black_market:{id:"black_market",name:"",description:"",actions:[{id:"leave_market",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"buy_lantern",label:"",description:"",reqStats:{funds:8},reqItemsNot:["brass_lantern"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(8*1.5):8)},addItems:["brass_lantern"]})},{id:"buy_music_box",label:"",description:"",reqStats:{funds:20},reqItemsNot:["music_box"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["music_box"]})},{id:"buy_ring",label:"",description:"",reqStats:{funds:15},reqItemsNot:["silver_ring"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["silver_ring"]})},{id:"buy_alchemy_kit",label:"",description:"",reqStats:{funds:25},reqItemsNot:["alchemy_kit"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["alchemy_kit"]})},{id:"buy_scroll",label:"",description:"",reqStats:{funds:20},reqItemsNot:["crumbling_scroll"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["crumbling_scroll"]})},{id:"buy_iron_dagger",label:"",description:"",reqStats:{funds:12},reqItemsNot:["iron_dagger"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(12*1.5):12)},addItems:["iron_dagger"]})},{id:"buy_scalpel",label:"",description:"",reqStats:{funds:10},reqItemsNot:["scalpel"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["scalpel"]})},{id:"buy_rare_item_coin",label:"",description:"",reqItems:["alchemy_coin"],result:()=>{const i=Math.random();let u,d;return i<.05?(u="ritual_dagger",d=""):i<.3?(u="alien_idol",d=""):i<.45?(u="golden_mask",d=""):i<.7?(u="void_salt",d=""):(u="ancient_coin",d=""),{text:`"..."${d}`,costAP:1,removeItems:["alchemy_coin"],addItems:[u]}}},{id:"buy_bread",label:"",description:"",reqStats:{funds:2},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"buy_spirits",label:"",description:"",reqStats:{funds:4},result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(4*1.5):4),sanity:15},addItems:["cheap_spirits"]})},{id:"sell_gold_tooth",label:"",reqItems:["gold_tooth"],result:{text:"",costAP:1,changes:{funds:6},removeItems:["gold_tooth"]}},{id:"sell_alchemy_coin",label:"",reqItems:["alchemy_coin"],result:{text:'"..."',costAP:1,changes:{funds:30},removeItems:["alchemy_coin"]}},{id:"sell_fungus",label:"",reqItems:["strange_fungus"],result:{text:'""',costAP:1,changes:{funds:4},removeItems:["strange_fungus"]}},{id:"sell_idol",label:"",reqItems:["alien_idol"],result:{text:'""',costAP:1,changes:{funds:50},removeItems:["alien_idol"]}},{id:"sell_mask",label:"",reqItems:["golden_mask"],result:{text:'""',costAP:1,changes:{funds:40},removeItems:["golden_mask"]}},{id:"sell_ritual_mask",label:"",reqItems:["ritual_mask"],result:{text:'"..."',costAP:1,changes:{funds:135},removeItems:["ritual_mask"]}},{id:"sell_purge_list",label:"",reqItems:["purge_list"],result:i=>(delete i.player.flags.purge_list_accessed,{text:'""',costAP:1,changes:{funds:60},removeItems:["purge_list"]})},{id:"sell_file",label:"",reqItems:["classified_file"],result:{text:"",costAP:1,changes:{funds:25},removeItems:["classified_file"]}},{id:"sell_fermented_bread",label:"",reqItems:["fermented_bread"],result:{text:'"..."',costAP:1,changes:{funds:8},removeItems:["fermented_bread"]}}]},sewers:{id:"sewers",name:"",description:i=>""+In(i),actions:[{id:"leave_sewers",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"scavenge_lit_risky",label:"",description:"",reqItems:["brass_lantern"],result:()=>{const i=Math.random();if(i<.1)return{text:"",costAP:1,changes:{sanity:-10},setFlags:{infected:!0}};if(i<.15){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],d=u[Math.floor(Math.random()*u.length)];return{text:"",costAP:1,changes:{sanity:-5},addItems:[d]}}else return i<.3?{text:"",costAP:1,changes:{sanity:-5},addItems:["gold_tooth"]}:i<.7?{text:"",costAP:1,changes:{sanity:-3},addItems:["strange_fungus"]}:{text:"",costAP:1,changes:{sanity:-5},addItems:["rat_meat"]}}},{id:"search_relics",label:"",description:"",reqItems:["brass_lantern"],reqItemsNot:["alien_idol"],result:()=>Math.random()<.15?{text:"",costAP:1,addItems:["alien_idol"],changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-8}}},{id:"encounter_sewer_monster",label:"",description:"",reqItems:["brass_lantern"],reqFlagsNot:["sewer_monster_encounter"],result:()=>{if(Math.random()<.4)return{text:"",costAP:0,setFlags:{sewer_monster_encounter:!0}};{const u=Math.random();return u<.3?{text:"",costAP:1,changes:{sanity:-8,gnosis:2}}:u<.6?{text:"",costAP:1,changes:{sanity:-5},addItems:["rusty_key"]}:{text:"",costAP:1,changes:{sanity:-3}}}}},{id:"flee_sewer_monster",label:"",description:"",reqFlags:["sewer_monster_encounter"],result:{text:"",costAP:2,changes:{sanity:-5},setFlags:{sewer_monster_encounter:!1}}},{id:"fight_sewer_monster",label:i=>i.player.inventory.some(d=>["iron_dagger","ritual_dagger","scalpel"].includes(d))?i.player.inventory.includes("ritual_dagger")?" ()":i.player.inventory.includes("iron_dagger")?" ()":i.player.inventory.includes("scalpel")?" ()":" ()":" ()",description:"",reqFlags:["sewer_monster_encounter"],result:i=>{if(!i.player.inventory.some(c=>["iron_dagger","ritual_dagger","scalpel"].includes(c)))return{text:"",costAP:1,changes:{sanity:-30,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}};let d;return i.player.inventory.includes("ritual_dagger")?d=.8:i.player.inventory.includes("iron_dagger")?d=.65:i.player.inventory.includes("scalpel")?d=.55:d=.45,Math.random()<d?{text:"",costAP:1,changes:{sanity:-15,gnosis:1},addItems:["strange_fungus"],setFlags:{sewer_monster_encounter:!1}}:{text:"",costAP:1,changes:{sanity:-25,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}}}},{id:"explore_deep",label:"",description:"",reqStats:{},result:i=>{const u=i.player.stats.sanity>0;return!i.player.inventory.includes("ritual_dagger")&&Math.random()>.5?{text:"",costAP:1,changes:{sanity:-10},addItems:["ritual_dagger"]}:u?{text:"",costAP:1,changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-5}}}},{id:"approach_altar",label:"",description:"",reqItems:["ritual_dagger"],result:{text:"",costAP:1,teleport:"altar"}}]},asylum:{id:"asylum",name:"9",description:"",actions:[{id:"leave_asylum",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"visit_madman",label:'"" 103',description:"",reqStats:{funds:2},result:i=>{const u=`visited_madman_day_${i.world.day}`;if(i.player.flags[u])return{text:'"103"',costAP:0};const d=2;return{text:"103",costAP:1,changes:{sanity:-8,gnosis:2,funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(d*1.5):d)},setFlags:{[u]:!0}}}},{id:"steal_coat",label:"",description:"",reqItemsNot:["doctor_coat"],result:i=>{const u=i.player.inventory.includes("officer_badge"),d=u?5:0;return Math.random()<.3?{text:u?"":"",costAP:1,changes:{suspicion:15-d,sanity:u?0:-5}}:{text:u?"":"",costAP:1,addItems:["doctor_coat"],changes:{suspicion:5-d}}}},{id:"enter_archives",label:"",description:"",reqItems:["doctor_coat"],result:i=>{const u=i.player.stats.suspicion,d=i.player.inventory.includes("officer_badge");let c=0;if(u>=85?c=.7:u>=70?c=.5:u>=50?c=.3:u>=30&&(c=.1),d&&(c*=.5),Math.random()<c){const j=u>=85?20:u>=70?15:10;return{text:d?'"..."':'""',costAP:1,changes:{suspicion:j},teleport:"street"}}else return{text:d?'""':"",costAP:0,teleport:"asylum_archives"}}},{id:"shock_therapy",label:"",description:"",reqStats:{funds:30},result:{text:"",costAP:2,changes:{funds:-30,sanity:60,gnosis:-5}}}]},asylum_archives:{id:"asylum_archives",name:"",description:"",actions:[{id:"leave_archives",label:"",result:{text:"",costAP:0,teleport:"asylum"}},{id:"read_files",label:"",description:"",result:{text:"",costAP:1,changes:{gnosis:3,sanity:-12}}},{id:"steal_file",label:"",description:'"0"',reqItemsNot:["classified_file"],result:i=>{const u=i.player.inventory.includes("officer_badge");return{text:u?"":"",costAP:1,addItems:["classified_file"],changes:{suspicion:u?5:15}}}}]},ministry:{id:"ministry",name:"",description:i=>i.player.inventory.includes("officer_badge")?"":"",actions:[{id:"leave_ministry",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"bribe_officer",label:" ($15)",description:"",reqStats:{funds:15},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15),suspicion:-20}})},{id:"report_citizen_pro",label:"",description:"",reqStats:{suspicion:10},result:{text:"",costAP:1,changes:{suspicion:-30,sanity:-10}}},{id:"storm_ministry",label:"",description:" (: 3, 2, $100)",reqStats:{funds:100},reqItems:[],result:i=>{const u=i.player.followers.filter(S=>{const j=i.player.followerStates?.[S];return j&&j.loyalty>=100&&j.status==="healthy"}),c=["ritual_dagger","iron_dagger","scalpel"].filter(S=>i.player.inventory.includes(S)).length;return u.length<3?{text:"3",costAP:0}:c<2?{text:"2",costAP:0}:{text:"",costAP:3,changes:{funds:-100},setFlags:{victory_achieved:!0,revolution_ending:!0}}}},{id:"steal_badge",label:"",description:"",reqItemsNot:["officer_badge"],result:()=>{const i=Math.random();return i<.2?{text:"",costAP:1,addItems:["officer_badge"],changes:{suspicion:10}}:i<.5?{text:"",costAP:1,changes:{suspicion:20}}:{text:"",costAP:1,changes:{suspicion:100}}}},{id:"access_database",label:"",description:"5",reqItems:["officer_badge"],reqItemsNot:["purge_list"],reqFlagsNot:["purge_list_accessed"],result:i=>{const d=`purge_list_cooldown_until_${i.world.day+5}`;return{text:"",costAP:1,addItems:["purge_list"],setFlags:{purge_list_accessed:!0,[d]:!0},changes:{suspicion:5}}}},{id:"use_badge_clear",label:"",description:"",reqItems:["officer_badge"],reqStats:{suspicion:5},result:i=>({text:'""',costAP:1,changes:{suspicion:-Math.min(30,i.player.stats.suspicion)}})},{id:"use_badge_info",label:"",description:"",reqItems:["officer_badge"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-5}}}]},pale_city:{id:"pale_city",name:"",description:()=>"",actions:[{id:"wake_up",label:"",description:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"visit_lake",label:"",description:"",reqFlags:["known_lake"],result:{text:"",costAP:0,teleport:"lake_hali"}},{id:"wander_dream",label:"",description:"",reqItemsNot:["forbidden_name"],result:()=>{const i=Math.random();return i<.4?{text:"",costAP:1,changes:{sanity:-15}}:i<.7?{text:"",costAP:1,changes:{sanity:-10,gnosis:2}}:{text:"",costAP:1,teleport:"dream_library"}}}]},lake_hali:{id:"lake_hali",name:"",description:"",actions:[{id:"leave_lake",label:"",result:{text:"",costAP:0,teleport:"pale_city"}},{id:"gaze_reflection",label:"",description:"",result:{text:"",costAP:1,changes:{sanity:-10,gnosis:3}}},{id:"fish_dreams",label:"",description:"",result:i=>{const u=Math.random();return u<.3&&!i.player.inventory.includes("golden_mask")?{text:"",costAP:1,addItems:["golden_mask"],changes:{sanity:-15}}:u<.6?{text:"",costAP:1,addItems:["void_salt"],changes:{sanity:-10}}:{text:"",costAP:1,changes:{sanity:-15}}}},{id:"consume_salt",label:"",description:"",reqItems:["void_salt"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-5},removeItems:["void_salt"]}},{id:"offer_coin_to_lake",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:8,sanity:10}}}]},dream_library:{id:"dream_library",name:"",description:"",actions:[{id:"leave_library",label:"",result:{text:"",costAP:0,teleport:"pale_city"}},{id:"find_true_name",label:'""',description:"",reqStats:{gnosis:20},reqItemsNot:["forbidden_name"],result:{text:"",costAP:1,changes:{sanity:-40},addItems:["forbidden_name"]}}]},cathedral:{id:"cathedral",name:"",description:"",actions:[{id:"leave_cathedral",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"confess_sins",label:"",description:" (, )",reqStats:{gnosis:2},result:{text:"",costAP:1,changes:{suspicion:-25,gnosis:-2,sanity:5}}},{id:"offer_alchemy_coin",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{suspicion:-40,sanity:20,gnosis:3}}},{id:"scavenge_crypt",label:"",description:"",result:()=>Math.random()<.3?{text:"",costAP:1,addItems:["ancient_coin"],changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-10}}}]},altar:{id:"altar",name:"",description:i=>{let u="";return i.player.flags.lover_madeline&&(u+=" "),u},actions:[{id:"flee_altar",label:"",description:"",result:{text:"",costAP:0,teleport:"sewers",changes:{sanity:-20}}},{id:"perform_ritual",label:"",description:"",reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:60},result:i=>i.player.stats.sanity>0?{text:"",costAP:0}:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_lover",label:"",description:"",reqFlags:["lover_madeline"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:30},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_follower",label:"",description:'""',reqFollowers:["beggar_follower"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:50},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"ascend_with_mask",label:"",description:"",reqItems:["ritual_mask","forbidden_name"],reqStats:{gnosis:30},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}}]}},Ln=i=>{const{player:u}=i,{stats:d,flags:c}=u,S=[];return d.sanity<40&&S.push(" Runes begin to weave along the edge of your sight, and muffled chanting echoes from forgotten chapels."),d.suspicion>60&&S.push(" Every shadow feels like a watcher. The Ministry's eyes are on youyou can feel their gaze like a weight on your shoulders."),d.funds<3&&S.push(" Your stomach is nothing but a hollow of cold iron; you need an offering that can buy you dignity."),c.infected&&S.push(" The sweet smell oozing from the wound feels like a summonsleave it unchecked and the fever will claim you for the undercity."),c.addicted&&!c.morphine_taken_today&&S.push(" Your marrow feels as though fine needles stir it. Without that syringe, your will is going to splinter."),c.lover_madeline?S.push(" Madeline hums an old hymn in the kitchen; her presence presses down omens like a protective charm."):c.madeline_sick&&S.push(" Madelines cough now tastes of rusttime is shaving her away."),d.gnosis>=10&&!u.inventory.includes("laudanum")&&S.push(" Ink-on-paper doctrine is exhausted. Maybe it is time to visit the clinic for that black liquid that opens the dream gate."),S.length>0?S[Math.floor(Math.random()*S.length)]:""},Dy={normal:["From next door comes a slow, measured tapping, as if someone is counting a pulse.","Drones carve red lines outside your window all night, like they are inscribing sigils around your bed.","Something drags a metal skeleton through the sewers, and the muck mutters along with it.","In your dream a reversed tower hangs in silence, and you can only fall upward toward it.","A sheet of black paper is pushed beneath the door, the ink still damp enough to bleed."],insane:["The reflection speaks first, revealing a row of teeth that are not yours.","A faint clacking comes from inside the pillow, enamel grinding on enamel.","Mildew on the wallpaper arranges itself into praying hands, lips outlined in dust.","You wake already standing on the windowsill, as though someone moved your feet for you.","The deceased landlord sits at the foot of your bed; his neck bones creak out a greeting.","Shadows gather at the doorframe, whispering your name in voices that sound like breaking glass.","The Ministry's watchful eyes follow you even in sleep; their gaze burns through your eyelids.","Paranoia claws at your mindevery creak is a footstep, every shadow a pursuer.","Your sanity fractures like old glass, and the cracks let in things that should stay outside.","The weight of suspicion presses down until your dreams become interrogations."]},Oy={bread:{id:"bread",name:"Moldy Bread",description:"A rigid lump of mold that chews like chalk, yet calms the stomach's spasms. Unpleasant to swallow, but at least it fills the stomach."},rat_meat:{id:"rat_meat",name:"Raw Rat Meat",description:"Strips of flesh still holding body heat, the blood carrying the alley's mildew. Cooked, it can barely sustain you, though at the cost of slight sanity erosion."},fresh_fish:{id:"fresh_fish",name:"Fresh Fish",description:"Scales gleam like warding paper, and its eyes search for something over your shoulder. Roasted, it brings some comfort and can fetch a small price."},cheap_spirits:{id:"cheap_spirits",name:"Bootleg Spirits",description:"Harsh and murky; a single gulp is like swallowing burning incense ash. But alcohol can temporarily numb the nerves, blurring pain."},sedatives:{id:"sedatives",name:"Ministry Sedatives",description:"Blue pills that drain the color from the world, as though a curtain has been drawn. Swallowed, anxiety and fear temporarily recede, giving sanity a moment's respite."},morphine:{id:"morphine",name:"Medical Morphine",description:"Amber liquid in an ampoule; it grants brief silence and steals your will. Injected, it can greatly ease pain, but each use may make you more dependent on it."},laudanum:{id:"laudanum",name:"Laudanum Tincture",description:"Black, viscous medicine that tastes like cold iron yet opens another city in your gut."},forbidden_name:{id:"forbidden_name",name:"The Old Name",description:"A syllable you can never fully pronounce; merely recalling it makes your temples throb."},rusty_key:{id:"rusty_key",name:"Rusty Iron Key",description:"A beggar pressed it into your palm. 7-B is etched along its moldy spine."},brass_lantern:{id:"brass_lantern",name:"Brass Lantern",description:"An old lamp polished bright; once lit it imposes a sliver of order on the sludge-dark. Essential for exploring dark areas like the sewers."},ritual_dagger:{id:"ritual_dagger",name:"Obsidian Dagger",description:"The blade absorbs light, the handle runs cold, as though awaiting an oath."},iron_dagger:{id:"iron_dagger",name:"Iron Dagger",description:"A crude iron short blade, the edge worn but still deadly. A common street weapon, available in the black market."},scalpel:{id:"scalpel",name:"Scalpel",description:"A common surgical tool from the clinic, the blade sharp as a razor. Designed to save lives, but can serve as a weapon when needed."},crumbling_scroll:{id:"crumbling_scroll",name:"Worm-Eaten Scroll",description:"The parchment is as soft as skin, and the letters rewrite themselves faster than you can turn the page."},old_radio:{id:"old_radio",name:"Old Radio",description:"Whenever the tuner loosens you pick up call signs from cities that do not exist here."},loaded_dice:{id:"loaded_dice",name:"Loaded Dice",description:"They are heavy enough that the outcome is decided before they ever leave your hand."},silver_ring:{id:"silver_ring",name:"Silver Ring",description:"A pawnshop relic with worn edges, yet still capable of bearing a vow."},old_ring:{id:"old_ring",name:"Heirloom Ring",description:"The last relic of your family, a gold ring engraved with ancient heraldry. It still reflects dim light in darkness, as if speaking of the family's glory and fall."},music_box:{id:"music_box",name:"Clockwork Music Box",description:"Wind it tight and it plays an off-key waltz, reminiscent of distant vesper bells.",price:20},doctor_coat:{id:"doctor_coat",name:"Bloodstained Lab Coat",description:"The collar's dark red blotches never wash out, but the asylum doors respect it. Wearing it, you can enter locations that require a doctor's identity."},classified_file:{id:"classified_file",name:"Classified Dossier",description:"Ministry notes on Patient Zero, each page sealed with a funeral-red stamp."},officer_badge:{id:"officer_badge",name:"Ministry Badge",description:"A weighty silver crest; the oath on the back assumes you stand in the light. With it, you can access the classified database in the Ministry to retrieve the purge list."},purge_list:{id:"purge_list",name:"Purge Ledger",description:"A booklet of citizens marked for evaporation, each line worth a bounty."},gold_tooth:{id:"gold_tooth",name:"Gold Tooth",description:"A trophy pried from a corpse's mouth; the black market never turns it away. Can also be fused with an ancient coin on the alchemy table to create a more valuable alchemy coin."},strange_fungus:{id:"strange_fungus",name:"Luminous Fungus",description:"Blue growth from deep silt, cold feelers that leave glowing dots on your palm. An important alchemical material that can be fused with spirits to create serum."},alien_idol:{id:"alien_idol",name:"Otherworldly Idol",description:"A heavy idol carved from green stone, skin-slick and unfamiliar. Holds otherworldly power and can be fused with a mask on the alchemy table."},void_salt:{id:"void_salt",name:"Void Salt",description:"Crystals condensed at the dream's edge; inhale and you glimpse structures that shouldn't be. Directly consumed, it increases gnosis but erodes sanity. Also used in alchemy."},golden_mask:{id:"golden_mask",name:"Golden Mask",description:"An artifact dredged from Lake Hali; pressing it to your face slows your pulse. Holds ancient power and can be fused with an idol on the alchemy table."},alchemy_kit:{id:"alchemy_kit",name:"Makeshift Alchemy Set",description:"A stained collection of flasks and tubes that can turn scraps into tonicsor calamities. A scribbled note inside the box: Mix fungus with spirits to refine a blue serum."},purified_serum:{id:"purified_serum",name:"Purified Serum",description:"Blue liquid refined from fungus; one injection hushes the mind instantly. Effectively restores sanity, a product of alchemy."},ancient_coin:{id:"ancient_coin",name:"Ancient Coin",description:"A burial coin lifted from the cathedral crypt, etched with an unknown monarch. Valuable on its own, but when fused with other items, it can produce more mysterious power."},recipe_scrap_bread_rat:{id:"recipe_scrap_bread_rat",name:"Crumpled Note (Nutritious Meal)",description:"Scribbles on the edge of an old newspaper, barely legible."},recipe_scrap_morphine_sedatives:{id:"recipe_scrap_morphine_sedatives",name:"Crumpled Note (Painkiller)",description:"A slip of paper fished from a clinic's trash, recording the proportions of some mixture."},recipe_scrap_void_salt_fungus:{id:"recipe_scrap_void_salt_fungus",name:"Crumpled Note (Gnosis Elixir)",description:"Yellowed paper with water-stained edges, but the core content is still readable."},recipe_scrap_gold_tooth_coin:{id:"recipe_scrap_gold_tooth_coin",name:"Crumpled Note (Alchemy Coin)",description:"A black market dealer's transaction record, with one line circled."},recipe_scrap_idol_mask:{id:"recipe_scrap_idol_mask",name:"Crumpled Note (Ritual Mask)",description:"A mix of ancient script and modern symbols, seemingly from a secret cult."},recipe_scrap_bread_spirits:{id:"recipe_scrap_bread_spirits",name:"Crumpled Note (Fermented Bread)",description:"A note from a tavern's back kitchen, recording a special food preparation method."},recipe_scrap_serum:{id:"recipe_scrap_serum",name:"Crumpled Note (Purified Serum)",description:"Discarded lab notes with crossed-out experimental steps."},nutritious_meal:{id:"nutritious_meal",name:"Nutritious Meal",description:"A carefully prepared meal of bread and rat meat crafted on the alchemy table. Crude but effective at restoring sanity and filling the stomach."},strong_painkiller:{id:"strong_painkiller",name:"Strong Painkiller",description:"Deep purple liquid fused from morphine and sedatives that instantly eliminates all pain and greatly restores sanity. Highly addictive; each use may make you more dependent."},gnosis_elixir:{id:"gnosis_elixir",name:"Gnosis Elixir",description:"Shimmering blue crystals fused from void salt and luminous fungus. When swallowed, increases gnosis and lets you glimpse the true structure of the world, but consumes sanity."},alchemy_coin:{id:"alchemy_coin",name:"Alchemy Coin",description:"A mysterious coin fused from gold tooth and ancient coin on the alchemy table, glimmering with otherworldly light. Its value far exceeds ordinary currency and slightly increases gnosis."},ritual_mask:{id:"ritual_mask",name:"Ritual Mask",description:"A twisted mask fused from otherworldly idol and golden mask. When worn, reveals the true structure of the world and greatly increases gnosis, but at the heavy cost of sanity."},fermented_bread:{id:"fermented_bread",name:"Fermented Bread",description:"Bread soaked in spirits and processed through alchemy. Brings brief comfort, restores sanity, and can fetch a small price."}},Ry={beggar_follower:{id:"beggar_follower",name:"Prophet Gregory",description:"A corner beggar who bows before you, believing you speak for the burial shrines below.",role:"moth"},thug_follower:{id:"thug_follower",name:"Iron-Fist Bruno",description:"A dockside enforcer cast aside; you saved his life, so he stakes his bones on you now.",role:"edge"},nurse_follower:{id:"nurse_follower",name:"Nurse Madeline",description:"A former clinic nurse freed from debt; she has become your most dependable pair of hands.",role:"heart"},cat_follower:{id:"cat_follower",name:"Midnight the Cat",description:"A sleek black companion whose purrs beat like a hidden ritual drum.",role:"heart"}},Cy={apartment:{id:"apartment",name:"Apartment 404",description:i=>{let u="A cramped rental where neon slashes across the blinds like fresh wounds.";return i.player.stats.sanity<50&&(u="The room no longer recognizes you; shadows crouch in the corners like kneeling congregants."),u+Ln(i)},actions:[{id:"leave_apartment",label:"Step Outside",description:"Push open the heavy iron door and walk into the fog.",result:{text:"The night air is wet and cold; your footsteps echo down the hallway.",costAP:0,teleport:"street"}},{id:"go_rooftop",label:"Climb to Rooftop",description:"Take the old ladder up for a breath of air.",result:{text:"Each rung creaks under you; the wind tastes of rust.",costAP:0,teleport:"rooftop"}},{id:"sleep",label:"Sleep",description:"End the day and pray the gate of dreams stays shut.",reqFlagsNot:["lover_madeline"],result:{text:"Damp sheets cling to your back while you mutter warding phrases in your head.",costAP:99}},{id:"sleep_lover",label:"Sleep with Madeline",description:"Her warmth acts like a talisman, her breath muffling every omen.",reqFlags:["lover_madeline"],result:{text:"No elder whispers, only her steady heartbeat. For once, you sleep like a person.",costAP:99,changes:{sanity:30}}},{id:"eat_rat",label:"Roast Rat",description:"Even crude fire is enough to scare off parasites.",reqItems:["rat_meat"],result:i=>({text:"Charred grease and acid stink mix together, but you force it down and hope your stomach remembers.",costAP:1,changes:{funds:2,sanity:i.origin==="vagrant"?0:-5},removeItems:["rat_meat"]})},{id:"meditate",label:"Stare into the Void / Meditate",description:"Empty your mind and let your weary soul rest. Sometimes you glimpse deeper truths.",result:()=>Math.random()<.15?{text:"You close your eyes and let consciousness sink. In the void, you catch a whisper that doesn't belong to this world; it leaves a mark in your mind.",costAP:2,changes:{sanity:5,gnosis:1}}:{text:"You sit on the edge of the bed, staring at the stains on the wall. Time flows slowly, and the whispers quiet for a moment.",costAP:2,changes:{sanity:5}}},{id:"talk_madeline",label:"Talk to Madeline",description:"Her face grows paler; the cough sounds like steel plates scraping.",reqFollowers:["nurse_follower"],reqFlagsNot:["madeline_sick"],result:{text:"She rolls up her sleeve, black mottling creeping across her arm. Got it at the clinic. Dont waste resourcesI wont last long.",costAP:1,setFlags:{madeline_sick:!0}}},{id:"cure_madeline",label:"Inject Serum",description:"Use your handmade serum to steady the sickness (requires Purified Serum).",reqFlags:["madeline_sick"],reqItems:["purified_serum"],reqFlagsNot:["madeline_cured"],result:{text:"Blue liquid slides along her veins and the black patches recede. She leans into you, eyes rekindled. Why save me? This city isnt worth it.",costAP:1,removeItems:["purified_serum"],setFlags:{madeline_cured:!0,madeline_sick:!1},changes:{sanity:20}}},{id:"propose_madeline",label:"Propose to Madeline",description:"Make a vow amid the ruins (needs Silver Ring and she must be cured).",reqFlags:["madeline_cured"],reqItems:["silver_ring"],reqFlagsNot:["lover_madeline"],result:{text:"She holds the worn ring like a relic. All right. I will. Even if the world breaks tomorrow, tonight we stay together.",costAP:1,removeItems:["silver_ring"],setFlags:{lover_madeline:!0},changes:{sanity:50}}},{id:"study_scroll",label:"Study the Worm Scroll",description:"Try to comprehend words not meant for people.",reqItems:["crumbling_scroll"],result:{text:"The script leaps from parchment to retina; you glimpse the universe skewing and retch.",costAP:1,changes:{gnosis:5,sanity:-25},removeItems:["crumbling_scroll"]}},{id:"enter_dream",label:"Drink Laudanum",description:"Swallow the black tonic and sink toward the Pale City.",reqItems:["laudanum"],result:{text:"It tastes like burnt ink; reality melts like wax immediately after.",costAP:1,teleport:"pale_city",removeItems:["laudanum"]}},{id:"read_recipe_bread_rat",label:"Read Recipe Scrap (Nutritious Meal)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_bread_rat"],result:{text:"You see scribbles on the edge of an old newspaper: Moldy bread, if heated with meat, might become more palatable...",costAP:0,removeItems:["recipe_scrap_bread_rat"],setFlags:{recipe_known_bread_rat:!0}}},{id:"read_recipe_morphine_sedatives",label:"Read Recipe Scrap (Painkiller)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_morphine_sedatives"],result:{text:"The slip of paper is scrawled with: Morphine and sedatives mixed, heated, produce deep purple smoke that instantly eliminates all pain...",costAP:0,removeItems:["recipe_scrap_morphine_sedatives"],setFlags:{recipe_known_morphine_sedatives:!0}}},{id:"read_recipe_void_salt_fungus",label:"Read Recipe Scrap (Gnosis Elixir)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_void_salt_fungus"],result:{text:"The yellowed page records: Void salt and luminous fungus merge in flame, producing shimmering blue crystals that stretch consciousness into another dimension...",costAP:0,removeItems:["recipe_scrap_void_salt_fungus"],setFlags:{recipe_known_void_salt_fungus:!0}}},{id:"read_recipe_gold_tooth_coin",label:"Read Recipe Scrap (Alchemy Coin)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_gold_tooth_coin"],result:{text:"The circled line in the transaction record reads: Gold tooth and ancient coin fused under high heat form a coin that glimmers with mysterious light, its value far exceeding ordinary currency...",costAP:0,removeItems:["recipe_scrap_gold_tooth_coin"],setFlags:{recipe_known_gold_tooth_coin:!0}}},{id:"read_recipe_idol_mask",label:"Read Recipe Scrap (Ritual Mask)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_idol_mask"],result:{text:"The record mixing ancient script and modern symbols: Otherworldly idol and golden mask merge in alchemical flame, forming a twisted mask that reveals the true structure of the world when worn...",costAP:0,removeItems:["recipe_scrap_idol_mask"],setFlags:{recipe_known_idol_mask:!0}}},{id:"read_recipe_bread_spirits",label:"Read Recipe Scrap (Fermented Bread)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_bread_spirits"],result:{text:"The note records: Soak bread in spirits, process through alchemy to create food that brings brief comfort...",costAP:0,removeItems:["recipe_scrap_bread_spirits"],setFlags:{recipe_known_bread_spirits:!0}}},{id:"read_recipe_serum",label:"Read Recipe Scrap (Purified Serum)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_serum"],result:{text:"The crossed-out experimental steps in the discarded notes: Mix fungus with spirits, the liquid shifts from dark green to deep blue in the flask, refining a blue serum...",costAP:0,removeItems:["recipe_scrap_serum"],setFlags:{recipe_known_serum:!0}}},{id:"use_alchemy_serum",label:i=>i.player.flags.recipe_known_serum||i.player.inventory.includes("recipe_scrap_serum")?"Alchemy: Purify Serum":"Alchemy: ???",description:"Fungus + Spirits  Purified Serum (restores sanity).",reqItems:["alchemy_kit","strange_fungus","cheap_spirits"],result:{text:"Liquid in the flask shifts from dark green to deep blue, breathing a mint-cold vapor.",costAP:1,removeItems:["strange_fungus","cheap_spirits"],addItems:["purified_serum"]}},{id:"combine_bread_rat",label:i=>i.player.flags.recipe_known_bread_rat||i.player.inventory.includes("recipe_scrap_bread_rat")?"Alchemy: Nutritious Meal":"Alchemy: ???",description:"Bread + Rat Meat  Nutritious Meal (restores sanity).",reqItems:["alchemy_kit","bread","rat_meat"],result:{text:"You mix bread and rat meat, heating them on the alchemy table. The aroma of charred fat fills the air, creating a meal that fills the stomach.",costAP:1,removeItems:["bread","rat_meat"],addItems:["nutritious_meal"],changes:{sanity:10}}},{id:"combine_morphine_sedatives",label:i=>i.player.flags.recipe_known_morphine_sedatives||i.player.inventory.includes("recipe_scrap_morphine_sedatives")?"Alchemy: Strong Painkiller":"Alchemy: ???",description:"Morphine + Sedatives  Strong Painkiller (greatly restores sanity, may cause addiction).",reqItems:["alchemy_kit","morphine","sedatives"],result:i=>{const d=i.player.flags.addicted;return Math.random()<.4&&!d?{text:"The two liquids merge in the flask, producing deep purple smoke. You inhale once, and all pain vanishes instantlybut you know you can never be without it again.",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"The two liquids merge in the flask, producing deep purple smoke. You inhale once, and all pain vanishes instantly.",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"combine_void_salt_fungus",label:i=>i.player.flags.recipe_known_void_salt_fungus||i.player.inventory.includes("recipe_scrap_void_salt_fungus")?"Alchemy: Gnosis Elixir":"Alchemy: ???",description:"Void Salt + Luminous Fungus  Gnosis Elixir (increases gnosis).",reqItems:["alchemy_kit","void_salt","strange_fungus"],result:{text:"Salt crystals and fungus merge in the flame, producing shimmering blue crystals. Alchemy's refinement makes its effects gentler.",costAP:1,removeItems:["void_salt","strange_fungus"],addItems:["gnosis_elixir"]}},{id:"combine_gold_tooth_coin",label:i=>i.player.flags.recipe_known_gold_tooth_coin||i.player.inventory.includes("recipe_scrap_gold_tooth_coin")?"Alchemy: Alchemy Coin":"Alchemy: ???",description:"Gold Tooth + Ancient Coin  Alchemy Coin (valuable currency).",reqItems:["alchemy_kit","gold_tooth","ancient_coin"],result:{text:"The gold tooth and ancient coin merge under high heat, forming a coin that glimmers with mysterious light. Its value far exceeds ordinary currency.",costAP:1,removeItems:["gold_tooth","ancient_coin"],addItems:["alchemy_coin"],changes:{gnosis:2}}},{id:"combine_idol_mask",label:i=>i.player.flags.recipe_known_idol_mask||i.player.inventory.includes("recipe_scrap_idol_mask")?"Alchemy: Ritual Mask":"Alchemy: ???",description:"Otherworldly Idol + Golden Mask  Ritual Mask (greatly increases gnosis, costs sanity).",reqItems:["alchemy_kit","alien_idol","golden_mask"],result:{text:"The idol and mask merge in the alchemical flame, forming a twisted mask. When you wear it, you see the true structure of the worldbut at a cost.",costAP:1,removeItems:["alien_idol","golden_mask"],addItems:["ritual_mask"],changes:{gnosis:10,sanity:-30}}},{id:"combine_bread_spirits",label:i=>i.player.flags.recipe_known_bread_spirits||i.player.inventory.includes("recipe_scrap_bread_spirits")?"Alchemy: Fermented Bread":"Alchemy: ???",description:"Bread + Bootleg Spirits  Fermented Bread (restores sanity).",reqItems:["alchemy_kit","bread","cheap_spirits"],result:{text:"You soak the bread in spirits, processing it through alchemy to create a food that brings brief comfort. Alchemy's refinement perfectly blends the effects of both ingredients.",costAP:1,removeItems:["bread","cheap_spirits"],addItems:["fermented_bread"]}},{id:"pet_cat",label:"Pet Midnight",description:"The black cat purrs like a ritual drum, its warmth a small anchor in the dark. Can only pet once per day.",reqFollowers:["cat_follower"],result:i=>{const u=`petted_cat_day_${i.world.day}`;if(i.player.flags[u])return{text:"Midnight has had enough of your petting for today and just wants to curl up quietly in the corner. Today's comfort is already enough.",costAP:0};const c=i.player.followerStates?.cat_follower?.loyalty??50,S=10+Math.floor(c/20);return{text:"Midnight curls against your hand, purring in a rhythm that quiets the whispers. For a moment, the room feels safe.",costAP:0,changes:{sanity:Math.min(15,S)},setFlags:{[u]:!0}}}},{id:"feed_cat_fish_again",label:"Feed Midnight Fish",description:"Gain its trust with fresh fish.",reqFollowers:["cat_follower"],reqItems:["fresh_fish"],result:i=>{const u=i.player.followerStates?.cat_follower,d=u?.loyalty??50,c=Math.min(100,d+10);return i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={...u,loyalty:c,status:"healthy"},{text:"Midnight quickly devours the fish, then rubs against your hand contentedly.",costAP:1,removeItems:["fresh_fish"],changes:{sanity:5}}}},{id:"eat_fish",label:"Cook Fresh Fish",description:"Roast the fish over fire to fill your stomach.",reqItems:["fresh_fish"],result:{text:"You roast the fish, and the taste makes you forget your hunger for a moment.",costAP:1,removeItems:["fresh_fish"],changes:{funds:2,sanity:5}}},{id:"eat_bread",label:"Eat Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach.",reqItems:["bread"],result:{text:"You bite into the moldy bread, its dry texture like chalk dust, but the spasms in your stomach are indeed suppressed.",costAP:1,removeItems:["bread"],changes:{sanity:3}}},{id:"drink_spirits",label:"Drink Bootleg Spirits",description:"Harsh and murky spirits that temporarily numb the nerves and blur pain.",reqItems:["cheap_spirits"],result:{text:"You gulp down the spirits, the harsh taste like burning incense ash, but the alcohol quickly numbs your nerves, and pain becomes temporarily blurred.",costAP:1,removeItems:["cheap_spirits"],changes:{sanity:10}}},{id:"consume_alchemy_coin",label:"Absorb Alchemy Coin's Power",description:"Let the otherworldly light merge with your consciousness, gaining gnosis and restoring sanity.",reqItems:["alchemy_coin"],result:{text:"You grip the alchemy coin, and otherworldly light spills from between your fingers, seeping into your consciousness. You feel a deeper understanding of the world, and your sanity is restored.",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:5,sanity:15}}},{id:"use_nutritious_meal",label:"Eat Nutritious Meal",description:"Enjoy a carefully prepared meal to restore sanity.",reqItems:["nutritious_meal"],result:{text:"You slowly chew the simple but warm meal. The aroma of charred fat spreads in your mouth, and satisfaction fills your stomach as sanity gradually returns.",costAP:1,removeItems:["nutritious_meal"],changes:{sanity:10}}},{id:"use_strong_painkiller",label:"Use Strong Painkiller",description:"Deep purple smoke instantly eliminates all pain and greatly restores sanity. Highly addictive; each use may make you more dependent.",reqItems:["strong_painkiller"],result:i=>{const d=i.player.flags.addicted;return d||Math.random()<.3&&!d?{text:"You inhale the deep purple smoke, and all pain vanishes instantly. Sanity floods back like a tide. But you feel an emptiness, as if only this smoke can fill it.",costAP:1,removeItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"You inhale the deep purple smoke, and all pain vanishes instantly. Sanity floods back like a tide.",costAP:1,removeItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"use_sedatives",label:"Take Sedatives",description:"Blue pills that drain the color from the world, as though a curtain has been drawn. Swallowed, anxiety and fear temporarily recede, giving sanity a moment's respite.",reqItems:["sedatives"],result:{text:"You swallow the blue pills, and the world begins to drain of color, as though a curtain has been drawn. Anxiety and fear temporarily recede, giving sanity a moment's respite.",costAP:1,removeItems:["sedatives"],changes:{sanity:15}}},{id:"use_morphine",label:"Inject Morphine",description:"Amber liquid that grants brief silence and can greatly ease pain, but each use may make you more dependent on it.",reqItems:["morphine"],result:i=>{const d=i.player.flags.addicted;return Math.random()<.3&&!d?{text:"The needle pierces your skin, and the amber liquid slowly injects. Warmth rides your veins and pain ebbs like a tide. But you also feel an emptiness, as though only this liquid can fill it. The idea of life without it becomes terrifying.",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"The needle pierces your skin, and the amber liquid slowly injects. Warmth rides your veins and pain ebbs like a tide.",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}},{id:"use_purified_serum",label:"Inject Purified Serum",description:"Blue liquid that instantly quiets the mind and effectively restores sanity.",reqItems:["purified_serum"],result:{text:"The needle pierces your skin, and the blue liquid slowly injects. Your mind instantly quiets, the whispers and fears temporarily recede, and sanity is restored.",costAP:1,removeItems:["purified_serum"],changes:{sanity:20}}},{id:"use_gnosis_elixir",label:"Swallow Gnosis Elixir",description:"Shimmering blue crystals that increase gnosis and let you glimpse the true structure of the world. Alchemy's refinement greatly reduces side effects.",reqItems:["gnosis_elixir"],result:{text:"You place the blue crystal in your mouth, and it instantly dissolves. Your consciousness stretches into another dimension, and you see the true structure of the world. Alchemy's refinement greatly reduces side effectsyou gain more knowledge with only a small cost.",costAP:1,removeItems:["gnosis_elixir"],changes:{gnosis:8,sanity:-2}}},{id:"use_fermented_bread",label:"Eat Fermented Bread",description:"Bread soaked in spirits that brings brief comfort and restores sanity. Alchemy's refinement perfectly blends the effects of both ingredients for superior restoration.",reqItems:["fermented_bread"],result:{text:"You bite into the fermented bread, the slight intoxication of alcohol mixing with the softness of bread. Alchemy's refinement perfectly blends the effects of both ingredients, providing far superior restoration than consuming them separately.",costAP:1,removeItems:["fermented_bread"],changes:{sanity:18}}},{id:"use_ritual_mask",label:"Wear Ritual Mask",description:"A twisted mask that reveals the true structure of the world and greatly increases gnosis. Alchemy's refinement reduces side effects, but a cost remains. Can only be used once per day.",reqItems:["ritual_mask"],result:i=>{const u=`used_ritual_mask_day_${i.world.day}`;return i.player.flags[u]?{text:"You pick up the mask again, but its power is exhausted. Today's revelation has ended; you must wait until tomorrow to glimpse the true structure of the world again.",costAP:0}:{text:"You press the twisted mask against your face, and instantly, the true structure of the world unfolds before you. You see things that should not exist, understand the universe's skew. Alchemy's refinement reduces side effects, but sanity still pays a price. The mask's power is temporarily exhausted; you must wait until tomorrow to use it again.",costAP:1,changes:{gnosis:7,sanity:-20},setFlags:{[u]:!0}}}},{id:"complete_follower_task",label:"Complete Follower Request",description:"Help your follower complete their request to gain loyalty.",reqFollowers:[],result:i=>{const u=i.player.followers.find(j=>{const R=i.player.followerStates?.[j];return R&&R.task&&R.status==="healthy"});if(!u)return{text:"No pending requests.",costAP:0};const d=i.player.followerStates[u],c=d.task,S=u==="beggar_follower"?"Gregory":u==="thug_follower"?"Bruno":u==="nurse_follower"?"Madeline":"follower";return c.type==="money"&&c.requirement.money?i.player.stats.funds<c.requirement.money?{text:`Your coin purse is too light. Need ${c.requirement.money} coins.`,costAP:0}:(i.player.stats.funds-=c.requirement.money,d.loyalty=Math.min(100,d.loyalty+(c.reward.loyalty||0)),d.task=void 0,{text:`${S} takes the coins, weighing them in their palm. "Thank you. I will remember this kindness."`,costAP:1,changes:{funds:-c.requirement.money}}):c.type==="item"&&c.requirement.item?i.player.inventory.includes(c.requirement.item)?(i.player.inventory=i.player.inventory.filter(R=>R!==c.requirement.item),d.loyalty=Math.min(100,d.loyalty+(c.reward.loyalty||0)),d.task=void 0,{text:`${S} takes the ${{bread:"bread",morphine:"morphine",sedatives:"sedatives",cheap_spirits:"spirits"}[c.requirement.item]||c.requirement.item}. "Thank you. I will repay this debt."`,costAP:1,removeItems:[c.requirement.item]}):{text:`You don't have ${{bread:"bread",morphine:"morphine",sedatives:"sedatives",cheap_spirits:"spirits"}[c.requirement.item]||c.requirement.item}.`,costAP:0}:c.type==="help"?(d.loyalty=Math.min(100,d.loyalty+(c.reward.loyalty||0)),d.task=void 0,{text:`You help ${S}. They look at you in silence, then bow deeply. "Thank you. I won't forget this."`,costAP:1,changes:{sanity:5}}):{text:"Request completed.",costAP:1}}},{id:"reject_follower_task",label:"Reject Follower Request",description:"Reject your follower's request, may lower loyalty.",reqFollowers:[],result:i=>{const u=i.player.followers.find(U=>{const z=i.player.followerStates?.[U];return z&&z.task&&z.status==="healthy"});if(!u)return{text:"No pending requests.",costAP:0};const d=i.player.followerStates[u],c=d.task,S=u==="beggar_follower"?"Gregory":u==="thug_follower"?"Bruno":u==="nurse_follower"?"Madeline":"follower";d.loyalty=Math.max(0,d.loyalty+(c.penalty.loyalty||0));const j=u==="nurse_follower",R=j&&i.player.flags.lover_madeline;return c.penalty.leave&&d.loyalty<30&&!R?(i.player.followers=i.player.followers.filter(U=>U!==u),delete i.player.followerStates[u],j?i.player.flags.madeline_left=!0:u==="beggar_follower"&&(i.player.flags.beggar_died=!0),{text:`${S}'s eyes grow cold. "I understand." ${j?"She":"They"} turn${j?"s":""} and leave${j?"s":""}, vanishing into the night.`,costAP:1,removeFollowers:[u],changes:{sanity:-10}}):(d.task=void 0,{text:R?`You shake your head. ${S} falls silent for a moment, her eyes showing disappointment, but she does not leave. "I understand... but I won't go."`:`You shake your head. ${S} falls silent for a moment, then nods. "I understand."`,costAP:1,changes:{sanity:-5}})}},{id:"heal_follower",label:"Heal Injured Follower",description:"Use medical supplies to heal an injured follower.",reqItems:["morphine","purified_serum"],reqFollowers:[],result:i=>{const u=i.origin==="doctor",d=i.player.followers.find(R=>{const I=i.player.followerStates?.[R];return I&&I.status==="injured"});if(!d)return{text:"No injured followers.",costAP:0};const c=i.player.followerStates[d],S=d==="beggar_follower"?"Gregory":d==="thug_follower"?"Bruno":d==="nurse_follower"?"Madeline":"follower";let j="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(R=>R!=="purified_serum"),j="purified_serum";else if(i.player.inventory.includes("morphine"))i.player.inventory=i.player.inventory.filter(R=>R!=="morphine"),j="morphine";else return{text:"You have no medicine that can heal wounds.",costAP:0};return c.status="healthy",c.loyalty=Math.min(100,c.loyalty+25),{text:`The medicine flows along ${S}'s wounds, their breathing gradually steadying. They grip your hand tightly. "Thank you. I owe you my life."`,costAP:u?0:1,removeItems:[j],changes:{sanity:10}}}},{id:"calm_insane_follower",label:"Calm Insane Follower",description:"Try to calm an insane follower, requires sedatives or serum.",reqItems:["sedatives","purified_serum"],reqFollowers:[],result:i=>{const u=i.player.followers.find(j=>{const R=i.player.followerStates?.[j];return R&&R.status==="insane"});if(!u)return{text:"No insane followers.",costAP:0};const d=i.player.followerStates[u],c=u==="beggar_follower"?"Gregory":u==="thug_follower"?"Bruno":u==="nurse_follower"?"Madeline":"follower";let S="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(j=>j!=="purified_serum"),S="purified_serum";else if(i.player.inventory.includes("sedatives"))i.player.inventory=i.player.inventory.filter(j=>j!=="sedatives"),S="sedatives";else return{text:"You have no medicine that can quell madness.",costAP:0};return Math.random()<.7?(d.status="healthy",d.loyalty=Math.min(100,d.loyalty+30),{text:`The medicine flows into ${c}'s veins, their whispers gradually ceasing. They blink, their eyes refocusing on you. "I... I'm back. Thank you."`,costAP:1,removeItems:[S],changes:{sanity:15}}):(d.loyalty=Math.min(100,d.loyalty+10),{text:`You inject ${c} with the medicine, but their whispers only pause briefly. Their eyes remain empty.`,costAP:1,removeItems:[S],changes:{sanity:5}})}},{id:"dispatch_beggar_steal",label:"Send Gregory to Steal",reqFollowers:["beggar_follower"],result:i=>{const u=i.player.followerStates?.beggar_follower;if(u&&u.status!=="healthy")return{text:"Gregory's condition prevents him from performing the task. He needs to recover first.",costAP:0};const d=i.player.stats.suspicion,j=d>30?Math.min(.5,.1+(d-30)*.0057):0;if(Math.random()<j)return i.player.flags.beggar_died=!0,{text:"Gregory never returns. A warrant slides under the door, your name written in a trembling hand.",costAP:1,removeFollowers:["beggar_follower"],setFlags:{beggar_died:!0},changes:{suspicion:40,sanity:-10}};const R=u?Math.floor(u.loyalty/20):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"Gregory returns, clutching a few mud-stained coins. He places them on the table.",costAP:1,changes:{funds:3+R,suspicion:3}}}},{id:"dispatch_thug_extort",label:"Send Bruno to Extort",reqFollowers:["thug_follower"],result:i=>{const u=i.player.followerStates?.thug_follower;if(u&&u.status!=="healthy")return{text:"Bruno's condition prevents him from performing the task. He needs to recover first.",costAP:0};const d=u?u.loyalty:50,c=.35,j=c-d/100*(c-.05);if(Math.random()<j)return delete i.player.flags.thug_healed,{text:'Late at night, Bruno drags himself back to you, trailing blood. He collapses at your feet, blood seeping from his wounds. "This time... it was my turn to pay." His heartbeat fades in your palm.',costAP:1,removeFollowers:["thug_follower"],changes:{sanity:-20}};const R=u?Math.floor(u.loyalty/15):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"Bruno tosses a bulging wallet before you, someone else's teeth still imprinted on his knuckles.",costAP:1,changes:{funds:8+R,suspicion:10,sanity:-2}}}}]},rooftop:{id:"rooftop",name:"Apartment Rooftop",description:"Cold wind scrapes over the rusted guardrail while industrial smog sands the starlight pale.",actions:[{id:"return_apartment_roof",label:"Climb Down",result:{text:"You descend the rusted ladder, palms coated in iron filings.",costAP:0,teleport:"apartment"}},{id:"dance_madeline",label:"Dance with Madeline",description:"Slow dance on the brink of the world (requires lover + music box).",reqFlags:["lover_madeline"],reqItems:["music_box"],result:{text:"The music box leaks a fragile waltz; you turn in the wind while the city noise stays below.",costAP:1,changes:{sanity:15}}},{id:"gaze_stars",label:"Stargaze",description:"Search for constellations that have been rearranged. Gazing at the stars consumes great sanity, but occasionally reveals cosmic truth.",result:i=>{const u=`gazed_stars_day_${i.world.day}`;return i.player.flags[u]?{text:"You look up again, but the starlight is completely obscured by industrial smog. Tonight's sky has nothing more to offer.",costAP:0}:{text:"You stare at Orion until the stars bend into geometryand geometry can be pronounced. The truth of the universe flashes before your eyes, but the price of gazing is a heavy toll on sanity.",costAP:1,changes:{gnosis:1,sanity:-15},setFlags:{[u]:!0}}}},{id:"spot_cat",label:"Shadow in the Corner",description:"A pair of green eyes flashes in the dark.",reqFollowersNot:["cat_follower"],result:{text:"A black cat crouches by the pipes, wary and hungry.",costAP:0}},{id:"feed_cat_fish",label:"Feed the Cat Fish",reqItems:["fresh_fish"],reqFollowersNot:["cat_follower"],result:i=>(i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={loyalty:30,status:"healthy"},{text:"It devours the fish, then bumps your leg to say it will follow.",costAP:1,removeItems:["fresh_fish"],addFollowers:["cat_follower"],changes:{sanity:10}})}]},street:{id:"street",name:"District 7 Street",description:i=>"Yellow fog drifts along the avenue, and people hurry through it as though each clutches an unfinished ritual."+Ln(i),actions:[{id:"return_apartment",label:"Return to Apartment",result:{text:"You hurry back to the apartment.",costAP:0,teleport:"apartment"}},{id:"run_away",label:"Flee the City",description:"Abandon rituals and titles; leave with her alone (requires lover + $50).",reqFlags:["lover_madeline"],reqStats:{funds:50},result:{text:"You bribe the gate guards and squeeze onto a freight truck. The skyline recedes, leaving only the hand you clutch; every other title dissolves into the fog.",costAP:1,setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"escape_smuggle",label:"Escape by Smuggling",description:"Use a large sum to bribe a smuggling ship and flee this cursed city (requires: $200).",reqStats:{funds:200},result:{text:"You find a smuggling ship; the captain takes your money and hides you in the cargo hold. Days later, you see unfamiliar coastlines. The city, along with its secrets and horrors, is left behind.",costAP:2,changes:{funds:-200},setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"enter_clinic",label:"Enter Back-Alley Clinic",description:"The red cross flickers on and off through the fog.",result:{text:"You push the door and are hit by disinfectant and alcohol.",costAP:0,teleport:"clinic"}},{id:"enter_tavern",label:"Push the Saloon Doors",description:"Behind them wait groaning drums and mingled smells.",result:{text:"You step into the Drowned Sailor; liquor haze and lamp light braid together.",costAP:0,teleport:"tavern",setFlags:{known_tavern:!0}}},{id:"work_dock",label:"Seek Dock Labor",description:"Trade sinew for coin. High-pressure work drains sanity.",reqStats:{sanity:15},result:{text:"Crates force the air from your lungs while salt mist rakes your throat raw.",costAP:1,changes:{funds:4,sanity:-12}}},{id:"scavenge",label:"Scavenge in Garbage",description:"Search for discarded valuables. Low risk, low reward.",result:()=>{if(Math.random()<.05){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],d=u[Math.floor(Math.random()*u.length)];return{text:"You dig through the garbage and find a crumpled note, its edges water-stained.",costAP:1,changes:{funds:1,sanity:-2},addItems:[d]}}return{text:"You dig through the garbage and find some usable items.",costAP:1,changes:{funds:1,sanity:-2}}}},{id:"beg",label:"Beg on the Street",description:"Hold out your hand to passersby, but most will only offer cold stares.",result:i=>{const d=i.origin==="vagrant"?.8:.4;if(Math.random()<d){const S=Math.random()<.5?1:2;return{text:S===1?"Someone tosses you a coin; you scramble to pick it up.":"A kind soul gives you two coins; you mutter thanks.",costAP:1,changes:{funds:S,sanity:-3}}}else return{text:"People hurry past without stopping. You only feel shame and exhaustion.",costAP:1,changes:{sanity:-5}}}},{id:"enter_black_market",label:"Find Black Market Entrance",description:"Only those who recall the password get in.",reqFlags:["known_market"],reqFlagsNot:["black_market_banned"],reqStats:{funds:5},result:{text:"The doorman pockets the bribe and knocks three coded rhythms on an iron door.",costAP:1,teleport:"black_market"}},{id:"visit_asylum",label:"Go to Asylum",description:"Beyond District 9s walls lies a supposed clean zone.",reqFlags:["known_asylum"],result:{text:"You cross the cordon and step on disinfected tiles.",costAP:0,teleport:"asylum"}},{id:"visit_ministry",label:"Go to Ministry Hall",description:"The administrative monolith shaped like a shrine.",reqFlags:["known_ministry"],result:{text:"The revolving door swallows you while countless eyes stare from the dome.",costAP:0,teleport:"ministry"}},{id:"recruit_beggar",label:"Recruit the Beggar",description:"Use fungus and whispers to summon a courier.",reqFlags:["met_beggar"],reqFollowersNot:["beggar_follower"],reqFlagsNot:["beggar_died"],reqStats:{gnosis:3},reqItems:["strange_fungus"],result:{text:'He swallows the fungus and presses his forehead to the ground. "I see it. Take me to the one you serve."',costAP:1,removeItems:["strange_fungus"],addFollowers:["beggar_follower"],changes:{gnosis:1}}},{id:"recruit_thug",label:"Inject the Enforcer",description:"Use the drug to drag him back from deaths gate.",reqItems:["morphine"],reqFollowersNot:["thug_follower"],reqFlagsNot:["thug_healed"],result:{text:"The medicine runs through his veins and the tremors stop. This life is yours now.",costAP:1,removeItems:["morphine"],addFollowers:["thug_follower"],setFlags:{thug_healed:!0}}},{id:"talk_beggar",label:"Approach the Beggar",reqFlagsNot:["met_beggar"],result:()=>({text:"He grabs your sleeve and presses a rusty key into your palm. Down there remember the password.",costAP:1,addItems:["rusty_key"],setFlags:{met_beggar:!0,known_market:!0},changes:{suspicion:5}})},{id:"unlock_sewers",label:"Unlock the Manhole",reqItems:["rusty_key"],reqFlagsNot:["sewers_open"],result:{text:"The key clicks in response and the cover lifts slowly, vomiting rot.",costAP:1,setFlags:{sewers_open:!0},teleport:"sewers"}},{id:"enter_sewers",label:"Enter Sewers",reqFlags:["sewers_open"],result:{text:"You grip the cold ladder and descend until the dark swallows your steps.",costAP:0,teleport:"sewers"}},{id:"steal_fish",label:"Steal a Fish",description:"Slip one away while the fisher looks elsewhere.",reqFlagsNot:["cat_follower"],result:i=>{const u=i.player.inventory.includes("officer_badge"),d=u?3:0;return Math.random()<.3?{text:u?"You flash your badge; the fisher immediately falls silent and steps back.":'"Stop!" someone shouts, forcing you to flee empty-handed.',costAP:1,changes:{suspicion:10-d}}:{text:u?"You flash your badge; the fisher dares not speak, and you calmly take a fish.":"You tuck a still-flopping fish inside your coat.",costAP:1,addItems:["fresh_fish"],changes:{suspicion:5-d}}}}]},tavern:{id:"tavern",name:"The Drowned Sailor",description:i=>"Tobacco, liquor, and sweat curl together here; nobody asks your past so long as you can pay."+Ln(i),actions:[{id:"leave_tavern",label:"Leave Tavern",result:{text:"You push the door and the fog scrubs away the stench of drink.",costAP:0,teleport:"street"}},{id:"buy_bread",label:"Buy Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach. Basic survival food.",reqStats:{funds:2},result:i=>({text:'The bartender pulls a moldy loaf from under the counter and tosses it to you. "Enough to fill your stomach."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"drink_ale",label:"Drink Cheap Ale",description:"Bitter as sin but it warms the gut.",reqStats:{funds:3},result:{text:"Foam rasps down your throat and your shoulders loosen a notch.",costAP:1,changes:{funds:-3,sanity:5}}},{id:"gamble_dice",label:"Roll Dice",description:"Let the cubes decide your luck.",reqStats:{funds:5},result:i=>Math.random()<(i.player.inventory.includes("loaded_dice")?.6:.3)?{text:"The dice obey and the drunks pockets are yours.",costAP:1,changes:{funds:8,sanity:2}}:{text:"They tumble across the table and your money tumbles with them.",costAP:1,changes:{funds:-5,sanity:-2}}},{id:"listen_rumors",label:"Gather Rumors",description:"Drink-slick tongues sometimes spill real intel.",result:i=>{if(i.player.flags.known_market)if(i.player.flags.known_asylum){if(!i.player.flags.known_ministry)return{text:"A drunk complains the Ministry hall squats beside the square like a tombstone.",costAP:1,setFlags:{known_ministry:!0}}}else return{text:"Word is District 9 Asylum needs bodies; theyre recruiting volunteers on the street.",costAP:1,setFlags:{known_asylum:!0}};else return{text:"Someone whispers about a staircase leading underground; bring enough cash and you can descend.",costAP:1,setFlags:{known_market:!0}};return{text:"The rest is gossip about green sewer lights and missing vagrants.",costAP:1,changes:{suspicion:2}}}}]},clinic:{id:"clinic",name:"Back-Alley Clinic",description:i=>"A jaundiced bulb swings overhead while the doctor wipes scalpels with coarse cloth. This place treats ailments the Ministry refuses to acknowledge."+Ln(i),actions:[{id:"leave_clinic",label:"Leave Clinic",result:{text:"You step back into the fog and the blood-smell thins at once.",costAP:0,teleport:"street"}},{id:"talk_nurse",label:"Speak with the Crying Nurse",description:"She clearly has trouble looming.",reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'"The interest spiked again. One more day and they sell me to the mines." She wipes her tears with her sleeve.',costAP:1}},{id:"recruit_nurse_gold",label:"Pay Her Debt with Gold Tooth",description:"This tooth can settle the ledger.",reqItems:["gold_tooth"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:`She stares at the tooth for a long while before taking it. "I'll spend the rest of my life repaying this."`,costAP:1,removeItems:["gold_tooth"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"recruit_nurse_file",label:"Leverage the Dossier",description:"Use the classified file as blackmail.",reqItems:["classified_file"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:"You drop the file on the table; the mob boss reads it in silence, then wipes her debt clean.",costAP:1,removeItems:["classified_file"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"cure_infection",label:"Treat Rot Disease",description:"Scrape away corruption and flood it with liquor.",reqStats:{funds:20},reqFlags:["infected"],result:{text:"Liquor burns across the wound before numbness settles and the flesh knits shut.",costAP:1,changes:{funds:-20},setFlags:{infected:!1}}},{id:"rehab_addiction",label:"Detox Regimen",description:"Ride out the craving in restraints.",reqStats:{funds:35},reqFlags:["addicted"],result:{text:"They strap you to a bed for three days; sweat and vomit pool beneath you until all thats left is a shaking breath.",costAP:3,changes:{funds:-35,sanity:-20},setFlags:{addicted:!1}}},{id:"sell_blood",label:"Sell Blood",description:"Trade plasma for cash.",reqStats:{sanity:30},result:{text:"A thick needle taps your vein and a glass bottle slowly fills red while your head drifts.",costAP:1,changes:{funds:6,sanity:-25}}},{id:"sell_kidney",label:"Sell a Kidney",description:"Exchange an organ for breathing room.",reqStats:{funds:0},reqFlagsNot:["kidney_sold"],result:{text:"When the anesthesia fades, your waist is swaddled in bandages and a blood-speckled bundle of bills waits nearby.",costAP:3,changes:{funds:40,sanity:-20},setFlags:{kidney_sold:!0}}},{id:"buy_laudanum",label:"Purchase Laudanum",description:"Ticket to the dreamscape.",reqStats:{funds:15},reqItemsNot:["laudanum","forbidden_name"],result:i=>({text:"The doctor retrieves a black bottle from the safe and tells you to open it in silence.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["laudanum"]})},{id:"buy_sedatives",label:"Purchase Sedatives",description:"Official calming pills.",reqStats:{funds:10},result:i=>({text:"Blue tablets slide into a paper pouch; you are told not to indulge.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["sedatives"]})},{id:"buy_morphine",label:"Purchase Morphine",description:"Costly and perilous peace.",reqStats:{funds:25},result:i=>({text:'An ampoule is pressed into your palm. "Do not let it take command," the doctor warns.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["morphine"]})},{id:"implant_fungus",label:"Implant Luminous Fungus",description:"Let the mycelium lodge in your flesh.",reqItems:["strange_fungus"],reqFlagsNot:["fungus_host"],result:{text:"The fungus is pushed into the split muscle; when the stitches tighten you feel it pulse.",costAP:2,removeItems:["strange_fungus"],changes:{sanity:-20},setFlags:{fungus_host:!0}}},{id:"harvest_self",label:"Harvest Your Fungus",description:"Treat the host as the offering.",reqFlags:["fungus_host"],result:()=>{const i=Math.random()<.4;return{text:i?"The blade grazes the wound and fire spreads, infection blooming immediately.":"You suppress the tremor and dig a glowing tuft from your arm.",costAP:1,addItems:["strange_fungus"],changes:{sanity:-20},setFlags:i?{infected:!0}:{}}}},{id:"use_morphine_risky",label:"Inject Morphine",reqItems:["morphine"],description:"Borrow a brief silence from the needle.",result:i=>Math.random()<.3&&!i.player.flags.addicted?{text:"A gentle undertow wraps around you, and the idea of life without it becomes terrifying.",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"Warmth rides your veins and pain ebbs like a tide.",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}]},black_market:{id:"black_market",name:"Underground Market",description:"A damp basement crammed with contraband; transactions care only for price, never for names.",actions:[{id:"leave_market",label:"Leave Market",result:{text:"You return to the street, vendors whispers still clinging to your ears.",costAP:0,teleport:"street"}},{id:"buy_lantern",label:"Buy Brass Lantern",description:"Essential flame for sewer expeditions.",reqStats:{funds:8},reqItemsNot:["brass_lantern"],result:i=>({text:'A new wick goes into the old lantern; the seller taps the glass. "Enough to reach the bottom."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(8*1.5):8)},addItems:["brass_lantern"]})},{id:"buy_music_box",label:"Buy Music Box",description:"An expensive, unnecessary romance.",reqStats:{funds:20},reqItemsNot:["music_box"],result:i=>({text:"The box is slipped into a cloth pouch, its spring still ticking.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["music_box"]})},{id:"buy_ring",label:"Buy Silver Ring",description:"A promise forged amid rubble.",reqStats:{funds:15},reqItemsNot:["silver_ring"],result:i=>({text:"The merchant studies you, then silently slides the ring across the counter.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["silver_ring"]})},{id:"buy_alchemy_kit",label:"Buy Alchemy Kit",description:"Tools that can rewrite recipes.",reqStats:{funds:25},reqItemsNot:["alchemy_kit"],result:i=>({text:'"Do not fire it up during an air raid," the seller warns while handing over the stained apparatus.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["alchemy_kit"]})},{id:"buy_scroll",label:"Buy Worm Scroll",description:"A mold-reeking forbidden text.",reqStats:{funds:20},reqItemsNot:["crumbling_scroll"],result:i=>({text:'Wrapped in coarse cloth, the scroll comes with a warning: "Never read it in the light."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["crumbling_scroll"]})},{id:"buy_iron_dagger",label:"Buy Iron Dagger",description:"A common street weapon, crude but deadly enough.",reqStats:{funds:12},reqItemsNot:["iron_dagger"],result:i=>({text:'The vendor pulls an iron dagger from under the counter, the edge glinting in the dim light. "This will do."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(12*1.5):12)},addItems:["iron_dagger"]})},{id:"buy_scalpel",label:"Buy Scalpel",description:"A common surgical tool from the clinic, sharp as a razor.",reqStats:{funds:10},reqItemsNot:["scalpel"],result:i=>({text:'The vendor hands you a scalpel, the blade reflecting cold light. "Be careful, this thing is more dangerous than it looks."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["scalpel"]})},{id:"buy_rare_item_coin",label:"Gamble with Alchemy Coin (High Risk)",description:"Trade the mysterious coin for the black market's most precious items. Warning: This is a gambleyou may receive items of varying value. Risk at your own discretion.",reqItems:["alchemy_coin"],result:()=>{const i=Math.random();let u,d;return i<.05?(u="ritual_dagger",d="Obsidian Dagger"):i<.3?(u="alien_idol",d="Otherworldly Idol"):i<.45?(u="golden_mask",d="Golden Mask"):i<.7?(u="void_salt",d="Void Salt"):(u="ancient_coin",d="Ancient Coin"),{text:`The vendor takes the alchemy coin, eyes flashing with greed. "This glow... I understand. This is true alchemy. I'll trade you this." He hands you ${d}.`,costAP:1,removeItems:["alchemy_coin"],addItems:[u]}}},{id:"buy_bread",label:"Buy Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach. Basic survival food.",reqStats:{funds:2},result:i=>({text:'The vendor digs out a moldy loaf from a corner. "Enough to keep you going for a while."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"buy_spirits",label:"Buy Bootleg Spirits",description:"Cheap anesthesia.",reqStats:{funds:4},result:i=>({text:"A bottle of cloudy liquor smelling like rotten barrels is pressed into your hand.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(4*1.5):4),sanity:15},addItems:["cheap_spirits"]})},{id:"sell_gold_tooth",label:"Sell Gold Tooth",reqItems:["gold_tooth"],result:{text:"A handful of coins get tossed your way with little ceremony.",costAP:1,changes:{funds:6},removeItems:["gold_tooth"]}},{id:"sell_alchemy_coin",label:"Sell Alchemy Coin",reqItems:["alchemy_coin"],result:{text:`The vendor's eyes flash in the otherworldly glow of the coin. "This... this is alchemy's masterpiece. I'll pay top price." He hands you a thick stack of bills.`,costAP:1,changes:{funds:30},removeItems:["alchemy_coin"]}},{id:"sell_fungus",label:"Sell Luminous Fungus",reqItems:["strange_fungus"],result:{text:'"Good cultureenough for two dream draughts."',costAP:1,changes:{funds:4},removeItems:["strange_fungus"]}},{id:"sell_idol",label:"Sell Otherworldly Idol",reqItems:["alien_idol"],result:{text:`The vendor presses a palm on it, eyes flashing. "I'll take this one."`,costAP:1,changes:{funds:50},removeItems:["alien_idol"]}},{id:"sell_mask",label:"Sell Golden Mask",reqItems:["golden_mask"],result:{text:`"Feels too cold, but it'll fetch a crowd." Still, he pays up.`,costAP:1,changes:{funds:40},removeItems:["golden_mask"]}},{id:"sell_ritual_mask",label:"Sell Ritual Mask",reqItems:["ritual_mask"],result:{text:`The vendor's eyes flash in the mask's twisted glow. "Alchemy's masterpiece... this fusion of power, I'll pay top price." He hands you a thick stack of bills.`,costAP:1,changes:{funds:135},removeItems:["ritual_mask"]}},{id:"sell_purge_list",label:"Sell Purge Ledger",reqItems:["purge_list"],result:i=>(delete i.player.flags.purge_list_accessed,{text:`The vendor's fingertips tremble. "Hand it overone page of this buys a row of houses."`,costAP:1,changes:{funds:60},removeItems:["purge_list"]})},{id:"sell_file",label:"Sell Classified Dossier",reqItems:["classified_file"],result:{text:'"This will roll a lot of heads, so the price is fixed."',costAP:1,changes:{funds:25},removeItems:["classified_file"]}},{id:"sell_fermented_bread",label:"Sell Fermented Bread",reqItems:["fermented_bread"],result:{text:`The vendor sniffs the bread. "Alchemy-processed food... interesting. I'll make an offer."`,costAP:1,changes:{funds:8},removeItems:["fermented_bread"]}}]},sewers:{id:"sewers",name:"Ancient Sewers",description:i=>"Stone walls are carved with worn reliefs, and the channels carry glowing sludge instead of water."+Ln(i),actions:[{id:"leave_sewers",label:"Climb Back Up",result:{text:"You haul yourself up the icy ladder until the smog greets you again.",costAP:0,teleport:"street"}},{id:"scavenge_lit_risky",label:"Lantern Scavenge",description:"Let the lantern guide you while you sift the muck for relics.",reqItems:["brass_lantern"],result:()=>{const i=Math.random();if(i<.1)return{text:"A mutated rat bites through your boot and the wound darkens instantly.",costAP:1,changes:{sanity:-10},setFlags:{infected:!0}};if(i<.15){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],d=u[Math.floor(Math.random()*u.length)];return{text:"The light catches a water-soaked slip of paper, barely legible but still readable.",costAP:1,changes:{sanity:-5},addItems:[d]}}else return i<.3?{text:"The light catches a gold tooth wedged between stones.",costAP:1,changes:{sanity:-5},addItems:["gold_tooth"]}:i<.7?{text:"You harvest a pristine clump of luminous fungus, cold to the touch.",costAP:1,changes:{sanity:-3},addItems:["strange_fungus"]}:{text:"You scrape up a few morsels of meat still fit to eat and shove them into your bag.",costAP:1,changes:{sanity:-5},addItems:["rat_meat"]}}},{id:"encounter_sewer_monster",label:"Explore Deeper",description:"Push further into the darkness, where whispers call and something waits.",reqItems:["brass_lantern"],result:()=>{if(Math.random()<.4)return{text:"A low growl echoes ahead, like the resonance of some ancient ritual. Glowing eyes flash in the shadowsnot human eyes, not beast eyes, but something else entirely.",costAP:0,setFlags:{sewer_monster_encounter:!0}};{const u=Math.random();return u<.3?{text:"You discover an ancient altar deep within, its stone surface carved with incomprehensible symbols. The lines pulse like veins, and as you stare, knowledge seeps into your consciousness like venom.",costAP:1,changes:{sanity:-8,gnosis:2}}:u<.6?{text:"Your fingers close around a rusted key in the sludge, like a relic bearing the secrets of those who came before.",costAP:1,changes:{sanity:-5},addItems:["rusty_key"]}:{text:"You explore for a long time, but find nothing except sludge and echoes. The darkness devours your sense of direction, and you begin to wonder if you are still in the same world.",costAP:1,changes:{sanity:-3}}}}},{id:"flee_sewer_monster",label:"Flee",description:"Turn and run, let fear drive your legs.",reqFlags:["sewer_monster_encounter"],result:{text:"You turn and run, footsteps echoing through the pipes like a countdown. You dare not look back until the ladder's outline appears. You're safe, but the feeling of being pursued will remain in your bones forever.",costAP:2,changes:{sanity:-5},setFlags:{sewer_monster_encounter:!1}}},{id:"fight_sewer_monster",label:i=>i.player.inventory.some(d=>["iron_dagger","ritual_dagger","scalpel"].includes(d))?i.player.inventory.includes("ritual_dagger")?"Fight (Very High Chance)":i.player.inventory.includes("iron_dagger")?"Fight (High Chance)":i.player.inventory.includes("scalpel")?"Fight (Moderate Chance)":"Fight (Very Low Chance)":"Fight (Very Low Chance)",description:"Face the darkness with steel, the fear with will.",reqFlags:["sewer_monster_encounter"],result:i=>{if(!i.player.inventory.some(c=>["iron_dagger","ritual_dagger","scalpel"].includes(c)))return{text:"Your hands search, but find only empty pockets. Without a weapon, you can only face those eyes and feel fear pour into your veins like ice water. The creature lunges at you, and you can only fight back with your bare hands and fists in vain. You are struck down hard, and in your dazed state, you crawl back to the entrance. When you wake, you are covered in wounds, and that terror is deeply etched into your memory.",costAP:1,changes:{sanity:-30,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}};let d;return i.player.inventory.includes("ritual_dagger")?d=.8:i.player.inventory.includes("iron_dagger")?d=.65:i.player.inventory.includes("scalpel")?d=.55:d=.45,Math.random()<d?{text:"You swing your weapon; steel meets something unnameable. The creature shrieks with a voice that is not human, retreating into darkness like smoke. You survived, but the horror is carved into your memory, a wound that will never heal.",costAP:1,changes:{sanity:-15,gnosis:1},addItems:["strange_fungus"],setFlags:{sewer_monster_encounter:!1}}:{text:"You fight desperately, but the creature is too strong. Its power washes over you like a tide, and you fall, consciousness drifting in darkness. You wake at the sewer entrance, covered in wounds, as though you had lived through a nightmare. But the wounds are real, the pain reminds youit was not a dream.",costAP:1,changes:{sanity:-25,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}}}},{id:"search_relics",label:"Seek Relics",description:"Grope through the sludge for the relics of rumor.",reqItems:["brass_lantern"],reqItemsNot:["alien_idol"],result:()=>Math.random()<.15?{text:"Your fingertips brush a green-glowing idol, far heavier than expected.",costAP:1,addItems:["alien_idol"],changes:{sanity:-15}}:{text:"Only shattered bones roll through the mud.",costAP:1,changes:{sanity:-8}}},{id:"explore_deep",label:"Search for Altar Gate",description:"Follow unknown tunnels toward the ascension site. When sanity is too low, you can perceive its presence more clearly.",reqStats:{},result:i=>{const u=i.player.stats.sanity>0;return!i.player.inventory.includes("ritual_dagger")&&Math.random()>.5?{text:"You root around in the mire and find a cold obsidian dagger.",costAP:1,changes:{sanity:-10},addItems:["ritual_dagger"]}:u?{text:"You wander the maze of pipes while darkness drags at your thoughts. Your sanity remains clear; you cannot truly see the path to ascension.",costAP:1,changes:{sanity:-15}}:{text:"The boundaries of sanity have shattered; you see passages that should not exist. The altar whispers in the darkness, guiding you toward it.",costAP:1,changes:{sanity:-5}}}},{id:"approach_altar",label:"Approach the Radiant Gate",description:"The altar murmurs for you.",reqItems:["ritual_dagger"],result:{text:"You cleave the blocking vines and a vaulted chamber fills with milky light ahead.",costAP:1,teleport:"altar"}}]},asylum:{id:"asylum",name:"District 9 Asylum",description:"Eyes glow behind barbed windows; this is where they cage those who know too much.",actions:[{id:"leave_asylum",label:"Leave",result:{text:"You hurry away from the white walls, convinced someone still watches your back.",costAP:0,teleport:"street"}},{id:"visit_madman",label:"Visit Patient 103",description:"Hear him describe the voices inside the walls. Can only visit once per day.",reqStats:{funds:2},result:i=>{const u=`visited_madman_day_${i.world.day}`;if(i.player.flags[u])return{text:'The orderly stops you. "Patient 103 has already had a visitor today. Come back tomorrow."',costAP:0};const d=2;return{text:"You bribe the orderly to gain access to the ward. Patient 103's account sounds so much like scripture that you jot down several passages. These words echo in your mind, bringing revelation but consuming your sanity.",costAP:1,changes:{sanity:-8,gnosis:2,funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(d*1.5):d)},setFlags:{[u]:!0}}}},{id:"steal_coat",label:"Steal Lab Coat",description:"Try to pass for a doctor.",reqItemsNot:["doctor_coat"],result:i=>{const u=i.player.inventory.includes("officer_badge"),d=u?5:0;return Math.random()<.3?{text:u?"You flash your badge; the orderlies immediately step back, not daring to stop you.":"Alarms erupt and orderlies drag you out.",costAP:1,changes:{suspicion:15-d,sanity:u?0:-5}}:{text:u?"You flash your badge; no one dares question your identity.":"You slip into the coat, keep your head low, and no one questions you.",costAP:1,addItems:["doctor_coat"],changes:{suspicion:5-d}}}},{id:"enter_archives",label:"Enter Archives",description:"Only credentialed staff may descend. High suspicion may be detected.",reqItems:["doctor_coat"],result:i=>{const u=i.player.stats.suspicion,d=i.player.inventory.includes("officer_badge");let c=0;if(u>=85?c=.7:u>=70?c=.5:u>=50?c=.3:u>=30&&(c=.1),d&&(c*=.5),Math.random()<c){const j=u>=85?20:u>=70?15:10;return{text:d?`The guard examines your badge carefully, eyes growing wary. "Your file... something's off. Come with me."`:`The guard stares at your face for a few seconds, then his expression changes. "Wait, I know you! You're the wanted one!"`,costAP:1,changes:{suspicion:j},teleport:"street"}}else return{text:d?'You flash your badge; the guard immediately steps aside. "Right this way, sir."':"You nod at the guard; he assumes you belong here.",costAP:0,teleport:"asylum_archives"}}},{id:"shock_therapy",label:"Undergo Shock Therapy",description:"Use electricity to erase the noise.",reqStats:{funds:30},result:{text:"Current tears through your temples; memories smear and fear is plucked out like a splinter.",costAP:2,changes:{funds:-30,sanity:60,gnosis:-5}}}]},asylum_archives:{id:"asylum_archives",name:"Basement Archives",description:"Iron cabinets brim with yellowed files documenting every mind the old gods shredded.",actions:[{id:"leave_archives",label:"Return to Hall",result:{text:"You slide the files back and climb the stairs to the ground floor.",costAP:0,teleport:"asylum"}},{id:"read_files",label:"Read Classified Reports",description:"Study the histories that were erased.",result:{text:"You read accounts of the Inverted City; handwriting from a century ago matches todays sightings.",costAP:1,changes:{gnosis:3,sanity:-12}}},{id:"steal_file",label:"Steal the Dossier",description:"Swipe the folder on Patient Zero.",reqItemsNot:["classified_file"],result:i=>{const u=i.player.inventory.includes("officer_badge");return{text:u?"You flash your badge; the archivist dares not question you, and you calmly take the dossier.":"You tuck the file inside your coat; the paper crackles against your chest.",costAP:1,addItems:["classified_file"],changes:{suspicion:u?5:15}}}}]},ministry:{id:"ministry",name:"Ministry Grand Hall",description:i=>i.player.inventory.includes("officer_badge")?"Guards salute you as though you and the building share a spine.":"A colossal statue looms in the rotunda, and printer rattles meld with interrogation screams into a single oppressive drone.",actions:[{id:"leave_ministry",label:"Exit Hall",result:{text:"You stride through the revolving doors, surveillance lights still sweeping your spine.",costAP:0,teleport:"street"}},{id:"bribe_officer",label:"Bribe Clerk ($15)",description:"Pay to erase the record.",reqStats:{funds:15},result:i=>({text:'"Archives glitch sometimes," he mutters while pocketing the envelope and deleting your entry.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15),suspicion:-20}})},{id:"report_citizen_pro",label:"Report a Dissident",description:"Offer up an innocent to wash yourself clean.",reqStats:{suspicion:10},result:{text:"You point at a stranger in the crowd; guards seize him without a word.",costAP:1,changes:{suspicion:-30,sanity:-10}}},{id:"storm_ministry",label:"Storm the Ministry",description:"Rally your cult, overthrow this bastion of oppression with weapons and will (requires: 3 followers at max loyalty, at least 2 weapons, $100).",reqStats:{funds:100},reqItems:[],result:i=>{const u=i.player.followers.filter(S=>{const j=i.player.followerStates?.[S];return j&&j.loyalty>=100&&j.status==="healthy"}),c=["ritual_dagger","iron_dagger","scalpel"].filter(S=>i.player.inventory.includes(S)).length;return u.length<3?{text:"You need at least 3 followers at max loyalty to launch this revolution.",costAP:0}:c<2?{text:"You need at least 2 weapons to storm the Ministry.",costAP:0}:{text:"Your cult charges into the hall, weapons flashing under the lights. Ministry guards fall, files burn in flames. You stand upon the ruins, a new order rising from the ashes.",costAP:3,changes:{funds:-100},setFlags:{victory_achieved:!0,revolution_ending:!0}}}},{id:"steal_badge",label:"Steal Officer Badge",description:"Extremely risky.",reqItemsNot:["officer_badge"],result:()=>{const i=Math.random();return i<.2?{text:"You lift the badge while he naps, slipping it up your sleeve.",costAP:1,addItems:["officer_badge"],changes:{suspicion:10}}:i<.5?{text:"The officer shifts; you pretend to ask for directions while your heart hammers.",costAP:1,changes:{suspicion:20}}:{text:'"Guards!" he roars, pinning you to the floor.',costAP:1,changes:{suspicion:100}}}},{id:"access_database",label:"Access Database",description:"Pull the purge roster (5-day cooldown).",reqItems:["officer_badge"],reqItemsNot:["purge_list"],reqFlagsNot:["purge_list_accessed"],result:i=>{const d=`purge_list_cooldown_until_${i.world.day+5}`;return{text:"You swipe the badge across the terminal; the printer spits out an entire roll of names. The system logs your access.",costAP:1,addItems:["purge_list"],setFlags:{purge_list_accessed:!0,[d]:!0},changes:{suspicion:5}}}},{id:"use_badge_clear",label:"Use Badge to Clear Records",description:"Leverage your official status to reduce suspicion.",reqItems:["officer_badge"],reqStats:{suspicion:5},result:i=>({text:'You show your badge to the archivist; he immediately marks your file as "reviewed" in the system. Suspicion vanishes like eraser marks.',costAP:1,changes:{suspicion:-Math.min(30,i.player.stats.suspicion)}})},{id:"use_badge_info",label:"Access Internal Intelligence",description:"Use your badge to obtain secret information.",reqItems:["officer_badge"],result:{text:"You browse internal briefings and learn some hidden truths.",costAP:1,changes:{gnosis:5,sanity:-5}}}]},pale_city:{id:"pale_city",name:"The Pale City",description:()=>"The sky congeals into a gray vortex and towers hang upside down overhead. Here, sanity is the only visa.",actions:[{id:"wake_up",label:"Force Wakefulness",description:"Sever the dream and return to reality.",result:{text:"You jolt upright, cold sweat trailing down your spine.",costAP:0,teleport:"apartment"}},{id:"visit_lake",label:"Walk to the Black Lake",description:"The still water at the edge of the city.",reqFlags:["known_lake"],result:{text:"You step into the water and your perspective flips.",costAP:0,teleport:"lake_hali"}},{id:"wander_dream",label:"Wander the Grey Fields",description:"Hunt for clues in the dead landscape.",reqItemsNot:["forbidden_name"],result:()=>{const i=Math.random();return i<.4?{text:"You see deceased relatives waiting on the far bank, faces veiled in white mist.",costAP:1,changes:{sanity:-15}}:i<.7?{text:"You pick up shards of memories that never existed in reality; they glow in your palm.",costAP:1,changes:{sanity:-10,gnosis:2}}:{text:"You arrive at the entrance to the Inverted Library, book spines hanging upside down.",costAP:1,teleport:"dream_library"}}}]},lake_hali:{id:"lake_hali",name:"Lake Hali",description:"The deepest dream lake is black and still as glass, with two moons hanging overheadbeautiful enough to hurt.",actions:[{id:"leave_lake",label:"Swim Back to Shore",result:{text:"You fight the frigid waves and return to the Pale City.",costAP:0,teleport:"pale_city"}},{id:"gaze_reflection",label:"Gaze at the Surface",description:"Stare into the mirror of your subconscious.",result:{text:"Your reflection speaks in a calm voice and reveals truths you refuse to face.",costAP:1,changes:{sanity:-10,gnosis:3}}},{id:"fish_dreams",label:"Dredge Sunken Things",description:"Search the lakebed for lost artifacts.",result:i=>{const u=Math.random();return u<.3&&!i.player.inventory.includes("golden_mask")?{text:"You haul up a golden mask, still rimed with the lakes chill.",costAP:1,addItems:["golden_mask"],changes:{sanity:-15}}:u<.6?{text:"A handful of glowing salt crystals appears in your palm.",costAP:1,addItems:["void_salt"],changes:{sanity:-10}}:{text:"You surface with nothing but a piercing cold.",costAP:1,changes:{sanity:-15}}}},{id:"consume_salt",label:"Inhale Void Salt",description:"Ingest compressed knowledge directly.",reqItems:["void_salt"],result:{text:"Lightning sears across your brain and you glimpse the skeleton of reality.",costAP:1,changes:{gnosis:5,sanity:-5},removeItems:["void_salt"]}},{id:"offer_coin_to_lake",label:"Offer Alchemy Coin to the Lake",description:"Trade the mysterious coin with the power at the depths of dreams.",reqItems:["alchemy_coin"],result:{text:"The alchemy coin sinks into the lake, and otherworldly light spreads through the water. Ripples form on the surface, and you feel the power of dreams flow into your consciousness.",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:8,sanity:10}}}]},dream_library:{id:"dream_library",name:"The Inverted Library",description:"Books hang from the vault like stalactites dripping ink; every destroyed history is archived here.",actions:[{id:"leave_library",label:"Depart",result:{text:"You descend the inverted stair of books and return to the Pale Citys edge.",costAP:0,teleport:"pale_city"}},{id:"find_true_name",label:"Seek the Old Name",description:"The missing syllable of the ascension ritual.",reqStats:{gnosis:20},reqItemsNot:["forbidden_name"],result:{text:"You lift a tome bound in skin; when you recite the name, reality shudders like cloth. You remember it now.",costAP:1,changes:{sanity:-40},addItems:["forbidden_name"]}}]},cathedral:{id:"cathedral",name:"Abandoned Cathedral",description:"The altar has collapsed; only dust and echoes remain.",actions:[{id:"leave_cathedral",label:"Leave",result:{text:"You step over the ruined threshold; dust coils around your ankles.",costAP:0,teleport:"street"}},{id:"confess_sins",label:"Confess",description:"Spend gnosis to trade secrets for calm (reduces suspicion).",reqStats:{gnosis:2},result:{text:"You whisper your crimes and the echo answers in your stead.",costAP:1,changes:{suspicion:-25,gnosis:-2,sanity:5}}},{id:"offer_alchemy_coin",label:"Offer Alchemy Coin",description:"Place the mysterious coin on the altar for a more powerful purification effect.",reqItems:["alchemy_coin"],result:{text:"The alchemy coin glows with otherworldly light on the altar, and the light spreads, washing away suspicion and corruption from you. You feel an unprecedented lightness.",costAP:1,removeItems:["alchemy_coin"],changes:{suspicion:-40,sanity:20,gnosis:3}}},{id:"scavenge_crypt",label:"Explore the Crypt",description:"Rifle coffins in search of offerings.",result:()=>Math.random()<.3?{text:"Your fingers close around an ancient coin wedged between stones.",costAP:1,addItems:["ancient_coin"],changes:{sanity:-15}}:{text:"Only empty tombs and cold air answer you.",costAP:1,changes:{sanity:-10}}}]},altar:{id:"altar",name:"Ascension Altar",description:i=>{let u="You stand on the edge of reality. Physics has fled, leaving only pulsing light and impossible geometry. A vast inverted pyramid hovers above, waiting for the final offering.";return i.player.flags.lover_madeline&&(u+=" Madeline grips your hand; her tremor runs straight into your chest."),u},actions:[{id:"flee_altar",label:"Flee the Altar",description:"The pressure crushes your lungs; you are not ready for the truth.",result:{text:"You scream, spin, and crawl back into the sewer shadows. That colossal terror will forever mock your cowardice in dreams.",costAP:0,teleport:"sewers",changes:{sanity:-20}}},{id:"perform_ritual",label:"Offer Yourself",description:"Recite the True Name and pierce your heart. Flesh is the cage; death is the key. Only at the edge of breakdown can you see the path to ascension.",reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:60},result:i=>i.player.stats.sanity>0?{text:"Your sanity remains clear; you cannot truly understand the meaning of death. Only when you stand at the edge of breakdown can you see the path to ascension.",costAP:0}:{text:"When the obsidian enters your heart there is no pain, only release. Your flesh peels away and your mind becomes a pale beam that tunnels through the strata, devouring the rotten city. You are finally part of eternity.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_lover",label:"Sacrifice Madeline",description:"She is your dearest bond. Only by severing it can you ascend unburdened.",reqFlags:["lover_madeline"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:30},result:{text:"She watches you with trust until the cold blade slips into her chest. Her light fades, replaced by the altars hungry crimson glow. You gain ultimate power, but your humanity dies in that instant. You ascendalone and composed.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_follower",label:"Sacrifice Gregory",description:'The "Prophet" longs to servegrant him the honor.',reqFollowers:["beggar_follower"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:50},result:{text:"You shove the raving beggar onto the altar. Invisible forces tear him apart amid laughter, and blood-rain opens the gate. You tread on his remains as you step into divinity.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"ascend_with_mask",label:"Ascend Through Mask",description:"Wear the ritual mask and let alchemy's masterpiece guide you through reality's threshold. The alchemist's exclusive path.",reqItems:["ritual_mask","forbidden_name"],reqStats:{gnosis:30},result:{text:"You don the twisted mask and speak the Old Name. The mask fuses with your flesh, alchemical flames burning within you. You need no sacrifice, for alchemy has already transformed you. You pass through reality's threshold, becoming alchemy's ultimate creationa being beyond life and death.",costAP:1,setFlags:{victory_achieved:!0}}}]}},je=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(36).substring(2,15)}-${Math.random().toString(36).substring(2,15)}`},Xn=(i,u)=>{const d={player:{stats:{sanity:100,funds:10,suspicion:0,gnosis:0},inventory:[],followers:[],flags:{}},world:{day:1,timeSegment:0,maxActionPoints:4,currentActionPoints:4,currentLocationId:"apartment"},logs:[],status:"playing",origin:i};switch(i){case"fallen_noble":d.player.stats={sanity:80,funds:30,suspicion:25,gnosis:0},d.player.inventory=["old_ring"],d.player.flags={noble_heritage:!0},d.logs=[{id:"init",text:u==="zh"?"404":"You wake in Apartment 404, neon slashing through the blinds like fresh wounds. The heirloom ring on the table glimmers in the dim lightthe last relic of your family. The Ministry's eyes never left your family, and now they watch you too.",type:"narrative",timestamp:1}];break;case"doctor":d.player.stats={sanity:60,funds:5,suspicion:5,gnosis:0},d.player.inventory=["morphine","scalpel"],d.player.flags={medical_training:!0},d.logs=[{id:"init",text:u==="zh"?"404":"You wake in Apartment 404, neon slashing through the blinds like fresh wounds. The morphine bottle in your medical bag reflects dim light on the nightstand. You have seen too much death, too many inexplicable wounds. The boundaries of sanity have long blurred, but you know some truths must be uncovered.",type:"narrative",timestamp:1}];break;case"vagrant":d.player.stats={sanity:90,funds:0,suspicion:0,gnosis:0},d.player.inventory=[],d.player.flags={street_wise:!0,resistant:!0},d.logs=[{id:"init",text:u==="zh"?"404":"You wake in Apartment 404, neon slashing through the blinds like fresh wounds. This apartment isn't yours, but you found the key. Years on the streets have accustomed you to reality's cruelty. The whispers and shadows are just another world you must survive.",type:"narrative",timestamp:1}];break}return d},Vt="pale_threshold_save_v1",Jt="pale_threshold_backup_v1",To="pale_threshold_mode",Yy=(i="en")=>{const u=i==="zh"?jy:Cy,d=i==="zh"?zy:Dy,c=i==="zh"?qy:Oy,S=i==="zh"?Ey:Ry,[j,R]=re.useState(()=>{const _=localStorage.getItem(To);return _==="hardcore"||_==="normal"?_:"normal"}),[I,U]=re.useState(()=>{try{const _=localStorage.getItem(Vt);if(_){const M=JSON.parse(_);if(M.player.followers||(M.player.followers=[]),M.player.stats.gnosis===void 0&&(M.player.stats.gnosis=0),M.status==="defeat"||M.status==="victory"){if((localStorage.getItem(To)||"normal")==="hardcore")return localStorage.removeItem(Vt),localStorage.removeItem(Jt),Xn("fallen_noble",i);{const Q=localStorage.getItem(Jt);if(Q)try{const G=JSON.parse(Q);if(G.status==="playing")return G}catch(G){console.error(":",G)}return localStorage.removeItem(Vt),localStorage.removeItem(Jt),Xn("fallen_noble",i)}}return M}}catch(_){console.error(":",_)}return Xn("fallen_noble",i)});re.useEffect(()=>{localStorage.setItem(To,j)},[j]),re.useEffect(()=>{I.status==="playing"?localStorage.setItem(Vt,JSON.stringify(I)):(I.status==="defeat"||I.status==="victory")&&(j==="hardcore"?(localStorage.removeItem(Vt),localStorage.removeItem(Jt)):localStorage.removeItem(Vt))},[I,j]);const z=_=>{const{stats:M}=_.player;if(_.player.flags.victory_achieved){_.status="victory",_.player.flags.revolution_ending?_.ending={title:i==="zh"?"":"REVOLUTION",description:i==="zh"?"":"The Ministry hall burns beneath your feet. You stand upon the ruins, a new order rising from the ashes. Your cult will establish new rule upon this land."}:_.player.flags.escape_ending?_.ending={title:i==="zh"?"":"ESCAPE",description:i==="zh"?"":"You see unfamiliar coastlines. The city, along with its secrets and horrors, is left behind. You are free, but those memories will follow you forever."}:_.ending={title:i==="zh"?"":"PALE ASCENSION",description:i==="zh"?"":"You stepped through the gate. Your cult chants behind you as you dissolve into eternal light."};return}const Y=_.player.breakdown?.active;if(M.sanity<=0&&!Y){_.player.breakdown={active:!0,turnsRemaining:2};const Q=i==="zh"?"[] 2":"[BREAKDOWN] The veil of reality begins to shatter. You hear whispers in the walls. You must restore your sanity within 2 turns, or face complete collapse.";_.logs.unshift({id:je(),text:Q,type:"warning",timestamp:_.world.day});return}if(Y){if(M.sanity>0){_.player.breakdown=void 0;const Q=i==="zh"?"[] ":"[RECOVERED] You struggle back from the edge of breakdown. Sanity reclaims your consciousness.";_.logs.unshift({id:je(),text:Q,type:"result",timestamp:_.world.day});return}if(M.sanity<=-10){_.status="defeat",_.ending={title:i==="zh"?"":"SANITY LOST",description:i==="zh"?"":"The veil of reality shatters. You hear whispers in the walls, and they make perfect sense."};return}}M.suspicion>=100&&(_.status="defeat",_.ending={title:i==="zh"?"":"PURGED",description:i==="zh"?"":"The midnight knock finally came. The Ministry firing squad gave you no chance to speak."})},te=_=>{const{player:M,world:Y}=_,Q=Y.day;if(M.breakdown?.active){if(M.breakdown.turnsRemaining-=1,M.breakdown.turnsRemaining<=0){_.status="defeat",_.ending={title:i==="zh"?"":"SANITY LOST",description:i==="zh"?"":"The veil of reality shatters. You hear whispers in the walls, and they make perfect sense. You failed to recover from the edge of breakdown."};return}const p=i==="zh"?`[]  ${M.breakdown.turnsRemaining} `:`[BREAKDOWN] You have ${M.breakdown.turnsRemaining} turn${M.breakdown.turnsRemaining>1?"s":""} left to restore your sanity. You can only rest or use medicine.`;_.logs.unshift({id:je(),text:p,type:"warning",timestamp:Y.day})}if(j==="normal"&&Q>=1){const p=JSON.parse(JSON.stringify(_));localStorage.setItem(Jt,JSON.stringify(p))}Y.day+=1,Y.currentActionPoints=Y.maxActionPoints,M.followerStates||(M.followerStates={}),M.followers.forEach(p=>{M.followerStates[p]||(M.followerStates[p]={loyalty:p==="cat_follower"?30:50,status:"healthy"})}),M.followers.forEach(p=>{const q=M.followerStates[p];if(q&&p!=="cat_follower"){if(q.task&&Y.day-q.task.day>3){const D=q.task;q.loyalty=Math.max(0,q.loyalty-20);const H=p==="beggar_follower"?i==="zh"?"":"Gregory":p==="thug_follower"?i==="zh"?"":"Bruno":p==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",C=p==="nurse_follower",m=C&&M.flags.lover_madeline,w=C?i==="zh"?"":"She":i==="zh"?"":"He",O=C?i==="zh"?"":"she":i==="zh"?"":"he";if(D.penalty.leave&&q.loyalty<30&&!m){M.followers=M.followers.filter(J=>J!==p),delete M.followerStates[p],C?M.flags.madeline_left=!0:p==="beggar_follower"&&(M.flags.beggar_died=!0);const B=i==="zh"?`${H}""${w}`:`${H}'s eyes grow cold. "I understand." ${w} turn${C?"s":""} and leave${C?"s":""}, vanishing into the night.`;_.logs.unshift({id:je(),text:B,type:"warning",timestamp:Y.day}),M.stats.sanity-=10}else{const B=i==="zh"?m?`${H}${w}${w}`:`${H}${w}`:m?`${H} no longer mentions it. ${w} look${C?"s":""} at you with disappointment, but ${O} does not leave.`:`${H} no longer mentions it. ${O==="she"?"Her":"His"} silence makes you uneasy.`;_.logs.unshift({id:je(),text:B,type:"warning",timestamp:Y.day}),q.task=void 0}}if(q.status==="healthy"){if(Math.random()<.1){q.status="injured";const D=p==="beggar_follower"?"":p==="thug_follower"?"":p==="nurse_follower"?"":"",H=i==="zh"?`${D}`:`${D} returns with wounds. Blood seeps through the bandages.`;_.logs.unshift({id:je(),text:H,type:"warning",timestamp:Y.day})}else if(Math.random()<.05+(100-M.stats.sanity)*.001){q.status="insane",q.loyalty=Math.max(0,q.loyalty-30);const D=p==="beggar_follower"?i==="zh"?"":"Gregory":p==="thug_follower"?i==="zh"?"":"Bruno":p==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",H=p==="nurse_follower",C=H?i==="zh"?"":"She":i==="zh"?"":"He",m=i==="zh"?`${D}${C}`:`${D}'s eyes lose focus. ${C} ${H?"begins":"begin"} to whisper words that should not be spoken.`;_.logs.unshift({id:je(),text:m,type:"warning",timestamp:Y.day})}else if(q.loyalty<30&&Math.random()<.1){const D=p==="nurse_follower";if(D&&M.flags.lover_madeline){q.loyalty=Math.max(0,q.loyalty-10);const C=D?i==="zh"?"":"Madeline":p==="beggar_follower"?i==="zh"?"":"Gregory":p==="thug_follower"?i==="zh"?"":"Bruno":i==="zh"?"":"follower",m=i==="zh"?`${C}${D?"":""}${D?"":""}`:`${C}'s eyes grow complex, but ${D?"she":"they"} ${D?"does":"do"} not leave. Even disappointed, ${D?"she":"they"} ${D?"chooses":"choose"} to stay.`;_.logs.unshift({id:je(),text:m,type:"warning",timestamp:Y.day})}else{q.status="betrayed",M.followers=M.followers.filter(O=>O!==p),delete M.followerStates[p],D?M.flags.madeline_left=!0:p==="beggar_follower"&&(M.flags.beggar_died=!0);const C=p==="beggar_follower"?i==="zh"?"":"Gregory":p==="thug_follower"?i==="zh"?"":"Bruno":p==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",m=D?i==="zh"?"":"she":i==="zh"?"":"they",w=i==="zh"?`${C}${m}`:`${C} vanishes into the night. You discover ${m} took some of your secrets, and a note bearing your name.`;_.logs.unshift({id:je(),text:w,type:"warning",timestamp:Y.day}),M.stats.suspicion+=10}}}if(!q.task&&q.status==="healthy"&&Math.random()<.3){let D;if(p==="beggar_follower"){const w=Math.random();D=w<.5?"money":w<.8?"item":"help"}else if(p==="thug_follower"){const w=Math.random();D=w<.4?"help":w<.75?"money":"item"}else if(p==="nurse_follower"){const w=Math.random();D=w<.5?"item":w<.8?"help":"money"}else{const w=["money","item","help"];D=w[Math.floor(Math.random()*w.length)]}let H;const C=p==="beggar_follower"?i==="zh"?"":"Gregory":p==="thug_follower"?i==="zh"?"":"Bruno":p==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",m=p==="nurse_follower";if(D==="money"){const O=m?Math.floor(Math.random()*5)+2:Math.floor(Math.random()*10)+3;H={followerId:p,type:"money",requirement:{money:O},description:i==="zh"?m?`${C}" ${O} "`:`${C}" ${O} "`:m?`${C} speaks hesitantly. "I need ${O} coins to purchase some medical supplies. The clinic's stock is running low."`:`${C} extends their hand. "I need ${O} coins. The creditors are waiting."`,reward:{loyalty:15},penalty:{loyalty:-20,leave:q.loyalty<40},day:Y.day}}else if(D==="item"){let w;if(m){const We=Math.random();We<.7?w=["morphine","sedatives"]:We<.9?w=["cheap_spirits"]:w=["bread"]}else w=["bread","morphine","sedatives","cheap_spirits"];const O=w[Math.floor(Math.random()*w.length)],B={bread:i==="zh"?"":"bread",morphine:i==="zh"?"":"morphine",sedatives:i==="zh"?"":"sedatives",cheap_spirits:i==="zh"?"":"spirits"},se={bread:2,cheap_spirits:4,sedatives:10,morphine:25}[O]||2,me=Math.max(10,Math.min(50,se*2)),Qe=Math.floor(me*1.5),ue=i==="zh"?m?O==="morphine"?`${C}""`:O==="sedatives"?`${C}""`:O==="cheap_spirits"?`${C}""`:`${C}""`:`${C}" ${B[O]}"`:m?O==="morphine"?`${C} examines your medical supplies. "I need some morphine. Patients need pain relief, but the clinic's stock is empty."`:O==="sedatives"?`${C} looks at you. "The sedatives are running low. Some patients need them to stabilize, or they'll harm themselves."`:O==="cheap_spirits"?`${C} explains. "I need spirits to sterilize instruments. Crude, but better than nothing."`:`${C} speaks hesitantly. "I need some bread. Some patients haven't eaten in days."`:`${C} looks at your belongings. "I need ${B[O]}. It's important to me."`;H={followerId:p,type:"item",requirement:{item:O},description:ue,reward:{loyalty:me},penalty:{loyalty:-Qe,leave:q.loyalty<30},day:Y.day}}else H={followerId:p,type:"help",requirement:{},description:i==="zh"?m?`${C}""`:`${C}""`:m?`${C} stands before you, worry in her eyes. "I need your help. There's a patient at the clinic in critical condition, and I can't handle it alone."`:`${C} stands before you. "I need your help."`,reward:{loyalty:20},penalty:{loyalty:-25,leave:q.loyalty<50},day:Y.day};q.task=H,_.logs.unshift({id:je(),text:H.description,type:"narrative",timestamp:Y.day})}}}),Object.keys(M.flags).forEach(p=>{if(p.startsWith("purge_list_cooldown_until_")){const q=parseInt(p.replace("purge_list_cooldown_until_",""));Y.day>=q&&delete M.flags[p]}}),!M.inventory.includes("purge_list")&&M.flags.purge_list_accessed&&delete M.flags.purge_list_accessed;const G=2;M.stats.funds-=G;const P=M.stats.suspicion,Oe=typeof M.flags.prev_suspicion=="number"?M.flags.prev_suspicion:0,V=M.inventory.includes("officer_badge"),ze=V?40:30;if(P>=ze&&Oe<ze){M.flags.black_market_banned=!0;const p=i==="zh"?V?'""':'""':V?`The doorman's eyes turn like coins in the shadows. He shakes his head, whispering: "Even with a badge, the Ministry's eyes have opened. You are no longer welcome here."`:`The doorman's eyes turn like coins in the shadows. He shakes his head, whispering: "The Ministry's eyes have opened. You are no longer welcome here."`;_.logs.unshift({id:je(),text:p,type:"warning",timestamp:Y.day})}const ae=V?70:60;if(P>=ae&&(Oe<ae||Oe===0)){M.flags.price_inflation=!0;const p=i==="zh"?V?"":"":V?"Merchants begin to avoid your gaze, but your badge still offers some protection. Prices rise in silence, but slower.":"Merchants begin to avoid your gaze. Every coin grows heavy, as though the Ministry's palm presses down on the scales. Prices rise in silence, you helplessly.";_.logs.unshift({id:je(),text:p,type:"warning",timestamp:Y.day})}const Ie=V?90:80;if(P>=Ie&&(Oe<Ie||Oe===0)){const p=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum"],q=[];if((!V||Math.random()<.5)&&p.forEach(H=>{M.inventory.includes(H)&&(M.inventory=M.inventory.filter(C=>C!==H),q.push(H))}),q.length>0){const H=i==="zh"?V?`${q.length} `:`${q.length} `:V?`The door crashes open while you dream. Agents flow in, but seeing your badge, they only take some items. ${q.length} items taken by the Ministry, but your badge protected you.`:`The door crashes open while you dream. Agents flow in like shadows, their hands reaching for things that should not exist. When you wake, the room holds only empty echoes. ${q.length} items taken by the Ministry, along with a portion of your secrets.`;_.logs.unshift({id:je(),text:H,type:"warning",timestamp:Y.day}),M.stats.suspicion+=V?5:10}else{const H=i==="zh"?V?"":"":V?"They ransack your room, but seeing your badge, the search becomes cursory. They leave, but your secrets remain safe.":"They ransack your room like hounds sniffing the air. But the secrets are hidden, tucked away in places even you have forgotten. They leave, but their eyes remain watching.";_.logs.unshift({id:je(),text:H,type:"warning",timestamp:Y.day})}}M.flags.prev_suspicion=P;const xe=M.inventory.includes("officer_badge"),He=xe?.05:.15;if(P>=40&&Math.random()<He){const p=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum"];if(p.some(D=>M.inventory.includes(D)))if(P>=80)_.status="defeat",_.ending={title:i==="zh"?"":"ARRESTED",description:i==="zh"?"":"The knock comes at three in the morning, rhythmic as a heartbeat. The door crashes open, agents' hands reaching under the bedwhere you kept things you should not have possessed. The interrogation room door closes behind you, like a book that can never be opened again."};else{const D=[];p.forEach(C=>{M.inventory.includes(C)&&(M.inventory=M.inventory.filter(m=>m!==C),D.push(C))}),M.stats.suspicion+=25,M.stats.sanity-=20;const H=i==="zh"?`${D.length} `:`Darkness tears under flashlight beams. They found those thingsitems that do not exist in archives, that should not exist in reality. ${D.length} items are sealed into black bags, like offerings to an altar. Your name is marked on a list somewhere, suspicion spreading like ink.`;_.logs.unshift({id:je(),text:H,type:"warning",timestamp:Y.day})}else{const D=xe?0:5;M.stats.suspicion+=D;const H=i==="zh"?xe?"":"":xe?"[NIGHT RAID] Agents knock on your door, but seeing your badge, they only perform a routine check without a thorough search.":"[NIGHT RAID] Ministry agents searched your apartment but found nothing. They leave with warning glances.";_.logs.unshift({id:je(),text:H,type:"warning",timestamp:Y.day})}}if(M.stats.funds<0){M.stats.funds=0;const p=["bread","rat_meat","fresh_fish","nutritious_meal","fermented_bread"];if(p.some(D=>M.inventory.includes(D))){let D=null;for(const w of p)if(M.inventory.includes(w)){D=w,M.inventory=M.inventory.filter(O=>O!==w);break}const H={bread:i==="zh"?"":"moldy bread",rat_meat:i==="zh"?"":"raw rat meat",fresh_fish:i==="zh"?"":"fresh fish",nutritious_meal:i==="zh"?"":"nutritious meal",fermented_bread:i==="zh"?"":"fermented bread"},C=5;M.stats.sanity-=C;const m=i==="zh"?`${H[D]} ( -${C})`:`[STARVATION] Penniless, but you fill your stomach with ${H[D]}. Crude, but at least you avoided the worst (Sanity -${C}).`;_.logs.unshift({id:je(),text:m,type:"warning",timestamp:Y.day})}else{M.stats.sanity-=15;const H=i==="zh"?" ( -15)":"[STARVATION] Penniless. Stomach acid corrodes your will (Sanity -15).";_.logs.unshift({id:je(),text:H,type:"warning",timestamp:Y.day})}}else{const p=i==="zh"?` ${G} `:`Paid $${G} for living expenses.`;if(_.logs.unshift({id:je(),text:p,type:"narrative",timestamp:Y.day}),M.flags.infected){M.stats.sanity-=8;const H=i==="zh"?" ( -8)":"[INFECTED] The wound throbs in agony. (Sanity -8)";_.logs.unshift({id:je(),text:H,type:"warning",timestamp:Y.day})}if(M.flags.addicted){M.stats.sanity-=12;const H=i==="zh"?" ( -12)":"[WITHDRAWAL] Craving morphine. (Sanity -12)";_.logs.unshift({id:je(),text:H,type:"warning",timestamp:Y.day})}if(M.stats.sanity<40||M.stats.suspicion>60){M.stats.sanity-=10;const H=d.insane[Math.floor(Math.random()*d.insane.length)],C=i==="zh"?"[]":"[NIGHTMARE]",m=i==="zh"?"( -10)":"(Sanity -10)";_.logs.unshift({id:je(),text:`${C} ${H} ${m}`,type:"warning",timestamp:Y.day})}else if(Math.random()<.1){const D=i==="zh"?"[]  ( +0)":"[INSOMNIA] You stared at the ceiling all night. (Sanity +0).";_.logs.unshift({id:je(),text:D,type:"narrative",timestamp:Y.day})}else{if(M.stats.sanity=Math.min(100,M.stats.sanity+10),Math.random()>.5){const C=d.normal[Math.floor(Math.random()*d.normal.length)];_.logs.unshift({id:je(),text:C,type:"narrative",timestamp:Y.day})}const H=i==="zh"?" ( +10)":"Restful sleep. (Sanity +10).";_.logs.unshift({id:je(),text:H,type:"result",timestamp:Y.day})}}},K=re.useCallback(_=>{if(I.status!=="playing")return;if(I.player.breakdown?.active){const ae=["sleep","sleep_street","sleep_lover","meditate","use_morphine_risky","use_morphine","use_sedatives","use_sedative","use_alchemy_serum","eat_rat","eat_fish","drink_ale","consume_salt","use_purified_serum","use_strong_painkiller","use_nutritious_meal","use_fermented_bread","use_gnosis_elixir","wake_up","leave_lake","leave_library"];let Ie=!1,xe;typeof _.result=="function"?Ie=_.id.includes("leave")||_.id.includes("go_")||_.id==="approach_altar":(Ie=!!_.result.teleport,xe=_.result.teleport);const p=Ie&&(!xe||["apartment","street","rooftop","sewers","market","asylum","ministry","cathedral","altar","tavern","clinic","black_market"].includes(xe));if(!(ae.includes(_.id)||_.id.includes("sleep")||_.id.includes("meditate")||_.id.includes("morphine")||_.id.includes("sedative")||_.id.includes("serum")||_.id.includes("painkiller")||_.id.includes("eat")||_.id.includes("drink")||_.id.includes("consume")||_.id.includes("use_")&&(_.id.includes("meal")||_.id.includes("bread")||_.id.includes("elixir"))||p||_.id==="approach_altar"||_.id==="perform_ritual")){const D=i==="zh"?"[] ":"[BREAKDOWN] You cannot perform this action. You can only rest or use medicine to restore your sanity.";I.logs.unshift({id:je(),text:D,type:"warning",timestamp:I.world.day}),U({...I});return}}const Y=typeof _.result=="function"?_.result(I):_.result,Q=Y.costAP??1;if(I.world.currentActionPoints<Q&&_.id!=="sleep"&&Q>0)return;const G=JSON.parse(JSON.stringify(I)),{player:P,world:Oe}=G;Oe.currentActionPoints=Math.max(0,Oe.currentActionPoints-Q);const V=[];Y.changes&&_.id!=="sleep"&&Object.entries(Y.changes).forEach(([ae,Ie])=>{const xe=ae;let He=Ie;if(xe==="sanity"&&Ie>0&&G.origin==="doctor"){const p=["morphine","sedatives","purified_serum","strong_painkiller"];(_.id.includes("morphine")||_.id.includes("sedative")||_.id.includes("serum")||_.id.includes("painkiller")||Y.removeItems&&Y.removeItems.some(D=>p.includes(D)))&&(He=Math.floor(Ie*1.5))}if(P.stats[xe]=(P.stats[xe]||0)+He,xe==="sanity"&&(P.stats[xe]=Math.min(100,P.stats[xe])),He!==0){const p=$f[i].statChange[xe],q=He>0?"+":"";V.push(`${q}${He} ${p}`)}}),Y.addItems&&P.inventory.push(...Y.addItems),Y.removeItems&&(P.inventory=P.inventory.filter(ae=>!Y.removeItems?.includes(ae))),Y.addFollowers&&P.followers.push(...Y.addFollowers),Y.removeFollowers&&(P.followers=P.followers.filter(ae=>!Y.removeFollowers?.includes(ae))),Y.setFlags&&Object.assign(P.flags,Y.setFlags),Y.teleport&&(Oe.currentLocationId=Y.teleport);let ze=Y.text;if(V.length>0&&_.id!=="sleep"){const ae=V.join(", ");ze=`${Y.text} (${ae})`}G.logs.unshift({id:je(),text:ze,type:_.id==="sleep"?"narrative":"result",timestamp:Oe.day}),(_.id==="sleep"||_.id==="sleep_street"||_.id==="sleep_lover")&&te(G),z(G),U(G)},[I,i]),pe=re.useCallback(_=>{const{player:M}=I;if(_.reqFlags&&!_.reqFlags.every(Q=>M.flags[Q])||_.reqItems&&!_.reqItems.every(Q=>M.inventory.includes(Q)))return!1;const Y=M.followers||[];if(_.reqFollowers&&!_.reqFollowers.every(Q=>Y.includes(Q)))return!1;if(_.reqStats){if(_.id.includes("buy")&&_.reqStats.funds&&typeof _.result=="function")try{const G=_.result(I);if(G.changes?.funds){const P=Math.abs(G.changes.funds);if(M.stats.funds<P)return!1}else if(M.stats.funds<_.reqStats.funds)return!1}catch{if(M.stats.funds<_.reqStats.funds)return!1}else for(const[G,P]of Object.entries(_.reqStats))if(M.stats[G]<P)return!1}if(_.reqFlagsNot&&_.reqFlagsNot.some(Q=>M.flags[Q])||_.reqItemsNot&&_.reqItemsNot.some(Q=>M.inventory.includes(Q))||_.reqFollowersNot&&_.reqFollowersNot.some(Q=>Y.includes(Q)))return!1;if(_.id==="access_database"){const Q=Object.keys(M.flags).filter(G=>G.startsWith("purge_list_cooldown_until_"));if(Q.length>0&&Q.filter(P=>{const Oe=parseInt(P.replace("purge_list_cooldown_until_",""));return I.world.day<Oe}).length>0)return!1}return!((_.id==="complete_follower_task"||_.id==="reject_follower_task")&&!Y.some(G=>{const P=M.followerStates?.[G];return P&&P.task&&P.status==="healthy"})||_.id==="heal_follower"&&!Y.some(G=>{const P=M.followerStates?.[G];return P&&P.status==="injured"})||_.id==="calm_insane_follower"&&!Y.some(G=>{const P=M.followerStates?.[G];return P&&P.status==="insane"}))},[I]),oe=()=>{localStorage.removeItem(Vt),localStorage.removeItem(Jt);const _=I.origin||"fallen_noble",M=Xn(_,i);U(M)},De=(_,M="fallen_noble")=>{R(_),localStorage.removeItem(Vt),localStorage.removeItem(Jt);const Y=Xn(M,i);U(Y)},Ke=()=>{try{const _=localStorage.getItem(Vt);if(_){const M=JSON.parse(_);if(M.player.followers||(M.player.followers=[]),M.player.stats.gnosis===void 0&&(M.player.stats.gnosis=0),M.status==="defeat"||M.status==="victory"){if(j==="hardcore")return!1;{const Y=localStorage.getItem(Jt);if(Y)try{const Q=JSON.parse(Y);if(Q.status==="playing")return U(Q),!0}catch(Q){console.error(":",Q)}return!1}}return U(M),!0}}catch(_){console.error(":",_)}return!1},vt=()=>{if(j==="hardcore")return!1;const _=localStorage.getItem(Jt);if(_)try{const M=JSON.parse(_);if(M.status==="playing"&&M.world.day<I.world.day)return U(M),!0}catch(M){console.error(":",M)}return!1},Je=()=>{const _=localStorage.getItem(Vt);if(!_)return!1;try{return JSON.parse(_).status==="playing"}catch{return!1}},dt=()=>{const _=j==="hardcore"?"normal":"hardcore";R(_),_==="hardcore"&&(I.status==="defeat"||I.status==="victory")&&(localStorage.removeItem(Vt),localStorage.removeItem(Jt))};return{gameState:I,currentLocation:u[I.world.currentLocationId],itemsData:c,followersData:S,executeAction:K,checkRequirements:pe,restartGame:oe,startNewGame:De,loadGame:Ke,returnToPreviousDay:vt,hasSave:Je,gameMode:j,toggleGameMode:dt}},Qf="pale_threshold_lang",Uy=()=>{const[i,u]=re.useState(()=>{const S=localStorage.getItem(Qf);return S==="en"||S==="zh"?S:"en"});re.useEffect(()=>{localStorage.setItem(Qf,i)},[i]);const d=()=>{u(S=>S==="zh"?"en":"zh")};return{t:re.useCallback((S,j)=>{const R=S.split(".");let I=$f[i];for(const U of R)if(I&&typeof I=="object")I=I[U];else return S;return typeof I!="string"?S:j?I.replace(/\{\{(\w+)\}\}/g,(U,z)=>j[z]!==void 0?String(j[z]):`{{${z}}}`):I},[i]),lang:i,setLang:u,toggleLang:d}};const Hy=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),By=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(u,d,c)=>c?c.toUpperCase():d.toLowerCase()),Vf=i=>{const u=By(i);return u.charAt(0).toUpperCase()+u.slice(1)},Jf=(...i)=>i.filter((u,d,c)=>!!u&&u.trim()!==""&&c.indexOf(u)===d).join(" ").trim(),Gy=i=>{for(const u in i)if(u.startsWith("aria-")||u==="role"||u==="title")return!0};var Iy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ly=re.forwardRef(({color:i="currentColor",size:u=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:S="",children:j,iconNode:R,...I},U)=>re.createElement("svg",{ref:U,...Iy,width:u,height:u,stroke:i,strokeWidth:c?Number(d)*24/Number(u):d,className:Jf("lucide",S),...!j&&!Gy(I)&&{"aria-hidden":"true"},...I},[...R.map(([z,te])=>re.createElement(z,te)),...Array.isArray(j)?j:[j]]));const ge=(i,u)=>{const d=re.forwardRef(({className:c,...S},j)=>re.createElement(Ly,{ref:j,iconNode:u,className:Jf(`lucide-${Hy(Vf(i))}`,`lucide-${i}`,c),...S}));return d.displayName=Vf(i),d};const Xy=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zo=ge("activity",Xy);const Qy=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Vy=ge("anchor",Qy);const Zy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jo=ge("arrow-right",Zy);const Fy=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],Wf=ge("backpack",Fy);const Py=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],Ky=ge("bed-double",Py);const $y=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jy=ge("book-open",$y);const Wy=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ep=ge("check",Wy);const tp=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ap=ge("clock",tp);const lp=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Zf=ge("coins",lp);const np=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],sp=ge("door-open",np);const ip=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ff=ge("eye",ip);const rp=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Do=ge("file-text",rp);const op=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Oo=ge("flame",op);const up=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],cp=ge("gem",up);const dp=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],fp=ge("key",dp);const hp=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],qo=ge("languages",hp);const mp=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pf=ge("map-pin",mp);const yp=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ro=ge("message-circle",yp);const pp=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gp=ge("moon",pp);const bp=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],_p=ge("pill",bp);const vp=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],xp=ge("rat",vp);const wp=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Sp=ge("rotate-ccw",wp);const Ap=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],kp=ge("scroll",Ap);const Mp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Np=ge("search",Mp);const Tp=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],zp=ge("shopping-bag",Tp);const qp=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],oi=ge("skull",qp);const Ep=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],jp=ge("sprout",Ep);const Dp=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Op=ge("sword",Dp);const Rp=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Eo=ge("triangle-alert",Rp);const Cp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yp=ge("users",Cp);const Up=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Hp=ge("utensils",Up);const Bp=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],Gp=ge("wheat",Bp);const Ip=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Lp=ge("wine",Ip);const Xp=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kf=ge("zap",Xp);function Qp(){const{t:i,toggleLang:u,lang:d}=Uy(),[c,S]=re.useState("game"),[j,R]=re.useState(!1),[I,U]=re.useState(null),[z,te]=re.useState(!1),[K,pe]=re.useState(!1),{gameState:oe,currentLocation:De,executeAction:Ke,checkRequirements:vt,restartGame:Je,startNewGame:dt,loadGame:_,returnToPreviousDay:M,hasSave:Y,itemsData:Q,followersData:G,gameMode:P,toggleGameMode:Oe}=Yy(d);re.useEffect(()=>{localStorage.getItem("pale_threshold_save_v1")||R(!0)},[]);const{player:V,world:ze,logs:ae}=oe;re.useEffect(()=>{ze.day===1&&oe.origin&&!j&&pe(!0)},[ze.day,oe.origin,j]);const Ie=k=>{if(!k)return k;const Z=[];Q&&Object.values(Q).forEach(Se=>{Se.name&&Z.push(Se.name),Se.id&&Z.push(Se.id)});const W=[...Z,"","","laudanum","","forbidden_name","","officer_badge","Ministry Badge","","Purge Ledger","purge_list","","Ritual Mask","ritual_mask","","ritual_dagger","","Alchemy Coin","alchemy_coin","","Purified Serum","purified_serum","","Gnosis Elixir","gnosis_elixir","","old_ring","","Classified Dossier","classified_file","","Lab Coat","doctor_coat","","Golden Mask","golden_mask","","Otherworldly Idol","alien_idol","","Void Salt","void_salt"],le=new RegExp(`(${W.join("|")})`,"gi"),qe=/([+-]\d+)/g,et=/\(([+-]\d+)\)/g,ot=d==="zh"?["","","","","","","",""]:["restore","heal","recover","gain","increase","restored","recovered"],Bt=d==="zh"?["","","","","","","",""]:["lose","consume","cost","decrease","reduce","lost","damage","hurt"],Gt=new RegExp(`(${ot.join("|")})`,"gi"),Ia=new RegExp(`(${Bt.join("|")})`,"gi"),It=[];let we;for(;(we=le.exec(k))!==null;)It.push({start:we.index,end:we.index+we[0].length,color:"text-amber-400"});for(;(we=et.exec(k))!==null;){const Se=parseInt(we[1]);It.push({start:we.index,end:we.index+we[0].length,color:Se>0?"text-emerald-400":"text-red-400"})}for(;(we=qe.exec(k))!==null;)if(!(k[we.index-1]==="(")){const ft=parseInt(we[0]);It.push({start:we.index,end:we.index+we[0].length,color:ft>0?"text-emerald-400":"text-red-400"})}for(;(we=Gt.exec(k))!==null;)It.push({start:we.index,end:we.index+we[0].length,color:"text-emerald-400"});for(;(we=Ia.exec(k))!==null;)It.push({start:we.index,end:we.index+we[0].length,color:"text-red-400"});It.sort((Se,ft)=>Se.start-ft.start);const Re=[];for(const Se of It)if(Re.length===0||Se.start>=Re[Re.length-1].end)Re.push(Se);else{const ft=Re[Re.length-1];Se.color==="text-amber-400"||ft.color==="text-amber-400"?Re[Re.length-1]={start:Math.min(ft.start,Se.start),end:Math.max(ft.end,Se.end),color:"text-amber-400"}:Re[Re.length-1]={start:Math.min(ft.start,Se.start),end:Math.max(ft.end,Se.end),color:Se.color}}const La=[];let Zt=0;for(const Se of Re)Se.start>Zt&&La.push(f.jsx("span",{children:k.substring(Zt,Se.start)},`text-${Zt}`)),La.push(f.jsx("span",{className:Se.color,children:k.substring(Se.start,Se.end)},`match-${Se.start}`)),Zt=Se.end;return Zt<k.length&&La.push(f.jsx("span",{children:k.substring(Zt)},`text-${Zt}`)),La.length>0?f.jsx(f.Fragment,{children:La}):k},xe=re.useRef(null),He=re.useRef(null),p=re.useRef(null),q=re.useRef({...V.stats}),D=re.useRef([...V.inventory]),H=re.useRef(!0),C=re.useRef(!0),[m,w]=re.useState([]),O=re.useRef(ae.length),[B,J]=re.useState(!1),se=V.followers.some(k=>{const Z=V.followerStates?.[k];return Z&&Z.task}),[me,Qe]=re.useState([]),ue=re.useCallback((k,Z="info")=>{console.log("Adding toast:",k,Z);const W=`${Date.now()}-${Math.random()}`;Qe(le=>{const qe=[...le,{id:W,message:k,type:Z}];return console.log("Toasts state:",qe),qe}),setTimeout(()=>{Qe(le=>le.filter(qe=>qe.id!==W))},3e3)},[]),We=re.useCallback((k=50)=>{if("vibrate"in navigator&&navigator.vibrate)try{const Z=navigator.vibrate(k);console.log("Vibrate result:",Z,"pattern:",k),Z===!1&&console.warn("Vibration not supported or blocked")}catch(Z){console.error("Vibration error:",Z)}else console.log("Vibration API not available")},[]);re.useEffect(()=>{xe.current&&xe.current.scrollIntoView({behavior:"smooth",block:"end"}),ae.length>O.current&&(J(!0),setTimeout(()=>J(!1),1e3)),O.current=ae.length},[ae,c]),re.useEffect(()=>{if(H.current){H.current=!1,q.current={...V.stats};return}const k=[],Z=q.current,W=V.stats;if(Z.sanity!==W.sanity){const le=W.sanity-Z.sanity;k.push({stat:"sanity",value:le,label:i("stats.sanity")}),le<-10?(ue(d==="zh"?` (-${Math.abs(le)})`:`Sanity decreased (-${Math.abs(le)})`,"error"),We([100,50,100])):le>5&&(ue(d==="zh"?` (+${le})`:`Sanity restored (+${le})`,"success"),We(30))}if(Z.funds!==W.funds){const le=W.funds-Z.funds;k.push({stat:"funds",value:le,label:i("stats.funds")}),le<-5&&(ue(d==="zh"?` (-${Math.abs(le)})`:`Funds decreased (-${Math.abs(le)})`,"warning"),We(50))}if(Z.suspicion!==W.suspicion){const le=W.suspicion-Z.suspicion;k.push({stat:"suspicion",value:le,label:i("stats.suspicion")}),le>10&&(ue(d==="zh"?` (+${le})`:`Suspicion increased (+${le})`,"warning"),We([100,50,100]))}if(Z.gnosis!==W.gnosis){const le=W.gnosis-Z.gnosis;k.push({stat:"gnosis",value:le,label:i("stats.gnosis")}),le>0&&(ue(d==="zh"?` (+${le})`:`Gnosis increased (+${le})`,"info"),We(30))}k.length>0&&(w(k),setTimeout(()=>w([]),1500)),q.current={...W}},[V.stats,i,d,ue,We]),re.useEffect(()=>{if(C.current){C.current=!1,D.current=[...V.inventory];return}const k=D.current,Z=V.inventory,W=Z.filter(qe=>!k.includes(qe));W.length>0&&W.forEach(qe=>{const et=Q[qe]?.name||qe;ue(d==="zh"?`${et}`:`Item obtained: ${et}`,"success"),We([50,30,50])});const le=k.filter(qe=>!Z.includes(qe));if(le.length>0){const qe=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum","ritual_dagger"];le.forEach(et=>{if(qe.includes(et)){const ot=Q[et]?.name||et;ue(d==="zh"?`${ot}`:`Item lost: ${ot}`,"warning"),We(100)}})}D.current=[...Z]},[V.inventory,Q,d,ue,We]),re.useEffect(()=>{if(!p.current){const k="/bgm.mp3";p.current=new Audio(k),p.current.loop=!0,p.current.volume=.3;const Z=p.current.play();Z!==void 0&&Z.catch(()=>{const W=()=>{p.current&&p.current.play().catch(()=>{}),document.removeEventListener("click",W),document.removeEventListener("touchstart",W),document.removeEventListener("keydown",W)};document.addEventListener("click",W,{once:!0}),document.addEventListener("touchstart",W,{once:!0}),document.addEventListener("keydown",W,{once:!0})})}return()=>{p.current&&(p.current.pause(),p.current=null)}},[]),re.useEffect(()=>{localStorage.getItem("pale_threshold_save_v1")||R(!0)},[]);const ol=()=>{window.confirm(i("restartConfirm"))&&(Je(),R(!0))};return j?f.jsxs("div",{className:"relative flex items-start md:items-center justify-center min-h-[100dvh] w-screen bg-[#0c0c0e] text-[#a1a1aa] font-sans overflow-hidden pt-8 pb-20 md:pt-0 md:pb-0",children:[f.jsxs("div",{className:"atmo-layer",children:[f.jsx("div",{className:"atmo-mist"}),f.jsx("div",{className:"atmo-vignette"}),f.jsx("div",{className:"dust-particle",style:{left:"20%",bottom:"12%",animationDuration:"18s",animationDelay:"-4s"}}),f.jsx("div",{className:"dust-particle",style:{left:"55%",bottom:"8%",animationDuration:"22s",animationDelay:"-10s"}}),f.jsx("div",{className:"dust-particle",style:{left:"80%",bottom:"15%",animationDuration:"20s",animationDelay:"-7s"}})]}),f.jsxs("div",{className:"relative max-w-md w-full mx-4 my-4 md:my-0 pb-10 md:pb-0 space-y-6 z-20",children:[f.jsxs("div",{className:"text-center mb-6 md:mb-8",children:[f.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-[0.2em] text-amber-600 uppercase mb-2 flex items-center justify-center gap-3",children:[f.jsx(Oo,{size:32,className:"text-amber-700"}),f.jsx("span",{children:i("title")})]}),f.jsx("p",{className:"text-sm text-stone-500 font-serif italic mt-4",children:d==="zh"?"":"A game of sanity, secrets, and choices"})]}),f.jsxs("div",{className:"space-y-4",children:[z?f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>{te(!1),U(null)},className:"flex items-center gap-2 text-stone-400 hover:text-stone-300 mb-2",children:[f.jsx(jo,{size:16,className:"rotate-180"}),f.jsx("span",{className:"text-sm",children:d==="zh"?"":"Back"})]}),f.jsxs("div",{className:"border border-[#27272a] bg-[#141417] p-4 rounded",children:[f.jsx("h2",{className:"text-sm uppercase tracking-wider text-stone-400 mb-3",children:i("selectOrigin")}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>{I&&(dt(I,"fallen_noble"),R(!1),pe(!0))},className:"w-full text-left p-3 border border-amber-700/50 bg-amber-900/20 text-amber-300 hover:bg-amber-900/40 hover:border-amber-600 transition-all",children:f.jsxs("div",{children:[f.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.fallen_noble.name")}),f.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.fallen_noble.desc")}),f.jsx("div",{className:"text-xs text-amber-400/70 font-mono mb-1",children:i("origins.fallen_noble.stats")}),f.jsx("div",{className:"text-xs text-amber-500/80 italic",children:i("origins.fallen_noble.passive")})]})}),f.jsx("button",{onClick:()=>{I&&(dt(I,"doctor"),R(!1),pe(!0))},className:"w-full text-left p-3 border border-blue-700/50 bg-blue-900/20 text-blue-300 hover:bg-blue-900/40 hover:border-blue-600 transition-all",children:f.jsxs("div",{children:[f.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.doctor.name")}),f.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.doctor.desc")}),f.jsx("div",{className:"text-xs text-blue-400/70 font-mono mb-1",children:i("origins.doctor.stats")}),f.jsx("div",{className:"text-xs text-blue-500/80 italic",children:i("origins.doctor.passive")})]})}),f.jsx("button",{onClick:()=>{I&&(dt(I,"vagrant"),R(!1),pe(!0))},className:"w-full text-left p-3 border border-slate-700/50 bg-slate-900/20 text-slate-300 hover:bg-slate-900/40 hover:border-slate-600 transition-all",children:f.jsxs("div",{children:[f.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.vagrant.name")}),f.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.vagrant.desc")}),f.jsx("div",{className:"text-xs text-slate-400/70 font-mono mb-1",children:i("origins.vagrant.stats")}),f.jsx("div",{className:"text-xs text-slate-400/80 italic",children:i("origins.vagrant.passive")})]})})]})]})]}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"border border-[#27272a] bg-[#141417] p-4 rounded",children:[f.jsx("h2",{className:"text-sm uppercase tracking-wider text-stone-400 mb-3",children:i("selectMode")}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>{U("normal"),te(!0)},className:"w-full text-left p-3 border border-slate-700/50 bg-slate-900/20 text-slate-300 hover:bg-slate-900/40 hover:border-slate-600 transition-all",children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{children:[f.jsx("div",{className:"font-serif text-base mb-1",children:i("normalMode")}),f.jsx("div",{className:"text-xs text-stone-500",children:i("normalDesc")})]})})}),f.jsx("button",{onClick:()=>{U("hardcore"),te(!0)},className:"w-full text-left p-3 border border-red-700/50 bg-red-900/20 text-red-300 hover:bg-red-900/40 hover:border-red-600 transition-all",children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{children:[f.jsxs("div",{className:"font-serif text-base mb-1 flex items-center gap-2",children:[f.jsx(oi,{size:16}),i("hardcoreMode")]}),f.jsx("div",{className:"text-xs text-stone-500",children:i("hardcoreDesc")})]})})})]})]})}),Y()&&f.jsx("button",{onClick:()=>{_()?(R(!1),ue(d==="zh"?"":"Save loaded successfully","success")):ue(d==="zh"?"":"Failed to load save","error")},className:"w-full p-4 border-2 border-amber-700/50 bg-amber-900/20 text-amber-400 hover:bg-amber-900/40 hover:border-amber-600 transition-all font-serif tracking-wide",children:i("loadGame")}),f.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[f.jsxs("a",{href:"https://discord.gg/kmG4A7Esx3",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-indigo-700/50 bg-indigo-900/20 text-indigo-400 hover:bg-indigo-900/40 hover:border-indigo-600 transition-all rounded",children:[f.jsx(Ro,{size:16}),f.jsx("span",{className:"text-xs uppercase",children:"Discord"})]}),f.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 border border-amber-700/50 bg-amber-900/20 text-amber-500 hover:bg-amber-900/40 transition-all rounded",children:[f.jsx(qo,{size:16}),f.jsx("span",{className:"text-xs uppercase",children:d==="en"?"":"EN"})]})]})]})]})]}):f.jsxs("div",{className:"flex flex-col md:flex-row h-[100dvh] w-screen overflow-hidden bg-[#0c0c0e] text-[#a1a1aa] font-sans selection:bg-amber-900 selection:text-white relative",children:[f.jsxs("div",{className:"atmo-layer",children:[f.jsx("div",{className:"atmo-mist"}),f.jsx("div",{className:"atmo-vignette"}),f.jsx("div",{className:"dust-particle",style:{left:"18%",bottom:"10%",animationDuration:"18s",animationDelay:"-4s"}}),f.jsx("div",{className:"dust-particle",style:{left:"45%",bottom:"6%",animationDuration:"22s",animationDelay:"-9s"}}),f.jsx("div",{className:"dust-particle",style:{left:"72%",bottom:"14%",animationDuration:"20s",animationDelay:"-6s"}}),f.jsx("div",{className:"dust-particle",style:{left:"30%",bottom:"18%",animationDuration:"24s",animationDelay:"-12s"}})]}),(De.id==="pale_city"||De.id==="lake_hali"||De.id==="dream_library")&&f.jsx("div",{className:"dream-overlay",style:{zIndex:1}}),f.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[200] flex flex-col gap-3 pointer-events-none md:top-6",style:{zIndex:200},children:me.map(k=>f.jsxs("div",{className:`relative px-5 py-4 rounded border-2 min-w-[300px] max-w-[90vw] pointer-events-auto animate-slide-down shadow-2xl ${k.type==="success"?"bg-[#0c0c0e] border-emerald-600/60 text-emerald-200 shadow-emerald-900/50":k.type==="warning"?"bg-[#0c0c0e] border-amber-600/60 text-amber-200 shadow-amber-900/50":k.type==="error"?"bg-[#0c0c0e] border-red-600/60 text-red-200 shadow-red-900/50":"bg-[#0c0c0e] border-slate-600/60 text-slate-200 shadow-slate-900/50"}`,style:{backdropFilter:"blur(8px)",boxShadow:k.type==="success"?"0 0 20px rgba(16, 185, 129, 0.3), inset 0 0 20px rgba(16, 185, 129, 0.1)":k.type==="warning"?"0 0 20px rgba(245, 158, 11, 0.3), inset 0 0 20px rgba(245, 158, 11, 0.1)":k.type==="error"?"0 0 20px rgba(239, 68, 68, 0.3), inset 0 0 20px rgba(239, 68, 68, 0.1)":"0 0 20px rgba(148, 163, 184, 0.3), inset 0 0 20px rgba(148, 163, 184, 0.1)"},children:[f.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${k.type==="success"?"bg-emerald-500":k.type==="warning"?"bg-amber-500":k.type==="error"?"bg-red-500":"bg-slate-500"}`}),f.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[f.jsxs("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${k.type==="success"?"bg-emerald-900/50 border border-emerald-600/50":k.type==="warning"?"bg-amber-900/50 border border-amber-600/50":k.type==="error"?"bg-red-900/50 border border-red-600/50":"bg-slate-900/50 border border-slate-600/50"}`,children:[k.type==="success"&&f.jsx("span",{className:"text-emerald-300 text-lg font-bold",children:""}),k.type==="warning"&&f.jsx("span",{className:"text-amber-300 text-lg font-bold",children:""}),k.type==="error"&&f.jsx("span",{className:"text-red-300 text-lg font-bold",children:""}),k.type==="info"&&f.jsx("span",{className:"text-slate-300 text-lg font-bold",children:""})]}),f.jsx("span",{className:"text-sm md:text-base font-serif tracking-wide flex-1",children:k.message})]}),f.jsx("div",{className:`absolute inset-0 rounded pointer-events-none animate-pulse opacity-20 ${k.type==="success"?"bg-emerald-500":k.type==="warning"?"bg-amber-500":k.type==="error"?"bg-red-500":"bg-slate-500"}`,style:{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]},k.id))}),f.jsxs("div",{className:`${c==="stats"?"flex":"hidden"} md:flex w-full md:w-80 flex-shrink-0 flex-col border-r border-[#27272a] bg-[#141417] p-4 md:p-6 z-10 overflow-hidden flex-1 md:flex-none h-full md:h-auto relative`,children:[f.jsxs("div",{className:"mb-4 md:mb-8 border-b border-[#27272a] pb-3 md:pb-4 flex-shrink-0",children:[f.jsxs("h1",{className:"text-base md:text-xl font-bold tracking-[0.2em] text-[#e4e4e7] uppercase flex items-center gap-2 mb-3 md:mb-4",children:[f.jsx(Oo,{size:18,className:"md:w-5 md:h-5 text-amber-700 flex-shrink-0"}),f.jsx("span",{className:"truncate",children:i("title")})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsxs("button",{onClick:ol,className:"flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border border-[#27272a] text-stone-500 hover:text-amber-400 hover:border-amber-600 transition-colors flex-shrink-0",title:i("restartRun"),children:[f.jsx(Sp,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0"}),f.jsx("span",{children:i("restartRun")})]}),P==="normal"&&oe.status==="playing"&&f.jsxs("button",{onClick:()=>{M()?ue(d==="zh"?"":"Returned to previous day","info"):ue(i("noBackup"),"warning")},className:"flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border border-blue-700/50 bg-blue-900/20 text-blue-400 hover:bg-blue-900/40 hover:border-blue-600 transition-colors flex-shrink-0",title:i("returnToPreviousDayDesc"),children:[f.jsx(jo,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0 rotate-180"}),f.jsx("span",{children:i("returnToPreviousDay")})]}),f.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-1.5 md:px-2.5 py-1 md:py-1.5 border border-amber-700/50 bg-amber-900/20 text-amber-500 hover:bg-amber-900/40 hover:border-amber-600 hover:text-amber-400 transition-all rounded flex-shrink-0",title:d==="en"?"":"Switch to English",children:[f.jsx(qo,{size:12,className:"md:w-4 md:h-4 flex-shrink-0"}),f.jsx("span",{className:"text-[9px] md:text-xs font-bold uppercase tracking-wider",children:d==="en"?"EN":""})]}),f.jsxs("button",{onClick:Oe,className:`flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border transition-colors flex-shrink-0 ${P==="hardcore"?"border-red-700/50 bg-red-900/20 text-red-400 hover:bg-red-900/40 hover:border-red-600":"border-slate-700/50 bg-slate-900/20 text-slate-400 hover:bg-slate-900/40 hover:border-slate-600"}`,title:i(P==="hardcore"?"hardcoreDesc":"normalDesc"),children:[f.jsx(oi,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0"}),f.jsx("span",{children:i(P==="hardcore"?"hardcoreMode":"normalMode")})]})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-2 pr-2 pb-4",children:[f.jsxs("div",{className:"space-y-3 md:space-y-4 font-mono text-xs md:text-sm",children:[f.jsx(Qn,{icon:f.jsx(ap,{size:14,className:"md:w-4 md:h-4"}),label:i("day",{day:ze.day}),value:"",color:"text-stone-300"}),f.jsx("div",{className:"h-px bg-[#27272a] my-2"}),f.jsx(Qn,{icon:f.jsx(zo,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.sanity"),value:V.stats.sanity,max:100,color:V.stats.sanity<50?"text-red-500 animate-pulse":"text-amber-600"}),V.breakdown?.active&&f.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-400",children:[f.jsx("div",{className:"font-bold mb-1",children:d==="zh"?" ":" BREAKDOWN"}),f.jsx("div",{className:"text-[10px] text-red-500",children:d==="zh"?` ${V.breakdown.turnsRemaining} `:`${V.breakdown.turnsRemaining} turn${V.breakdown.turnsRemaining>1?"s":""} left to recover`})]}),f.jsx(Qn,{icon:f.jsx(Zf,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.funds"),value:V.stats.funds,color:"text-yellow-600"}),f.jsx(Qn,{icon:f.jsx(Ff,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.suspicion"),value:V.stats.suspicion,color:"text-purple-500"}),f.jsx(Qn,{icon:f.jsx(Kf,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.gnosis"),value:V.stats.gnosis,color:"text-cyan-600"}),oe.origin&&f.jsx("div",{className:"pt-3 md:pt-4",children:f.jsxs("button",{onClick:()=>pe(!0),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-xs border border-stone-700/50 bg-stone-900/30 text-stone-400 hover:bg-stone-800/50 hover:border-stone-600 hover:text-stone-300 transition-all rounded",title:d==="zh"?"":"View Origin Trait",children:[f.jsx(Eo,{size:12,className:"md:w-3.5 md:h-3.5"}),f.jsx("span",{className:"uppercase tracking-wider",children:d==="zh"?"":"Origin Trait"})]})}),f.jsxs("div",{className:"pt-4 md:pt-6",children:[f.jsxs("div",{className:"flex justify-between mb-2 text-[9px] md:text-[10px] uppercase tracking-wider text-stone-500",children:[f.jsx("span",{children:i("stats.ap")}),f.jsxs("span",{children:[ze.currentActionPoints," / ",ze.maxActionPoints]})]}),f.jsx("div",{className:"h-1.5 bg-[#27272a] rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-stone-500 transition-all duration-300",style:{width:`${ze.currentActionPoints/ze.maxActionPoints*100}%`}})})]})]}),f.jsxs("div",{className:"mt-4 md:mt-6 pt-4 md:pt-6 border-t border-[#27272a]",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[f.jsx(Yp,{size:14,className:"md:w-4 md:h-4"}),f.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:i("cult")})]}),f.jsxs("div",{className:"space-y-2",children:[V.followers.length===0&&f.jsx("p",{className:"text-[10px] md:text-xs italic text-stone-600",children:i("lonely")}),V.followers.map((k,Z)=>{const W=G[k],le=V.followerStates?.[k],qe=le?.loyalty??50,et=le?.status??"healthy",ot=le?.task,Bt=et==="injured"?"text-red-500":et==="insane"?"text-purple-500":"text-emerald-500",Gt=et==="injured"?f.jsx(Eo,{size:10}):et==="insane"?f.jsx(oi,{size:10}):f.jsx(ep,{size:10});return f.jsxs("div",{className:"p-2 bg-[#1f1f22] border border-[#27272a] rounded flex flex-col gap-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-700"}),f.jsx("span",{className:"text-xs md:text-sm text-stone-300",children:W?W.name:k})]}),f.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[f.jsxs("span",{className:`flex items-center gap-1 ${Bt}`,children:[Gt,i(`followerStatus.${et}`)]}),f.jsxs("span",{className:"text-stone-500",children:[i("loyalty"),": ",qe]})]})]}),ot&&f.jsxs("div",{className:"text-xs text-stone-400 italic pl-4",children:[i("followerTask"),": ",ot.description]})]},Z)})]})]}),f.jsxs("div",{className:"mt-4 pt-4 md:mt-6 md:pt-6 border-t border-[#27272a]",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[f.jsx(Wf,{size:14,className:"md:w-4 md:h-4"}),f.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:i("inventory")})]}),f.jsxs("div",{className:"space-y-2",children:[V.inventory.length===0&&f.jsx("p",{className:"text-[10px] md:text-xs italic text-stone-600",children:i("emptyInventory")}),V.inventory.map((k,Z)=>{const W=Q[k],le=Vp(k);return f.jsxs("div",{className:"group relative p-2 bg-[#1f1f22] border border-[#27272a] rounded flex items-center gap-2 md:gap-3 hover:border-stone-500 transition-colors cursor-help",children:[f.jsx("div",{className:"p-1.5 bg-[#141417] rounded text-stone-400 group-hover:text-amber-500",children:f.jsx(le,{size:12,className:"md:w-3.5 md:h-3.5"})}),f.jsx("div",{className:"text-xs md:text-sm text-stone-300 truncate",children:W?.name||k}),f.jsx("div",{className:"absolute left-0 bottom-full mb-2 w-48 p-3 bg-black border border-stone-700 text-xs text-stone-400 hidden group-hover:block z-50 shadow-xl pointer-events-none",children:W?.description})]},Z)})]})]}),f.jsx("div",{className:"h-40 md:h-20 w-full shrink-0"})]})]}),f.jsxs("div",{className:`${c==="game"?"flex":"hidden"} md:flex flex-1 flex-col relative min-w-0 bg-[#0c0c0e] h-full z-10`,children:[f.jsxs("div",{className:"md:hidden px-3 py-2 bg-[#141417] border-b border-[#27272a] flex items-center justify-between gap-2 flex-shrink-0 relative overflow-hidden",children:[f.jsx("button",{onClick:u,className:"flex items-center justify-center gap-1 px-1.5 py-1.5 border border-amber-700/50 bg-amber-900/20 text-amber-500 active:bg-amber-900/40 active:border-amber-600 active:text-amber-400 transition-all rounded flex-shrink-0",title:d==="en"?"":"Switch to English",children:f.jsx(qo,{size:12,className:"flex-shrink-0"})}),f.jsxs("div",{className:"flex items-center justify-around gap-2 flex-1",children:[f.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[f.jsx(zo,{size:12,className:"text-amber-600 flex-shrink-0"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.sanity")}),f.jsx("div",{className:`text-[10px] font-mono ${V.stats.sanity<50?"text-red-500":"text-amber-600"}`,children:V.stats.sanity}),V.breakdown?.active&&f.jsx("div",{className:"text-[7px] text-red-400 font-bold mt-0.5",children:d==="zh"?` ${V.breakdown.turnsRemaining}`:`BD ${V.breakdown.turnsRemaining}`})]}),m.filter(k=>k.stat==="sanity").map((k,Z)=>f.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${Z*.1}s`},children:f.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${k.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[k.value>0?"+":"",k.value]})},`sanity-${Z}`))]}),f.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),f.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[f.jsx(Zf,{size:12,className:"text-yellow-600 flex-shrink-0"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.funds")}),f.jsxs("div",{className:"text-[10px] font-mono text-yellow-600",children:["$",V.stats.funds]})]}),m.filter(k=>k.stat==="funds").map((k,Z)=>f.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${Z*.1}s`},children:f.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${k.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[k.value>0?"+":"","$",k.value]})},`funds-${Z}`))]}),f.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),f.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[f.jsx(Ff,{size:12,className:"text-purple-500 flex-shrink-0"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.suspicion")}),f.jsx("div",{className:"text-[10px] font-mono text-purple-500",children:V.stats.suspicion})]}),m.filter(k=>k.stat==="suspicion").map((k,Z)=>f.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${Z*.1}s`},children:f.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${k.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[k.value>0?"+":"",k.value]})},`suspicion-${Z}`))]}),f.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),f.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[f.jsx(Kf,{size:12,className:"text-cyan-600 flex-shrink-0"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.gnosis")}),f.jsx("div",{className:"text-[10px] font-mono text-cyan-600",children:V.stats.gnosis})]}),m.filter(k=>k.stat==="gnosis").map((k,Z)=>f.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${Z*.1}s`},children:f.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${k.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[k.value>0?"+":"",k.value]})},`gnosis-${Z}`))]})]}),oe.origin&&f.jsx("button",{onClick:()=>pe(!0),className:"flex items-center justify-center px-2 py-1.5 border border-stone-700/50 bg-stone-900/30 text-stone-400 active:bg-stone-800/50 active:border-stone-600 active:text-stone-300 transition-all rounded flex-shrink-0",title:d==="zh"?"":"View Origin Trait",children:f.jsx(Eo,{size:14})})]}),se&&c==="game"&&f.jsxs("div",{className:"md:hidden mx-3 mt-2 mb-0 p-3 bg-gradient-to-r from-amber-900/40 to-amber-800/30 border-2 border-amber-600/60 rounded-lg flex items-center justify-between gap-2 flex-shrink-0 shadow-lg shadow-amber-900/20 animate-slide-down",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Ro,{size:18,className:"text-amber-400 flex-shrink-0 animate-pulse"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"}),f.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),f.jsx("span",{className:"text-xs text-amber-200 font-semibold truncate",children:d==="zh"?"":"Follower Request"})]}),f.jsx("button",{onClick:()=>S("stats"),className:"px-3 py-1.5 bg-amber-700/60 hover:bg-amber-700/80 active:bg-amber-600/80 text-amber-100 text-xs font-bold uppercase tracking-wider rounded transition-all transform active:scale-95 flex-shrink-0 shadow-md shadow-amber-900/30",children:d==="zh"?"":"VIEW"})]}),f.jsxs("div",{className:"px-4 md:px-10 pt-6 md:pt-10 pb-4 md:pb-6 border-b border-[#27272a]/50 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-amber-700",children:[f.jsx(Pf,{size:14,className:"md:w-4 md:h-4 flex-shrink-0"}),f.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase tracking-[0.15em] truncate",children:De.id})]}),f.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-[10px] md:text-xs font-mono text-stone-300",children:[f.jsx("span",{className:"uppercase tracking-[0.15em] text-stone-500",children:i("stats.ap")}),f.jsxs("span",{className:"px-1.5 md:px-2 py-0.5 rounded-full border border-[#27272a] bg-[#11111a]",children:[ze.currentActionPoints," / ",ze.maxActionPoints]})]})]}),f.jsx("h2",{className:"text-2xl md:text-4xl font-serif text-[#e4e4e7] tracking-wide truncate",children:De.name})]}),f.jsxs("div",{ref:He,className:"flex-1 overflow-y-auto px-4 md:px-10 py-4 md:py-8 pb-32 md:pb-8 custom-scrollbar relative z-10",style:{touchAction:"pan-y"},onTouchStart:k=>{const Z=k.target;(Z.tagName==="BUTTON"||Z.closest("button"))&&k.stopPropagation()},children:[f.jsx("div",{className:"mb-6 md:mb-10 pl-4 md:pl-6 border-l-2 border-[#27272a]",children:f.jsx("p",{className:"text-base md:text-xl leading-relaxed md:leading-loose text-stone-400 font-serif italic max-w-3xl",children:typeof De.description=="function"?De.description(oe):De.description})}),f.jsx("div",{className:"grid grid-cols-1 gap-2 md:gap-3 max-w-2xl",children:De.actions.map(k=>{if(!vt(k))return null;let W=k.id==="sleep"?0:typeof k.result=="function"?k.result(oe).costAP??1:k.result.costAP??1;const qe=!(ze.currentActionPoints>=W)&&k.id!=="sleep"&&W>0,et=k.id.includes("buy")||k.id.includes("sell");let ot=null;if(et)try{const we=typeof k.result=="function"?k.result(oe):k.result;we.changes?.funds?ot=Math.abs(we.changes.funds):k.reqStats?.funds&&(ot=k.reqStats.funds)}catch{k.reqStats?.funds&&(ot=k.reqStats.funds)}let Bt=i("actions.costAP",{val:W}),Gt="border-[#27272a] text-stone-500 bg-[#0c0c0e]";k.id==="sleep"?(Bt=i("actions.endDay"),Gt="border-amber-900/30 text-amber-700 bg-amber-900/10"):W===0&&(Bt=i("actions.free"),Gt="border-emerald-900/30 text-emerald-600 bg-emerald-900/10");const Ia=Zp(k.id),It=()=>{qe||Ke(k)};return f.jsxs("button",{onClick:It,disabled:qe,className:`w-full text-left p-3 md:p-4 border rounded transition-all duration-200 flex items-center gap-3 md:gap-5 relative z-50 ${qe?"border-[#27272a] bg-transparent opacity-40 cursor-not-allowed":"border-[#3f3f46] bg-[#18181b] active:bg-[#202023] md:hover:bg-[#202023] active:border-amber-700/50 md:hover:border-amber-700/50 active:translate-x-1 md:hover:translate-x-1"}`,style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent",pointerEvents:"auto",position:"relative",zIndex:50},children:[f.jsx("div",{className:`p-2 md:p-3 rounded-full bg-[#0c0c0e] border border-[#27272a] flex-shrink-0 ${qe?"text-stone-700":"text-stone-400 group-hover:text-amber-500"}`,style:{pointerEvents:"none"},children:f.jsx(Ia,{size:20,className:"md:w-6 md:h-6",strokeWidth:1.5})}),f.jsxs("div",{className:"flex-1 flex flex-col gap-1 min-w-0",style:{pointerEvents:"none"},children:[f.jsxs("div",{className:"flex justify-between items-center w-full gap-2",children:[f.jsx("span",{className:`text-base md:text-lg font-serif tracking-wide ${qe?"text-stone-500":"text-stone-200"} truncate flex-1`,children:typeof k.label=="function"?k.label(oe):k.label}),f.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[ot!==null&&f.jsxs("span",{className:`text-[9px] md:text-[10px] font-mono px-1.5 md:px-2 py-0.5 md:py-1 rounded border ${k.id.includes("buy")?"border-yellow-700/50 text-yellow-500 bg-yellow-900/20":"border-emerald-700/50 text-emerald-500 bg-emerald-900/20"}`,children:[k.id.includes("buy")?"":"+","$",ot]}),f.jsx("span",{className:`text-[9px] md:text-[10px] font-mono px-1.5 md:px-2 py-0.5 md:py-1 rounded border ${Gt}`,children:Bt})]})]}),f.jsx("div",{className:"text-xs md:text-sm text-stone-500 font-serif italic line-clamp-2",children:typeof k.description=="function"?k.description(oe):k.description})]})]},k.id)})}),f.jsx("div",{className:"h-40 md:h-8 w-full shrink-0 pointer-events-none"})]})]}),f.jsxs("div",{className:`${c==="journal"?"flex":"hidden"} md:flex w-full md:w-80 flex-shrink-0 flex-col border-l border-[#27272a] bg-[#0c0c0e] h-full md:h-auto relative z-10`,children:[f.jsxs("div",{className:"p-3 md:p-4 border-b border-[#27272a] bg-[#141417] flex justify-between items-center flex-shrink-0",children:[f.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider text-stone-500",children:i("journal")}),f.jsx("span",{className:"text-[9px] md:text-[10px] text-stone-700 font-mono",children:i("latestEvents")})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 font-serif custom-scrollbar space-y-4 md:space-y-6",children:[[...ae].reverse().map((k,Z)=>{const W=k.text==="init_game"?i("initGame"):k.text;return f.jsxs("div",{className:`animate-in fade-in slide-in-from-bottom-2 duration-500 ${Z===0&&B?"animate-log-update":""}`,children:[f.jsx("div",{className:"flex items-center mb-1",children:f.jsx("span",{className:"text-[9px] md:text-[10px] font-mono text-stone-600 uppercase",children:i("day",{day:k.timestamp})})}),f.jsx("p",{className:`text-xs md:text-sm leading-relaxed ${k.type==="warning"?"text-red-900 border-l-2 border-red-900 pl-2":k.type==="result"?"text-stone-300":"text-stone-500"}`,children:Ie(W)})]},k.id)}),f.jsx("div",{ref:xe,className:"h-1"}),f.jsx("div",{className:"h-32 md:h-0 w-full shrink-0"})]})]}),f.jsxs("div",{className:`md:hidden fixed bottom-16 left-0 right-0 px-4 pt-3 pb-2 border-t border-[#27272a] bg-[#0c0c0e] z-20 pointer-events-none ${c==="journal"?"hidden":"block"} ${B?"animate-log-container-update":""}`,style:{maxHeight:"120px"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-1.5 text-stone-500",children:[f.jsx(Do,{size:14,className:B?"animate-pulse":""}),f.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider",children:i("journal")})]}),f.jsxs("button",{onClick:()=>S("journal"),className:"text-[9px] text-stone-600 active:text-amber-500 transition-colors pointer-events-auto relative z-10",children:[d==="en"?"View All":""," "]})]}),f.jsx("div",{className:"min-h-[20px] max-h-[80px] overflow-y-auto custom-scrollbar",children:ae&&Array.isArray(ae)&&ae.length>0&&ae[0]&&ae[0].text?f.jsxs("div",{className:`flex items-start gap-2 ${B?"animate-log-entry-update":""}`,children:[f.jsx("div",{className:"w-1 h-1 rounded-full bg-amber-700/50 mt-1.5 flex-shrink-0"}),f.jsx("p",{className:`text-[11px] leading-relaxed flex-1 break-words whitespace-normal ${ae[0].type==="warning"?"text-red-900":ae[0].type==="result"?"text-stone-300":"text-stone-500"}`,children:Ie(ae[0].text==="init_game"?i("initGame"):ae[0].text)})]}):f.jsx("p",{className:"text-[11px] text-stone-600 italic",children:d==="en"?"No events yet...":"..."})})]}),f.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[#141417] border-t border-[#27272a] z-30 safe-area-inset-bottom",children:f.jsxs("div",{className:"flex items-center justify-around h-16",children:[f.jsxs("button",{onClick:()=>S("game"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${c==="game"?"text-amber-500":"text-stone-500"}`,children:[f.jsx(Pf,{size:20}),f.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:d==="zh"?"":"GAME"})]}),f.jsxs("button",{onClick:()=>S("stats"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${c==="stats"?"text-amber-500":"text-stone-500"}`,children:[f.jsx(zo,{size:20}),f.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:d==="zh"?"":"STATS"})]}),f.jsxs("button",{onClick:()=>S("journal"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${c==="journal"?"text-amber-500":"text-stone-500"}`,children:[f.jsx(Do,{size:20}),f.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:i("journal")})]})]})}),K&&oe.origin&&f.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-4 md:p-8",children:f.jsxs("div",{className:"max-w-lg w-full border border-[#27272a] bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[f.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-amber-500 uppercase",children:d==="zh"?"":"Origin Trait"}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("div",{className:"text-sm md:text-base text-stone-300 font-serif",children:i(`origins.${oe.origin}.name`)}),f.jsxs("div",{className:"text-xs md:text-sm text-stone-400 leading-relaxed",children:[oe.origin==="doctor"&&d==="zh"&&f.jsx(f.Fragment,{children:"50%"}),oe.origin==="doctor"&&d==="en"&&f.jsx(f.Fragment,{children:"As a doctor, your medical training increases the sanity restoration effect of medical items (morphine, sedatives, purified serum, strong painkiller) by 50%. Your medical bag contains morphine and a scalpel."}),oe.origin==="fallen_noble"&&d==="zh"&&f.jsx(f.Fragment,{children:""}),oe.origin==="fallen_noble"&&d==="en"&&f.jsx(f.Fragment,{children:"As a fallen noble, your family heritage protects you from price inflation. Even when the Ministry raises prices, you can still purchase items at their original cost."}),oe.origin==="vagrant"&&d==="zh"&&f.jsx(f.Fragment,{children:""}),oe.origin==="vagrant"&&d==="en"&&f.jsx(f.Fragment,{children:"As a vagrant, the survival wisdom you learned on the streets gives you greater resistance to anomalous phenomena. You start with higher sanity and greater tolerance for fear."})]})]}),f.jsx("button",{onClick:()=>pe(!1),className:"w-full mt-4 md:mt-6 px-6 md:px-8 py-3 md:py-4 border border-stone-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:d==="zh"?"":"Understood"})]})}),oe.status!=="playing"&&oe.ending&&f.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-4 md:p-8",children:f.jsxs("div",{className:"max-w-2xl w-full text-center space-y-4 md:space-y-8",children:[f.jsx("h1",{className:"text-3xl md:text-6xl font-serif font-bold tracking-widest uppercase text-amber-500",children:oe.ending.title}),f.jsx("p",{className:"text-base md:text-xl text-stone-400 font-serif italic",children:oe.ending.description}),f.jsx("button",{onClick:Je,className:"mt-4 md:mt-8 px-6 md:px-10 py-3 md:py-4 border border-stone-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm",children:i("gameOver.restart")})]})})]})}const Qn=({icon:i,label:u,value:d,max:c,color:S})=>f.jsxs("div",{className:"flex items-center justify-between group",children:[f.jsxs("div",{className:"flex items-center text-stone-500 gap-2 md:gap-3",children:[f.jsx("span",{className:"opacity-70",children:i}),f.jsx("span",{className:"text-[10px] md:text-xs font-bold tracking-wider",children:u})]}),f.jsxs("span",{className:`font-mono text-xs md:text-sm ${S}`,children:[d,c?f.jsxs("span",{className:"text-stone-700 text-[9px] md:text-[10px]",children:["/",c]}):""]})]});function Vp(i){return i.includes("bread")?Gp:i.includes("rat")?xp:i.includes("spirit")?Lp:i.includes("sedative")||i.includes("morphine")?_p:i.includes("key")?fp:i.includes("lantern")?Oo:i.includes("dagger")||i.includes("scalpel")?Op:i.includes("scroll")||i.includes("file")?kp:i.includes("tooth")||i.includes("idol")?cp:i.includes("fungus")?jp:i.includes("manuscript")||i.includes("coat")?Do:Wf}function Zp(i){return i.includes("leave")||i.includes("return")||i.includes("enter")||i.includes("unlock")||i.includes("visit")||i.includes("flee")||i.includes("wake")?sp:i.includes("sleep")?gp:i.includes("work")||i.includes("job")?Vy:i.includes("buy")||i.includes("sell")?zp:i.includes("talk")||i.includes("recruit")||i.includes("dispatch")?Ro:i.includes("eat")||i.includes("drink")||i.includes("take")?Hp:i.includes("study")||i.includes("read")||i.includes("write")?Jy:i.includes("explore")||i.includes("scavenge")||i.includes("search")||i.includes("find")?Np:i.includes("lay_low")?Ky:i.includes("ritual")||i.includes("lobotomy")||i.includes("blood")||i.includes("implant")||i.includes("harvest")||i.includes("shock")||i.includes("steal")?oi:jo}Ty.createRoot(document.getElementById("root")).render(f.jsx(re.StrictMode,{children:f.jsx(Qp,{})}));
