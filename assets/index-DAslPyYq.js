(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))d(k);new MutationObserver(k=>{for(const E of k)if(E.type==="childList")for(const U of E.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&d(U)}).observe(document,{childList:!0,subtree:!0});function f(k){const E={};return k.integrity&&(E.integrity=k.integrity),k.referrerPolicy&&(E.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?E.credentials="include":k.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function d(k){if(k.ep)return;k.ep=!0;const E=f(k);fetch(k.href,E)}})();var Mo={exports:{}},Gs={};var Uf;function wy(){if(Uf)return Gs;Uf=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function f(d,k,E){var U=null;if(E!==void 0&&(U=""+E),k.key!==void 0&&(U=""+k.key),"key"in k){E={};for(var I in k)I!=="key"&&(E[I]=k[I])}else E=k;return k=E.ref,{$$typeof:i,type:d,key:U,ref:k!==void 0?k:null,props:E}}return Gs.Fragment=u,Gs.jsx=f,Gs.jsxs=f,Gs}var Hf;function Sy(){return Hf||(Hf=1,Mo.exports=wy()),Mo.exports}var o=Sy(),To={exports:{}},W={};var Bf;function Ay(){if(Bf)return W;Bf=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),U=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ye=Symbol.iterator;function at(y){return y===null||typeof y!="object"?null:(y=ye&&y[ye]||y["@@iterator"],typeof y=="function"?y:null)}var Pe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ae=Object.assign,dt={};function lt(y,S,O){this.props=y,this.context=S,this.refs=dt,this.updater=O||Pe}lt.prototype.isReactComponent={},lt.prototype.setState=function(y,S){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,S,"setState")},lt.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function ht(){}ht.prototype=lt.prototype;function g(y,S,O){this.props=y,this.context=S,this.refs=dt,this.updater=O||Pe}var w=g.prototype=new ht;w.constructor=g,Ae(w,lt.prototype),w.isPureReactComponent=!0;var C=Array.isArray;function Z(){}var H={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function ke(y,S,O){var G=O.ref;return{$$typeof:i,type:y,key:S,ref:G!==void 0?G:null,props:O}}function Re(y,S){return ke(y.type,S,y.props)}function Je(y){return typeof y=="object"&&y!==null&&y.$$typeof===i}function J(y){var S={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(O){return S[O]})}var je=/\/+/g;function oe(y,S){return typeof y=="object"&&y!==null&&y.key!=null?J(""+y.key):S.toString(36)}function re(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(Z,Z):(y.status="pending",y.then(function(S){y.status==="pending"&&(y.status="fulfilled",y.value=S)},function(S){y.status==="pending"&&(y.status="rejected",y.reason=S)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function h(y,S,O,G,$){var ae=typeof y;(ae==="undefined"||ae==="boolean")&&(y=null);var ue=!1;if(y===null)ue=!0;else switch(ae){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(y.$$typeof){case i:case u:ue=!0;break;case te:return ue=y._init,h(ue(y._payload),S,O,G,$)}}if(ue)return $=$(y),ue=G===""?"."+oe(y,0):G,C($)?(O="",ue!=null&&(O=ue.replace(je,"$&/")+"/"),h($,S,O,"",function(wt){return wt})):$!=null&&(Je($)&&($=Re($,O+($.key==null||y&&y.key===$.key?"":(""+$.key).replace(je,"$&/")+"/")+ue)),S.push($)),1;ue=0;var Xe=G===""?".":G+":";if(C(y))for(var Ee=0;Ee<y.length;Ee++)G=y[Ee],ae=Xe+oe(G,Ee),ue+=h(G,S,O,ae,$);else if(Ee=at(y),typeof Ee=="function")for(y=Ee.call(y),Ee=0;!(G=y.next()).done;)G=G.value,ae=Xe+oe(G,Ee++),ue+=h(G,S,O,ae,$);else if(ae==="object"){if(typeof y.then=="function")return h(re(y),S,O,G,$);throw S=String(y),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return ue}function M(y,S,O){if(y==null)return y;var G=[],$=0;return h(y,G,"","",function(ae){return S.call(O,ae,$++)}),G}function D(y){if(y._status===-1){var S=y._result;S=S(),S.then(function(O){(y._status===0||y._status===-1)&&(y._status=1,y._result=O)},function(O){(y._status===0||y._status===-1)&&(y._status=2,y._result=O)}),y._status===-1&&(y._status=0,y._result=S)}if(y._status===1)return y._result.default;throw y._result}var Y=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},R={map:M,forEach:function(y,S,O){M(y,function(){S.apply(this,arguments)},O)},count:function(y){var S=0;return M(y,function(){S++}),S},toArray:function(y){return M(y,function(S){return S})||[]},only:function(y){if(!Je(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return W.Activity=P,W.Children=R,W.Component=lt,W.Fragment=f,W.Profiler=k,W.PureComponent=g,W.StrictMode=d,W.Suspense=B,W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,W.__COMPILER_RUNTIME={__proto__:null,c:function(y){return H.H.useMemoCache(y)}},W.cache=function(y){return function(){return y.apply(null,arguments)}},W.cacheSignal=function(){return null},W.cloneElement=function(y,S,O){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var G=Ae({},y.props),$=y.key;if(S!=null)for(ae in S.key!==void 0&&($=""+S.key),S)!X.call(S,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&S.ref===void 0||(G[ae]=S[ae]);var ae=arguments.length-2;if(ae===1)G.children=O;else if(1<ae){for(var ue=Array(ae),Xe=0;Xe<ae;Xe++)ue[Xe]=arguments[Xe+2];G.children=ue}return ke(y.type,$,G)},W.createContext=function(y){return y={$$typeof:U,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:E,_context:y},y},W.createElement=function(y,S,O){var G,$={},ae=null;if(S!=null)for(G in S.key!==void 0&&(ae=""+S.key),S)X.call(S,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&($[G]=S[G]);var ue=arguments.length-2;if(ue===1)$.children=O;else if(1<ue){for(var Xe=Array(ue),Ee=0;Ee<ue;Ee++)Xe[Ee]=arguments[Ee+2];$.children=Xe}if(y&&y.defaultProps)for(G in ue=y.defaultProps,ue)$[G]===void 0&&($[G]=ue[G]);return ke(y,ae,$)},W.createRef=function(){return{current:null}},W.forwardRef=function(y){return{$$typeof:I,render:y}},W.isValidElement=Je,W.lazy=function(y){return{$$typeof:te,_payload:{_status:-1,_result:y},_init:D}},W.memo=function(y,S){return{$$typeof:q,type:y,compare:S===void 0?null:S}},W.startTransition=function(y){var S=H.T,O={};H.T=O;try{var G=y(),$=H.S;$!==null&&$(O,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(Z,Y)}catch(ae){Y(ae)}finally{S!==null&&O.types!==null&&(S.types=O.types),H.T=S}},W.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},W.use=function(y){return H.H.use(y)},W.useActionState=function(y,S,O){return H.H.useActionState(y,S,O)},W.useCallback=function(y,S){return H.H.useCallback(y,S)},W.useContext=function(y){return H.H.useContext(y)},W.useDebugValue=function(){},W.useDeferredValue=function(y,S){return H.H.useDeferredValue(y,S)},W.useEffect=function(y,S){return H.H.useEffect(y,S)},W.useEffectEvent=function(y){return H.H.useEffectEvent(y)},W.useId=function(){return H.H.useId()},W.useImperativeHandle=function(y,S,O){return H.H.useImperativeHandle(y,S,O)},W.useInsertionEffect=function(y,S){return H.H.useInsertionEffect(y,S)},W.useLayoutEffect=function(y,S){return H.H.useLayoutEffect(y,S)},W.useMemo=function(y,S){return H.H.useMemo(y,S)},W.useOptimistic=function(y,S){return H.H.useOptimistic(y,S)},W.useReducer=function(y,S,O){return H.H.useReducer(y,S,O)},W.useRef=function(y){return H.H.useRef(y)},W.useState=function(y){return H.H.useState(y)},W.useSyncExternalStore=function(y,S,O){return H.H.useSyncExternalStore(y,S,O)},W.useTransition=function(){return H.H.useTransition()},W.version="19.2.0",W}var Gf;function Bo(){return Gf||(Gf=1,To.exports=Ay()),To.exports}var ee=Bo(),zo={exports:{}},Is={},qo={exports:{}},jo={};var If;function ky(){return If||(If=1,(function(i){function u(h,M){var D=h.length;h.push(M);e:for(;0<D;){var Y=D-1>>>1,R=h[Y];if(0<k(R,M))h[Y]=M,h[D]=R,D=Y;else break e}}function f(h){return h.length===0?null:h[0]}function d(h){if(h.length===0)return null;var M=h[0],D=h.pop();if(D!==M){h[0]=D;e:for(var Y=0,R=h.length,y=R>>>1;Y<y;){var S=2*(Y+1)-1,O=h[S],G=S+1,$=h[G];if(0>k(O,D))G<R&&0>k($,O)?(h[Y]=$,h[G]=D,Y=G):(h[Y]=O,h[S]=D,Y=S);else if(G<R&&0>k($,D))h[Y]=$,h[G]=D,Y=G;else break e}}return M}function k(h,M){var D=h.sortIndex-M.sortIndex;return D!==0?D:h.id-M.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var E=performance;i.unstable_now=function(){return E.now()}}else{var U=Date,I=U.now();i.unstable_now=function(){return U.now()-I}}var B=[],q=[],te=1,P=null,ye=3,at=!1,Pe=!1,Ae=!1,dt=!1,lt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function w(h){for(var M=f(q);M!==null;){if(M.callback===null)d(q);else if(M.startTime<=h)d(q),M.sortIndex=M.expirationTime,u(B,M);else break;M=f(q)}}function C(h){if(Ae=!1,w(h),!Pe)if(f(B)!==null)Pe=!0,Z||(Z=!0,J());else{var M=f(q);M!==null&&re(C,M.startTime-h)}}var Z=!1,H=-1,X=5,ke=-1;function Re(){return dt?!0:!(i.unstable_now()-ke<X)}function Je(){if(dt=!1,Z){var h=i.unstable_now();ke=h;var M=!0;try{e:{Pe=!1,Ae&&(Ae=!1,ht(H),H=-1),at=!0;var D=ye;try{t:{for(w(h),P=f(B);P!==null&&!(P.expirationTime>h&&Re());){var Y=P.callback;if(typeof Y=="function"){P.callback=null,ye=P.priorityLevel;var R=Y(P.expirationTime<=h);if(h=i.unstable_now(),typeof R=="function"){P.callback=R,w(h),M=!0;break t}P===f(B)&&d(B),w(h)}else d(B);P=f(B)}if(P!==null)M=!0;else{var y=f(q);y!==null&&re(C,y.startTime-h),M=!1}}break e}finally{P=null,ye=D,at=!1}M=void 0}}finally{M?J():Z=!1}}}var J;if(typeof g=="function")J=function(){g(Je)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,oe=je.port2;je.port1.onmessage=Je,J=function(){oe.postMessage(null)}}else J=function(){lt(Je,0)};function re(h,M){H=lt(function(){h(i.unstable_now())},M)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(h){h.callback=null},i.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<h?Math.floor(1e3/h):5},i.unstable_getCurrentPriorityLevel=function(){return ye},i.unstable_next=function(h){switch(ye){case 1:case 2:case 3:var M=3;break;default:M=ye}var D=ye;ye=M;try{return h()}finally{ye=D}},i.unstable_requestPaint=function(){dt=!0},i.unstable_runWithPriority=function(h,M){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var D=ye;ye=h;try{return M()}finally{ye=D}},i.unstable_scheduleCallback=function(h,M,D){var Y=i.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Y+D:Y):D=Y,h){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=D+R,h={id:te++,callback:M,priorityLevel:h,startTime:D,expirationTime:R,sortIndex:-1},D>Y?(h.sortIndex=D,u(q,h),f(B)===null&&h===f(q)&&(Ae?(ht(H),H=-1):Ae=!0,re(C,D-Y))):(h.sortIndex=R,u(B,h),Pe||at||(Pe=!0,Z||(Z=!0,J()))),h},i.unstable_shouldYield=Re,i.unstable_wrapCallback=function(h){var M=ye;return function(){var D=ye;ye=M;try{return h.apply(this,arguments)}finally{ye=D}}}})(jo)),jo}var Lf;function Ny(){return Lf||(Lf=1,qo.exports=ky()),qo.exports}var Eo={exports:{}},ct={};var Xf;function My(){if(Xf)return ct;Xf=1;var i=Bo();function u(B){var q="https://react.dev/errors/"+B;if(1<arguments.length){q+="?args[]="+encodeURIComponent(arguments[1]);for(var te=2;te<arguments.length;te++)q+="&args[]="+encodeURIComponent(arguments[te])}return"Minified React error #"+B+"; visit "+q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var d={d:{f,r:function(){throw Error(u(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},k=Symbol.for("react.portal");function E(B,q,te){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:P==null?null:""+P,children:B,containerInfo:q,implementation:te}}var U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function I(B,q){if(B==="font")return"";if(typeof q=="string")return q==="use-credentials"?q:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,ct.createPortal=function(B,q){var te=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q||q.nodeType!==1&&q.nodeType!==9&&q.nodeType!==11)throw Error(u(299));return E(B,q,null,te)},ct.flushSync=function(B){var q=U.T,te=d.p;try{if(U.T=null,d.p=2,B)return B()}finally{U.T=q,d.p=te,d.d.f()}},ct.preconnect=function(B,q){typeof B=="string"&&(q?(q=q.crossOrigin,q=typeof q=="string"?q==="use-credentials"?q:"":void 0):q=null,d.d.C(B,q))},ct.prefetchDNS=function(B){typeof B=="string"&&d.d.D(B)},ct.preinit=function(B,q){if(typeof B=="string"&&q&&typeof q.as=="string"){var te=q.as,P=I(te,q.crossOrigin),ye=typeof q.integrity=="string"?q.integrity:void 0,at=typeof q.fetchPriority=="string"?q.fetchPriority:void 0;te==="style"?d.d.S(B,typeof q.precedence=="string"?q.precedence:void 0,{crossOrigin:P,integrity:ye,fetchPriority:at}):te==="script"&&d.d.X(B,{crossOrigin:P,integrity:ye,fetchPriority:at,nonce:typeof q.nonce=="string"?q.nonce:void 0})}},ct.preinitModule=function(B,q){if(typeof B=="string")if(typeof q=="object"&&q!==null){if(q.as==null||q.as==="script"){var te=I(q.as,q.crossOrigin);d.d.M(B,{crossOrigin:te,integrity:typeof q.integrity=="string"?q.integrity:void 0,nonce:typeof q.nonce=="string"?q.nonce:void 0})}}else q==null&&d.d.M(B)},ct.preload=function(B,q){if(typeof B=="string"&&typeof q=="object"&&q!==null&&typeof q.as=="string"){var te=q.as,P=I(te,q.crossOrigin);d.d.L(B,te,{crossOrigin:P,integrity:typeof q.integrity=="string"?q.integrity:void 0,nonce:typeof q.nonce=="string"?q.nonce:void 0,type:typeof q.type=="string"?q.type:void 0,fetchPriority:typeof q.fetchPriority=="string"?q.fetchPriority:void 0,referrerPolicy:typeof q.referrerPolicy=="string"?q.referrerPolicy:void 0,imageSrcSet:typeof q.imageSrcSet=="string"?q.imageSrcSet:void 0,imageSizes:typeof q.imageSizes=="string"?q.imageSizes:void 0,media:typeof q.media=="string"?q.media:void 0})}},ct.preloadModule=function(B,q){if(typeof B=="string")if(q){var te=I(q.as,q.crossOrigin);d.d.m(B,{as:typeof q.as=="string"&&q.as!=="script"?q.as:void 0,crossOrigin:te,integrity:typeof q.integrity=="string"?q.integrity:void 0})}else d.d.m(B)},ct.requestFormReset=function(B){d.d.r(B)},ct.unstable_batchedUpdates=function(B,q){return B(q)},ct.useFormState=function(B,q,te){return U.H.useFormState(B,q,te)},ct.useFormStatus=function(){return U.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var Qf;function Ty(){if(Qf)return Eo.exports;Qf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),Eo.exports=My(),Eo.exports}var Vf;function zy(){if(Vf)return Is;Vf=1;var i=Ny(),u=Bo(),f=Ty();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function U(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B(e){if(E(e)!==e)throw Error(d(188))}function q(e){var t=e.alternate;if(!t){if(t=E(e),t===null)throw Error(d(188));return t!==e?null:e}for(var a=e,l=t;;){var s=a.return;if(s===null)break;var n=s.alternate;if(n===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===n.child){for(n=s.child;n;){if(n===a)return B(s),e;if(n===l)return B(s),t;n=n.sibling}throw Error(d(188))}if(a.return!==l.return)a=s,l=n;else{for(var r=!1,c=s.child;c;){if(c===a){r=!0,a=s,l=n;break}if(c===l){r=!0,l=s,a=n;break}c=c.sibling}if(!r){for(c=n.child;c;){if(c===a){r=!0,a=n,l=s;break}if(c===l){r=!0,l=n,a=s;break}c=c.sibling}if(!r)throw Error(d(189))}}if(a.alternate!==l)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:t}function te(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=te(e),t!==null)return t;e=e.sibling}return null}var P=Object.assign,ye=Symbol.for("react.element"),at=Symbol.for("react.transitional.element"),Pe=Symbol.for("react.portal"),Ae=Symbol.for("react.fragment"),dt=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ht=Symbol.for("react.consumer"),g=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),Je=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=Je&&e[Je]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ae:return"Fragment";case lt:return"Profiler";case dt:return"StrictMode";case C:return"Suspense";case Z:return"SuspenseList";case ke:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Pe:return"Portal";case g:return e.displayName||"Context";case ht:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}var re=Array.isArray,h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},Y=[],R=-1;function y(e){return{current:e}}function S(e){0>R||(e.current=Y[R],Y[R]=null,R--)}function O(e,t){R++,Y[R]=e.current,e.current=t}var G=y(null),$=y(null),ae=y(null),ue=y(null);function Xe(e,t){switch(O(ae,t),O($,e),O(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=rf(t),e=of(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}S(G),O(G,e)}function Ee(){S(G),S($),S(ae)}function wt(e){e.memoizedState!==null&&O(ue,e);var t=G.current,a=of(t,e.type);t!==a&&(O($,e),O(G,a))}function Qa(e){$.current===e&&(S(G),S($)),ue.current===e&&(S(ue),Ys._currentValue=D)}var Pl,Zs;function Zt(e){if(Pl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Pl=t&&t[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pl+e+Zs}var st=!1;function St(e,t){if(!e||st)return"";st=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(N){var A=N}Reflect.construct(e,[],j)}else{try{j.call()}catch(N){A=N}e.call(j.prototype)}}else{try{throw Error()}catch(N){A=N}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(N){if(N&&A&&typeof N.stack=="string")return[N.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=l.DetermineComponentFrameRoot(),r=n[0],c=n[1];if(r&&c){var m=r.split(`
`),x=c.split(`
`);for(s=l=0;l<m.length&&!m[l].includes("DetermineComponentFrameRoot");)l++;for(;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;if(l===m.length||s===x.length)for(l=m.length-1,s=x.length-1;1<=l&&0<=s&&m[l]!==x[s];)s--;for(;1<=l&&0<=s;l--,s--)if(m[l]!==x[s]){if(l!==1||s!==1)do if(l--,s--,0>s||m[l]!==x[s]){var T=`
`+m[l].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=l&&0<=s);break}}}finally{st=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zt(a):""}function hi(e,t){switch(e.tag){case 26:case 27:case 5:return Zt(e.type);case 16:return Zt("Lazy");case 13:return e.child!==t&&t!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return St(e.type,!1);case 11:return St(e.type.render,!1);case 1:return St(e.type,!0);case 31:return Zt("Activity");default:return""}}function _(e){try{var t="",a=null;do t+=hi(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var V=Object.prototype.hasOwnProperty,ne=i.unstable_scheduleCallback,le=i.unstable_cancelCallback,De=i.unstable_shouldYield,We=i.unstable_requestPaint,Ue=i.unstable_now,Et=i.unstable_getCurrentPriorityLevel,Ft=i.unstable_ImmediatePriority,_a=i.unstable_UserBlockingPriority,mt=i.unstable_NormalPriority,ze=i.unstable_LowPriority,Ke=i.unstable_IdlePriority,Va=i.log,ea=i.unstable_setDisableYieldValue,ge=null,He=null;function va(e){if(typeof Va=="function"&&ea(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ge,e)}catch{}}var At=Math.clz32?Math.clz32:oh,ih=Math.log,rh=Math.LN2;function oh(e){return e>>>=0,e===0?32:31-(ih(e)/rh|0)|0}var Fs=256,Ps=262144,Ks=4194304;function Za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $s(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var s=0,n=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var c=l&134217727;return c!==0?(l=c&~n,l!==0?s=Za(l):(r&=c,r!==0?s=Za(r):a||(a=c&~e,a!==0&&(s=Za(a))))):(c=l&~n,c!==0?s=Za(c):r!==0?s=Za(r):a||(a=l&~e,a!==0&&(s=Za(a)))),s===0?0:t!==0&&t!==s&&(t&n)===0&&(n=s&-s,a=t&-t,n>=a||n===32&&(a&4194048)!==0)?t:s}function Kl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function uh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var e=Ks;return Ks<<=1,(Ks&62914560)===0&&(Ks=4194304),e}function mi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function $l(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ch(e,t,a,l,s,n){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,m=e.expirationTimes,x=e.hiddenUpdates;for(a=r&~a;0<a;){var T=31-At(a),j=1<<T;c[T]=0,m[T]=-1;var A=x[T];if(A!==null)for(x[T]=null,T=0;T<A.length;T++){var N=A[T];N!==null&&(N.lane&=-536870913)}a&=~j}l!==0&&Io(e,l,0),n!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=n&~(r&~t))}function Io(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-At(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Lo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-At(a),s=1<<l;s&t|e[l]&t&&(e[l]|=t),a&=~s}}function Xo(e,t){var a=t&-t;return a=(a&42)!==0?1:yi(a),(a&(e.suspendedLanes|t))!==0?0:a}function yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qo(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:jf(e.type))}function Vo(e,t){var a=M.p;try{return M.p=e,t()}finally{M.p=a}}var xa=Math.random().toString(36).slice(2),nt="__reactFiber$"+xa,yt="__reactProps$"+xa,dl="__reactContainer$"+xa,gi="__reactEvents$"+xa,dh="__reactListeners$"+xa,fh="__reactHandles$"+xa,Zo="__reactResources$"+xa,Jl="__reactMarker$"+xa;function bi(e){delete e[nt],delete e[yt],delete e[gi],delete e[dh],delete e[fh]}function fl(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[dl]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=yf(e);e!==null;){if(a=e[nt])return a;e=yf(e)}return t}e=a,a=e.parentNode}return null}function hl(e){if(e=e[nt]||e[dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function ml(e){var t=e[Zo];return t||(t=e[Zo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Jl]=!0}var Fo=new Set,Po={};function Fa(e,t){yl(e,t),yl(e+"Capture",t)}function yl(e,t){for(Po[e]=t,e=0;e<t.length;e++)Fo.add(t[e])}var hh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},$o={};function mh(e){return V.call($o,e)?!0:V.call(Ko,e)?!1:hh.test(e)?$o[e]=!0:(Ko[e]=!0,!1)}function Js(e,t,a){if(mh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ws(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ta(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,n=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){a=""+r,n.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _i(e){if(!e._valueTracker){var t=Jo(e)?"checked":"value";e._valueTracker=yh(e,t,""+e[t])}}function Wo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Jo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function en(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ph=/[\n"\\]/g;function Ot(e){return e.replace(ph,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vi(e,t,a,l,s,n,r,c){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?xi(e,r,Dt(t)):a!=null?xi(e,r,Dt(a)):l!=null&&e.removeAttribute("value"),s==null&&n!=null&&(e.defaultChecked=!!n),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+Dt(c):e.removeAttribute("name")}function eu(e,t,a,l,s,n,r,c){if(n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"&&(e.type=n),t!=null||a!=null){if(!(n!=="submit"&&n!=="reset"||t!=null)){_i(e);return}a=a!=null?""+Dt(a):"",t=t!=null?""+Dt(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=c?e.checked:!!l,e.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),_i(e)}function xi(e,t,a){t==="number"&&en(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function pl(e,t,a,l){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Dt(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function tu(e,t,a){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Dt(a):""}function au(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(d(92));if(re(l)){if(1<l.length)throw Error(d(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Dt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),_i(e)}function gl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var gh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||gh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function su(e,t,a){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&a[s]!==l&&lu(e,s,l)}else for(var n in t)t.hasOwnProperty(n)&&lu(e,n,t[n])}function wi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tn(e){return _h.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function aa(){}var Si=null;function Ai(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bl=null,_l=null;function nu(e){var t=hl(e);if(t&&(e=t.stateNode)){var a=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var s=l[yt]||null;if(!s)throw Error(d(90));vi(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Wo(l)}break e;case"textarea":tu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&pl(e,!!a.multiple,t,!1)}}}var ki=!1;function iu(e,t,a){if(ki)return e(t,a);ki=!0;try{var l=e(t);return l}finally{if(ki=!1,(bl!==null||_l!==null)&&(Ln(),bl&&(t=bl,e=_l,_l=bl=null,nu(t),e)))for(t=0;t<e.length;t++)nu(e[t])}}function es(e,t){var a=e.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,t,typeof a));return a}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ni=!1;if(la)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{Ni=!1}var wa=null,Mi=null,an=null;function ru(){if(an)return an;var e,t=Mi,a=t.length,l,s="value"in wa?wa.value:wa.textContent,n=s.length;for(e=0;e<a&&t[e]===s[e];e++);var r=a-e;for(l=1;l<=r&&t[a-l]===s[n-l];l++);return an=s.slice(e,1<l?1-l:void 0)}function ln(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sn(){return!0}function ou(){return!1}function pt(e){function t(a,l,s,n,r){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=n,this.target=r,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(n):n[c]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?sn:ou,this.isPropagationStopped=ou,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=pt(Pa),as=P({},Pa,{view:0,detail:0}),vh=pt(as),Ti,zi,ls,rn=P({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(Ti=e.screenX-ls.screenX,zi=e.screenY-ls.screenY):zi=Ti=0,ls=e),Ti)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),uu=pt(rn),xh=P({},rn,{dataTransfer:0}),wh=pt(xh),Sh=P({},as,{relatedTarget:0}),qi=pt(Sh),Ah=P({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),kh=pt(Ah),Nh=P({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mh=pt(Nh),Th=P({},Pa,{data:0}),cu=pt(Th),zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jh[e])?!!t[e]:!1}function ji(){return Eh}var Dh=P({},as,{key:function(e){if(e.key){var t=zh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ln(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(e){return e.type==="keypress"?ln(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ln(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oh=pt(Dh),Ch=P({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),du=pt(Ch),Rh=P({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),Yh=pt(Rh),Uh=P({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hh=pt(Uh),Bh=P({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gh=pt(Bh),Ih=P({},Pa,{newState:0,oldState:0}),Lh=pt(Ih),Xh=[9,13,27,32],Ei=la&&"CompositionEvent"in window,ss=null;la&&"documentMode"in document&&(ss=document.documentMode);var Qh=la&&"TextEvent"in window&&!ss,fu=la&&(!Ei||ss&&8<ss&&11>=ss),hu=" ",mu=!1;function yu(e,t){switch(e){case"keyup":return Xh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vl=!1;function Vh(e,t){switch(e){case"compositionend":return pu(t);case"keypress":return t.which!==32?null:(mu=!0,hu);case"textInput":return e=t.data,e===hu&&mu?null:e;default:return null}}function Zh(e,t){if(vl)return e==="compositionend"||!Ei&&yu(e,t)?(e=ru(),an=Mi=wa=null,vl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fu&&t.locale!=="ko"?null:t.data;default:return null}}var Fh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fh[e.type]:t==="textarea"}function bu(e,t,a,l){bl?_l?_l.push(l):_l=[l]:bl=l,t=Kn(t,"onChange"),0<t.length&&(a=new nn("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var ns=null,is=null;function Ph(e){ef(e,0)}function on(e){var t=Wl(e);if(Wo(t))return e}function _u(e,t){if(e==="change")return t}var vu=!1;if(la){var Di;if(la){var Oi="oninput"in document;if(!Oi){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),Oi=typeof xu.oninput=="function"}Di=Oi}else Di=!1;vu=Di&&(!document.documentMode||9<document.documentMode)}function wu(){ns&&(ns.detachEvent("onpropertychange",Su),is=ns=null)}function Su(e){if(e.propertyName==="value"&&on(is)){var t=[];bu(t,is,e,Ai(e)),iu(Ph,t)}}function Kh(e,t,a){e==="focusin"?(wu(),ns=t,is=a,ns.attachEvent("onpropertychange",Su)):e==="focusout"&&wu()}function $h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return on(is)}function Jh(e,t){if(e==="click")return on(t)}function Wh(e,t){if(e==="input"||e==="change")return on(t)}function em(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:em;function rs(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!V.call(t,s)||!kt(e[s],t[s]))return!1}return!0}function Au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ku(e,t){var a=Au(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Au(a)}}function Nu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=en(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=en(e.document)}return t}function Ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tm=la&&"documentMode"in document&&11>=document.documentMode,xl=null,Ri=null,os=null,Yi=!1;function Tu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yi||xl==null||xl!==en(l)||(l=xl,"selectionStart"in l&&Ci(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),os&&rs(os,l)||(os=l,l=Kn(Ri,"onSelect"),0<l.length&&(t=new nn("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=xl)))}function Ka(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var wl={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Ui={},zu={};la&&(zu=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function $a(e){if(Ui[e])return Ui[e];if(!wl[e])return e;var t=wl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in zu)return Ui[e]=t[a];return e}var qu=$a("animationend"),ju=$a("animationiteration"),Eu=$a("animationstart"),am=$a("transitionrun"),lm=$a("transitionstart"),sm=$a("transitioncancel"),Du=$a("transitionend"),Ou=new Map,Hi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hi.push("scrollEnd");function Lt(e,t){Ou.set(e,t),Fa(t,[e])}var un=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ct=[],Sl=0,Bi=0;function cn(){for(var e=Sl,t=Bi=Sl=0;t<e;){var a=Ct[t];Ct[t++]=null;var l=Ct[t];Ct[t++]=null;var s=Ct[t];Ct[t++]=null;var n=Ct[t];if(Ct[t++]=null,l!==null&&s!==null){var r=l.pending;r===null?s.next=s:(s.next=r.next,r.next=s),l.pending=s}n!==0&&Cu(a,s,n)}}function dn(e,t,a,l){Ct[Sl++]=e,Ct[Sl++]=t,Ct[Sl++]=a,Ct[Sl++]=l,Bi|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gi(e,t,a,l){return dn(e,t,a,l),fn(e)}function Ja(e,t){return dn(e,null,null,t),fn(e)}function Cu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var s=!1,n=e.return;n!==null;)n.childLanes|=a,l=n.alternate,l!==null&&(l.childLanes|=a),n.tag===22&&(e=n.stateNode,e===null||e._visibility&1||(s=!0)),e=n,n=n.return;return e.tag===3?(n=e.stateNode,s&&t!==null&&(s=31-At(a),e=n.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=a|536870912),n):null}function fn(e){if(50<qs)throw qs=0,Kr=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Al={};function nm(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,a,l){return new nm(e,t,a,l)}function Ii(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sa(e,t){var a=e.alternate;return a===null?(a=Nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ru(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hn(e,t,a,l,s,n){var r=0;if(l=e,typeof e=="function")Ii(e)&&(r=1);else if(typeof e=="string")r=cy(e,a,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ke:return e=Nt(31,a,t,s),e.elementType=ke,e.lanes=n,e;case Ae:return Wa(a.children,s,n,t);case dt:r=8,s|=24;break;case lt:return e=Nt(12,a,t,s|2),e.elementType=lt,e.lanes=n,e;case C:return e=Nt(13,a,t,s),e.elementType=C,e.lanes=n,e;case Z:return e=Nt(19,a,t,s),e.elementType=Z,e.lanes=n,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g:r=10;break e;case ht:r=9;break e;case w:r=11;break e;case H:r=14;break e;case X:r=16,l=null;break e}r=29,a=Error(d(130,e===null?"null":typeof e,"")),l=null}return t=Nt(r,a,t,s),t.elementType=e,t.type=l,t.lanes=n,t}function Wa(e,t,a,l){return e=Nt(7,e,l,t),e.lanes=a,e}function Li(e,t,a){return e=Nt(6,e,null,t),e.lanes=a,e}function Yu(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function Xi(e,t,a){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Uu=new WeakMap;function Rt(e,t){if(typeof e=="object"&&e!==null){var a=Uu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_(t)},Uu.set(e,t),t)}return{value:e,source:t,stack:_(t)}}var kl=[],Nl=0,mn=null,us=0,Yt=[],Ut=0,Sa=null,Pt=1,Kt="";function na(e,t){kl[Nl++]=us,kl[Nl++]=mn,mn=e,us=t}function Hu(e,t,a){Yt[Ut++]=Pt,Yt[Ut++]=Kt,Yt[Ut++]=Sa,Sa=e;var l=Pt;e=Kt;var s=32-At(l)-1;l&=~(1<<s),a+=1;var n=32-At(t)+s;if(30<n){var r=s-s%5;n=(l&(1<<r)-1).toString(32),l>>=r,s-=r,Pt=1<<32-At(t)+s|a<<s|l,Kt=n+e}else Pt=1<<n|a<<s|l,Kt=e}function Qi(e){e.return!==null&&(na(e,1),Hu(e,1,0))}function Vi(e){for(;e===mn;)mn=kl[--Nl],kl[Nl]=null,us=kl[--Nl],kl[Nl]=null;for(;e===Sa;)Sa=Yt[--Ut],Yt[Ut]=null,Kt=Yt[--Ut],Yt[Ut]=null,Pt=Yt[--Ut],Yt[Ut]=null}function Bu(e,t){Yt[Ut++]=Pt,Yt[Ut++]=Kt,Yt[Ut++]=Sa,Pt=t.id,Kt=t.overflow,Sa=e}var it=null,Oe=null,me=!1,Aa=null,Ht=!1,Zi=Error(d(519));function ka(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cs(Rt(t,e)),Zi}function Gu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[nt]=e,t[yt]=l,a){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(a=0;a<Es.length;a++)de(Es[a],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),eu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),au(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||sf(t.textContent,a)?(l.popover!=null&&(de("beforetoggle",t),de("toggle",t)),l.onScroll!=null&&de("scroll",t),l.onScrollEnd!=null&&de("scrollend",t),l.onClick!=null&&(t.onclick=aa),t=!0):t=!1,t||ka(e,!0)}function Iu(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:it=it.return}}function Ml(e){if(e!==it)return!1;if(!me)return Iu(e),me=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||fo(e.type,e.memoizedProps)),a=!a),a&&Oe&&ka(e),Iu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Oe=mf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Oe=mf(e)}else t===27?(t=Oe,Ha(e.type)?(e=go,go=null,Oe=e):Oe=t):Oe=it?Gt(e.stateNode.nextSibling):null;return!0}function el(){Oe=it=null,me=!1}function Fi(){var e=Aa;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Aa=null),e}function cs(e){Aa===null?Aa=[e]:Aa.push(e)}var Pi=y(null),tl=null,ia=null;function Na(e,t,a){O(Pi,t._currentValue),t._currentValue=a}function ra(e){e._currentValue=Pi.current,S(Pi)}function Ki(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function $i(e,t,a,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var n=s.dependencies;if(n!==null){var r=s.child;n=n.firstContext;e:for(;n!==null;){var c=n;n=s;for(var m=0;m<t.length;m++)if(c.context===t[m]){n.lanes|=a,c=n.alternate,c!==null&&(c.lanes|=a),Ki(n.return,a,e),l||(r=null);break e}n=c.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(d(341));r.lanes|=a,n=r.alternate,n!==null&&(n.lanes|=a),Ki(r,a,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Tl(e,t,a,l){e=null;for(var s=t,n=!1;s!==null;){if(!n){if((s.flags&524288)!==0)n=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(d(387));if(r=r.memoizedProps,r!==null){var c=s.type;kt(s.pendingProps.value,r.value)||(e!==null?e.push(c):e=[c])}}else if(s===ue.current){if(r=s.alternate,r===null)throw Error(d(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Ys):e=[Ys])}s=s.return}e!==null&&$i(t,e,a,l),t.flags|=262144}function yn(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function al(e){tl=e,ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return Lu(tl,e)}function pn(e,t){return tl===null&&al(e),Lu(e,t)}function Lu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ia===null){if(e===null)throw Error(d(308));ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ia=ia.next=t;return a}var im=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},rm=i.unstable_scheduleCallback,om=i.unstable_NormalPriority,Qe={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ji(){return{controller:new im,data:new Map,refCount:0}}function ds(e){e.refCount--,e.refCount===0&&rm(om,function(){e.controller.abort()})}var fs=null,Wi=0,zl=0,ql=null;function um(e,t){if(fs===null){var a=fs=[];Wi=0,zl=ao(),ql={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wi++,t.then(Xu,Xu),t}function Xu(){if(--Wi===0&&fs!==null){ql!==null&&(ql.status="fulfilled");var e=fs;fs=null,zl=0,ql=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function cm(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var Qu=h.S;h.S=function(e,t){Td=Ue(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&um(e,t),Qu!==null&&Qu(e,t)};var ll=y(null);function er(){var e=ll.current;return e!==null?e:qe.pooledCache}function gn(e,t){t===null?O(ll,ll.current):O(ll,t.pool)}function Vu(){var e=er();return e===null?null:{parent:Qe._currentValue,pool:e}}var jl=Error(d(460)),tr=Error(d(474)),bn=Error(d(542)),_n={then:function(){}};function Zu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(aa,aa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ku(e),e;default:if(typeof t.status=="string")t.then(aa,aa);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ku(e),e}throw nl=t,jl}}function sl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(nl=a,jl):a}}var nl=null;function Pu(){if(nl===null)throw Error(d(459));var e=nl;return nl=null,e}function Ku(e){if(e===jl||e===bn)throw Error(d(483))}var El=null,hs=0;function vn(e){var t=hs;return hs+=1,El===null&&(El=[]),Fu(El,e,t)}function ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xn(e,t){throw t.$$typeof===ye?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $u(e){function t(b,p){if(e){var v=b.deletions;v===null?(b.deletions=[p],b.flags|=16):v.push(p)}}function a(b,p){if(!e)return null;for(;p!==null;)t(b,p),p=p.sibling;return null}function l(b){for(var p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function s(b,p){return b=sa(b,p),b.index=0,b.sibling=null,b}function n(b,p,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<p?(b.flags|=67108866,p):v):(b.flags|=67108866,p)):(b.flags|=1048576,p)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function c(b,p,v,z){return p===null||p.tag!==6?(p=Li(v,b.mode,z),p.return=b,p):(p=s(p,v),p.return=b,p)}function m(b,p,v,z){var F=v.type;return F===Ae?T(b,p,v.props.children,z,v.key):p!==null&&(p.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===X&&sl(F)===p.type)?(p=s(p,v.props),ms(p,v),p.return=b,p):(p=hn(v.type,v.key,v.props,null,b.mode,z),ms(p,v),p.return=b,p)}function x(b,p,v,z){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Xi(v,b.mode,z),p.return=b,p):(p=s(p,v.children||[]),p.return=b,p)}function T(b,p,v,z,F){return p===null||p.tag!==7?(p=Wa(v,b.mode,z,F),p.return=b,p):(p=s(p,v),p.return=b,p)}function j(b,p,v){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Li(""+p,b.mode,v),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case at:return v=hn(p.type,p.key,p.props,null,b.mode,v),ms(v,p),v.return=b,v;case Pe:return p=Xi(p,b.mode,v),p.return=b,p;case X:return p=sl(p),j(b,p,v)}if(re(p)||J(p))return p=Wa(p,b.mode,v,null),p.return=b,p;if(typeof p.then=="function")return j(b,vn(p),v);if(p.$$typeof===g)return j(b,pn(b,p),v);xn(b,p)}return null}function A(b,p,v,z){var F=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return F!==null?null:c(b,p,""+v,z);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case at:return v.key===F?m(b,p,v,z):null;case Pe:return v.key===F?x(b,p,v,z):null;case X:return v=sl(v),A(b,p,v,z)}if(re(v)||J(v))return F!==null?null:T(b,p,v,z,null);if(typeof v.then=="function")return A(b,p,vn(v),z);if(v.$$typeof===g)return A(b,p,pn(b,v),z);xn(b,v)}return null}function N(b,p,v,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return b=b.get(v)||null,c(p,b,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case at:return b=b.get(z.key===null?v:z.key)||null,m(p,b,z,F);case Pe:return b=b.get(z.key===null?v:z.key)||null,x(p,b,z,F);case X:return z=sl(z),N(b,p,v,z,F)}if(re(z)||J(z))return b=b.get(v)||null,T(p,b,z,F,null);if(typeof z.then=="function")return N(b,p,v,vn(z),F);if(z.$$typeof===g)return N(b,p,v,pn(p,z),F);xn(p,z)}return null}function L(b,p,v,z){for(var F=null,be=null,Q=p,ie=p=0,he=null;Q!==null&&ie<v.length;ie++){Q.index>ie?(he=Q,Q=null):he=Q.sibling;var _e=A(b,Q,v[ie],z);if(_e===null){Q===null&&(Q=he);break}e&&Q&&_e.alternate===null&&t(b,Q),p=n(_e,p,ie),be===null?F=_e:be.sibling=_e,be=_e,Q=he}if(ie===v.length)return a(b,Q),me&&na(b,ie),F;if(Q===null){for(;ie<v.length;ie++)Q=j(b,v[ie],z),Q!==null&&(p=n(Q,p,ie),be===null?F=Q:be.sibling=Q,be=Q);return me&&na(b,ie),F}for(Q=l(Q);ie<v.length;ie++)he=N(Q,b,ie,v[ie],z),he!==null&&(e&&he.alternate!==null&&Q.delete(he.key===null?ie:he.key),p=n(he,p,ie),be===null?F=he:be.sibling=he,be=he);return e&&Q.forEach(function(Xa){return t(b,Xa)}),me&&na(b,ie),F}function K(b,p,v,z){if(v==null)throw Error(d(151));for(var F=null,be=null,Q=p,ie=p=0,he=null,_e=v.next();Q!==null&&!_e.done;ie++,_e=v.next()){Q.index>ie?(he=Q,Q=null):he=Q.sibling;var Xa=A(b,Q,_e.value,z);if(Xa===null){Q===null&&(Q=he);break}e&&Q&&Xa.alternate===null&&t(b,Q),p=n(Xa,p,ie),be===null?F=Xa:be.sibling=Xa,be=Xa,Q=he}if(_e.done)return a(b,Q),me&&na(b,ie),F;if(Q===null){for(;!_e.done;ie++,_e=v.next())_e=j(b,_e.value,z),_e!==null&&(p=n(_e,p,ie),be===null?F=_e:be.sibling=_e,be=_e);return me&&na(b,ie),F}for(Q=l(Q);!_e.done;ie++,_e=v.next())_e=N(Q,b,ie,_e.value,z),_e!==null&&(e&&_e.alternate!==null&&Q.delete(_e.key===null?ie:_e.key),p=n(_e,p,ie),be===null?F=_e:be.sibling=_e,be=_e);return e&&Q.forEach(function(xy){return t(b,xy)}),me&&na(b,ie),F}function Te(b,p,v,z){if(typeof v=="object"&&v!==null&&v.type===Ae&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case at:e:{for(var F=v.key;p!==null;){if(p.key===F){if(F=v.type,F===Ae){if(p.tag===7){a(b,p.sibling),z=s(p,v.props.children),z.return=b,b=z;break e}}else if(p.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===X&&sl(F)===p.type){a(b,p.sibling),z=s(p,v.props),ms(z,v),z.return=b,b=z;break e}a(b,p);break}else t(b,p);p=p.sibling}v.type===Ae?(z=Wa(v.props.children,b.mode,z,v.key),z.return=b,b=z):(z=hn(v.type,v.key,v.props,null,b.mode,z),ms(z,v),z.return=b,b=z)}return r(b);case Pe:e:{for(F=v.key;p!==null;){if(p.key===F)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){a(b,p.sibling),z=s(p,v.children||[]),z.return=b,b=z;break e}else{a(b,p);break}else t(b,p);p=p.sibling}z=Xi(v,b.mode,z),z.return=b,b=z}return r(b);case X:return v=sl(v),Te(b,p,v,z)}if(re(v))return L(b,p,v,z);if(J(v)){if(F=J(v),typeof F!="function")throw Error(d(150));return v=F.call(v),K(b,p,v,z)}if(typeof v.then=="function")return Te(b,p,vn(v),z);if(v.$$typeof===g)return Te(b,p,pn(b,v),z);xn(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,p!==null&&p.tag===6?(a(b,p.sibling),z=s(p,v),z.return=b,b=z):(a(b,p),z=Li(v,b.mode,z),z.return=b,b=z),r(b)):a(b,p)}return function(b,p,v,z){try{hs=0;var F=Te(b,p,v,z);return El=null,F}catch(Q){if(Q===jl||Q===bn)throw Q;var be=Nt(29,Q,null,b.mode);return be.lanes=z,be.return=b,be}finally{}}}var il=$u(!0),Ju=$u(!1),Ma=!1;function ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ta(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function za(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ve&2)!==0){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=fn(e),Cu(e,null,a),t}return dn(e,l,t,a),fn(e)}function ys(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Lo(e,a)}}function sr(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,n=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};n===null?s=n=r:n=n.next=r,a=a.next}while(a!==null);n===null?s=n=t:n=n.next=t}else s=n=t;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:n,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var nr=!1;function ps(){if(nr){var e=ql;if(e!==null)throw e}}function gs(e,t,a,l){nr=!1;var s=e.updateQueue;Ma=!1;var n=s.firstBaseUpdate,r=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var m=c,x=m.next;m.next=null,r===null?n=x:r.next=x,r=m;var T=e.alternate;T!==null&&(T=T.updateQueue,c=T.lastBaseUpdate,c!==r&&(c===null?T.firstBaseUpdate=x:c.next=x,T.lastBaseUpdate=m))}if(n!==null){var j=s.baseState;r=0,T=x=m=null,c=n;do{var A=c.lane&-536870913,N=A!==c.lane;if(N?(fe&A)===A:(l&A)===A){A!==0&&A===zl&&(nr=!0),T!==null&&(T=T.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var L=e,K=c;A=t;var Te=a;switch(K.tag){case 1:if(L=K.payload,typeof L=="function"){j=L.call(Te,j,A);break e}j=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=K.payload,A=typeof L=="function"?L.call(Te,j,A):L,A==null)break e;j=P({},j,A);break e;case 2:Ma=!0}}A=c.callback,A!==null&&(e.flags|=64,N&&(e.flags|=8192),N=s.callbacks,N===null?s.callbacks=[A]:N.push(A))}else N={lane:A,tag:c.tag,payload:c.payload,callback:c.callback,next:null},T===null?(x=T=N,m=j):T=T.next=N,r|=A;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;N=c,c=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(!0);T===null&&(m=j),s.baseState=m,s.firstBaseUpdate=x,s.lastBaseUpdate=T,n===null&&(s.shared.lanes=0),Oa|=r,e.lanes=r,e.memoizedState=j}}function Wu(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function ec(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wu(a[e],t)}var Dl=y(null),wn=y(0);function tc(e,t){e=pa,O(wn,e),O(Dl,t),pa=e|t.baseLanes}function ir(){O(wn,pa),O(Dl,Dl.current)}function rr(){pa=wn.current,S(Dl),S(wn)}var Mt=y(null),Bt=null;function qa(e){var t=e.alternate;O(Ie,Ie.current&1),O(Mt,e),Bt===null&&(t===null||Dl.current!==null||t.memoizedState!==null)&&(Bt=e)}function or(e){O(Ie,Ie.current),O(Mt,e),Bt===null&&(Bt=e)}function ac(e){e.tag===22?(O(Ie,Ie.current),O(Mt,e),Bt===null&&(Bt=e)):ja()}function ja(){O(Ie,Ie.current),O(Mt,Mt.current)}function Tt(e){S(Mt),Bt===e&&(Bt=null),S(Ie)}var Ie=y(0);function Sn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||yo(a)||po(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oa=0,se=null,Ne=null,Ve=null,An=!1,Ol=!1,rl=!1,kn=0,bs=0,Cl=null,dm=0;function Be(){throw Error(d(321))}function ur(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!kt(e[a],t[a]))return!1;return!0}function cr(e,t,a,l,s,n){return oa=n,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,h.H=e===null||e.memoizedState===null?Hc:kr,rl=!1,n=a(l,s),rl=!1,Ol&&(n=sc(t,a,l,s)),lc(e),n}function lc(e){h.H=xs;var t=Ne!==null&&Ne.next!==null;if(oa=0,Ve=Ne=se=null,An=!1,bs=0,Cl=null,t)throw Error(d(300));e===null||Ze||(e=e.dependencies,e!==null&&yn(e)&&(Ze=!0))}function sc(e,t,a,l){se=e;var s=0;do{if(Ol&&(Cl=null),bs=0,Ol=!1,25<=s)throw Error(d(301));if(s+=1,Ve=Ne=null,e.updateQueue!=null){var n=e.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,n.memoCache!=null&&(n.memoCache.index=0)}h.H=Bc,n=t(a,l)}while(Ol);return n}function fm(){var e=h.H,t=e.useState()[0];return t=typeof t.then=="function"?_s(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(se.flags|=1024),t}function dr(){var e=kn!==0;return kn=0,e}function fr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function hr(e){if(An){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}An=!1}oa=0,Ve=Ne=se=null,Ol=!1,bs=kn=0,Cl=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?se.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Le(){if(Ne===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ve===null?se.memoizedState:Ve.next;if(t!==null)Ve=t,Ne=e;else{if(e===null)throw se.alternate===null?Error(d(467)):Error(d(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ve===null?se.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Nn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _s(e){var t=bs;return bs+=1,Cl===null&&(Cl=[]),e=Fu(Cl,e,t),t=se,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,h.H=t===null||t.memoizedState===null?Hc:kr),e}function Mn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _s(e);if(e.$$typeof===g)return rt(e)}throw Error(d(438,String(e)))}function mr(e){var t=null,a=se.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Nn(),se.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Re;return t.index++,a}function ua(e,t){return typeof t=="function"?t(e):t}function Tn(e){var t=Le();return yr(t,Ne,e)}function yr(e,t,a){var l=e.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=a;var s=e.baseQueue,n=l.pending;if(n!==null){if(s!==null){var r=s.next;s.next=n.next,n.next=r}t.baseQueue=s=n,l.pending=null}if(n=e.baseState,s===null)e.memoizedState=n;else{t=s.next;var c=r=null,m=null,x=t,T=!1;do{var j=x.lane&-536870913;if(j!==x.lane?(fe&j)===j:(oa&j)===j){var A=x.revertLane;if(A===0)m!==null&&(m=m.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),j===zl&&(T=!0);else if((oa&A)===A){x=x.next,A===zl&&(T=!0);continue}else j={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},m===null?(c=m=j,r=n):m=m.next=j,se.lanes|=A,Oa|=A;j=x.action,rl&&a(n,j),n=x.hasEagerState?x.eagerState:a(n,j)}else A={lane:j,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},m===null?(c=m=A,r=n):m=m.next=A,se.lanes|=j,Oa|=j;x=x.next}while(x!==null&&x!==t);if(m===null?r=n:m.next=c,!kt(n,e.memoizedState)&&(Ze=!0,T&&(a=ql,a!==null)))throw a;e.memoizedState=n,e.baseState=r,e.baseQueue=m,l.lastRenderedState=n}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pr(e){var t=Le(),a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var l=a.dispatch,s=a.pending,n=t.memoizedState;if(s!==null){a.pending=null;var r=s=s.next;do n=e(n,r.action),r=r.next;while(r!==s);kt(n,t.memoizedState)||(Ze=!0),t.memoizedState=n,t.baseQueue===null&&(t.baseState=n),a.lastRenderedState=n}return[n,l]}function nc(e,t,a){var l=se,s=Le(),n=me;if(n){if(a===void 0)throw Error(d(407));a=a()}else a=t();var r=!kt((Ne||s).memoizedState,a);if(r&&(s.memoizedState=a,Ze=!0),s=s.queue,_r(oc.bind(null,l,s,e),[e]),s.getSnapshot!==t||r||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Rl(9,{destroy:void 0},rc.bind(null,l,s,a,t),null),qe===null)throw Error(d(349));n||(oa&127)!==0||ic(l,t,a)}return a}function ic(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=se.updateQueue,t===null?(t=Nn(),se.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function rc(e,t,a,l){t.value=a,t.getSnapshot=l,uc(t)&&cc(e)}function oc(e,t,a){return a(function(){uc(t)&&cc(e)})}function uc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!kt(e,a)}catch{return!0}}function cc(e){var t=Ja(e,2);t!==null&&xt(t,e,2)}function gr(e){var t=ft();if(typeof e=="function"){var a=e;if(e=a(),rl){va(!0);try{a()}finally{va(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},t}function dc(e,t,a,l){return e.baseState=a,yr(e,Ne,typeof l=="function"?l:ua)}function hm(e,t,a,l,s){if(jn(e))throw Error(d(485));if(e=t.action,e!==null){var n={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){n.listeners.push(r)}};h.T!==null?a(!0):n.isTransition=!1,l(n),a=t.pending,a===null?(n.next=t.pending=n,fc(t,n)):(n.next=a.next,t.pending=a.next=n)}}function fc(e,t){var a=t.action,l=t.payload,s=e.state;if(t.isTransition){var n=h.T,r={};h.T=r;try{var c=a(s,l),m=h.S;m!==null&&m(r,c),hc(e,t,c)}catch(x){br(e,t,x)}finally{n!==null&&r.types!==null&&(n.types=r.types),h.T=n}}else try{n=a(s,l),hc(e,t,n)}catch(x){br(e,t,x)}}function hc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mc(e,t,l)},function(l){return br(e,t,l)}):mc(e,t,a)}function mc(e,t,a){t.status="fulfilled",t.value=a,yc(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,fc(e,a)))}function br(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,yc(t),t=t.next;while(t!==l)}e.action=null}function yc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function pc(e,t){return t}function gc(e,t){if(me){var a=qe.formState;if(a!==null){e:{var l=se;if(me){if(Oe){t:{for(var s=Oe,n=Ht;s.nodeType!==8;){if(!n){s=null;break t}if(s=Gt(s.nextSibling),s===null){s=null;break t}}n=s.data,s=n==="F!"||n==="F"?s:null}if(s){Oe=Gt(s.nextSibling),l=s.data==="F!";break e}}ka(l)}l=!1}l&&(t=a[0])}}return a=ft(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:t},a.queue=l,a=Rc.bind(null,se,l),l.dispatch=a,l=gr(!1),n=Ar.bind(null,se,!1,l.queue),l=ft(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,a=hm.bind(null,se,s,n,a),s.dispatch=a,l.memoizedState=e,[t,a,!1]}function bc(e){var t=Le();return _c(t,Ne,e)}function _c(e,t,a){if(t=yr(e,t,pc)[0],e=Tn(ua)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=_s(t)}catch(r){throw r===jl?bn:r}else l=t;t=Le();var s=t.queue,n=s.dispatch;return a!==t.memoizedState&&(se.flags|=2048,Rl(9,{destroy:void 0},mm.bind(null,s,a),null)),[l,n,e]}function mm(e,t){e.action=t}function vc(e){var t=Le(),a=Ne;if(a!==null)return _c(t,a,e);Le(),t=t.memoizedState,a=Le();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Rl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=se.updateQueue,t===null&&(t=Nn(),se.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function xc(){return Le().memoizedState}function zn(e,t,a,l){var s=ft();se.flags|=e,s.memoizedState=Rl(1|t,{destroy:void 0},a,l===void 0?null:l)}function qn(e,t,a,l){var s=Le();l=l===void 0?null:l;var n=s.memoizedState.inst;Ne!==null&&l!==null&&ur(l,Ne.memoizedState.deps)?s.memoizedState=Rl(t,n,a,l):(se.flags|=e,s.memoizedState=Rl(1|t,n,a,l))}function wc(e,t){zn(8390656,8,e,t)}function _r(e,t){qn(2048,8,e,t)}function ym(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=Nn(),se.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Sc(e){var t=Le().memoizedState;return ym({ref:t,nextImpl:e}),function(){if((ve&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Ac(e,t){return qn(4,2,e,t)}function kc(e,t){return qn(4,4,e,t)}function Nc(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mc(e,t,a){a=a!=null?a.concat([e]):null,qn(4,4,Nc.bind(null,t,e),a)}function vr(){}function Tc(e,t){var a=Le();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&ur(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function zc(e,t){var a=Le();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&ur(t,l[1]))return l[0];if(l=e(),rl){va(!0);try{e()}finally{va(!1)}}return a.memoizedState=[l,t],l}function xr(e,t,a){return a===void 0||(oa&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=qd(),se.lanes|=e,Oa|=e,a)}function qc(e,t,a,l){return kt(a,t)?a:Dl.current!==null?(e=xr(e,a,l),kt(e,t)||(Ze=!0),e):(oa&42)===0||(oa&1073741824)!==0&&(fe&261930)===0?(Ze=!0,e.memoizedState=a):(e=qd(),se.lanes|=e,Oa|=e,t)}function jc(e,t,a,l,s){var n=M.p;M.p=n!==0&&8>n?n:8;var r=h.T,c={};h.T=c,Ar(e,!1,t,a);try{var m=s(),x=h.S;if(x!==null&&x(c,m),m!==null&&typeof m=="object"&&typeof m.then=="function"){var T=cm(m,l);vs(e,t,T,jt(e))}else vs(e,t,l,jt(e))}catch(j){vs(e,t,{then:function(){},status:"rejected",reason:j},jt())}finally{M.p=n,r!==null&&c.types!==null&&(r.types=c.types),h.T=r}}function pm(){}function wr(e,t,a,l){if(e.tag!==5)throw Error(d(476));var s=Ec(e).queue;jc(e,s,t,D,a===null?pm:function(){return Dc(e),a(l)})}function Ec(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:D},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dc(e){var t=Ec(e);t.next===null&&(t=e.alternate.memoizedState),vs(e,t.next.queue,{},jt())}function Sr(){return rt(Ys)}function Oc(){return Le().memoizedState}function Cc(){return Le().memoizedState}function gm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=jt();e=Ta(a);var l=za(t,e,a);l!==null&&(xt(l,t,a),ys(l,t,a)),t={cache:Ji()},e.payload=t;return}t=t.return}}function bm(e,t,a){var l=jt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jn(e)?Yc(t,a):(a=Gi(e,t,a,l),a!==null&&(xt(a,e,l),Uc(a,t,l)))}function Rc(e,t,a){var l=jt();vs(e,t,a,l)}function vs(e,t,a,l){var s={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(jn(e))Yc(t,s);else{var n=e.alternate;if(e.lanes===0&&(n===null||n.lanes===0)&&(n=t.lastRenderedReducer,n!==null))try{var r=t.lastRenderedState,c=n(r,a);if(s.hasEagerState=!0,s.eagerState=c,kt(c,r))return dn(e,t,s,0),qe===null&&cn(),!1}catch{}finally{}if(a=Gi(e,t,s,l),a!==null)return xt(a,e,l),Uc(a,t,l),!0}return!1}function Ar(e,t,a,l){if(l={lane:2,revertLane:ao(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},jn(e)){if(t)throw Error(d(479))}else t=Gi(e,a,l,2),t!==null&&xt(t,e,2)}function jn(e){var t=e.alternate;return e===se||t!==null&&t===se}function Yc(e,t){Ol=An=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Uc(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Lo(e,a)}}var xs={readContext:rt,use:Mn,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};xs.useEffectEvent=Be;var Hc={readContext:rt,use:Mn,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:wc,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,zn(4194308,4,Nc.bind(null,t,e),a)},useLayoutEffect:function(e,t){return zn(4194308,4,e,t)},useInsertionEffect:function(e,t){zn(4,2,e,t)},useMemo:function(e,t){var a=ft();t=t===void 0?null:t;var l=e();if(rl){va(!0);try{e()}finally{va(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=ft();if(a!==void 0){var s=a(t);if(rl){va(!0);try{a(t)}finally{va(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=bm.bind(null,se,e),[l.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=gr(e);var t=e.queue,a=Rc.bind(null,se,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:vr,useDeferredValue:function(e,t){var a=ft();return xr(a,e,t)},useTransition:function(){var e=gr(!1);return e=jc.bind(null,se,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=se,s=ft();if(me){if(a===void 0)throw Error(d(407));a=a()}else{if(a=t(),qe===null)throw Error(d(349));(fe&127)!==0||ic(l,t,a)}s.memoizedState=a;var n={value:a,getSnapshot:t};return s.queue=n,wc(oc.bind(null,l,n,e),[e]),l.flags|=2048,Rl(9,{destroy:void 0},rc.bind(null,l,n,a,t),null),a},useId:function(){var e=ft(),t=qe.identifierPrefix;if(me){var a=Kt,l=Pt;a=(l&~(1<<32-At(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=kn++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=dm++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Sr,useFormState:gc,useActionState:gc,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Ar.bind(null,se,!0,a),a.dispatch=t,[e,t]},useMemoCache:mr,useCacheRefresh:function(){return ft().memoizedState=gm.bind(null,se)},useEffectEvent:function(e){var t=ft(),a={impl:e};return t.memoizedState=a,function(){if((ve&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}},kr={readContext:rt,use:Mn,useCallback:Tc,useContext:rt,useEffect:_r,useImperativeHandle:Mc,useInsertionEffect:Ac,useLayoutEffect:kc,useMemo:zc,useReducer:Tn,useRef:xc,useState:function(){return Tn(ua)},useDebugValue:vr,useDeferredValue:function(e,t){var a=Le();return qc(a,Ne.memoizedState,e,t)},useTransition:function(){var e=Tn(ua)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:_s(e),t]},useSyncExternalStore:nc,useId:Oc,useHostTransitionStatus:Sr,useFormState:bc,useActionState:bc,useOptimistic:function(e,t){var a=Le();return dc(a,Ne,e,t)},useMemoCache:mr,useCacheRefresh:Cc};kr.useEffectEvent=Sc;var Bc={readContext:rt,use:Mn,useCallback:Tc,useContext:rt,useEffect:_r,useImperativeHandle:Mc,useInsertionEffect:Ac,useLayoutEffect:kc,useMemo:zc,useReducer:pr,useRef:xc,useState:function(){return pr(ua)},useDebugValue:vr,useDeferredValue:function(e,t){var a=Le();return Ne===null?xr(a,e,t):qc(a,Ne.memoizedState,e,t)},useTransition:function(){var e=pr(ua)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:_s(e),t]},useSyncExternalStore:nc,useId:Oc,useHostTransitionStatus:Sr,useFormState:vc,useActionState:vc,useOptimistic:function(e,t){var a=Le();return Ne!==null?dc(a,Ne,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mr,useCacheRefresh:Cc};Bc.useEffectEvent=Sc;function Nr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:P({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=jt(),s=Ta(l);s.payload=t,a!=null&&(s.callback=a),t=za(e,s,l),t!==null&&(xt(t,e,l),ys(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=jt(),s=Ta(l);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=za(e,s,l),t!==null&&(xt(t,e,l),ys(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=jt(),l=Ta(a);l.tag=2,t!=null&&(l.callback=t),t=za(e,l,a),t!==null&&(xt(t,e,a),ys(t,e,a))}};function Gc(e,t,a,l,s,n,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,n,r):t.prototype&&t.prototype.isPureReactComponent?!rs(a,l)||!rs(s,n):!0}function Ic(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Mr.enqueueReplaceState(t,t.state,null)}function ol(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=P({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Lc(e){un(e)}function Xc(e){console.error(e)}function Qc(e){un(e)}function En(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Vc(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Tr(e,t,a){return a=Ta(a),a.tag=3,a.payload={element:null},a.callback=function(){En(e,t)},a}function Zc(e){return e=Ta(e),e.tag=3,e}function Fc(e,t,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var n=l.value;e.payload=function(){return s(n)},e.callback=function(){Vc(t,a,l)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Vc(t,a,l),typeof s!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var c=l.stack;this.componentDidCatch(l.value,{componentStack:c!==null?c:""})})}function _m(e,t,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Tl(t,a,s,!0),a=Mt.current,a!==null){switch(a.tag){case 31:case 13:return Bt===null?Xn():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===_n?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Wr(e,l,s)),!1;case 22:return a.flags|=65536,l===_n?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Wr(e,l,s)),!1}throw Error(d(435,a.tag))}return Wr(e,l,s),Xn(),!1}if(me)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==Zi&&(e=Error(d(422),{cause:l}),cs(Rt(e,a)))):(l!==Zi&&(t=Error(d(423),{cause:l}),cs(Rt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=Rt(l,a),s=Tr(e.stateNode,l,s),sr(e,s),Ge!==4&&(Ge=2)),!1;var n=Error(d(520),{cause:l});if(n=Rt(n,a),zs===null?zs=[n]:zs.push(n),Ge!==4&&(Ge=2),t===null)return!0;l=Rt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=Tr(a.stateNode,l,e),sr(a,e),!1;case 1:if(t=a.type,n=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Ca===null||!Ca.has(n))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Zc(s),Fc(s,e,a,l),sr(a,s),!1}a=a.return}while(a!==null);return!1}var zr=Error(d(461)),Ze=!1;function ot(e,t,a,l){t.child=e===null?Ju(t,null,a,l):il(t,e.child,a,l)}function Pc(e,t,a,l,s){a=a.render;var n=t.ref;if("ref"in l){var r={};for(var c in l)c!=="ref"&&(r[c]=l[c])}else r=l;return al(t),l=cr(e,t,a,r,n,s),c=dr(),e!==null&&!Ze?(fr(e,t,s),ca(e,t,s)):(me&&c&&Qi(t),t.flags|=1,ot(e,t,l,s),t.child)}function Kc(e,t,a,l,s){if(e===null){var n=a.type;return typeof n=="function"&&!Ii(n)&&n.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=n,$c(e,t,n,l,s)):(e=hn(a.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(n=e.child,!Yr(e,s)){var r=n.memoizedProps;if(a=a.compare,a=a!==null?a:rs,a(r,l)&&e.ref===t.ref)return ca(e,t,s)}return t.flags|=1,e=sa(n,l),e.ref=t.ref,e.return=t,t.child=e}function $c(e,t,a,l,s){if(e!==null){var n=e.memoizedProps;if(rs(n,l)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=l=n,Yr(e,s))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,ca(e,t,s)}return qr(e,t,a,l,s)}function Jc(e,t,a,l){var s=l.children,n=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(n=n!==null?n.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~n}else l=0,t.child=null;return Wc(e,t,n,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gn(t,n!==null?n.cachePool:null),n!==null?tc(t,n):ir(),ac(t);else return l=t.lanes=536870912,Wc(e,t,n!==null?n.baseLanes|a:a,a,l)}else n!==null?(gn(t,n.cachePool),tc(t,n),ja(),t.memoizedState=null):(e!==null&&gn(t,null),ir(),ja());return ot(e,t,s,a),t.child}function ws(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wc(e,t,a,l,s){var n=er();return n=n===null?null:{parent:Qe._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&gn(t,null),ir(),ac(t),e!==null&&Tl(e,t,l,!0),t.childLanes=s,null}function Dn(e,t){return t=Cn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ed(e,t,a){return il(t,e.child,null,a),e=Dn(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function vm(e,t,a){var l=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(l.mode==="hidden")return e=Dn(t,l),t.lanes=536870912,ws(null,e);if(or(t),(e=Oe)?(e=hf(e,Ht),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:Pt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},a=Yu(e),a.return=t,t.child=a,it=t,Oe=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return Dn(t,l)}var n=e.memoizedState;if(n!==null){var r=n.dehydrated;if(or(t),s)if(t.flags&256)t.flags&=-257,t=ed(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(Ze||Tl(e,t,a,!1),s=(a&e.childLanes)!==0,Ze||s){if(l=qe,l!==null&&(r=Xo(l,a),r!==0&&r!==n.retryLane))throw n.retryLane=r,Ja(e,r),xt(l,e,r),zr;Xn(),t=ed(e,t,a)}else e=n.treeContext,Oe=Gt(r.nextSibling),it=t,me=!0,Aa=null,Ht=!1,e!==null&&Bu(t,e),t=Dn(t,l),t.flags|=4096;return t}return e=sa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function On(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function qr(e,t,a,l,s){return al(t),a=cr(e,t,a,l,void 0,s),l=dr(),e!==null&&!Ze?(fr(e,t,s),ca(e,t,s)):(me&&l&&Qi(t),t.flags|=1,ot(e,t,a,s),t.child)}function td(e,t,a,l,s,n){return al(t),t.updateQueue=null,a=sc(t,l,a,s),lc(e),l=dr(),e!==null&&!Ze?(fr(e,t,n),ca(e,t,n)):(me&&l&&Qi(t),t.flags|=1,ot(e,t,a,n),t.child)}function ad(e,t,a,l,s){if(al(t),t.stateNode===null){var n=Al,r=a.contextType;typeof r=="object"&&r!==null&&(n=rt(r)),n=new a(l,n),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Mr,t.stateNode=n,n._reactInternals=t,n=t.stateNode,n.props=l,n.state=t.memoizedState,n.refs={},ar(t),r=a.contextType,n.context=typeof r=="object"&&r!==null?rt(r):Al,n.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(Nr(t,a,r,l),n.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&Mr.enqueueReplaceState(n,n.state,null),gs(t,l,n,s),ps(),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){n=t.stateNode;var c=t.memoizedProps,m=ol(a,c);n.props=m;var x=n.context,T=a.contextType;r=Al,typeof T=="object"&&T!==null&&(r=rt(T));var j=a.getDerivedStateFromProps;T=typeof j=="function"||typeof n.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,T||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(c||x!==r)&&Ic(t,n,l,r),Ma=!1;var A=t.memoizedState;n.state=A,gs(t,l,n,s),ps(),x=t.memoizedState,c||A!==x||Ma?(typeof j=="function"&&(Nr(t,a,j,l),x=t.memoizedState),(m=Ma||Gc(t,a,m,l,A,x,r))?(T||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(t.flags|=4194308)):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=x),n.props=l,n.state=x,n.context=r,l=m):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{n=t.stateNode,lr(e,t),r=t.memoizedProps,T=ol(a,r),n.props=T,j=t.pendingProps,A=n.context,x=a.contextType,m=Al,typeof x=="object"&&x!==null&&(m=rt(x)),c=a.getDerivedStateFromProps,(x=typeof c=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(r!==j||A!==m)&&Ic(t,n,l,m),Ma=!1,A=t.memoizedState,n.state=A,gs(t,l,n,s),ps();var N=t.memoizedState;r!==j||A!==N||Ma||e!==null&&e.dependencies!==null&&yn(e.dependencies)?(typeof c=="function"&&(Nr(t,a,c,l),N=t.memoizedState),(T=Ma||Gc(t,a,T,l,A,N,m)||e!==null&&e.dependencies!==null&&yn(e.dependencies))?(x||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(l,N,m),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(l,N,m)),typeof n.componentDidUpdate=="function"&&(t.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof n.componentDidUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),n.props=l,n.state=N,n.context=m,l=T):(typeof n.componentDidUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),l=!1)}return n=l,On(e,t),l=(t.flags&128)!==0,n||l?(n=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:n.render(),t.flags|=1,e!==null&&l?(t.child=il(t,e.child,null,s),t.child=il(t,null,a,s)):ot(e,t,a,s),t.memoizedState=n.state,e=t.child):e=ca(e,t,s),e}function ld(e,t,a,l){return el(),t.flags|=256,ot(e,t,a,l),t.child}var jr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Er(e){return{baseLanes:e,cachePool:Vu()}}function Dr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qt),e}function sd(e,t,a){var l=t.pendingProps,s=!1,n=(t.flags&128)!==0,r;if((r=n)||(r=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(s?qa(t):ja(),(e=Oe)?(e=hf(e,Ht),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sa!==null?{id:Pt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},a=Yu(e),a.return=t,t.child=a,it=t,Oe=null)):e=null,e===null)throw ka(t);return po(e)?t.lanes=32:t.lanes=536870912,null}var c=l.children;return l=l.fallback,s?(ja(),s=t.mode,c=Cn({mode:"hidden",children:c},s),l=Wa(l,s,a,null),c.return=t,l.return=t,c.sibling=l,t.child=c,l=t.child,l.memoizedState=Er(a),l.childLanes=Dr(e,r,a),t.memoizedState=jr,ws(null,l)):(qa(t),Or(t,c))}var m=e.memoizedState;if(m!==null&&(c=m.dehydrated,c!==null)){if(n)t.flags&256?(qa(t),t.flags&=-257,t=Cr(e,t,a)):t.memoizedState!==null?(ja(),t.child=e.child,t.flags|=128,t=null):(ja(),c=l.fallback,s=t.mode,l=Cn({mode:"visible",children:l.children},s),c=Wa(c,s,a,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,il(t,e.child,null,a),l=t.child,l.memoizedState=Er(a),l.childLanes=Dr(e,r,a),t.memoizedState=jr,t=ws(null,l));else if(qa(t),po(c)){if(r=c.nextSibling&&c.nextSibling.dataset,r)var x=r.dgst;r=x,l=Error(d(419)),l.stack="",l.digest=r,cs({value:l,source:null,stack:null}),t=Cr(e,t,a)}else if(Ze||Tl(e,t,a,!1),r=(a&e.childLanes)!==0,Ze||r){if(r=qe,r!==null&&(l=Xo(r,a),l!==0&&l!==m.retryLane))throw m.retryLane=l,Ja(e,l),xt(r,e,l),zr;yo(c)||Xn(),t=Cr(e,t,a)}else yo(c)?(t.flags|=192,t.child=e.child,t=null):(e=m.treeContext,Oe=Gt(c.nextSibling),it=t,me=!0,Aa=null,Ht=!1,e!==null&&Bu(t,e),t=Or(t,l.children),t.flags|=4096);return t}return s?(ja(),c=l.fallback,s=t.mode,m=e.child,x=m.sibling,l=sa(m,{mode:"hidden",children:l.children}),l.subtreeFlags=m.subtreeFlags&65011712,x!==null?c=sa(x,c):(c=Wa(c,s,a,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,ws(null,l),l=t.child,c=e.child.memoizedState,c===null?c=Er(a):(s=c.cachePool,s!==null?(m=Qe._currentValue,s=s.parent!==m?{parent:m,pool:m}:s):s=Vu(),c={baseLanes:c.baseLanes|a,cachePool:s}),l.memoizedState=c,l.childLanes=Dr(e,r,a),t.memoizedState=jr,ws(e.child,l)):(qa(t),a=e.child,e=a.sibling,a=sa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function Or(e,t){return t=Cn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cn(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function Cr(e,t,a){return il(t,e.child,null,a),e=Or(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ki(e.return,t,a)}function Rr(e,t,a,l,s,n){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s,treeForkCount:n}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=s,r.treeForkCount=n)}function id(e,t,a){var l=t.pendingProps,s=l.revealOrder,n=l.tail;l=l.children;var r=Ie.current,c=(r&2)!==0;if(c?(r=r&1|2,t.flags|=128):r&=1,O(Ie,r),ot(e,t,l,a),l=me?us:0,!c&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nd(e,a,t);else if(e.tag===19)nd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Sn(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Rr(t,!1,s,a,n,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sn(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Rr(t,!0,a,null,n,l);break;case"together":Rr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ca(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Oa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Tl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,a=sa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=sa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Yr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&yn(e)))}function xm(e,t,a){switch(t.tag){case 3:Xe(t,t.stateNode.containerInfo),Na(t,Qe,e.memoizedState.cache),el();break;case 27:case 5:wt(t);break;case 4:Xe(t,t.stateNode.containerInfo);break;case 10:Na(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,or(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(qa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?sd(e,t,a):(qa(t),e=ca(e,t,a),e!==null?e.sibling:null);qa(t);break;case 19:var s=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Tl(e,t,a,!1),l=(a&t.childLanes)!==0),s){if(l)return id(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),O(Ie,Ie.current),l)break;return null;case 22:return t.lanes=0,Jc(e,t,a,t.pendingProps);case 24:Na(t,Qe,e.memoizedState.cache)}return ca(e,t,a)}function rd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!Yr(e,a)&&(t.flags&128)===0)return Ze=!1,xm(e,t,a);Ze=(e.flags&131072)!==0}else Ze=!1,me&&(t.flags&1048576)!==0&&Hu(t,us,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=sl(t.elementType),t.type=e,typeof e=="function")Ii(e)?(l=ol(e,l),t.tag=1,t=ad(null,t,e,l,a)):(t.tag=0,t=qr(null,t,e,l,a));else{if(e!=null){var s=e.$$typeof;if(s===w){t.tag=11,t=Pc(null,t,e,l,a);break e}else if(s===H){t.tag=14,t=Kc(null,t,e,l,a);break e}}throw t=oe(e)||e,Error(d(306,t,""))}}return t;case 0:return qr(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,s=ol(l,t.pendingProps),ad(e,t,l,s,a);case 3:e:{if(Xe(t,t.stateNode.containerInfo),e===null)throw Error(d(387));l=t.pendingProps;var n=t.memoizedState;s=n.element,lr(e,t),gs(t,l,null,a);var r=t.memoizedState;if(l=r.cache,Na(t,Qe,l),l!==n.cache&&$i(t,[Qe],a,!0),ps(),l=r.element,n.isDehydrated)if(n={element:l,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){t=ld(e,t,l,a);break e}else if(l!==s){s=Rt(Error(d(424)),t),cs(s),t=ld(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Gt(e.firstChild),it=t,me=!0,Aa=null,Ht=!0,a=Ju(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===s){t=ca(e,t,a);break e}ot(e,t,l,a)}t=t.child}return t;case 26:return On(e,t),e===null?(a=_f(t.type,null,t.pendingProps,null))?t.memoizedState=a:me||(a=t.type,e=t.pendingProps,l=$n(ae.current).createElement(a),l[nt]=t,l[yt]=e,ut(l,a,e),et(l),t.stateNode=l):t.memoizedState=_f(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return wt(t),e===null&&me&&(l=t.stateNode=pf(t.type,t.pendingProps,ae.current),it=t,Ht=!0,s=Oe,Ha(t.type)?(go=s,Oe=Gt(l.firstChild)):Oe=s),ot(e,t,t.pendingProps.children,a),On(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((s=l=Oe)&&(l=$m(l,t.type,t.pendingProps,Ht),l!==null?(t.stateNode=l,it=t,Oe=Gt(l.firstChild),Ht=!1,s=!0):s=!1),s||ka(t)),wt(t),s=t.type,n=t.pendingProps,r=e!==null?e.memoizedProps:null,l=n.children,fo(s,n)?l=null:r!==null&&fo(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=cr(e,t,fm,null,null,a),Ys._currentValue=s),On(e,t),ot(e,t,l,a),t.child;case 6:return e===null&&me&&((e=a=Oe)&&(a=Jm(a,t.pendingProps,Ht),a!==null?(t.stateNode=a,it=t,Oe=null,e=!0):e=!1),e||ka(t)),null;case 13:return sd(e,t,a);case 4:return Xe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=il(t,null,l,a):ot(e,t,l,a),t.child;case 11:return Pc(e,t,t.type,t.pendingProps,a);case 7:return ot(e,t,t.pendingProps,a),t.child;case 8:return ot(e,t,t.pendingProps.children,a),t.child;case 12:return ot(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Na(t,t.type,l.value),ot(e,t,l.children,a),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,al(t),s=rt(s),l=l(s),t.flags|=1,ot(e,t,l,a),t.child;case 14:return Kc(e,t,t.type,t.pendingProps,a);case 15:return $c(e,t,t.type,t.pendingProps,a);case 19:return id(e,t,a);case 31:return vm(e,t,a);case 22:return Jc(e,t,a,t.pendingProps);case 24:return al(t),l=rt(Qe),e===null?(s=er(),s===null&&(s=qe,n=Ji(),s.pooledCache=n,n.refCount++,n!==null&&(s.pooledCacheLanes|=a),s=n),t.memoizedState={parent:l,cache:s},ar(t),Na(t,Qe,s)):((e.lanes&a)!==0&&(lr(e,t),gs(t,null,null,a),ps()),s=e.memoizedState,n=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Na(t,Qe,l)):(l=n.cache,Na(t,Qe,l),l!==s.cache&&$i(t,[Qe],a,!0))),ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function da(e){e.flags|=4}function Ur(e,t,a,l,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Od())e.flags|=8192;else throw nl=_n,tr}else e.flags&=-16777217}function od(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Af(t))if(Od())e.flags|=8192;else throw nl=_n,tr}function Rn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Go():536870912,e.lanes|=t,Bl|=t)}function Ss(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function wm(e,t,a){var l=t.pendingProps;switch(Vi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ra(Qe),Ee(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ml(t)?da(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fi())),Ce(t),null;case 26:var s=t.type,n=t.memoizedState;return e===null?(da(t),n!==null?(Ce(t),od(t,n)):(Ce(t),Ur(t,s,null,l,a))):n?n!==e.memoizedState?(da(t),Ce(t),od(t,n)):(Ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&da(t),Ce(t),Ur(t,s,e,l,a)),null;case 27:if(Qa(t),a=ae.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&da(t);else{if(!l){if(t.stateNode===null)throw Error(d(166));return Ce(t),null}e=G.current,Ml(t)?Gu(t):(e=pf(s,l,a),t.stateNode=e,da(t))}return Ce(t),null;case 5:if(Qa(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&da(t);else{if(!l){if(t.stateNode===null)throw Error(d(166));return Ce(t),null}if(n=G.current,Ml(t))Gu(t);else{var r=$n(ae.current);switch(n){case 1:n=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=r.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?r.createElement(s,{is:l.is}):r.createElement(s)}}n[nt]=t,n[yt]=l;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=n;e:switch(ut(n,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&da(t)}}return Ce(t),Ur(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&da(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(d(166));if(e=ae.current,Ml(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,s=it,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sf(e.nodeValue,a)),e||ka(t,!0)}else e=$n(e).createTextNode(l),e[nt]=t,t.stateNode=e}return Ce(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ml(t),a!==null){if(e===null){if(!l)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[nt]=t}else el(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ce(t),e=!1}else a=Fi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Ce(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Ml(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(d(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));s[nt]=t}else el(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ce(t),s=!1}else s=Fi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==s&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Rn(t,t.updateQueue),Ce(t),null);case 4:return Ee(),e===null&&io(t.stateNode.containerInfo),Ce(t),null;case 10:return ra(t.type),Ce(t),null;case 19:if(S(Ie),l=t.memoizedState,l===null)return Ce(t),null;if(s=(t.flags&128)!==0,n=l.rendering,n===null)if(s)Ss(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(n=Sn(e),n!==null){for(t.flags|=128,Ss(l,!1),e=n.updateQueue,t.updateQueue=e,Rn(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ru(a,e),a=a.sibling;return O(Ie,Ie.current&1|2),me&&na(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ue()>Gn&&(t.flags|=128,s=!0,Ss(l,!1),t.lanes=4194304)}else{if(!s)if(e=Sn(n),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Rn(t,e),Ss(l,!0),l.tail===null&&l.tailMode==="hidden"&&!n.alternate&&!me)return Ce(t),null}else 2*Ue()-l.renderingStartTime>Gn&&a!==536870912&&(t.flags|=128,s=!0,Ss(l,!1),t.lanes=4194304);l.isBackwards?(n.sibling=t.child,t.child=n):(e=l.last,e!==null?e.sibling=n:t.child=n,l.last=n)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ue(),e.sibling=null,a=Ie.current,O(Ie,s?a&1|2:a&1),me&&na(t,l.treeForkCount),e):(Ce(t),null);case 22:case 23:return Tt(t),rr(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),a=t.updateQueue,a!==null&&Rn(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&S(ll),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ra(Qe),Ce(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Sm(e,t){switch(Vi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(Qe),Ee(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Qa(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(d(340));el()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));el()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return S(Ie),null;case 4:return Ee(),null;case 10:return ra(t.type),null;case 22:case 23:return Tt(t),rr(),e!==null&&S(ll),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(Qe),null;case 25:return null;default:return null}}function ud(e,t){switch(Vi(t),t.tag){case 3:ra(Qe),Ee();break;case 26:case 27:case 5:Qa(t);break;case 4:Ee();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:S(Ie);break;case 10:ra(t.type);break;case 22:case 23:Tt(t),rr(),e!==null&&S(ll);break;case 24:ra(Qe)}}function As(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){l=void 0;var n=a.create,r=a.inst;l=n(),r.destroy=l}a=a.next}while(a!==s)}}catch(c){Se(t,t.return,c)}}function Ea(e,t,a){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){var r=l.inst,c=r.destroy;if(c!==void 0){r.destroy=void 0,s=t;var m=a,x=c;try{x()}catch(T){Se(s,m,T)}}}l=l.next}while(l!==n)}}catch(T){Se(t,t.return,T)}}function cd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ec(t,a)}catch(l){Se(e,e.return,l)}}}function dd(e,t,a){a.props=ol(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Se(e,t,l)}}function ks(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(s){Se(e,t,s)}}function $t(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){Se(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Se(e,t,s)}else a.current=null}function fd(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){Se(e,e.return,s)}}function Hr(e,t,a){try{var l=e.stateNode;Qm(l,e.type,a,t),l[yt]=t}catch(s){Se(e,e.return,s)}}function hd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ha(e.type)||e.tag===4}function Br(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=aa));else if(l!==4&&(l===27&&Ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Gr(e,t,a),e=e.sibling;e!==null;)Gr(e,t,a),e=e.sibling}function Yn(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yn(e,t,a),e=e.sibling;e!==null;)Yn(e,t,a),e=e.sibling}function md(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ut(t,l,a),t[nt]=e,t[yt]=a}catch(n){Se(e,e.return,n)}}var fa=!1,Fe=!1,Ir=!1,yd=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Am(e,t){if(e=e.containerInfo,uo=si,e=Mu(e),Ci(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,n=l.focusNode;l=l.focusOffset;try{a.nodeType,n.nodeType}catch{a=null;break e}var r=0,c=-1,m=-1,x=0,T=0,j=e,A=null;t:for(;;){for(var N;j!==a||s!==0&&j.nodeType!==3||(c=r+s),j!==n||l!==0&&j.nodeType!==3||(m=r+l),j.nodeType===3&&(r+=j.nodeValue.length),(N=j.firstChild)!==null;)A=j,j=N;for(;;){if(j===e)break t;if(A===a&&++x===s&&(c=r),A===n&&++T===l&&(m=r),(N=j.nextSibling)!==null)break;j=A,A=j.parentNode}j=N}a=c===-1||m===-1?null:{start:c,end:m}}else a=null}a=a||{start:0,end:0}}else a=null;for(co={focusedElem:e,selectionRange:a},si=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,n=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&n!==null){e=void 0,a=t,s=n.memoizedProps,n=n.memoizedState,l=a.stateNode;try{var L=ol(a.type,s);e=l.getSnapshotBeforeUpdate(L,n),l.__reactInternalSnapshotBeforeUpdate=e}catch(K){Se(a,a.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)mo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function pd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ma(e,a),l&4&&As(5,a);break;case 1:if(ma(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Se(a,a.return,r)}else{var s=ol(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Se(a,a.return,r)}}l&64&&cd(a),l&512&&ks(a,a.return);break;case 3:if(ma(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ec(e,t)}catch(r){Se(a,a.return,r)}}break;case 27:t===null&&l&4&&md(a);case 26:case 5:ma(e,a),t===null&&l&4&&fd(a),l&512&&ks(a,a.return);break;case 12:ma(e,a);break;case 31:ma(e,a),l&4&&_d(e,a);break;case 13:ma(e,a),l&4&&vd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Dm.bind(null,a),Wm(e,a))));break;case 22:if(l=a.memoizedState!==null||fa,!l){t=t!==null&&t.memoizedState!==null||Fe,s=fa;var n=Fe;fa=l,(Fe=t)&&!n?ya(e,a,(a.subtreeFlags&8772)!==0):ma(e,a),fa=s,Fe=n}break;case 30:break;default:ma(e,a)}}function gd(e){var t=e.alternate;t!==null&&(e.alternate=null,gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,gt=!1;function ha(e,t,a){for(a=a.child;a!==null;)bd(e,t,a),a=a.sibling}function bd(e,t,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ge,a)}catch{}switch(a.tag){case 26:Fe||$t(a,t),ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||$t(a,t);var l=Ye,s=gt;Ha(a.type)&&(Ye=a.stateNode,gt=!1),ha(e,t,a),Os(a.stateNode),Ye=l,gt=s;break;case 5:Fe||$t(a,t);case 6:if(l=Ye,s=gt,Ye=null,ha(e,t,a),Ye=l,gt=s,Ye!==null)if(gt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(n){Se(a,t,n)}else try{Ye.removeChild(a.stateNode)}catch(n){Se(a,t,n)}break;case 18:Ye!==null&&(gt?(e=Ye,df(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fl(e)):df(Ye,a.stateNode));break;case 4:l=Ye,s=gt,Ye=a.stateNode.containerInfo,gt=!0,ha(e,t,a),Ye=l,gt=s;break;case 0:case 11:case 14:case 15:Ea(2,a,t),Fe||Ea(4,a,t),ha(e,t,a);break;case 1:Fe||($t(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&dd(a,t,l)),ha(e,t,a);break;case 21:ha(e,t,a);break;case 22:Fe=(l=Fe)||a.memoizedState!==null,ha(e,t,a),Fe=l;break;default:ha(e,t,a)}}function _d(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fl(e)}catch(a){Se(t,t.return,a)}}}function vd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fl(e)}catch(a){Se(t,t.return,a)}}function km(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yd),t;default:throw Error(d(435,e.tag))}}function Un(e,t){var a=km(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var s=Om.bind(null,e,l);l.then(s,s)}})}function bt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],n=e,r=t,c=r;e:for(;c!==null;){switch(c.tag){case 27:if(Ha(c.type)){Ye=c.stateNode,gt=!1;break e}break;case 5:Ye=c.stateNode,gt=!1;break e;case 3:case 4:Ye=c.stateNode.containerInfo,gt=!0;break e}c=c.return}if(Ye===null)throw Error(d(160));bd(n,r,s),Ye=null,gt=!1,n=s.alternate,n!==null&&(n.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xd(t,e),t=t.sibling}var Xt=null;function xd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),_t(e),l&4&&(Ea(3,e,e.return),As(3,e),Ea(5,e,e.return));break;case 1:bt(t,e),_t(e),l&512&&(Fe||a===null||$t(a,a.return)),l&64&&fa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=Xt;if(bt(t,e),_t(e),l&512&&(Fe||a===null||$t(a,a.return)),l&4){var n=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":n=s.getElementsByTagName("title")[0],(!n||n[Jl]||n[nt]||n.namespaceURI==="http://www.w3.org/2000/svg"||n.hasAttribute("itemprop"))&&(n=s.createElement(l),s.head.insertBefore(n,s.querySelector("head > title"))),ut(n,l,a),n[nt]=e,et(n),l=n;break e;case"link":var r=wf("link","href",s).get(l+(a.href||""));if(r){for(var c=0;c<r.length;c++)if(n=r[c],n.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&n.getAttribute("rel")===(a.rel==null?null:a.rel)&&n.getAttribute("title")===(a.title==null?null:a.title)&&n.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(c,1);break t}}n=s.createElement(l),ut(n,l,a),s.head.appendChild(n);break;case"meta":if(r=wf("meta","content",s).get(l+(a.content||""))){for(c=0;c<r.length;c++)if(n=r[c],n.getAttribute("content")===(a.content==null?null:""+a.content)&&n.getAttribute("name")===(a.name==null?null:a.name)&&n.getAttribute("property")===(a.property==null?null:a.property)&&n.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&n.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(c,1);break t}}n=s.createElement(l),ut(n,l,a),s.head.appendChild(n);break;default:throw Error(d(468,l))}n[nt]=e,et(n),l=n}e.stateNode=l}else Sf(s,e.type,e.stateNode);else e.stateNode=xf(s,l,e.memoizedProps);else n!==l?(n===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):n.count--,l===null?Sf(s,e.type,e.stateNode):xf(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hr(e,e.memoizedProps,a.memoizedProps)}break;case 27:bt(t,e),_t(e),l&512&&(Fe||a===null||$t(a,a.return)),a!==null&&l&4&&Hr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bt(t,e),_t(e),l&512&&(Fe||a===null||$t(a,a.return)),e.flags&32){s=e.stateNode;try{gl(s,"")}catch(L){Se(e,e.return,L)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,Hr(e,s,a!==null?a.memoizedProps:s)),l&1024&&(Ir=!0);break;case 6:if(bt(t,e),_t(e),l&4){if(e.stateNode===null)throw Error(d(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(L){Se(e,e.return,L)}}break;case 3:if(ei=null,s=Xt,Xt=Jn(t.containerInfo),bt(t,e),Xt=s,_t(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(L){Se(e,e.return,L)}Ir&&(Ir=!1,wd(e));break;case 4:l=Xt,Xt=Jn(e.stateNode.containerInfo),bt(t,e),_t(e),Xt=l;break;case 12:bt(t,e),_t(e);break;case 31:bt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Un(e,l)));break;case 13:bt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bn=Ue()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Un(e,l)));break;case 22:s=e.memoizedState!==null;var m=a!==null&&a.memoizedState!==null,x=fa,T=Fe;if(fa=x||s,Fe=T||m,bt(t,e),Fe=T,fa=x,_t(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||m||fa||Fe||ul(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){m=a=t;try{if(n=m.stateNode,s)r=n.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{c=m.stateNode;var j=m.memoizedProps.style,A=j!=null&&j.hasOwnProperty("display")?j.display:null;c.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(L){Se(m,m.return,L)}}}else if(t.tag===6){if(a===null){m=t;try{m.stateNode.nodeValue=s?"":m.memoizedProps}catch(L){Se(m,m.return,L)}}}else if(t.tag===18){if(a===null){m=t;try{var N=m.stateNode;s?ff(N,!0):ff(m.stateNode,!1)}catch(L){Se(m,m.return,L)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Un(e,a))));break;case 19:bt(t,e),_t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Un(e,l)));break;case 30:break;case 21:break;default:bt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(hd(l)){a=l;break}l=l.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var s=a.stateNode,n=Br(e);Yn(e,n,s);break;case 5:var r=a.stateNode;a.flags&32&&(gl(r,""),a.flags&=-33);var c=Br(e);Yn(e,c,r);break;case 3:case 4:var m=a.stateNode.containerInfo,x=Br(e);Gr(e,x,m);break;default:throw Error(d(161))}}catch(T){Se(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pd(e,t.alternate,t),t=t.sibling}function ul(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ea(4,t,t.return),ul(t);break;case 1:$t(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&dd(t,t.return,a),ul(t);break;case 27:Os(t.stateNode);case 26:case 5:$t(t,t.return),ul(t);break;case 22:t.memoizedState===null&&ul(t);break;case 30:ul(t);break;default:ul(t)}e=e.sibling}}function ya(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,n=t,r=n.flags;switch(n.tag){case 0:case 11:case 15:ya(s,n,a),As(4,n);break;case 1:if(ya(s,n,a),l=n,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(x){Se(l,l.return,x)}if(l=n,s=l.updateQueue,s!==null){var c=l.stateNode;try{var m=s.shared.hiddenCallbacks;if(m!==null)for(s.shared.hiddenCallbacks=null,s=0;s<m.length;s++)Wu(m[s],c)}catch(x){Se(l,l.return,x)}}a&&r&64&&cd(n),ks(n,n.return);break;case 27:md(n);case 26:case 5:ya(s,n,a),a&&l===null&&r&4&&fd(n),ks(n,n.return);break;case 12:ya(s,n,a);break;case 31:ya(s,n,a),a&&r&4&&_d(s,n);break;case 13:ya(s,n,a),a&&r&4&&vd(s,n);break;case 22:n.memoizedState===null&&ya(s,n,a),ks(n,n.return);break;case 30:break;default:ya(s,n,a)}t=t.sibling}}function Lr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ds(a))}function Xr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ds(e))}function Qt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sd(e,t,a,l),t=t.sibling}function Sd(e,t,a,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,a,l),s&2048&&As(9,t);break;case 1:Qt(e,t,a,l);break;case 3:Qt(e,t,a,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ds(e)));break;case 12:if(s&2048){Qt(e,t,a,l),e=t.stateNode;try{var n=t.memoizedProps,r=n.id,c=n.onPostCommit;typeof c=="function"&&c(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(m){Se(t,t.return,m)}}else Qt(e,t,a,l);break;case 31:Qt(e,t,a,l);break;case 13:Qt(e,t,a,l);break;case 23:break;case 22:n=t.stateNode,r=t.alternate,t.memoizedState!==null?n._visibility&2?Qt(e,t,a,l):Ns(e,t):n._visibility&2?Qt(e,t,a,l):(n._visibility|=2,Yl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Lr(r,t);break;case 24:Qt(e,t,a,l),s&2048&&Xr(t.alternate,t);break;default:Qt(e,t,a,l)}}function Yl(e,t,a,l,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var n=e,r=t,c=a,m=l,x=r.flags;switch(r.tag){case 0:case 11:case 15:Yl(n,r,c,m,s),As(8,r);break;case 23:break;case 22:var T=r.stateNode;r.memoizedState!==null?T._visibility&2?Yl(n,r,c,m,s):Ns(n,r):(T._visibility|=2,Yl(n,r,c,m,s)),s&&x&2048&&Lr(r.alternate,r);break;case 24:Yl(n,r,c,m,s),s&&x&2048&&Xr(r.alternate,r);break;default:Yl(n,r,c,m,s)}t=t.sibling}}function Ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,s=l.flags;switch(l.tag){case 22:Ns(a,l),s&2048&&Lr(l.alternate,l);break;case 24:Ns(a,l),s&2048&&Xr(l.alternate,l);break;default:Ns(a,l)}t=t.sibling}}var Ms=8192;function Ul(e,t,a){if(e.subtreeFlags&Ms)for(e=e.child;e!==null;)Ad(e,t,a),e=e.sibling}function Ad(e,t,a){switch(e.tag){case 26:Ul(e,t,a),e.flags&Ms&&e.memoizedState!==null&&dy(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Ul(e,t,a);break;case 3:case 4:var l=Xt;Xt=Jn(e.stateNode.containerInfo),Ul(e,t,a),Xt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ms,Ms=16777216,Ul(e,t,a),Ms=l):Ul(e,t,a));break;default:Ul(e,t,a)}}function kd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ts(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];tt=l,Md(l,e)}kd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nd(e),e=e.sibling}function Nd(e){switch(e.tag){case 0:case 11:case 15:Ts(e),e.flags&2048&&Ea(9,e,e.return);break;case 3:Ts(e);break;case 12:Ts(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hn(e)):Ts(e);break;default:Ts(e)}}function Hn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];tt=l,Md(l,e)}kd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ea(8,t,t.return),Hn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Hn(t));break;default:Hn(t)}e=e.sibling}}function Md(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Ea(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ds(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tt=l;else e:for(a=e;tt!==null;){l=tt;var s=l.sibling,n=l.return;if(gd(l),l===a){tt=null;break e}if(s!==null){s.return=n,tt=s;break e}tt=n}}}var Nm={getCacheForType:function(e){var t=rt(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return rt(Qe).controller.signal}},Mm=typeof WeakMap=="function"?WeakMap:Map,ve=0,qe=null,ce=null,fe=0,we=0,zt=null,Da=!1,Hl=!1,Qr=!1,pa=0,Ge=0,Oa=0,cl=0,Vr=0,qt=0,Bl=0,zs=null,vt=null,Zr=!1,Bn=0,Td=0,Gn=1/0,In=null,Ca=null,$e=0,Ra=null,Gl=null,ga=0,Fr=0,Pr=null,zd=null,qs=0,Kr=null;function jt(){return(ve&2)!==0&&fe!==0?fe&-fe:h.T!==null?ao():Qo()}function qd(){if(qt===0)if((fe&536870912)===0||me){var e=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),qt=e}else qt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),qt}function xt(e,t,a){(e===qe&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Il(e,0),Ya(e,fe,qt,!1)),$l(e,a),((ve&2)===0||e!==qe)&&(e===qe&&((ve&2)===0&&(cl|=a),Ge===4&&Ya(e,fe,qt,!1)),Jt(e))}function jd(e,t,a){if((ve&6)!==0)throw Error(d(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Kl(e,t),s=l?qm(e,t):Jr(e,t,!0),n=l;do{if(s===0){Hl&&!l&&Ya(e,t,0,!1);break}else{if(a=e.current.alternate,n&&!Tm(a)){s=Jr(e,t,!1),n=!1;continue}if(s===2){if(n=t,e.errorRecoveryDisabledLanes&n)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var c=e;s=zs;var m=c.current.memoizedState.isDehydrated;if(m&&(Il(c,r).flags|=256),r=Jr(c,r,!1),r!==2){if(Qr&&!m){c.errorRecoveryDisabledLanes|=n,cl|=n,s=4;break e}n=vt,vt=s,n!==null&&(vt===null?vt=n:vt.push.apply(vt,n))}s=r}if(n=!1,s!==2)continue}}if(s===1){Il(e,0),Ya(e,t,0,!0);break}e:{switch(l=e,n=s,n){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Ya(l,t,qt,!Da);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(s=Bn+300-Ue(),10<s)){if(Ya(l,t,qt,!Da),$s(l,0,!0)!==0)break e;ga=t,l.timeoutHandle=uf(Ed.bind(null,l,a,vt,In,Zr,t,qt,cl,Bl,Da,n,"Throttled",-0,0),s);break e}Ed(l,a,vt,In,Zr,t,qt,cl,Bl,Da,n,null,-0,0)}}break}while(!0);Jt(e)}function Ed(e,t,a,l,s,n,r,c,m,x,T,j,A,N){if(e.timeoutHandle=-1,j=t.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:aa},Ad(t,n,j);var L=(n&62914560)===n?Bn-Ue():(n&4194048)===n?Td-Ue():0;if(L=fy(j,L),L!==null){ga=n,e.cancelPendingCommit=L(Bd.bind(null,e,t,n,a,l,s,r,c,m,T,j,null,A,N)),Ya(e,n,r,!x);return}}Bd(e,t,n,a,l,s,r,c,m)}function Tm(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],n=s.getSnapshot;s=s.value;try{if(!kt(n(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,a,l){t&=~Vr,t&=~cl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var n=31-At(s),r=1<<n;l[n]=-1,s&=~r}a!==0&&Io(e,a,t)}function Ln(){return(ve&6)===0?(js(0),!1):!0}function $r(){if(ce!==null){if(we===0)var e=ce.return;else e=ce,ia=tl=null,hr(e),El=null,hs=0,e=ce;for(;e!==null;)ud(e.alternate,e),e=e.return;ce=null}}function Il(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Fm(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ga=0,$r(),qe=e,ce=a=sa(e.current,null),fe=t,we=0,zt=null,Da=!1,Hl=Kl(e,t),Qr=!1,Bl=qt=Vr=cl=Oa=Ge=0,vt=zs=null,Zr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-At(l),n=1<<s;t|=e[s],l&=~n}return pa=t,cn(),a}function Dd(e,t){se=null,h.H=xs,t===jl||t===bn?(t=Pu(),we=3):t===tr?(t=Pu(),we=4):we=t===zr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,ce===null&&(Ge=1,En(e,Rt(t,e.current)))}function Od(){var e=Mt.current;return e===null?!0:(fe&4194048)===fe?Bt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Bt:!1}function Cd(){var e=h.H;return h.H=xs,e===null?xs:e}function Rd(){var e=h.A;return h.A=Nm,e}function Xn(){Ge=4,Da||(fe&4194048)!==fe&&Mt.current!==null||(Hl=!0),(Oa&134217727)===0&&(cl&134217727)===0||qe===null||Ya(qe,fe,qt,!1)}function Jr(e,t,a){var l=ve;ve|=2;var s=Cd(),n=Rd();(qe!==e||fe!==t)&&(In=null,Il(e,t)),t=!1;var r=Ge;e:do try{if(we!==0&&ce!==null){var c=ce,m=zt;switch(we){case 8:$r(),r=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var x=we;if(we=0,zt=null,Ll(e,c,m,x),a&&Hl){r=0;break e}break;default:x=we,we=0,zt=null,Ll(e,c,m,x)}}zm(),r=Ge;break}catch(T){Dd(e,T)}while(!0);return t&&e.shellSuspendCounter++,ia=tl=null,ve=l,h.H=s,h.A=n,ce===null&&(qe=null,fe=0,cn()),r}function zm(){for(;ce!==null;)Yd(ce)}function qm(e,t){var a=ve;ve|=2;var l=Cd(),s=Rd();qe!==e||fe!==t?(In=null,Gn=Ue()+500,Il(e,t)):Hl=Kl(e,t);e:do try{if(we!==0&&ce!==null){t=ce;var n=zt;t:switch(we){case 1:we=0,zt=null,Ll(e,t,n,1);break;case 2:case 9:if(Zu(n)){we=0,zt=null,Ud(t);break}t=function(){we!==2&&we!==9||qe!==e||(we=7),Jt(e)},n.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:Zu(n)?(we=0,zt=null,Ud(t)):(we=0,zt=null,Ll(e,t,n,7));break;case 5:var r=null;switch(ce.tag){case 26:r=ce.memoizedState;case 5:case 27:var c=ce;if(r?Af(r):c.stateNode.complete){we=0,zt=null;var m=c.sibling;if(m!==null)ce=m;else{var x=c.return;x!==null?(ce=x,Qn(x)):ce=null}break t}}we=0,zt=null,Ll(e,t,n,5);break;case 6:we=0,zt=null,Ll(e,t,n,6);break;case 8:$r(),Ge=6;break e;default:throw Error(d(462))}}jm();break}catch(T){Dd(e,T)}while(!0);return ia=tl=null,h.H=l,h.A=s,ve=a,ce!==null?0:(qe=null,fe=0,cn(),Ge)}function jm(){for(;ce!==null&&!De();)Yd(ce)}function Yd(e){var t=rd(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?Qn(e):ce=t}function Ud(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=td(a,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=td(a,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:hr(t);default:ud(a,t),t=ce=Ru(t,pa),t=rd(a,t,pa)}e.memoizedProps=e.pendingProps,t===null?Qn(e):ce=t}function Ll(e,t,a,l){ia=tl=null,hr(t),El=null,hs=0;var s=t.return;try{if(_m(e,s,t,a,fe)){Ge=1,En(e,Rt(a,e.current)),ce=null;return}}catch(n){if(s!==null)throw ce=s,n;Ge=1,En(e,Rt(a,e.current)),ce=null;return}t.flags&32768?(me||l===1?e=!0:Hl||(fe&536870912)!==0?e=!1:(Da=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hd(t,e)):Qn(t)}function Qn(e){var t=e;do{if((t.flags&32768)!==0){Hd(t,Da);return}e=t.return;var a=wm(t.alternate,t,pa);if(a!==null){ce=a;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);Ge===0&&(Ge=5)}function Hd(e,t){do{var a=Sm(e.alternate,e);if(a!==null){a.flags&=32767,ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=a}while(e!==null);Ge=6,ce=null}function Bd(e,t,a,l,s,n,r,c,m){e.cancelPendingCommit=null;do Vn();while($e!==0);if((ve&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(n=t.lanes|t.childLanes,n|=Bi,ch(e,a,n,r,c,m),e===qe&&(ce=qe=null,fe=0),Gl=t,Ra=e,ga=a,Fr=n,Pr=s,zd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cm(mt,function(){return Qd(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=h.T,h.T=null,s=M.p,M.p=2,r=ve,ve|=4;try{Am(e,t,a)}finally{ve=r,M.p=s,h.T=l}}$e=1,Gd(),Id(),Ld()}}function Gd(){if($e===1){$e=0;var e=Ra,t=Gl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=h.T,h.T=null;var l=M.p;M.p=2;var s=ve;ve|=4;try{xd(t,e);var n=co,r=Mu(e.containerInfo),c=n.focusedElem,m=n.selectionRange;if(r!==c&&c&&c.ownerDocument&&Nu(c.ownerDocument.documentElement,c)){if(m!==null&&Ci(c)){var x=m.start,T=m.end;if(T===void 0&&(T=x),"selectionStart"in c)c.selectionStart=x,c.selectionEnd=Math.min(T,c.value.length);else{var j=c.ownerDocument||document,A=j&&j.defaultView||window;if(A.getSelection){var N=A.getSelection(),L=c.textContent.length,K=Math.min(m.start,L),Te=m.end===void 0?K:Math.min(m.end,L);!N.extend&&K>Te&&(r=Te,Te=K,K=r);var b=ku(c,K),p=ku(c,Te);if(b&&p&&(N.rangeCount!==1||N.anchorNode!==b.node||N.anchorOffset!==b.offset||N.focusNode!==p.node||N.focusOffset!==p.offset)){var v=j.createRange();v.setStart(b.node,b.offset),N.removeAllRanges(),K>Te?(N.addRange(v),N.extend(p.node,p.offset)):(v.setEnd(p.node,p.offset),N.addRange(v))}}}}for(j=[],N=c;N=N.parentNode;)N.nodeType===1&&j.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<j.length;c++){var z=j[c];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}si=!!uo,co=uo=null}finally{ve=s,M.p=l,h.T=a}}e.current=t,$e=2}}function Id(){if($e===2){$e=0;var e=Ra,t=Gl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=h.T,h.T=null;var l=M.p;M.p=2;var s=ve;ve|=4;try{pd(e,t.alternate,t)}finally{ve=s,M.p=l,h.T=a}}$e=3}}function Ld(){if($e===4||$e===3){$e=0,We();var e=Ra,t=Gl,a=ga,l=zd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?$e=5:($e=0,Gl=Ra=null,Xd(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ca=null),pi(a),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ge,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=h.T,s=M.p,M.p=2,h.T=null;try{for(var n=e.onRecoverableError,r=0;r<l.length;r++){var c=l[r];n(c.value,{componentStack:c.stack})}}finally{h.T=t,M.p=s}}(ga&3)!==0&&Vn(),Jt(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===Kr?qs++:(qs=0,Kr=e):qs=0,js(0)}}function Xd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ds(t)))}function Vn(){return Gd(),Id(),Ld(),Qd()}function Qd(){if($e!==5)return!1;var e=Ra,t=Fr;Fr=0;var a=pi(ga),l=h.T,s=M.p;try{M.p=32>a?32:a,h.T=null,a=Pr,Pr=null;var n=Ra,r=ga;if($e=0,Gl=Ra=null,ga=0,(ve&6)!==0)throw Error(d(331));var c=ve;if(ve|=4,Nd(n.current),Sd(n,n.current,r,a),ve=c,js(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ge,n)}catch{}return!0}finally{M.p=s,h.T=l,Xd(e,t)}}function Vd(e,t,a){t=Rt(a,t),t=Tr(e.stateNode,t,2),e=za(e,t,2),e!==null&&($l(e,2),Jt(e))}function Se(e,t,a){if(e.tag===3)Vd(e,e,a);else for(;t!==null;){if(t.tag===3){Vd(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ca===null||!Ca.has(l))){e=Rt(a,e),a=Zc(2),l=za(t,a,2),l!==null&&(Fc(a,l,t,e),$l(l,2),Jt(l));break}}t=t.return}}function Wr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Mm;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(a)||(Qr=!0,s.add(a),e=Em.bind(null,e,t,a),t.then(e,e))}function Em(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(fe&a)===a&&(Ge===4||Ge===3&&(fe&62914560)===fe&&300>Ue()-Bn?(ve&2)===0&&Il(e,0):Vr|=a,Bl===fe&&(Bl=0)),Jt(e)}function Zd(e,t){t===0&&(t=Go()),e=Ja(e,t),e!==null&&($l(e,t),Jt(e))}function Dm(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Zd(e,a)}function Om(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(d(314))}l!==null&&l.delete(t),Zd(e,a)}function Cm(e,t){return ne(e,t)}var Zn=null,Xl=null,eo=!1,Fn=!1,to=!1,Ua=0;function Jt(e){e!==Xl&&e.next===null&&(Xl===null?Zn=Xl=e:Xl=Xl.next=e),Fn=!0,eo||(eo=!0,Ym())}function js(e,t){if(!to&&Fn){to=!0;do for(var a=!1,l=Zn;l!==null;){if(e!==0){var s=l.pendingLanes;if(s===0)var n=0;else{var r=l.suspendedLanes,c=l.pingedLanes;n=(1<<31-At(42|e)+1)-1,n&=s&~(r&~c),n=n&201326741?n&201326741|1:n?n|2:0}n!==0&&(a=!0,$d(l,n))}else n=fe,n=$s(l,l===qe?n:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(n&3)===0||Kl(l,n)||(a=!0,$d(l,n));l=l.next}while(a);to=!1}}function Rm(){Fd()}function Fd(){Fn=eo=!1;var e=0;Ua!==0&&Zm()&&(e=Ua);for(var t=Ue(),a=null,l=Zn;l!==null;){var s=l.next,n=Pd(l,t);n===0?(l.next=null,a===null?Zn=s:a.next=s,s===null&&(Xl=a)):(a=l,(e!==0||(n&3)!==0)&&(Fn=!0)),l=s}$e!==0&&$e!==5||js(e),Ua!==0&&(Ua=0)}function Pd(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,n=e.pendingLanes&-62914561;0<n;){var r=31-At(n),c=1<<r,m=s[r];m===-1?((c&a)===0||(c&l)!==0)&&(s[r]=uh(c,t)):m<=t&&(e.expiredLanes|=c),n&=~c}if(t=qe,a=fe,a=$s(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&le(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Kl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&le(l),pi(a)){case 2:case 8:a=_a;break;case 32:a=mt;break;case 268435456:a=Ke;break;default:a=mt}return l=Kd.bind(null,e),a=ne(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&le(l),e.callbackPriority=2,e.callbackNode=null,2}function Kd(e,t){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vn()&&e.callbackNode!==a)return null;var l=fe;return l=$s(e,e===qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jd(e,l,t),Pd(e,Ue()),e.callbackNode!=null&&e.callbackNode===a?Kd.bind(null,e):null)}function $d(e,t){if(Vn())return null;jd(e,t,!0)}function Ym(){Pm(function(){(ve&6)!==0?ne(Ft,Rm):Fd()})}function ao(){if(Ua===0){var e=zl;e===0&&(e=Fs,Fs<<=1,(Fs&261888)===0&&(Fs=256)),Ua=e}return Ua}function Jd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tn(""+e)}function Wd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Um(e,t,a,l,s){if(t==="submit"&&a&&a.stateNode===s){var n=Jd((s[yt]||null).action),r=l.submitter;r&&(t=(t=r[yt]||null)?Jd(t.formAction):r.getAttribute("formAction"),t!==null&&(n=t,r=null));var c=new nn("action","action",null,l,s);e.push({event:c,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var m=r?Wd(s,r):new FormData(s);wr(a,{pending:!0,data:m,method:s.method,action:n},null,m)}}else typeof n=="function"&&(c.preventDefault(),m=r?Wd(s,r):new FormData(s),wr(a,{pending:!0,data:m,method:s.method,action:n},n,m))},currentTarget:s}]})}}for(var lo=0;lo<Hi.length;lo++){var so=Hi[lo],Hm=so.toLowerCase(),Bm=so[0].toUpperCase()+so.slice(1);Lt(Hm,"on"+Bm)}Lt(qu,"onAnimationEnd"),Lt(ju,"onAnimationIteration"),Lt(Eu,"onAnimationStart"),Lt("dblclick","onDoubleClick"),Lt("focusin","onFocus"),Lt("focusout","onBlur"),Lt(am,"onTransitionRun"),Lt(lm,"onTransitionStart"),Lt(sm,"onTransitionCancel"),Lt(Du,"onTransitionEnd"),yl("onMouseEnter",["mouseout","mouseover"]),yl("onMouseLeave",["mouseout","mouseover"]),yl("onPointerEnter",["pointerout","pointerover"]),yl("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Es));function ef(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],s=l.event;l=l.listeners;e:{var n=void 0;if(t)for(var r=l.length-1;0<=r;r--){var c=l[r],m=c.instance,x=c.currentTarget;if(c=c.listener,m!==n&&s.isPropagationStopped())break e;n=c,s.currentTarget=x;try{n(s)}catch(T){un(T)}s.currentTarget=null,n=m}else for(r=0;r<l.length;r++){if(c=l[r],m=c.instance,x=c.currentTarget,c=c.listener,m!==n&&s.isPropagationStopped())break e;n=c,s.currentTarget=x;try{n(s)}catch(T){un(T)}s.currentTarget=null,n=m}}}}function de(e,t){var a=t[gi];a===void 0&&(a=t[gi]=new Set);var l=e+"__bubble";a.has(l)||(tf(t,e,2,!1),a.add(l))}function no(e,t,a){var l=0;t&&(l|=4),tf(a,e,l,t)}var Pn="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[Pn]){e[Pn]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(Gm.has(a)||no(a,!1,e),no(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pn]||(t[Pn]=!0,no("selectionchange",!1,t))}}function tf(e,t,a,l){switch(jf(t)){case 2:var s=yy;break;case 8:s=py;break;default:s=wo}a=s.bind(null,t,a,e),s=void 0,!Ni||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function ro(e,t,a,l,s){var n=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var c=l.stateNode.containerInfo;if(c===s)break;if(r===4)for(r=l.return;r!==null;){var m=r.tag;if((m===3||m===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;c!==null;){if(r=fl(c),r===null)return;if(m=r.tag,m===5||m===6||m===26||m===27){l=n=r;continue e}c=c.parentNode}}l=l.return}iu(function(){var x=n,T=Ai(a),j=[];e:{var A=Ou.get(e);if(A!==void 0){var N=nn,L=e;switch(e){case"keypress":if(ln(a)===0)break e;case"keydown":case"keyup":N=Oh;break;case"focusin":L="focus",N=qi;break;case"focusout":L="blur",N=qi;break;case"beforeblur":case"afterblur":N=qi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Yh;break;case qu:case ju:case Eu:N=kh;break;case Du:N=Hh;break;case"scroll":case"scrollend":N=vh;break;case"wheel":N=Gh;break;case"copy":case"cut":case"paste":N=Mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=du;break;case"toggle":case"beforetoggle":N=Lh}var K=(t&4)!==0,Te=!K&&(e==="scroll"||e==="scrollend"),b=K?A!==null?A+"Capture":null:A;K=[];for(var p=x,v;p!==null;){var z=p;if(v=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||v===null||b===null||(z=es(p,b),z!=null&&K.push(Ds(p,z,v))),Te)break;p=p.return}0<K.length&&(A=new N(A,L,null,a,T),j.push({event:A,listeners:K}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",A&&a!==Si&&(L=a.relatedTarget||a.fromElement)&&(fl(L)||L[dl]))break e;if((N||A)&&(A=T.window===T?T:(A=T.ownerDocument)?A.defaultView||A.parentWindow:window,N?(L=a.relatedTarget||a.toElement,N=x,L=L?fl(L):null,L!==null&&(Te=E(L),K=L.tag,L!==Te||K!==5&&K!==27&&K!==6)&&(L=null)):(N=null,L=x),N!==L)){if(K=uu,z="onMouseLeave",b="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(K=du,z="onPointerLeave",b="onPointerEnter",p="pointer"),Te=N==null?A:Wl(N),v=L==null?A:Wl(L),A=new K(z,p+"leave",N,a,T),A.target=Te,A.relatedTarget=v,z=null,fl(T)===x&&(K=new K(b,p+"enter",L,a,T),K.target=v,K.relatedTarget=Te,z=K),Te=z,N&&L)t:{for(K=Im,b=N,p=L,v=0,z=b;z;z=K(z))v++;z=0;for(var F=p;F;F=K(F))z++;for(;0<v-z;)b=K(b),v--;for(;0<z-v;)p=K(p),z--;for(;v--;){if(b===p||p!==null&&b===p.alternate){K=b;break t}b=K(b),p=K(p)}K=null}else K=null;N!==null&&af(j,A,N,K,!1),L!==null&&Te!==null&&af(j,Te,L,K,!0)}}e:{if(A=x?Wl(x):window,N=A.nodeName&&A.nodeName.toLowerCase(),N==="select"||N==="input"&&A.type==="file")var be=_u;else if(gu(A))if(vu)be=Wh;else{be=$h;var Q=Kh}else N=A.nodeName,!N||N.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?x&&wi(x.elementType)&&(be=_u):be=Jh;if(be&&(be=be(e,x))){bu(j,be,a,T);break e}Q&&Q(e,A,x),e==="focusout"&&x&&A.type==="number"&&x.memoizedProps.value!=null&&xi(A,"number",A.value)}switch(Q=x?Wl(x):window,e){case"focusin":(gu(Q)||Q.contentEditable==="true")&&(xl=Q,Ri=x,os=null);break;case"focusout":os=Ri=xl=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":Yi=!1,Tu(j,a,T);break;case"selectionchange":if(tm)break;case"keydown":case"keyup":Tu(j,a,T)}var ie;if(Ei)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else vl?yu(e,a)&&(he="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(he="onCompositionStart");he&&(fu&&a.locale!=="ko"&&(vl||he!=="onCompositionStart"?he==="onCompositionEnd"&&vl&&(ie=ru()):(wa=T,Mi="value"in wa?wa.value:wa.textContent,vl=!0)),Q=Kn(x,he),0<Q.length&&(he=new cu(he,e,null,a,T),j.push({event:he,listeners:Q}),ie?he.data=ie:(ie=pu(a),ie!==null&&(he.data=ie)))),(ie=Qh?Vh(e,a):Zh(e,a))&&(he=Kn(x,"onBeforeInput"),0<he.length&&(Q=new cu("onBeforeInput","beforeinput",null,a,T),j.push({event:Q,listeners:he}),Q.data=ie)),Um(j,e,x,a,T)}ef(j,t)})}function Ds(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Kn(e,t){for(var a=t+"Capture",l=[];e!==null;){var s=e,n=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||n===null||(s=es(e,a),s!=null&&l.unshift(Ds(e,s,n)),s=es(e,t),s!=null&&l.push(Ds(e,s,n))),e.tag===3)return l;e=e.return}return[]}function Im(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function af(e,t,a,l,s){for(var n=t._reactName,r=[];a!==null&&a!==l;){var c=a,m=c.alternate,x=c.stateNode;if(c=c.tag,m!==null&&m===l)break;c!==5&&c!==26&&c!==27||x===null||(m=x,s?(x=es(a,n),x!=null&&r.unshift(Ds(a,x,m))):s||(x=es(a,n),x!=null&&r.push(Ds(a,x,m)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var Lm=/\r\n?/g,Xm=/\u0000|\uFFFD/g;function lf(e){return(typeof e=="string"?e:""+e).replace(Lm,`
`).replace(Xm,"")}function sf(e,t){return t=lf(t),lf(e)===t}function Me(e,t,a,l,s,n){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||gl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&gl(e,""+l);break;case"className":Ws(e,"class",l);break;case"tabIndex":Ws(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ws(e,a,l);break;case"style":su(e,l,n);break;case"data":if(t!=="object"){Ws(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=tn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof n=="function"&&(a==="formAction"?(t!=="input"&&Me(e,t,"name",s.name,s,null),Me(e,t,"formEncType",s.formEncType,s,null),Me(e,t,"formMethod",s.formMethod,s,null),Me(e,t,"formTarget",s.formTarget,s,null)):(Me(e,t,"encType",s.encType,s,null),Me(e,t,"method",s.method,s,null),Me(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=tn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=aa);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=tn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":de("beforetoggle",e),de("toggle",e),Js(e,"popover",l);break;case"xlinkActuate":ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ta(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ta(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ta(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ta(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Js(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bh.get(a)||a,Js(e,a,l))}}function oo(e,t,a,l,s,n){switch(a){case"style":su(e,l,n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof l=="string"?gl(e,l):(typeof l=="number"||typeof l=="bigint")&&gl(e,""+l);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"onClick":l!=null&&(e.onclick=aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),n=e[yt]||null,n=n!=null?n[a]:null,typeof n=="function"&&e.removeEventListener(t,n,s),typeof l=="function")){typeof n!="function"&&n!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,s);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Js(e,a,l)}}}function ut(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var l=!1,s=!1,n;for(n in a)if(a.hasOwnProperty(n)){var r=a[n];if(r!=null)switch(n){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Me(e,t,n,r,a,null)}}s&&Me(e,t,"srcSet",a.srcSet,a,null),l&&Me(e,t,"src",a.src,a,null);return;case"input":de("invalid",e);var c=n=r=s=null,m=null,x=null;for(l in a)if(a.hasOwnProperty(l)){var T=a[l];if(T!=null)switch(l){case"name":s=T;break;case"type":r=T;break;case"checked":m=T;break;case"defaultChecked":x=T;break;case"value":n=T;break;case"defaultValue":c=T;break;case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(d(137,t));break;default:Me(e,t,l,T,a,null)}}eu(e,n,c,m,x,r,s,!1);return;case"select":de("invalid",e),l=r=n=null;for(s in a)if(a.hasOwnProperty(s)&&(c=a[s],c!=null))switch(s){case"value":n=c;break;case"defaultValue":r=c;break;case"multiple":l=c;default:Me(e,t,s,c,a,null)}t=n,a=r,e.multiple=!!l,t!=null?pl(e,!!l,t,!1):a!=null&&pl(e,!!l,a,!0);return;case"textarea":de("invalid",e),n=s=l=null;for(r in a)if(a.hasOwnProperty(r)&&(c=a[r],c!=null))switch(r){case"value":l=c;break;case"defaultValue":s=c;break;case"children":n=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(d(91));break;default:Me(e,t,r,c,a,null)}au(e,l,s,n);return;case"option":for(m in a)if(a.hasOwnProperty(m)&&(l=a[m],l!=null))switch(m){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,t,m,l,a,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(l=0;l<Es.length;l++)de(Es[l],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Me(e,t,x,l,a,null)}return;default:if(wi(t)){for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!==void 0&&oo(e,t,T,l,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(l=a[c],l!=null&&Me(e,t,c,l,a,null))}function Qm(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,n=null,r=null,c=null,m=null,x=null,T=null;for(N in a){var j=a[N];if(a.hasOwnProperty(N)&&j!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":m=j;default:l.hasOwnProperty(N)||Me(e,t,N,null,l,j)}}for(var A in l){var N=l[A];if(j=a[A],l.hasOwnProperty(A)&&(N!=null||j!=null))switch(A){case"type":n=N;break;case"name":s=N;break;case"checked":x=N;break;case"defaultChecked":T=N;break;case"value":r=N;break;case"defaultValue":c=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(d(137,t));break;default:N!==j&&Me(e,t,A,N,l,j)}}vi(e,r,c,m,x,T,n,s);return;case"select":N=r=c=A=null;for(n in a)if(m=a[n],a.hasOwnProperty(n)&&m!=null)switch(n){case"value":break;case"multiple":N=m;default:l.hasOwnProperty(n)||Me(e,t,n,null,l,m)}for(s in l)if(n=l[s],m=a[s],l.hasOwnProperty(s)&&(n!=null||m!=null))switch(s){case"value":A=n;break;case"defaultValue":c=n;break;case"multiple":r=n;default:n!==m&&Me(e,t,s,n,l,m)}t=c,a=r,l=N,A!=null?pl(e,!!a,A,!1):!!l!=!!a&&(t!=null?pl(e,!!a,t,!0):pl(e,!!a,a?[]:"",!1));return;case"textarea":N=A=null;for(c in a)if(s=a[c],a.hasOwnProperty(c)&&s!=null&&!l.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Me(e,t,c,null,l,s)}for(r in l)if(s=l[r],n=a[r],l.hasOwnProperty(r)&&(s!=null||n!=null))switch(r){case"value":A=s;break;case"defaultValue":N=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(d(91));break;default:s!==n&&Me(e,t,r,s,l,n)}tu(e,A,N);return;case"option":for(var L in a)if(A=a[L],a.hasOwnProperty(L)&&A!=null&&!l.hasOwnProperty(L))switch(L){case"selected":e.selected=!1;break;default:Me(e,t,L,null,l,A)}for(m in l)if(A=l[m],N=a[m],l.hasOwnProperty(m)&&A!==N&&(A!=null||N!=null))switch(m){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Me(e,t,m,A,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in a)A=a[K],a.hasOwnProperty(K)&&A!=null&&!l.hasOwnProperty(K)&&Me(e,t,K,null,l,A);for(x in l)if(A=l[x],N=a[x],l.hasOwnProperty(x)&&A!==N&&(A!=null||N!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(d(137,t));break;default:Me(e,t,x,A,l,N)}return;default:if(wi(t)){for(var Te in a)A=a[Te],a.hasOwnProperty(Te)&&A!==void 0&&!l.hasOwnProperty(Te)&&oo(e,t,Te,void 0,l,A);for(T in l)A=l[T],N=a[T],!l.hasOwnProperty(T)||A===N||A===void 0&&N===void 0||oo(e,t,T,A,l,N);return}}for(var b in a)A=a[b],a.hasOwnProperty(b)&&A!=null&&!l.hasOwnProperty(b)&&Me(e,t,b,null,l,A);for(j in l)A=l[j],N=a[j],!l.hasOwnProperty(j)||A===N||A==null&&N==null||Me(e,t,j,A,l,N)}function nf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var s=a[l],n=s.transferSize,r=s.initiatorType,c=s.duration;if(n&&c&&nf(r)){for(r=0,c=s.responseEnd,l+=1;l<a.length;l++){var m=a[l],x=m.startTime;if(x>c)break;var T=m.transferSize,j=m.initiatorType;T&&nf(j)&&(m=m.responseEnd,r+=T*(m<c?1:(c-x)/(m-x)))}if(--l,t+=8*(n+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var uo=null,co=null;function $n(e){return e.nodeType===9?e:e.ownerDocument}function rf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function of(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ho=null;function Zm(){var e=window.event;return e&&e.type==="popstate"?e===ho?!1:(ho=e,!0):(ho=null,!1)}var uf=typeof setTimeout=="function"?setTimeout:void 0,Fm=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,Pm=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(e){return cf.resolve(null).then(e).catch(Km)}:uf;function Km(e){setTimeout(function(){throw e})}function Ha(e){return e==="head"}function df(e,t){var a=t,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(s),Fl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Os(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Os(a);for(var n=a.firstChild;n;){var r=n.nextSibling,c=n.nodeName;n[Jl]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&n.rel.toLowerCase()==="stylesheet"||a.removeChild(n),n=r}}else a==="body"&&Os(e.ownerDocument.body);a=s}while(a);Fl(t)}function ff(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function mo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mo(a),bi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $m(e,t,a,l){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Jl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(n=e.getAttribute("rel"),n==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(n!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(n=e.getAttribute("src"),(n!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&n&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var n=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===n)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Jm(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gt(e.nextSibling),e===null))return null;return e}function hf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function yo(e){return e.data==="$?"||e.data==="$~"}function po(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wm(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var go=null;function mf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Gt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function pf(e,t,a){switch(t=$n(a),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Os(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bi(e)}var It=new Map,gf=new Set;function Jn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ba=M.d;M.d={f:ey,r:ty,D:ay,C:ly,L:sy,m:ny,X:ry,S:iy,M:oy};function ey(){var e=ba.f(),t=Ln();return e||t}function ty(e){var t=hl(e);t!==null&&t.tag===5&&t.type==="form"?Dc(t):ba.r(e)}var Ql=typeof document>"u"?null:document;function bf(e,t,a){var l=Ql;if(l&&typeof t=="string"&&t){var s=Ot(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),gf.has(s)||(gf.add(s),e={rel:e,crossOrigin:a,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),ut(t,"link",e),et(t),l.head.appendChild(t)))}}function ay(e){ba.D(e),bf("dns-prefetch",e,null)}function ly(e,t){ba.C(e,t),bf("preconnect",e,t)}function sy(e,t,a){ba.L(e,t,a);var l=Ql;if(l&&e&&t){var s='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Ot(a.imageSizes)+'"]')):s+='[href="'+Ot(e)+'"]';var n=s;switch(t){case"style":n=Vl(e);break;case"script":n=Zl(e)}It.has(n)||(e=P({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),It.set(n,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(Cs(n))||t==="script"&&l.querySelector(Rs(n))||(t=l.createElement("link"),ut(t,"link",e),et(t),l.head.appendChild(t)))}}function ny(e,t){ba.m(e,t);var a=Ql;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(e)+'"]',n=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=Zl(e)}if(!It.has(n)&&(e=P({rel:"modulepreload",href:e},t),It.set(n,e),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rs(n)))return}l=a.createElement("link"),ut(l,"link",e),et(l),a.head.appendChild(l)}}}function iy(e,t,a){ba.S(e,t,a);var l=Ql;if(l&&e){var s=ml(l).hoistableStyles,n=Vl(e);t=t||"default";var r=s.get(n);if(!r){var c={loading:0,preload:null};if(r=l.querySelector(Cs(n)))c.loading=5;else{e=P({rel:"stylesheet",href:e,"data-precedence":t},a),(a=It.get(n))&&bo(e,a);var m=r=l.createElement("link");et(m),ut(m,"link",e),m._p=new Promise(function(x,T){m.onload=x,m.onerror=T}),m.addEventListener("load",function(){c.loading|=1}),m.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Wn(r,t,l)}r={type:"stylesheet",instance:r,count:1,state:c},s.set(n,r)}}}function ry(e,t){ba.X(e,t);var a=Ql;if(a&&e){var l=ml(a).hoistableScripts,s=Zl(e),n=l.get(s);n||(n=a.querySelector(Rs(s)),n||(e=P({src:e,async:!0},t),(t=It.get(s))&&_o(e,t),n=a.createElement("script"),et(n),ut(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},l.set(s,n))}}function oy(e,t){ba.M(e,t);var a=Ql;if(a&&e){var l=ml(a).hoistableScripts,s=Zl(e),n=l.get(s);n||(n=a.querySelector(Rs(s)),n||(e=P({src:e,async:!0,type:"module"},t),(t=It.get(s))&&_o(e,t),n=a.createElement("script"),et(n),ut(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},l.set(s,n))}}function _f(e,t,a,l){var s=(s=ae.current)?Jn(s):null;if(!s)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Vl(a.href),a=ml(s).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Vl(a.href);var n=ml(s).hoistableStyles,r=n.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},n.set(e,r),(n=s.querySelector(Cs(e)))&&!n._p&&(r.instance=n,r.state.loading=5),It.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},It.set(e,a),n||uy(s,e,a,r.state))),t&&l===null)throw Error(d(528,""));return r}if(t&&l!==null)throw Error(d(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Zl(a),a=ml(s).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Vl(e){return'href="'+Ot(e)+'"'}function Cs(e){return'link[rel="stylesheet"]['+e+"]"}function vf(e){return P({},e,{"data-precedence":e.precedence,precedence:null})}function uy(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ut(t,"link",a),et(t),e.head.appendChild(t))}function Zl(e){return'[src="'+Ot(e)+'"]'}function Rs(e){return"script[async]"+e}function xf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return t.instance=l,et(l),l;var s=P({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),et(l),ut(l,"style",s),Wn(l,a.precedence,e),t.instance=l;case"stylesheet":s=Vl(a.href);var n=e.querySelector(Cs(s));if(n)return t.state.loading|=4,t.instance=n,et(n),n;l=vf(a),(s=It.get(s))&&bo(l,s),n=(e.ownerDocument||e).createElement("link"),et(n);var r=n;return r._p=new Promise(function(c,m){r.onload=c,r.onerror=m}),ut(n,"link",l),t.state.loading|=4,Wn(n,a.precedence,e),t.instance=n;case"script":return n=Zl(a.src),(s=e.querySelector(Rs(n)))?(t.instance=s,et(s),s):(l=a,(s=It.get(n))&&(l=P({},a),_o(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),et(s),ut(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Wn(l,a.precedence,e));return t.instance}function Wn(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,n=s,r=0;r<l.length;r++){var c=l[r];if(c.dataset.precedence===t)n=c;else if(n!==s)break}n?n.parentNode.insertBefore(e,n.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function bo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ei=null;function wf(e,t,a){if(ei===null){var l=new Map,s=ei=new Map;s.set(a,l)}else s=ei,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var n=a[s];if(!(n[Jl]||n[nt]||e==="link"&&n.getAttribute("rel")==="stylesheet")&&n.namespaceURI!=="http://www.w3.org/2000/svg"){var r=n.getAttribute(t)||"";r=e+r;var c=l.get(r);c?c.push(n):l.set(r,[n])}}return l}function Sf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function cy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Af(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dy(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=Vl(l.href),n=t.querySelector(Cs(s));if(n){t=n._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ti.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=n,et(n);return}n=t.ownerDocument||t,l=vf(l),(s=It.get(s))&&bo(l,s),n=n.createElement("link"),et(n);var r=n;r._p=new Promise(function(c,m){r.onload=c,r.onerror=m}),ut(n,"link",l),a.instance=n}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ti.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var vo=0;function fy(e,t){return e.stylesheets&&e.count===0&&li(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&li(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4+t);0<e.imgBytes&&vo===0&&(vo=62500*Vm());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&li(e,e.stylesheets),e.unsuspend)){var n=e.unsuspend;e.unsuspend=null,n()}},(e.imgBytes>vo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function ti(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)li(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ai=null;function li(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ai=new Map,t.forEach(hy,e),ai=null,ti.call(e))}function hy(e,t){if(!(t.state.loading&4)){var a=ai.get(e);if(a)var l=a.get(null);else{a=new Map,ai.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<s.length;n++){var r=s[n];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),l=r)}l&&a.set(null,l)}s=t.instance,r=s.getAttribute("data-precedence"),n=a.get(r)||l,n===l&&a.set(null,s),a.set(r,s),this.count++,l=ti.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),n?n.parentNode.insertBefore(s,n.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Ys={$$typeof:g,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function my(e,t,a,l,s,n,r,c,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=n,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function kf(e,t,a,l,s,n,r,c,m,x,T,j){return e=new my(e,t,a,r,m,x,T,j,c),t=1,n===!0&&(t|=24),n=Nt(3,null,null,t),e.current=n,n.stateNode=e,t=Ji(),t.refCount++,e.pooledCache=t,t.refCount++,n.memoizedState={element:l,isDehydrated:a,cache:t},ar(n),e}function Nf(e){return e?(e=Al,e):Al}function Mf(e,t,a,l,s,n){s=Nf(s),l.context===null?l.context=s:l.pendingContext=s,l=Ta(t),l.payload={element:a},n=n===void 0?null:n,n!==null&&(l.callback=n),a=za(e,l,t),a!==null&&(xt(a,e,t),ys(a,e,t))}function Tf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function xo(e,t){Tf(e,t),(e=e.alternate)&&Tf(e,t)}function zf(e){if(e.tag===13||e.tag===31){var t=Ja(e,67108864);t!==null&&xt(t,e,67108864),xo(e,67108864)}}function qf(e){if(e.tag===13||e.tag===31){var t=jt();t=yi(t);var a=Ja(e,t);a!==null&&xt(a,e,t),xo(e,t)}}var si=!0;function yy(e,t,a,l){var s=h.T;h.T=null;var n=M.p;try{M.p=2,wo(e,t,a,l)}finally{M.p=n,h.T=s}}function py(e,t,a,l){var s=h.T;h.T=null;var n=M.p;try{M.p=8,wo(e,t,a,l)}finally{M.p=n,h.T=s}}function wo(e,t,a,l){if(si){var s=So(l);if(s===null)ro(e,t,l,ni,a),Ef(e,l);else if(by(s,e,t,a,l))l.stopPropagation();else if(Ef(e,l),t&4&&-1<gy.indexOf(e)){for(;s!==null;){var n=hl(s);if(n!==null)switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var r=Za(n.pendingLanes);if(r!==0){var c=n;for(c.pendingLanes|=2,c.entangledLanes|=2;r;){var m=1<<31-At(r);c.entanglements[1]|=m,r&=~m}Jt(n),(ve&6)===0&&(Gn=Ue()+500,js(0))}}break;case 31:case 13:c=Ja(n,2),c!==null&&xt(c,n,2),Ln(),xo(n,2)}if(n=So(l),n===null&&ro(e,t,l,ni,a),n===s)break;s=n}s!==null&&l.stopPropagation()}else ro(e,t,l,null,a)}}function So(e){return e=Ai(e),Ao(e)}var ni=null;function Ao(e){if(ni=null,e=fl(e),e!==null){var t=E(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=U(t),e!==null)return e;e=null}else if(a===31){if(e=I(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ni=e,null}function jf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Et()){case Ft:return 2;case _a:return 8;case mt:case ze:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var ko=!1,Ba=null,Ga=null,Ia=null,Us=new Map,Hs=new Map,La=[],gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ef(e,t){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(t.pointerId)}}function Bs(e,t,a,l,s,n){return e===null||e.nativeEvent!==n?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:n,targetContainers:[s]},t!==null&&(t=hl(t),t!==null&&zf(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function by(e,t,a,l,s){switch(t){case"focusin":return Ba=Bs(Ba,e,t,a,l,s),!0;case"dragenter":return Ga=Bs(Ga,e,t,a,l,s),!0;case"mouseover":return Ia=Bs(Ia,e,t,a,l,s),!0;case"pointerover":var n=s.pointerId;return Us.set(n,Bs(Us.get(n)||null,e,t,a,l,s)),!0;case"gotpointercapture":return n=s.pointerId,Hs.set(n,Bs(Hs.get(n)||null,e,t,a,l,s)),!0}return!1}function Df(e){var t=fl(e.target);if(t!==null){var a=E(t);if(a!==null){if(t=a.tag,t===13){if(t=U(a),t!==null){e.blockedOn=t,Vo(e.priority,function(){qf(a)});return}}else if(t===31){if(t=I(a),t!==null){e.blockedOn=t,Vo(e.priority,function(){qf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=So(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Si=l,a.target.dispatchEvent(l),Si=null}else return t=hl(a),t!==null&&zf(t),e.blockedOn=a,!1;t.shift()}return!0}function Of(e,t,a){ii(e)&&a.delete(t)}function _y(){ko=!1,Ba!==null&&ii(Ba)&&(Ba=null),Ga!==null&&ii(Ga)&&(Ga=null),Ia!==null&&ii(Ia)&&(Ia=null),Us.forEach(Of),Hs.forEach(Of)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_y)))}var oi=null;function Cf(e){oi!==e&&(oi=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oi===e&&(oi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(Ao(l||a)===null)continue;break}var n=hl(a);n!==null&&(e.splice(t,3),t-=3,wr(n,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function Fl(e){function t(m){return ri(m,e)}Ba!==null&&ri(Ba,e),Ga!==null&&ri(Ga,e),Ia!==null&&ri(Ia,e),Us.forEach(t),Hs.forEach(t);for(var a=0;a<La.length;a++){var l=La[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<La.length&&(a=La[0],a.blockedOn===null);)Df(a),a.blockedOn===null&&La.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],n=a[l+1],r=s[yt]||null;if(typeof n=="function")r||Cf(a);else if(r){var c=null;if(n&&n.hasAttribute("formAction")){if(s=n,r=n[yt]||null)c=r.formAction;else if(Ao(s)!==null)continue}else c=r.action;typeof c=="function"?a[l+1]=c:(a.splice(l,3),l-=3),Cf(a)}}}function Rf(){function e(n){n.canIntercept&&n.info==="react-transition"&&n.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var n=navigation.currentEntry;n&&n.url!=null&&navigation.navigate(n.url,{state:n.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function No(e){this._internalRoot=e}ui.prototype.render=No.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var a=t.current,l=jt();Mf(a,l,e,t,null,null)},ui.prototype.unmount=No.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mf(e.current,2,null,e,null,null),Ln(),t[dl]=null}};function ui(e){this._internalRoot=e}ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<La.length&&t!==0&&t<La[a].priority;a++);La.splice(a,0,e),a===0&&Df(e)}};var Yf=u.version;if(Yf!=="19.2.0")throw Error(d(527,Yf,"19.2.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=q(t),e=e!==null?te(e):null,e=e===null?null:e.stateNode,e};var vy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:h,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{ge=ci.inject(vy),He=ci}catch{}}return Is.createRoot=function(e,t){if(!k(e))throw Error(d(299));var a=!1,l="",s=Lc,n=Xc,r=Qc;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(n=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=kf(e,1,!1,null,null,a,l,null,s,n,r,Rf),e[dl]=t.current,io(e),new No(t)},Is.hydrateRoot=function(e,t,a){if(!k(e))throw Error(d(299));var l=!1,s="",n=Lc,r=Xc,c=Qc,m=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(n=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.formState!==void 0&&(m=a.formState)),t=kf(e,1,!0,t,a??null,l,s,m,n,r,c,Rf),t.context=Nf(null),a=t.current,l=jt(),l=yi(l),s=Ta(l),s.callback=null,za(a,s,l),a=l,t.current.lanes=a,$l(t,a),Jt(t),e[dl]=t.current,io(e),new ui(t)},Is.version="19.2.0",Is}var Zf;function qy(){if(Zf)return zo.exports;Zf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),zo.exports=zy(),zo.exports}var jy=qy();const th={zh:{title:"",day:" {{day}} ",stats:{sanity:"",funds:"",suspicion:"",gnosis:"",ap:""},restartRun:"",restartConfirm:"",gameMode:"",hardcoreMode:"",normalMode:"",hardcoreDesc:"",normalDesc:"",startGame:"",newGame:"",loadGame:"",returnToPreviousDay:"",returnToPreviousDayDesc:"",noBackup:"",selectMode:"",selectOrigin:"",hasSave:"",noSave:"",origins:{fallen_noble:{name:"",desc:"",stats:" +20 |  +25 |  80",passive:""},doctor:{name:"",desc:"",stats:" 5 |  5 |  60 | ",passive:"+50%"},vagrant:{name:"",desc:"",stats:" 0 |  0 |  90 | ",passive:""}},inventory:"",emptyInventory:"...",cult:"",lonely:"...",loyalty:"",followerStatus:{healthy:"",injured:"",insane:"",betrayed:""},followerTask:"",journal:"",latestEvents:"",initGame:"404",statChange:{sanity:"",funds:"",suspicion:"",gnosis:""},actions:{free:"",endDay:"",costAP:"{{val}} "},gameOver:{victory:"",defeat:"",daysSurvived:"",finalSanity:"",finalGnosis:"",restart:""}},en:{title:"PALE THRESHOLD",day:"DAY {{day}}",stats:{sanity:"SANITY",funds:"FUNDS",suspicion:"SUSPICION",gnosis:"GNOSIS",ap:"ACTION POINTS"},restartRun:"Abandon Run",restartConfirm:"Abandon this run and restart?",gameMode:"Game Mode",hardcoreMode:"Hardcore",normalMode:"Normal",hardcoreDesc:"Save deleted on death",normalDesc:"Can load previous day",startGame:"Start Game",newGame:"New Game",loadGame:"Load Game",returnToPreviousDay:"Return to Previous Day",returnToPreviousDayDesc:"Return to the previous day's state (Normal mode only)",noBackup:"No backup save available",selectMode:"Select Game Mode",selectOrigin:"Select Origin",hasSave:"Save detected",noSave:"No save",origins:{fallen_noble:{name:"Fallen Noble",desc:"You were once part of high society, but your family has fallen. You have funds and heirlooms, but the Ministry has long watched your family.",stats:"Funds +20 | Suspicion +25 | Sanity 80",passive:"Passive: Immune to price inflation"},doctor:{name:"Doctor",desc:"You are a doctor who has seen too much death and suffering. You have medical supplies, but your sanity is severely eroded.",stats:"Funds 5 | Suspicion 5 | Sanity 60 | Items: Morphine, Scalpel",passive:"Passive: Medical items +50% effect"},vagrant:{name:"Vagrant",desc:"You have wandered the streets for years, long accustomed to hardship. You have nothing, but possess strong resistance and clear awareness of reality.",stats:"Funds 0 | Suspicion 0 | Sanity 90 | High Resistance",passive:"Passive: High sanity start, strong resistance"}},inventory:"INVENTORY",emptyInventory:"Empty...",cult:"THE CULT",lonely:"Alone...",loyalty:"Loyalty",followerStatus:{healthy:"Healthy",injured:"Injured",insane:"Insane",betrayed:"Betrayed"},followerTask:"Request",journal:"JOURNAL",latestEvents:"LATEST EVENTS",initGame:"You wake in Apartment 404, neon slashing through the blinds like fresh wounds.",statChange:{sanity:"Sanity",funds:"Funds",suspicion:"Suspicion",gnosis:"Gnosis"},actions:{free:"FREE",endDay:"END DAY",costAP:"{{val}} AP"},gameOver:{victory:"ASCENSION",defeat:"TERMINATED",daysSurvived:"Days Survived",finalSanity:"Final Sanity",finalGnosis:"Final Gnosis",restart:"BEGIN AGAIN"}}},Ls=i=>{const{player:u}=i,{stats:f,flags:d}=u,k=[];return f.sanity<40&&k.push(" "),f.suspicion>60&&k.push(" "),f.funds<3&&k.push(" "),d.infected&&k.push(" "),d.addicted&&!d.morphine_taken_today&&k.push(" "),d.lover_madeline?k.push(" "):d.madeline_sick&&k.push(" "),f.gnosis>=10&&!u.inventory.includes("laudanum")&&k.push(" "),k.length>0?k[Math.floor(Math.random()*k.length)]:""},Ey={normal:["","","","",""],insane:["","","","","","","","","",""]},Dy={bread:{id:"bread",name:"",description:""},rat_meat:{id:"rat_meat",name:"",description:""},fresh_fish:{id:"fresh_fish",name:"",description:""},cheap_spirits:{id:"cheap_spirits",name:"",description:""},sedatives:{id:"sedatives",name:"",description:""},morphine:{id:"morphine",name:"",description:""},laudanum:{id:"laudanum",name:"",description:""},forbidden_name:{id:"forbidden_name",name:"",description:""},rusty_key:{id:"rusty_key",name:"",description:"7-B"},brass_lantern:{id:"brass_lantern",name:"",description:""},ritual_dagger:{id:"ritual_dagger",name:"",description:""},iron_dagger:{id:"iron_dagger",name:"",description:""},scalpel:{id:"scalpel",name:"",description:""},crumbling_scroll:{id:"crumbling_scroll",name:"",description:""},old_radio:{id:"old_radio",name:"",description:""},loaded_dice:{id:"loaded_dice",name:"",description:""},silver_ring:{id:"silver_ring",name:"",description:""},old_ring:{id:"old_ring",name:"",description:""},music_box:{id:"music_box",name:"",description:"",price:20},doctor_coat:{id:"doctor_coat",name:"",description:""},classified_file:{id:"classified_file",name:"",description:"0"},officer_badge:{id:"officer_badge",name:"",description:""},purge_list:{id:"purge_list",name:"",description:""},gold_tooth:{id:"gold_tooth",name:"",description:""},strange_fungus:{id:"strange_fungus",name:"",description:""},alien_idol:{id:"alien_idol",name:"",description:""},void_salt:{id:"void_salt",name:"",description:""},golden_mask:{id:"golden_mask",name:"",description:""},alchemy_kit:{id:"alchemy_kit",name:"",description:""},purified_serum:{id:"purified_serum",name:"",description:""},ancient_coin:{id:"ancient_coin",name:"",description:""},nutritious_meal:{id:"nutritious_meal",name:"",description:""},strong_painkiller:{id:"strong_painkiller",name:"",description:""},gnosis_elixir:{id:"gnosis_elixir",name:"",description:""},alchemy_coin:{id:"alchemy_coin",name:"",description:""},ritual_mask:{id:"ritual_mask",name:"",description:""},fermented_bread:{id:"fermented_bread",name:"",description:""},recipe_scrap_bread_rat:{id:"recipe_scrap_bread_rat",name:"",description:""},recipe_scrap_morphine_sedatives:{id:"recipe_scrap_morphine_sedatives",name:"",description:""},recipe_scrap_void_salt_fungus:{id:"recipe_scrap_void_salt_fungus",name:"",description:""},recipe_scrap_gold_tooth_coin:{id:"recipe_scrap_gold_tooth_coin",name:"",description:""},recipe_scrap_idol_mask:{id:"recipe_scrap_idol_mask",name:"",description:""},recipe_scrap_bread_spirits:{id:"recipe_scrap_bread_spirits",name:"",description:""},recipe_scrap_serum:{id:"recipe_scrap_serum",name:"",description:""}},Oy={beggar_follower:{id:"beggar_follower",name:"",description:"",role:"moth"},thug_follower:{id:"thug_follower",name:"",description:"",role:"edge"},nurse_follower:{id:"nurse_follower",name:"",description:"",role:"heart"},cat_follower:{id:"cat_follower",name:"",description:"",role:"heart"}},Cy={apartment:{id:"apartment",name:"404",description:i=>{let u="";return i.player.stats.sanity<50&&(u=""),u+Ls(i)},actions:[{id:"leave_apartment",label:"",description:"",result:{text:"",costAP:0,teleport:"street"}},{id:"go_rooftop",label:"",description:"",result:{text:"",costAP:0,teleport:"rooftop"}},{id:"sleep",label:"",description:"",reqFlagsNot:["lover_madeline"],result:{text:"",costAP:99}},{id:"sleep_lover",label:"",description:"",reqFlags:["lover_madeline"],result:{text:"",costAP:99,changes:{sanity:30}}},{id:"eat_rat",label:"",description:"",reqItems:["rat_meat"],result:i=>({text:"",costAP:1,changes:{funds:2,sanity:i.origin==="vagrant"?0:-5},removeItems:["rat_meat"]})},{id:"meditate",label:"/",description:"",result:()=>Math.random()<.15?{text:"",costAP:2,changes:{sanity:5,gnosis:1}}:{text:"",costAP:2,changes:{sanity:5}}},{id:"talk_madeline",label:"",description:"",reqFollowers:["nurse_follower"],reqFlagsNot:["madeline_sick"],result:{text:"",costAP:1,setFlags:{madeline_sick:!0}}},{id:"cure_madeline",label:"",description:" (: )",reqFlags:["madeline_sick"],reqItems:["purified_serum"],reqFlagsNot:["madeline_cured"],result:{text:"",costAP:1,removeItems:["purified_serum"],setFlags:{madeline_cured:!0,madeline_sick:!1},changes:{sanity:20}}},{id:"propose_madeline",label:"",description:" (: , )",reqFlags:["madeline_cured"],reqItems:["silver_ring"],reqFlagsNot:["lover_madeline"],result:{text:"",costAP:1,removeItems:["silver_ring"],setFlags:{lover_madeline:!0},changes:{sanity:50}}},{id:"study_scroll",label:"",description:"",reqItems:["crumbling_scroll"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-25},removeItems:["crumbling_scroll"]}},{id:"enter_dream",label:"",description:"",reqItems:["laudanum"],result:{text:"",costAP:1,teleport:"pale_city",removeItems:["laudanum"]}},{id:"read_recipe_bread_rat",label:"",description:"",reqItems:["recipe_scrap_bread_rat"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_bread_rat"],setFlags:{recipe_known_bread_rat:!0}}},{id:"read_recipe_morphine_sedatives",label:"",description:"",reqItems:["recipe_scrap_morphine_sedatives"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_morphine_sedatives"],setFlags:{recipe_known_morphine_sedatives:!0}}},{id:"read_recipe_void_salt_fungus",label:"",description:"",reqItems:["recipe_scrap_void_salt_fungus"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_void_salt_fungus"],setFlags:{recipe_known_void_salt_fungus:!0}}},{id:"read_recipe_gold_tooth_coin",label:"",description:"",reqItems:["recipe_scrap_gold_tooth_coin"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_gold_tooth_coin"],setFlags:{recipe_known_gold_tooth_coin:!0}}},{id:"read_recipe_idol_mask",label:"",description:"",reqItems:["recipe_scrap_idol_mask"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_idol_mask"],setFlags:{recipe_known_idol_mask:!0}}},{id:"read_recipe_bread_spirits",label:"",description:"",reqItems:["recipe_scrap_bread_spirits"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_bread_spirits"],setFlags:{recipe_known_bread_spirits:!0}}},{id:"read_recipe_serum",label:"",description:"",reqItems:["recipe_scrap_serum"],result:{text:"...",costAP:0,removeItems:["recipe_scrap_serum"],setFlags:{recipe_known_serum:!0}}},{id:"use_alchemy_serum",label:i=>i.player.flags.recipe_known_serum||i.player.inventory.includes("recipe_scrap_serum")?"":"",description:" +   ",reqItems:["alchemy_kit","strange_fungus","cheap_spirits"],result:{text:"",costAP:1,removeItems:["strange_fungus","cheap_spirits"],addItems:["purified_serum"]}},{id:"combine_bread_rat",label:i=>i.player.flags.recipe_known_bread_rat||i.player.inventory.includes("recipe_scrap_bread_rat")?"":"",description:" +   ",reqItems:["alchemy_kit","bread","rat_meat"],result:{text:"",costAP:1,removeItems:["bread","rat_meat"],addItems:["nutritious_meal"],changes:{sanity:10}}},{id:"combine_morphine_sedatives",label:i=>i.player.flags.recipe_known_morphine_sedatives||i.player.inventory.includes("recipe_scrap_morphine_sedatives")?"":"",description:" +   ",reqItems:["alchemy_kit","morphine","sedatives"],result:i=>{const f=i.player.flags.addicted;return Math.random()<.4&&!f?{text:"",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"combine_void_salt_fungus",label:i=>i.player.flags.recipe_known_void_salt_fungus||i.player.inventory.includes("recipe_scrap_void_salt_fungus")?"":"",description:" +   ",reqItems:["alchemy_kit","void_salt","strange_fungus"],result:{text:"",costAP:1,removeItems:["void_salt","strange_fungus"],addItems:["gnosis_elixir"]}},{id:"combine_gold_tooth_coin",label:i=>i.player.flags.recipe_known_gold_tooth_coin||i.player.inventory.includes("recipe_scrap_gold_tooth_coin")?"":"",description:" +   ",reqItems:["alchemy_kit","gold_tooth","ancient_coin"],result:{text:"",costAP:1,removeItems:["gold_tooth","ancient_coin"],addItems:["alchemy_coin"],changes:{gnosis:2}}},{id:"combine_idol_mask",label:i=>i.player.flags.recipe_known_idol_mask||i.player.inventory.includes("recipe_scrap_idol_mask")?"":"",description:" +   ",reqItems:["alchemy_kit","alien_idol","golden_mask"],result:{text:"",costAP:1,removeItems:["alien_idol","golden_mask"],addItems:["ritual_mask"],changes:{gnosis:10,sanity:-30}}},{id:"combine_bread_spirits",label:i=>i.player.flags.recipe_known_bread_spirits||i.player.inventory.includes("recipe_scrap_bread_spirits")?"":"",description:" +   ",reqItems:["alchemy_kit","bread","cheap_spirits"],result:{text:"",costAP:1,removeItems:["bread","cheap_spirits"],addItems:["fermented_bread"]}},{id:"pet_cat",label:'""',description:"",reqFollowers:["cat_follower"],result:i=>{const u=`petted_cat_day_${i.world.day}`;if(i.player.flags[u])return{text:'""',costAP:0};const d=i.player.followerStates?.cat_follower?.loyalty??50,k=10+Math.floor(d/20);return{text:'""',costAP:0,changes:{sanity:Math.min(15,k)},setFlags:{[u]:!0}}}},{id:"feed_cat_fish_again",label:'""',description:"",reqFollowers:["cat_follower"],reqItems:["fresh_fish"],result:i=>{const u=i.player.followerStates?.cat_follower,f=u?.loyalty??50,d=Math.min(100,f+10);return i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={...u,loyalty:d,status:"healthy"},{text:'""',costAP:1,removeItems:["fresh_fish"],changes:{sanity:5}}}},{id:"eat_fish",label:"",description:"",reqItems:["fresh_fish"],result:{text:"",costAP:1,removeItems:["fresh_fish"],changes:{funds:2,sanity:5}}},{id:"eat_bread",label:"",description:"",reqItems:["bread"],result:{text:"",costAP:1,removeItems:["bread"],changes:{sanity:3}}},{id:"drink_spirits",label:"",description:"",reqItems:["cheap_spirits"],result:{text:"",costAP:1,removeItems:["cheap_spirits"],changes:{sanity:10}}},{id:"consume_alchemy_coin",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:5,sanity:15}}},{id:"use_nutritious_meal",label:"",description:"",reqItems:["nutritious_meal"],result:{text:"",costAP:1,removeItems:["nutritious_meal"],changes:{sanity:10}}},{id:"use_strong_painkiller",label:"",description:"",reqItems:["strong_painkiller"],result:i=>{const f=i.player.flags.addicted;return f||Math.random()<.3&&!f?{text:"",costAP:1,removeItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"",costAP:1,removeItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"use_sedatives",label:"",description:"",reqItems:["sedatives"],result:{text:"",costAP:1,removeItems:["sedatives"],changes:{sanity:15}}},{id:"use_morphine",label:"",description:"",reqItems:["morphine"],requiresConfirmation:!0,confirmationMessage:i=>i.player.flags.addicted?"":"30%1235",result:i=>{const f=i.player.flags.addicted;return Math.random()<.3&&!f?{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}},{id:"use_purified_serum",label:"",description:"",reqItems:["purified_serum"],result:{text:"",costAP:1,removeItems:["purified_serum"],changes:{sanity:20}}},{id:"use_gnosis_elixir",label:"",description:"",reqItems:["gnosis_elixir"],result:{text:"",costAP:1,removeItems:["gnosis_elixir"],changes:{gnosis:8,sanity:-2}}},{id:"use_fermented_bread",label:"",description:"",reqItems:["fermented_bread"],result:{text:"",costAP:1,removeItems:["fermented_bread"],changes:{sanity:18}}},{id:"use_ritual_mask",label:"",description:"",reqItems:["ritual_mask"],result:i=>{const u=`used_ritual_mask_day_${i.world.day}`;return i.player.flags[u]?{text:"",costAP:0}:{text:"",costAP:1,changes:{gnosis:7,sanity:-20},setFlags:{[u]:!0}}}},{id:"complete_follower_task",label:"",description:"",reqFollowers:[],result:i=>{const u=i.player.followers.find(E=>{const U=i.player.followerStates?.[E];return U&&U.task&&U.status==="healthy"});if(!u)return{text:"",costAP:0};const f=i.player.followerStates[u],d=f.task,k=u==="beggar_follower"?"":u==="thug_follower"?"":u==="nurse_follower"?"":"";return d.type==="money"&&d.requirement.money?i.player.stats.funds<d.requirement.money?{text:` ${d.requirement.money} `,costAP:0}:(i.player.stats.funds-=d.requirement.money,f.loyalty=Math.min(100,f.loyalty+(d.reward.loyalty||0)),f.task=void 0,{text:`${k}""`,costAP:1,changes:{funds:-d.requirement.money}}):d.type==="item"&&d.requirement.item?i.player.inventory.includes(d.requirement.item)?(i.player.inventory=i.player.inventory.filter(U=>U!==d.requirement.item),f.loyalty=Math.min(100,f.loyalty+(d.reward.loyalty||0)),f.task=void 0,{text:`${k}${{bread:"",morphine:"",sedatives:"",cheap_spirits:""}[d.requirement.item]||d.requirement.item}""`,costAP:1,removeItems:[d.requirement.item]}):{text:` ${{bread:"",morphine:"",sedatives:"",cheap_spirits:""}[d.requirement.item]||d.requirement.item}`,costAP:0}:d.type==="help"?(f.loyalty=Math.min(100,f.loyalty+(d.reward.loyalty||0)),f.task=void 0,{text:`${k}""`,costAP:1,changes:{sanity:5}}):{text:"",costAP:1}}},{id:"reject_follower_task",label:"",description:"",reqFollowers:[],result:i=>{const u=i.player.followers.find(q=>{const te=i.player.followerStates?.[q];return te&&te.task&&te.status==="healthy"});if(!u)return{text:"",costAP:0};const f=i.player.followerStates[u],d=f.task,k=u==="beggar_follower"?"":u==="thug_follower"?"":u==="nurse_follower"?"":"";f.loyalty=Math.max(0,f.loyalty+(d.penalty.loyalty||0));const E=u==="nurse_follower",U=E&&i.player.flags.lover_madeline,I=E?"":"";return d.penalty.leave&&f.loyalty<30&&!U?(i.player.followers=i.player.followers.filter(q=>q!==u),delete i.player.followerStates[u],E?i.player.flags.madeline_left=!0:u==="beggar_follower"&&(i.player.flags.beggar_died=!0),{text:`${k}""${I}`,costAP:1,removeFollowers:[u],changes:{sanity:-10}}):(f.task=void 0,{text:U?`${k}"..."`:`${k}""`,costAP:1,changes:{sanity:-5}})}},{id:"heal_follower",label:"",description:"",reqItems:["morphine","purified_serum"],reqFollowers:[],result:i=>{const u=i.origin==="doctor",f=i.player.followers.find(U=>{const I=i.player.followerStates?.[U];return I&&I.status==="injured"});if(!f)return{text:"",costAP:0};const d=i.player.followerStates[f],k=f==="beggar_follower"?"":f==="thug_follower"?"":f==="nurse_follower"?"":"";let E="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(U=>U!=="purified_serum"),E="purified_serum";else if(i.player.inventory.includes("morphine"))i.player.inventory=i.player.inventory.filter(U=>U!=="morphine"),E="morphine";else return{text:"",costAP:0};return d.status="healthy",d.loyalty=Math.min(100,d.loyalty+25),{text:`${k}""`,costAP:u?0:1,removeItems:[E],changes:{sanity:10}}}},{id:"calm_insane_follower",label:"",description:"",reqItems:["sedatives","purified_serum"],reqFollowers:[],result:i=>{const u=i.player.followers.find(E=>{const U=i.player.followerStates?.[E];return U&&U.status==="insane"});if(!u)return{text:"",costAP:0};const f=i.player.followerStates[u],d=u==="beggar_follower"?"":u==="thug_follower"?"":u==="nurse_follower"?"":"";let k="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(E=>E!=="purified_serum"),k="purified_serum";else if(i.player.inventory.includes("sedatives"))i.player.inventory=i.player.inventory.filter(E=>E!=="sedatives"),k="sedatives";else return{text:"",costAP:0};return Math.random()<.7?(f.status="healthy",f.loyalty=Math.min(100,f.loyalty+30),{text:`${d}"..."`,costAP:1,removeItems:[k],changes:{sanity:15}}):(f.loyalty=Math.min(100,f.loyalty+10),{text:`${d}`,costAP:1,removeItems:[k],changes:{sanity:5}})}},{id:"dispatch_beggar_steal",label:"",reqFollowers:["beggar_follower"],result:i=>{const u=i.player.followerStates?.beggar_follower;if(u&&u.status!=="healthy")return{text:"",costAP:0};const f=i.player.stats.suspicion,E=f>30?Math.min(.5,.1+(f-30)*.0057):0;if(Math.random()<E)return i.player.flags.beggar_died=!0,{text:"",costAP:1,removeFollowers:["beggar_follower"],setFlags:{beggar_died:!0},changes:{suspicion:40,sanity:-10}};const U=u?Math.floor(u.loyalty/20):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"",costAP:1,changes:{funds:3+U,suspicion:3}}}},{id:"dispatch_thug_extort",label:"",reqFollowers:["thug_follower"],result:i=>{const u=i.player.followerStates?.thug_follower;if(u&&u.status!=="healthy")return{text:"",costAP:0};const f=u?u.loyalty:50,d=.35,E=d-f/100*(d-.05);if(Math.random()<E)return delete i.player.flags.thug_healed,{text:'"..."',costAP:1,removeFollowers:["thug_follower"],changes:{sanity:-20}};const U=u?Math.floor(u.loyalty/15):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"",costAP:1,changes:{funds:8+U,suspicion:10,sanity:-2}}}}]},rooftop:{id:"rooftop",name:"",description:"",actions:[{id:"return_apartment_roof",label:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"dance_madeline",label:"",description:" (: , )",reqFlags:["lover_madeline"],reqItems:["music_box"],result:{text:"",costAP:1,changes:{sanity:15}}},{id:"gaze_stars",label:"",description:"",result:i=>{const u=`gazed_stars_day_${i.world.day}`;return i.player.flags[u]?{text:"",costAP:0}:{text:"",costAP:1,changes:{gnosis:1,sanity:-15},setFlags:{[u]:!0}}}},{id:"spot_cat",label:"",description:"",reqFollowersNot:["cat_follower"],result:{text:"",costAP:0}},{id:"feed_cat_fish",label:"",reqItems:["fresh_fish"],reqFollowersNot:["cat_follower"],result:i=>(i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={loyalty:30,status:"healthy"},{text:"",costAP:1,removeItems:["fresh_fish"],addFollowers:["cat_follower"],changes:{sanity:10}})}]},street:{id:"street",name:"7",description:i=>""+Ls(i),actions:[{id:"return_apartment",label:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"run_away",label:"",description:" (: , $50)",reqFlags:["lover_madeline"],reqStats:{funds:50},result:{text:"",costAP:1,setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"escape_smuggle",label:"",description:" (: $200)",reqStats:{funds:200},result:{text:"",costAP:2,changes:{funds:-200},setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"enter_clinic",label:"",description:"",result:{text:"",costAP:0,teleport:"clinic"}},{id:"enter_tavern",label:"",description:"",result:{text:"",costAP:0,teleport:"tavern",setFlags:{known_tavern:!0}}},{id:"work_dock",label:"",description:"",reqStats:{sanity:15},result:{text:"",costAP:1,changes:{funds:4,sanity:-12}}},{id:"scavenge",label:"",description:"",result:()=>{if(Math.random()<.05){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],f=u[Math.floor(Math.random()*u.length)];return{text:"",costAP:1,changes:{funds:1,sanity:-2},addItems:[f]}}return{text:"",costAP:1,changes:{funds:1,sanity:-2}}}},{id:"beg",label:"",description:"",result:i=>{const f=i.origin==="vagrant"?.8:.4;if(Math.random()<f){const k=Math.random()<.5?1:2;return{text:k===1?"":"",costAP:1,changes:{funds:k,sanity:-3}}}else return{text:"",costAP:1,changes:{sanity:-5}}}},{id:"enter_black_market",label:"",description:"",reqFlags:["known_market"],reqFlagsNot:["black_market_banned"],reqStats:{funds:5},result:{text:"",costAP:1,teleport:"black_market"}},{id:"visit_asylum",label:"",description:"9",reqFlags:["known_asylum"],result:{text:"",costAP:0,teleport:"asylum"}},{id:"visit_ministry",label:"",description:"",reqFlags:["known_ministry"],result:{text:"",costAP:0,teleport:"ministry"}},{id:"recruit_beggar",label:"",description:"",reqFlags:["met_beggar"],reqFollowersNot:["beggar_follower"],reqFlagsNot:["beggar_died"],reqStats:{gnosis:3},reqItems:["strange_fungus"],result:{text:'""',costAP:1,removeItems:["strange_fungus"],addFollowers:["beggar_follower"],changes:{gnosis:1}}},{id:"recruit_thug",label:"",description:"",reqItems:["morphine"],reqFollowersNot:["thug_follower"],reqFlagsNot:["thug_healed"],result:{text:"",costAP:1,removeItems:["morphine"],addFollowers:["thug_follower"],setFlags:{thug_healed:!0}}},{id:"talk_beggar",label:"",reqFlagsNot:["met_beggar"],result:()=>({text:"",costAP:1,addItems:["rusty_key"],setFlags:{met_beggar:!0,known_market:!0},changes:{suspicion:5}})},{id:"unlock_sewers",label:"",reqItems:["rusty_key"],reqFlagsNot:["sewers_open"],result:{text:"",costAP:1,setFlags:{sewers_open:!0},teleport:"sewers"}},{id:"enter_sewers",label:"",reqFlags:["sewers_open"],result:{text:"",costAP:0,teleport:"sewers"}},{id:"steal_fish",label:"",description:"",reqFlagsNot:["cat_follower"],result:i=>{const u=i.player.inventory.includes("officer_badge"),f=u?3:0;return Math.random()<.3?{text:u?"":'""',costAP:1,changes:{suspicion:10-f}}:{text:u?"":"",costAP:1,addItems:["fresh_fish"],changes:{suspicion:5-f}}}}]},tavern:{id:"tavern",name:"",description:i=>""+Ls(i),actions:[{id:"leave_tavern",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"buy_bread",label:"",description:"",reqStats:{funds:2},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"drink_ale",label:"",description:"",reqStats:{funds:3},result:{text:"",costAP:1,changes:{funds:-3,sanity:5}}},{id:"gamble_dice",label:"",description:"",reqStats:{funds:5},requiresConfirmation:!0,confirmationMessage:i=>{const u=i.player.inventory.includes("loaded_dice")?60:30;return`${u}%8+2${100-u}%5-2`},result:i=>Math.random()<(i.player.inventory.includes("loaded_dice")?.6:.3)?{text:"",costAP:1,changes:{funds:8,sanity:2}}:{text:"",costAP:1,changes:{funds:-5,sanity:-2}}},{id:"listen_rumors",label:"",description:"",result:i=>{if(i.player.flags.known_market)if(i.player.flags.known_asylum){if(!i.player.flags.known_ministry)return{text:"",costAP:1,setFlags:{known_ministry:!0}}}else return{text:"9",costAP:1,setFlags:{known_asylum:!0}};else return{text:"",costAP:1,setFlags:{known_market:!0}};return{text:"",costAP:1,changes:{suspicion:2}}}}]},clinic:{id:"clinic",name:"",description:i=>""+Ls(i),actions:[{id:"leave_clinic",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"work_clinic",label:"",description:"",reqFlags:["medical_training"],reqFlagsNot:["clinic_fired"],result:()=>({text:"",costAP:2,changes:{funds:5,sanity:-3},setFlags:{clinic_worked_today:!0,clinic_missed_days:0}})},{id:"talk_nurse",label:"",description:"",reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'""',costAP:1}},{id:"recruit_nurse_gold",label:"",description:"",reqItems:["gold_tooth"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'""',costAP:1,removeItems:["gold_tooth"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"recruit_nurse_file",label:"",description:"",reqItems:["classified_file"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:"",costAP:1,removeItems:["classified_file"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"cure_infection",label:"",description:"",reqStats:{funds:20},reqFlags:["infected"],result:{text:"",costAP:1,changes:{funds:-20},setFlags:{infected:!1}}},{id:"rehab_addiction",label:"",description:"",reqStats:{funds:35},reqFlags:["addicted"],result:{text:"",costAP:3,changes:{funds:-35,sanity:-20},setFlags:{addicted:!1}}},{id:"sell_blood",label:"",description:"",reqStats:{sanity:30},result:{text:"",costAP:1,changes:{funds:6,sanity:-25}}},{id:"sell_kidney",label:"",description:"",reqStats:{funds:0},reqFlagsNot:["kidney_sold"],result:{text:"",costAP:3,changes:{funds:40,sanity:-20},setFlags:{kidney_sold:!0}}},{id:"buy_laudanum",label:"",description:"",reqStats:{funds:15},reqItemsNot:["laudanum","forbidden_name"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["laudanum"]})},{id:"buy_sedatives",label:"",description:"",reqStats:{funds:10},result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["sedatives"]})},{id:"buy_morphine",label:"",description:"",reqStats:{funds:25},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["morphine"]})},{id:"implant_fungus",label:"",description:"",reqItems:["strange_fungus"],reqFlagsNot:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"2040%",result:{text:"",costAP:2,removeItems:["strange_fungus"],changes:{sanity:-20},setFlags:{fungus_host:!0}}},{id:"harvest_self",label:"",description:"",reqFlags:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"2040%8",result:()=>{const i=Math.random()<.4;return{text:i?"":"",costAP:1,addItems:["strange_fungus"],changes:{sanity:-20},setFlags:i?{infected:!0}:{}}}},{id:"use_morphine_risky",label:"",reqItems:["morphine"],description:"",requiresConfirmation:!0,confirmationMessage:i=>i.player.flags.addicted?"":"30%1235",result:i=>Math.random()<.3&&!i.player.flags.addicted?{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}]},black_market:{id:"black_market",name:"",description:"",actions:[{id:"leave_market",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"buy_lantern",label:"",description:"",reqStats:{funds:8},reqItemsNot:["brass_lantern"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(8*1.5):8)},addItems:["brass_lantern"]})},{id:"buy_music_box",label:"",description:"",reqStats:{funds:20},reqItemsNot:["music_box"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["music_box"]})},{id:"buy_ring",label:"",description:"",reqStats:{funds:15},reqItemsNot:["silver_ring"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["silver_ring"]})},{id:"buy_alchemy_kit",label:"",description:"",reqStats:{funds:25},reqItemsNot:["alchemy_kit"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["alchemy_kit"]})},{id:"buy_scroll",label:"",description:"",reqStats:{funds:20},reqItemsNot:["crumbling_scroll"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["crumbling_scroll"]})},{id:"buy_iron_dagger",label:"",description:"",reqStats:{funds:12},reqItemsNot:["iron_dagger"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(12*1.5):12)},addItems:["iron_dagger"]})},{id:"buy_scalpel",label:"",description:"",reqStats:{funds:10},reqItemsNot:["scalpel"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["scalpel"]})},{id:"buy_rare_item_coin",label:"",description:"",reqItems:["alchemy_coin"],requiresConfirmation:!0,confirmationMessage:"",result:()=>{const i=Math.random();let u,f;return i<.05?(u="ritual_dagger",f=""):i<.3?(u="alien_idol",f=""):i<.45?(u="golden_mask",f=""):i<.7?(u="void_salt",f=""):(u="ancient_coin",f=""),{text:`"..."${f}`,costAP:1,removeItems:["alchemy_coin"],addItems:[u]}}},{id:"buy_bread",label:"",description:"",reqStats:{funds:2},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"buy_spirits",label:"",description:"",reqStats:{funds:4},result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(4*1.5):4),sanity:15},addItems:["cheap_spirits"]})},{id:"sell_gold_tooth",label:"",reqItems:["gold_tooth"],result:{text:"",costAP:1,changes:{funds:6},removeItems:["gold_tooth"]}},{id:"sell_alchemy_coin",label:"",reqItems:["alchemy_coin"],result:{text:'"..."',costAP:1,changes:{funds:30},removeItems:["alchemy_coin"]}},{id:"sell_fungus",label:"",reqItems:["strange_fungus"],result:{text:'""',costAP:1,changes:{funds:4},removeItems:["strange_fungus"]}},{id:"sell_idol",label:"",reqItems:["alien_idol"],result:{text:'""',costAP:1,changes:{funds:50},removeItems:["alien_idol"]}},{id:"sell_mask",label:"",reqItems:["golden_mask"],result:{text:'""',costAP:1,changes:{funds:40},removeItems:["golden_mask"]}},{id:"sell_ritual_mask",label:"",reqItems:["ritual_mask"],result:{text:'"..."',costAP:1,changes:{funds:135},removeItems:["ritual_mask"]}},{id:"sell_purge_list",label:"",reqItems:["purge_list"],result:i=>(delete i.player.flags.purge_list_accessed,{text:'""',costAP:1,changes:{funds:60},removeItems:["purge_list"]})},{id:"sell_file",label:"",reqItems:["classified_file"],result:{text:"",costAP:1,changes:{funds:25},removeItems:["classified_file"]}},{id:"sell_fermented_bread",label:"",reqItems:["fermented_bread"],result:{text:'"..."',costAP:1,changes:{funds:8},removeItems:["fermented_bread"]}}]},sewers:{id:"sewers",name:"",description:i=>""+Ls(i),actions:[{id:"leave_sewers",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"scavenge_lit_risky",label:"",description:"",reqItems:["brass_lantern"],result:()=>{const i=Math.random();if(i<.1)return{text:"",costAP:1,changes:{sanity:-10},setFlags:{infected:!0}};if(i<.15){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],f=u[Math.floor(Math.random()*u.length)];return{text:"",costAP:1,changes:{sanity:-5},addItems:[f]}}else return i<.3?{text:"",costAP:1,changes:{sanity:-5},addItems:["gold_tooth"]}:i<.7?{text:"",costAP:1,changes:{sanity:-3},addItems:["strange_fungus"]}:{text:"",costAP:1,changes:{sanity:-5},addItems:["rat_meat"]}}},{id:"search_relics",label:"",description:"",reqItems:["brass_lantern"],reqItemsNot:["alien_idol"],result:()=>Math.random()<.15?{text:"",costAP:1,addItems:["alien_idol"],changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-8}}},{id:"encounter_sewer_monster",label:"",description:"",reqItems:["brass_lantern"],reqFlagsNot:["sewer_monster_encounter"],result:()=>{if(Math.random()<.4)return{text:"",costAP:0,setFlags:{sewer_monster_encounter:!0}};{const u=Math.random();return u<.3?{text:"",costAP:1,changes:{sanity:-8,gnosis:2}}:u<.6?{text:"",costAP:1,changes:{sanity:-5},addItems:["rusty_key"]}:{text:"",costAP:1,changes:{sanity:-3}}}}},{id:"flee_sewer_monster",label:"",description:"",reqFlags:["sewer_monster_encounter"],result:{text:"",costAP:2,changes:{sanity:-5},setFlags:{sewer_monster_encounter:!1}}},{id:"fight_sewer_monster",label:i=>i.player.inventory.some(f=>["iron_dagger","ritual_dagger","scalpel"].includes(f))?i.player.inventory.includes("ritual_dagger")?" ()":i.player.inventory.includes("iron_dagger")?" ()":i.player.inventory.includes("scalpel")?" ()":" ()":" ()",description:"",reqFlags:["sewer_monster_encounter"],result:i=>{if(!i.player.inventory.some(d=>["iron_dagger","ritual_dagger","scalpel"].includes(d)))return{text:"",costAP:1,changes:{sanity:-30,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}};let f;return i.player.inventory.includes("ritual_dagger")?f=.8:i.player.inventory.includes("iron_dagger")?f=.65:i.player.inventory.includes("scalpel")?f=.55:f=.45,Math.random()<f?{text:"",costAP:1,changes:{sanity:-15,gnosis:1},addItems:["strange_fungus"],setFlags:{sewer_monster_encounter:!1}}:{text:"",costAP:1,changes:{sanity:-25,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}}}},{id:"explore_deep",label:"",description:"",reqStats:{},result:i=>{const u=i.player.stats.sanity>0;return!i.player.inventory.includes("ritual_dagger")&&Math.random()>.5?{text:"",costAP:1,changes:{sanity:-10},addItems:["ritual_dagger"]}:u?{text:"",costAP:1,changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-5}}}},{id:"approach_altar",label:"",description:"",reqItems:["ritual_dagger"],result:{text:"",costAP:1,teleport:"altar"}}]},asylum:{id:"asylum",name:"9",description:"",actions:[{id:"leave_asylum",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"visit_madman",label:'"" 103',description:"",reqStats:{funds:2},result:i=>{const u=`visited_madman_day_${i.world.day}`;if(i.player.flags[u])return{text:'"103"',costAP:0};const f=2;return{text:"103",costAP:1,changes:{sanity:-8,gnosis:2,funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(f*1.5):f)},setFlags:{[u]:!0}}}},{id:"steal_coat",label:"",description:"",reqItemsNot:["doctor_coat"],result:i=>{const u=i.player.inventory.includes("officer_badge"),f=u?5:0;return Math.random()<.3?{text:u?"":"",costAP:1,changes:{suspicion:15-f,sanity:u?0:-5}}:{text:u?"":"",costAP:1,addItems:["doctor_coat"],changes:{suspicion:5-f}}}},{id:"enter_archives",label:"",description:"",reqItems:["doctor_coat"],result:i=>{const u=i.player.stats.suspicion,f=i.player.inventory.includes("officer_badge");let d=0;if(u>=85?d=.7:u>=70?d=.5:u>=50?d=.3:u>=30&&(d=.1),f&&(d*=.5),Math.random()<d){const E=u>=85?20:u>=70?15:10;return{text:f?'"..."':'""',costAP:1,changes:{suspicion:E},teleport:"street"}}else return{text:f?'""':"",costAP:0,teleport:"asylum_archives"}}},{id:"shock_therapy",label:"",description:"",reqStats:{funds:30},result:{text:"",costAP:2,changes:{funds:-30,sanity:60,gnosis:-5}}}]},asylum_archives:{id:"asylum_archives",name:"",description:"",actions:[{id:"leave_archives",label:"",result:{text:"",costAP:0,teleport:"asylum"}},{id:"read_files",label:"",description:"",result:{text:"",costAP:1,changes:{gnosis:3,sanity:-12}}},{id:"steal_file",label:"",description:'"0"',reqItemsNot:["classified_file"],result:i=>{const u=i.player.inventory.includes("officer_badge");return{text:u?"":"",costAP:1,addItems:["classified_file"],changes:{suspicion:u?5:15}}}}]},ministry:{id:"ministry",name:"",description:i=>i.player.inventory.includes("officer_badge")?"":"",actions:[{id:"leave_ministry",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"bribe_officer",label:" ($15)",description:"",reqStats:{funds:15},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15),suspicion:-20}})},{id:"report_citizen_pro",label:"",description:"",reqStats:{suspicion:10},result:{text:"",costAP:1,changes:{suspicion:-30,sanity:-10}}},{id:"storm_ministry",label:"",description:" (: 3, 2, $100)",reqStats:{funds:100},reqItems:[],result:i=>{const u=i.player.followers.filter(k=>{const E=i.player.followerStates?.[k];return E&&E.loyalty>=100&&E.status==="healthy"}),d=["ritual_dagger","iron_dagger","scalpel"].filter(k=>i.player.inventory.includes(k)).length;return u.length<3?{text:"3",costAP:0}:d<2?{text:"2",costAP:0}:{text:"",costAP:3,changes:{funds:-100},setFlags:{victory_achieved:!0,revolution_ending:!0}}}},{id:"steal_badge",label:"",description:"",reqItemsNot:["officer_badge"],requiresConfirmation:!0,confirmationMessage:` 

 20% +10
 30% +20
 50% 100

`,result:()=>{const i=Math.random();return i<.2?{text:"",costAP:1,addItems:["officer_badge"],changes:{suspicion:10}}:i<.5?{text:"",costAP:1,changes:{suspicion:20}}:{text:'""',costAP:1,changes:{suspicion:100}}}},{id:"access_database",label:"",description:"5",reqItems:["officer_badge"],reqItemsNot:["purge_list"],reqFlagsNot:["purge_list_accessed"],result:i=>{const f=`purge_list_cooldown_until_${i.world.day+5}`;return{text:"",costAP:1,addItems:["purge_list"],setFlags:{purge_list_accessed:!0,[f]:!0},changes:{suspicion:5}}}},{id:"use_badge_clear",label:"",description:"",reqItems:["officer_badge"],reqStats:{suspicion:5},result:i=>({text:'""',costAP:1,changes:{suspicion:-Math.min(30,i.player.stats.suspicion)}})},{id:"use_badge_info",label:"",description:"",reqItems:["officer_badge"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-5}}}]},pale_city:{id:"pale_city",name:"",description:()=>"",actions:[{id:"wake_up",label:"",description:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"visit_lake",label:"",description:"",reqFlags:["known_lake"],result:{text:"",costAP:0,teleport:"lake_hali"}},{id:"wander_dream",label:"",description:"",reqItemsNot:["forbidden_name"],result:()=>{const i=Math.random();return i<.4?{text:"",costAP:1,changes:{sanity:-15}}:i<.7?{text:"",costAP:1,changes:{sanity:-10,gnosis:2}}:{text:"",costAP:1,teleport:"dream_library"}}}]},lake_hali:{id:"lake_hali",name:"",description:"",actions:[{id:"leave_lake",label:"",result:{text:"",costAP:0,teleport:"pale_city"}},{id:"gaze_reflection",label:"",description:"",result:{text:"",costAP:1,changes:{sanity:-10,gnosis:3}}},{id:"fish_dreams",label:"",description:"",result:i=>{const u=Math.random();return u<.3&&!i.player.inventory.includes("golden_mask")?{text:"",costAP:1,addItems:["golden_mask"],changes:{sanity:-15}}:u<.6?{text:"",costAP:1,addItems:["void_salt"],changes:{sanity:-10}}:{text:"",costAP:1,changes:{sanity:-15}}}},{id:"consume_salt",label:"",description:"",reqItems:["void_salt"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-5},removeItems:["void_salt"]}},{id:"offer_coin_to_lake",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:8,sanity:10}}}]},dream_library:{id:"dream_library",name:"",description:"",actions:[{id:"leave_library",label:"",result:{text:"",costAP:0,teleport:"pale_city"}},{id:"find_true_name",label:'""',description:"",reqStats:{gnosis:20},reqItemsNot:["forbidden_name"],result:{text:"",costAP:1,changes:{sanity:-40},addItems:["forbidden_name"]}}]},cathedral:{id:"cathedral",name:"",description:"",actions:[{id:"leave_cathedral",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"confess_sins",label:"",description:" (, )",reqStats:{gnosis:2},result:{text:"",costAP:1,changes:{suspicion:-25,gnosis:-2,sanity:5}}},{id:"offer_alchemy_coin",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{suspicion:-40,sanity:20,gnosis:3}}},{id:"scavenge_crypt",label:"",description:"",result:()=>Math.random()<.3?{text:"",costAP:1,addItems:["ancient_coin"],changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-10}}}]},altar:{id:"altar",name:"",description:i=>{let u="";return i.player.flags.lover_madeline&&(u+=" "),u},actions:[{id:"flee_altar",label:"",description:"",result:{text:"",costAP:0,teleport:"sewers",changes:{sanity:-20}}},{id:"perform_ritual",label:"",description:"",reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:60},result:i=>i.player.stats.sanity>0?{text:"",costAP:0}:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_lover",label:"",description:"",reqFlags:["lover_madeline"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:30},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_follower",label:"",description:'""',reqFollowers:["beggar_follower"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:50},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"ascend_with_mask",label:"",description:"",reqItems:["ritual_mask","forbidden_name"],reqStats:{gnosis:30},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}}]}},Xs=i=>{const{player:u}=i,{stats:f,flags:d}=u,k=[];return f.sanity<40&&k.push(" Runes begin to weave along the edge of your sight, and muffled chanting echoes from forgotten chapels."),f.suspicion>60&&k.push(" Every shadow feels like a watcher. The Ministry's eyes are on youyou can feel their gaze like a weight on your shoulders."),f.funds<3&&k.push(" Your stomach is nothing but a hollow of cold iron; you need an offering that can buy you dignity."),d.infected&&k.push(" The sweet smell oozing from the wound feels like a summonsleave it unchecked and the fever will claim you for the undercity."),d.addicted&&!d.morphine_taken_today&&k.push(" Your marrow feels as though fine needles stir it. Without that syringe, your will is going to splinter."),d.lover_madeline?k.push(" Madeline hums an old hymn in the kitchen; her presence presses down omens like a protective charm."):d.madeline_sick&&k.push(" Madelines cough now tastes of rusttime is shaving her away."),f.gnosis>=10&&!u.inventory.includes("laudanum")&&k.push(" Ink-on-paper doctrine is exhausted. Maybe it is time to visit the clinic for that black liquid that opens the dream gate."),k.length>0?k[Math.floor(Math.random()*k.length)]:""},Ry={normal:["From next door comes a slow, measured tapping, as if someone is counting a pulse.","Drones carve red lines outside your window all night, like they are inscribing sigils around your bed.","Something drags a metal skeleton through the sewers, and the muck mutters along with it.","In your dream a reversed tower hangs in silence, and you can only fall upward toward it.","A sheet of black paper is pushed beneath the door, the ink still damp enough to bleed."],insane:["The reflection speaks first, revealing a row of teeth that are not yours.","A faint clacking comes from inside the pillow, enamel grinding on enamel.","Mildew on the wallpaper arranges itself into praying hands, lips outlined in dust.","You wake already standing on the windowsill, as though someone moved your feet for you.","The deceased landlord sits at the foot of your bed; his neck bones creak out a greeting.","Shadows gather at the doorframe, whispering your name in voices that sound like breaking glass.","The Ministry's watchful eyes follow you even in sleep; their gaze burns through your eyelids.","Paranoia claws at your mindevery creak is a footstep, every shadow a pursuer.","Your sanity fractures like old glass, and the cracks let in things that should stay outside.","The weight of suspicion presses down until your dreams become interrogations."]},Yy={bread:{id:"bread",name:"Moldy Bread",description:"A rigid lump of mold that chews like chalk, yet calms the stomach's spasms. Unpleasant to swallow, but at least it fills the stomach."},rat_meat:{id:"rat_meat",name:"Raw Rat Meat",description:"Strips of flesh still holding body heat, the blood carrying the alley's mildew. Cooked, it can barely sustain you, though at the cost of slight sanity erosion."},fresh_fish:{id:"fresh_fish",name:"Fresh Fish",description:"Scales gleam like warding paper, and its eyes search for something over your shoulder. Roasted, it brings some comfort and can fetch a small price."},cheap_spirits:{id:"cheap_spirits",name:"Bootleg Spirits",description:"Harsh and murky; a single gulp is like swallowing burning incense ash. But alcohol can temporarily numb the nerves, blurring pain."},sedatives:{id:"sedatives",name:"Ministry Sedatives",description:"Blue pills that drain the color from the world, as though a curtain has been drawn. Swallowed, anxiety and fear temporarily recede, giving sanity a moment's respite."},morphine:{id:"morphine",name:"Medical Morphine",description:"Amber liquid in an ampoule; it grants brief silence and steals your will. Injected, it can greatly ease pain, but each use may make you more dependent on it."},laudanum:{id:"laudanum",name:"Laudanum Tincture",description:"Black, viscous medicine that tastes like cold iron yet opens another city in your gut."},forbidden_name:{id:"forbidden_name",name:"The Old Name",description:"A syllable you can never fully pronounce; merely recalling it makes your temples throb."},rusty_key:{id:"rusty_key",name:"Rusty Iron Key",description:"A beggar pressed it into your palm. 7-B is etched along its moldy spine."},brass_lantern:{id:"brass_lantern",name:"Brass Lantern",description:"An old lamp polished bright; once lit it imposes a sliver of order on the sludge-dark. Essential for exploring dark areas like the sewers."},ritual_dagger:{id:"ritual_dagger",name:"Obsidian Dagger",description:"The blade absorbs light, the handle runs cold, as though awaiting an oath."},iron_dagger:{id:"iron_dagger",name:"Iron Dagger",description:"A crude iron short blade, the edge worn but still deadly. A common street weapon, available in the black market."},scalpel:{id:"scalpel",name:"Scalpel",description:"A common surgical tool from the clinic, the blade sharp as a razor. Designed to save lives, but can serve as a weapon when needed."},crumbling_scroll:{id:"crumbling_scroll",name:"Worm-Eaten Scroll",description:"The parchment is as soft as skin, and the letters rewrite themselves faster than you can turn the page."},old_radio:{id:"old_radio",name:"Old Radio",description:"Whenever the tuner loosens you pick up call signs from cities that do not exist here."},loaded_dice:{id:"loaded_dice",name:"Loaded Dice",description:"They are heavy enough that the outcome is decided before they ever leave your hand."},silver_ring:{id:"silver_ring",name:"Silver Ring",description:"A pawnshop relic with worn edges, yet still capable of bearing a vow."},old_ring:{id:"old_ring",name:"Heirloom Ring",description:"The last relic of your family, a gold ring engraved with ancient heraldry. It still reflects dim light in darkness, as if speaking of the family's glory and fall."},music_box:{id:"music_box",name:"Clockwork Music Box",description:"Wind it tight and it plays an off-key waltz, reminiscent of distant vesper bells.",price:20},doctor_coat:{id:"doctor_coat",name:"Bloodstained Lab Coat",description:"The collar's dark red blotches never wash out, but the asylum doors respect it. Wearing it, you can enter locations that require a doctor's identity."},classified_file:{id:"classified_file",name:"Classified Dossier",description:"Ministry notes on Patient Zero, each page sealed with a funeral-red stamp."},officer_badge:{id:"officer_badge",name:"Ministry Badge",description:"A weighty silver crest; the oath on the back assumes you stand in the light. With it, you can access the classified database in the Ministry to retrieve the purge list."},purge_list:{id:"purge_list",name:"Purge Ledger",description:"A booklet of citizens marked for evaporation, each line worth a bounty."},gold_tooth:{id:"gold_tooth",name:"Gold Tooth",description:"A trophy pried from a corpse's mouth; the black market never turns it away. Can also be fused with an ancient coin on the alchemy table to create a more valuable alchemy coin."},strange_fungus:{id:"strange_fungus",name:"Luminous Fungus",description:"Blue growth from deep silt, cold feelers that leave glowing dots on your palm. An important alchemical material that can be fused with spirits to create serum."},alien_idol:{id:"alien_idol",name:"Otherworldly Idol",description:"A heavy idol carved from green stone, skin-slick and unfamiliar. Holds otherworldly power and can be fused with a mask on the alchemy table."},void_salt:{id:"void_salt",name:"Void Salt",description:"Crystals condensed at the dream's edge; inhale and you glimpse structures that shouldn't be. Directly consumed, it increases gnosis but erodes sanity. Also used in alchemy."},golden_mask:{id:"golden_mask",name:"Golden Mask",description:"An artifact dredged from Lake Hali; pressing it to your face slows your pulse. Holds ancient power and can be fused with an idol on the alchemy table."},alchemy_kit:{id:"alchemy_kit",name:"Makeshift Alchemy Set",description:"A stained collection of flasks and tubes that can turn scraps into tonicsor calamities. A scribbled note inside the box: Mix fungus with spirits to refine a blue serum."},purified_serum:{id:"purified_serum",name:"Purified Serum",description:"Blue liquid refined from fungus; one injection hushes the mind instantly. Effectively restores sanity, a product of alchemy."},ancient_coin:{id:"ancient_coin",name:"Ancient Coin",description:"A burial coin lifted from the cathedral crypt, etched with an unknown monarch. Valuable on its own, but when fused with other items, it can produce more mysterious power."},recipe_scrap_bread_rat:{id:"recipe_scrap_bread_rat",name:"Crumpled Note (Nutritious Meal)",description:"Scribbles on the edge of an old newspaper, barely legible."},recipe_scrap_morphine_sedatives:{id:"recipe_scrap_morphine_sedatives",name:"Crumpled Note (Painkiller)",description:"A slip of paper fished from a clinic's trash, recording the proportions of some mixture."},recipe_scrap_void_salt_fungus:{id:"recipe_scrap_void_salt_fungus",name:"Crumpled Note (Gnosis Elixir)",description:"Yellowed paper with water-stained edges, but the core content is still readable."},recipe_scrap_gold_tooth_coin:{id:"recipe_scrap_gold_tooth_coin",name:"Crumpled Note (Alchemy Coin)",description:"A black market dealer's transaction record, with one line circled."},recipe_scrap_idol_mask:{id:"recipe_scrap_idol_mask",name:"Crumpled Note (Ritual Mask)",description:"A mix of ancient script and modern symbols, seemingly from a secret cult."},recipe_scrap_bread_spirits:{id:"recipe_scrap_bread_spirits",name:"Crumpled Note (Fermented Bread)",description:"A note from a tavern's back kitchen, recording a special food preparation method."},recipe_scrap_serum:{id:"recipe_scrap_serum",name:"Crumpled Note (Purified Serum)",description:"Discarded lab notes with crossed-out experimental steps."},nutritious_meal:{id:"nutritious_meal",name:"Nutritious Meal",description:"A carefully prepared meal of bread and rat meat crafted on the alchemy table. Crude but effective at restoring sanity and filling the stomach."},strong_painkiller:{id:"strong_painkiller",name:"Strong Painkiller",description:"Deep purple liquid fused from morphine and sedatives that instantly eliminates all pain and greatly restores sanity. Highly addictive; each use may make you more dependent."},gnosis_elixir:{id:"gnosis_elixir",name:"Gnosis Elixir",description:"Shimmering blue crystals fused from void salt and luminous fungus. When swallowed, increases gnosis and lets you glimpse the true structure of the world, but consumes sanity."},alchemy_coin:{id:"alchemy_coin",name:"Alchemy Coin",description:"A mysterious coin fused from gold tooth and ancient coin on the alchemy table, glimmering with otherworldly light. Its value far exceeds ordinary currency and slightly increases gnosis."},ritual_mask:{id:"ritual_mask",name:"Ritual Mask",description:"A twisted mask fused from otherworldly idol and golden mask. When worn, reveals the true structure of the world and greatly increases gnosis, but at the heavy cost of sanity."},fermented_bread:{id:"fermented_bread",name:"Fermented Bread",description:"Bread soaked in spirits and processed through alchemy. Brings brief comfort, restores sanity, and can fetch a small price."}},Uy={beggar_follower:{id:"beggar_follower",name:"Prophet Gregory",description:"A corner beggar who bows before you, believing you speak for the burial shrines below.",role:"moth"},thug_follower:{id:"thug_follower",name:"Iron-Fist Bruno",description:"A dockside enforcer cast aside; you saved his life, so he stakes his bones on you now.",role:"edge"},nurse_follower:{id:"nurse_follower",name:"Nurse Madeline",description:"A former clinic nurse freed from debt; she has become your most dependable pair of hands.",role:"heart"},cat_follower:{id:"cat_follower",name:"Midnight the Cat",description:"A sleek black companion whose purrs beat like a hidden ritual drum.",role:"heart"}},Hy={apartment:{id:"apartment",name:"Apartment 404",description:i=>{let u="A cramped rental where neon slashes across the blinds like fresh wounds.";return i.player.stats.sanity<50&&(u="The room no longer recognizes you; shadows crouch in the corners like kneeling congregants."),u+Xs(i)},actions:[{id:"leave_apartment",label:"Step Outside",description:"Push open the heavy iron door and walk into the fog.",result:{text:"The night air is wet and cold; your footsteps echo down the hallway.",costAP:0,teleport:"street"}},{id:"go_rooftop",label:"Climb to Rooftop",description:"Take the old ladder up for a breath of air.",result:{text:"Each rung creaks under you; the wind tastes of rust.",costAP:0,teleport:"rooftop"}},{id:"sleep",label:"Sleep",description:"End the day and pray the gate of dreams stays shut.",reqFlagsNot:["lover_madeline"],result:{text:"Damp sheets cling to your back while you mutter warding phrases in your head.",costAP:99}},{id:"sleep_lover",label:"Sleep with Madeline",description:"Her warmth acts like a talisman, her breath muffling every omen.",reqFlags:["lover_madeline"],result:{text:"No elder whispers, only her steady heartbeat. For once, you sleep like a person.",costAP:99,changes:{sanity:30}}},{id:"eat_rat",label:"Roast Rat",description:"Even crude fire is enough to scare off parasites.",reqItems:["rat_meat"],result:i=>({text:"Charred grease and acid stink mix together, but you force it down and hope your stomach remembers.",costAP:1,changes:{funds:2,sanity:i.origin==="vagrant"?0:-5},removeItems:["rat_meat"]})},{id:"meditate",label:"Stare into the Void / Meditate",description:"Empty your mind and let your weary soul rest. Sometimes you glimpse deeper truths.",result:()=>Math.random()<.15?{text:"You close your eyes and let consciousness sink. In the void, you catch a whisper that doesn't belong to this world; it leaves a mark in your mind.",costAP:2,changes:{sanity:5,gnosis:1}}:{text:"You sit on the edge of the bed, staring at the stains on the wall. Time flows slowly, and the whispers quiet for a moment.",costAP:2,changes:{sanity:5}}},{id:"talk_madeline",label:"Talk to Madeline",description:"Her face grows paler; the cough sounds like steel plates scraping.",reqFollowers:["nurse_follower"],reqFlagsNot:["madeline_sick"],result:{text:"She rolls up her sleeve, black mottling creeping across her arm. Got it at the clinic. Dont waste resourcesI wont last long.",costAP:1,setFlags:{madeline_sick:!0}}},{id:"cure_madeline",label:"Inject Serum",description:"Use your handmade serum to steady the sickness (requires Purified Serum).",reqFlags:["madeline_sick"],reqItems:["purified_serum"],reqFlagsNot:["madeline_cured"],result:{text:"Blue liquid slides along her veins and the black patches recede. She leans into you, eyes rekindled. Why save me? This city isnt worth it.",costAP:1,removeItems:["purified_serum"],setFlags:{madeline_cured:!0,madeline_sick:!1},changes:{sanity:20}}},{id:"propose_madeline",label:"Propose to Madeline",description:"Make a vow amid the ruins (needs Silver Ring and she must be cured).",reqFlags:["madeline_cured"],reqItems:["silver_ring"],reqFlagsNot:["lover_madeline"],result:{text:"She holds the worn ring like a relic. All right. I will. Even if the world breaks tomorrow, tonight we stay together.",costAP:1,removeItems:["silver_ring"],setFlags:{lover_madeline:!0},changes:{sanity:50}}},{id:"study_scroll",label:"Study the Worm Scroll",description:"Try to comprehend words not meant for people.",reqItems:["crumbling_scroll"],result:{text:"The script leaps from parchment to retina; you glimpse the universe skewing and retch.",costAP:1,changes:{gnosis:5,sanity:-25},removeItems:["crumbling_scroll"]}},{id:"enter_dream",label:"Drink Laudanum",description:"Swallow the black tonic and sink toward the Pale City.",reqItems:["laudanum"],result:{text:"It tastes like burnt ink; reality melts like wax immediately after.",costAP:1,teleport:"pale_city",removeItems:["laudanum"]}},{id:"read_recipe_bread_rat",label:"Read Recipe Scrap (Nutritious Meal)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_bread_rat"],result:{text:"You see scribbles on the edge of an old newspaper: Moldy bread, if heated with meat, might become more palatable...",costAP:0,removeItems:["recipe_scrap_bread_rat"],setFlags:{recipe_known_bread_rat:!0}}},{id:"read_recipe_morphine_sedatives",label:"Read Recipe Scrap (Painkiller)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_morphine_sedatives"],result:{text:"The slip of paper is scrawled with: Morphine and sedatives mixed, heated, produce deep purple smoke that instantly eliminates all pain...",costAP:0,removeItems:["recipe_scrap_morphine_sedatives"],setFlags:{recipe_known_morphine_sedatives:!0}}},{id:"read_recipe_void_salt_fungus",label:"Read Recipe Scrap (Gnosis Elixir)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_void_salt_fungus"],result:{text:"The yellowed page records: Void salt and luminous fungus merge in flame, producing shimmering blue crystals that stretch consciousness into another dimension...",costAP:0,removeItems:["recipe_scrap_void_salt_fungus"],setFlags:{recipe_known_void_salt_fungus:!0}}},{id:"read_recipe_gold_tooth_coin",label:"Read Recipe Scrap (Alchemy Coin)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_gold_tooth_coin"],result:{text:"The circled line in the transaction record reads: Gold tooth and ancient coin fused under high heat form a coin that glimmers with mysterious light, its value far exceeding ordinary currency...",costAP:0,removeItems:["recipe_scrap_gold_tooth_coin"],setFlags:{recipe_known_gold_tooth_coin:!0}}},{id:"read_recipe_idol_mask",label:"Read Recipe Scrap (Ritual Mask)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_idol_mask"],result:{text:"The record mixing ancient script and modern symbols: Otherworldly idol and golden mask merge in alchemical flame, forming a twisted mask that reveals the true structure of the world when worn...",costAP:0,removeItems:["recipe_scrap_idol_mask"],setFlags:{recipe_known_idol_mask:!0}}},{id:"read_recipe_bread_spirits",label:"Read Recipe Scrap (Fermented Bread)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_bread_spirits"],result:{text:"The note records: Soak bread in spirits, process through alchemy to create food that brings brief comfort...",costAP:0,removeItems:["recipe_scrap_bread_spirits"],setFlags:{recipe_known_bread_spirits:!0}}},{id:"read_recipe_serum",label:"Read Recipe Scrap (Purified Serum)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_serum"],result:{text:"The crossed-out experimental steps in the discarded notes: Mix fungus with spirits, the liquid shifts from dark green to deep blue in the flask, refining a blue serum...",costAP:0,removeItems:["recipe_scrap_serum"],setFlags:{recipe_known_serum:!0}}},{id:"use_alchemy_serum",label:i=>i.player.flags.recipe_known_serum||i.player.inventory.includes("recipe_scrap_serum")?"Alchemy: Purify Serum":"Alchemy: ???",description:"Fungus + Spirits  Purified Serum (restores sanity).",reqItems:["alchemy_kit","strange_fungus","cheap_spirits"],result:{text:"Liquid in the flask shifts from dark green to deep blue, breathing a mint-cold vapor.",costAP:1,removeItems:["strange_fungus","cheap_spirits"],addItems:["purified_serum"]}},{id:"combine_bread_rat",label:i=>i.player.flags.recipe_known_bread_rat||i.player.inventory.includes("recipe_scrap_bread_rat")?"Alchemy: Nutritious Meal":"Alchemy: ???",description:"Bread + Rat Meat  Nutritious Meal (restores sanity).",reqItems:["alchemy_kit","bread","rat_meat"],result:{text:"You mix bread and rat meat, heating them on the alchemy table. The aroma of charred fat fills the air, creating a meal that fills the stomach.",costAP:1,removeItems:["bread","rat_meat"],addItems:["nutritious_meal"],changes:{sanity:10}}},{id:"combine_morphine_sedatives",label:i=>i.player.flags.recipe_known_morphine_sedatives||i.player.inventory.includes("recipe_scrap_morphine_sedatives")?"Alchemy: Strong Painkiller":"Alchemy: ???",description:"Morphine + Sedatives  Strong Painkiller (greatly restores sanity, may cause addiction).",reqItems:["alchemy_kit","morphine","sedatives"],result:i=>{const f=i.player.flags.addicted;return Math.random()<.4&&!f?{text:"The two liquids merge in the flask, producing deep purple smoke. You inhale once, and all pain vanishes instantlybut you know you can never be without it again.",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"The two liquids merge in the flask, producing deep purple smoke. You inhale once, and all pain vanishes instantly.",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"combine_void_salt_fungus",label:i=>i.player.flags.recipe_known_void_salt_fungus||i.player.inventory.includes("recipe_scrap_void_salt_fungus")?"Alchemy: Gnosis Elixir":"Alchemy: ???",description:"Void Salt + Luminous Fungus  Gnosis Elixir (increases gnosis).",reqItems:["alchemy_kit","void_salt","strange_fungus"],result:{text:"Salt crystals and fungus merge in the flame, producing shimmering blue crystals. Alchemy's refinement makes its effects gentler.",costAP:1,removeItems:["void_salt","strange_fungus"],addItems:["gnosis_elixir"]}},{id:"combine_gold_tooth_coin",label:i=>i.player.flags.recipe_known_gold_tooth_coin||i.player.inventory.includes("recipe_scrap_gold_tooth_coin")?"Alchemy: Alchemy Coin":"Alchemy: ???",description:"Gold Tooth + Ancient Coin  Alchemy Coin (valuable currency).",reqItems:["alchemy_kit","gold_tooth","ancient_coin"],result:{text:"The gold tooth and ancient coin merge under high heat, forming a coin that glimmers with mysterious light. Its value far exceeds ordinary currency.",costAP:1,removeItems:["gold_tooth","ancient_coin"],addItems:["alchemy_coin"],changes:{gnosis:2}}},{id:"combine_idol_mask",label:i=>i.player.flags.recipe_known_idol_mask||i.player.inventory.includes("recipe_scrap_idol_mask")?"Alchemy: Ritual Mask":"Alchemy: ???",description:"Otherworldly Idol + Golden Mask  Ritual Mask (greatly increases gnosis, costs sanity).",reqItems:["alchemy_kit","alien_idol","golden_mask"],result:{text:"The idol and mask merge in the alchemical flame, forming a twisted mask. When you wear it, you see the true structure of the worldbut at a cost.",costAP:1,removeItems:["alien_idol","golden_mask"],addItems:["ritual_mask"],changes:{gnosis:10,sanity:-30}}},{id:"combine_bread_spirits",label:i=>i.player.flags.recipe_known_bread_spirits||i.player.inventory.includes("recipe_scrap_bread_spirits")?"Alchemy: Fermented Bread":"Alchemy: ???",description:"Bread + Bootleg Spirits  Fermented Bread (restores sanity).",reqItems:["alchemy_kit","bread","cheap_spirits"],result:{text:"You soak the bread in spirits, processing it through alchemy to create a food that brings brief comfort. Alchemy's refinement perfectly blends the effects of both ingredients.",costAP:1,removeItems:["bread","cheap_spirits"],addItems:["fermented_bread"]}},{id:"pet_cat",label:"Pet Midnight",description:"The black cat purrs like a ritual drum, its warmth a small anchor in the dark. Can only pet once per day.",reqFollowers:["cat_follower"],result:i=>{const u=`petted_cat_day_${i.world.day}`;if(i.player.flags[u])return{text:"Midnight has had enough of your petting for today and just wants to curl up quietly in the corner. Today's comfort is already enough.",costAP:0};const d=i.player.followerStates?.cat_follower?.loyalty??50,k=10+Math.floor(d/20);return{text:"Midnight curls against your hand, purring in a rhythm that quiets the whispers. For a moment, the room feels safe.",costAP:0,changes:{sanity:Math.min(15,k)},setFlags:{[u]:!0}}}},{id:"feed_cat_fish_again",label:"Feed Midnight Fish",description:"Gain its trust with fresh fish.",reqFollowers:["cat_follower"],reqItems:["fresh_fish"],result:i=>{const u=i.player.followerStates?.cat_follower,f=u?.loyalty??50,d=Math.min(100,f+10);return i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={...u,loyalty:d,status:"healthy"},{text:"Midnight quickly devours the fish, then rubs against your hand contentedly.",costAP:1,removeItems:["fresh_fish"],changes:{sanity:5}}}},{id:"eat_fish",label:"Cook Fresh Fish",description:"Roast the fish over fire to fill your stomach.",reqItems:["fresh_fish"],result:{text:"You roast the fish, and the taste makes you forget your hunger for a moment.",costAP:1,removeItems:["fresh_fish"],changes:{funds:2,sanity:5}}},{id:"eat_bread",label:"Eat Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach.",reqItems:["bread"],result:{text:"You bite into the moldy bread, its dry texture like chalk dust, but the spasms in your stomach are indeed suppressed.",costAP:1,removeItems:["bread"],changes:{sanity:3}}},{id:"drink_spirits",label:"Drink Bootleg Spirits",description:"Harsh and murky spirits that temporarily numb the nerves and blur pain.",reqItems:["cheap_spirits"],result:{text:"You gulp down the spirits, the harsh taste like burning incense ash, but the alcohol quickly numbs your nerves, and pain becomes temporarily blurred.",costAP:1,removeItems:["cheap_spirits"],changes:{sanity:10}}},{id:"consume_alchemy_coin",label:"Absorb Alchemy Coin's Power",description:"Let the otherworldly light merge with your consciousness, gaining gnosis and restoring sanity.",reqItems:["alchemy_coin"],result:{text:"You grip the alchemy coin, and otherworldly light spills from between your fingers, seeping into your consciousness. You feel a deeper understanding of the world, and your sanity is restored.",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:5,sanity:15}}},{id:"use_nutritious_meal",label:"Eat Nutritious Meal",description:"Enjoy a carefully prepared meal to restore sanity.",reqItems:["nutritious_meal"],result:{text:"You slowly chew the simple but warm meal. The aroma of charred fat spreads in your mouth, and satisfaction fills your stomach as sanity gradually returns.",costAP:1,removeItems:["nutritious_meal"],changes:{sanity:10}}},{id:"use_strong_painkiller",label:"Use Strong Painkiller",description:"Deep purple smoke instantly eliminates all pain and greatly restores sanity. Highly addictive; each use may make you more dependent.",reqItems:["strong_painkiller"],result:i=>{const f=i.player.flags.addicted;return f||Math.random()<.3&&!f?{text:"You inhale the deep purple smoke, and all pain vanishes instantly. Sanity floods back like a tide. But you feel an emptiness, as if only this smoke can fill it.",costAP:1,removeItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"You inhale the deep purple smoke, and all pain vanishes instantly. Sanity floods back like a tide.",costAP:1,removeItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"use_sedatives",label:"Take Sedatives",description:"Blue pills that drain the color from the world, as though a curtain has been drawn. Swallowed, anxiety and fear temporarily recede, giving sanity a moment's respite.",reqItems:["sedatives"],result:{text:"You swallow the blue pills, and the world begins to drain of color, as though a curtain has been drawn. Anxiety and fear temporarily recede, giving sanity a moment's respite.",costAP:1,removeItems:["sedatives"],changes:{sanity:15}}},{id:"use_morphine",label:"Inject Morphine",description:"Amber liquid that grants brief silence and can greatly ease pain, but each use may make you more dependent on it.",reqItems:["morphine"],requiresConfirmation:!0,confirmationMessage:i=>i.player.flags.addicted?"You are already addicted to morphine. Continued use will ease withdrawal symptoms but deepen your dependence. Are you sure you want to continue?":"Warning: Using morphine has a 30% chance of causing addiction. Once addicted, you will lose 12 sanity daily and need a 35-coin detox regimen to cure it. Are you sure you want to continue?",result:i=>{const f=i.player.flags.addicted;return Math.random()<.3&&!f?{text:"The needle pierces your skin, and the amber liquid slowly injects. Warmth rides your veins and pain ebbs like a tide. But you also feel an emptiness, as though only this liquid can fill it. The idea of life without it becomes terrifying.",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"The needle pierces your skin, and the amber liquid slowly injects. Warmth rides your veins and pain ebbs like a tide.",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}},{id:"use_purified_serum",label:"Inject Purified Serum",description:"Blue liquid that instantly quiets the mind and effectively restores sanity.",reqItems:["purified_serum"],result:{text:"The needle pierces your skin, and the blue liquid slowly injects. Your mind instantly quiets, the whispers and fears temporarily recede, and sanity is restored.",costAP:1,removeItems:["purified_serum"],changes:{sanity:20}}},{id:"use_gnosis_elixir",label:"Swallow Gnosis Elixir",description:"Shimmering blue crystals that increase gnosis and let you glimpse the true structure of the world. Alchemy's refinement greatly reduces side effects.",reqItems:["gnosis_elixir"],result:{text:"You place the blue crystal in your mouth, and it instantly dissolves. Your consciousness stretches into another dimension, and you see the true structure of the world. Alchemy's refinement greatly reduces side effectsyou gain more knowledge with only a small cost.",costAP:1,removeItems:["gnosis_elixir"],changes:{gnosis:8,sanity:-2}}},{id:"use_fermented_bread",label:"Eat Fermented Bread",description:"Bread soaked in spirits that brings brief comfort and restores sanity. Alchemy's refinement perfectly blends the effects of both ingredients for superior restoration.",reqItems:["fermented_bread"],result:{text:"You bite into the fermented bread, the slight intoxication of alcohol mixing with the softness of bread. Alchemy's refinement perfectly blends the effects of both ingredients, providing far superior restoration than consuming them separately.",costAP:1,removeItems:["fermented_bread"],changes:{sanity:18}}},{id:"use_ritual_mask",label:"Wear Ritual Mask",description:"A twisted mask that reveals the true structure of the world and greatly increases gnosis. Alchemy's refinement reduces side effects, but a cost remains. Can only be used once per day.",reqItems:["ritual_mask"],result:i=>{const u=`used_ritual_mask_day_${i.world.day}`;return i.player.flags[u]?{text:"You pick up the mask again, but its power is exhausted. Today's revelation has ended; you must wait until tomorrow to glimpse the true structure of the world again.",costAP:0}:{text:"You press the twisted mask against your face, and instantly, the true structure of the world unfolds before you. You see things that should not exist, understand the universe's skew. Alchemy's refinement reduces side effects, but sanity still pays a price. The mask's power is temporarily exhausted; you must wait until tomorrow to use it again.",costAP:1,changes:{gnosis:7,sanity:-20},setFlags:{[u]:!0}}}},{id:"complete_follower_task",label:"Complete Follower Request",description:"Help your follower complete their request to gain loyalty.",reqFollowers:[],result:i=>{const u=i.player.followers.find(E=>{const U=i.player.followerStates?.[E];return U&&U.task&&U.status==="healthy"});if(!u)return{text:"No pending requests.",costAP:0};const f=i.player.followerStates[u],d=f.task,k=u==="beggar_follower"?"Gregory":u==="thug_follower"?"Bruno":u==="nurse_follower"?"Madeline":"follower";return d.type==="money"&&d.requirement.money?i.player.stats.funds<d.requirement.money?{text:`Your coin purse is too light. Need ${d.requirement.money} coins.`,costAP:0}:(i.player.stats.funds-=d.requirement.money,f.loyalty=Math.min(100,f.loyalty+(d.reward.loyalty||0)),f.task=void 0,{text:`${k} takes the coins, weighing them in their palm. "Thank you. I will remember this kindness."`,costAP:1,changes:{funds:-d.requirement.money}}):d.type==="item"&&d.requirement.item?i.player.inventory.includes(d.requirement.item)?(i.player.inventory=i.player.inventory.filter(U=>U!==d.requirement.item),f.loyalty=Math.min(100,f.loyalty+(d.reward.loyalty||0)),f.task=void 0,{text:`${k} takes the ${{bread:"bread",morphine:"morphine",sedatives:"sedatives",cheap_spirits:"spirits"}[d.requirement.item]||d.requirement.item}. "Thank you. I will repay this debt."`,costAP:1,removeItems:[d.requirement.item]}):{text:`You don't have ${{bread:"bread",morphine:"morphine",sedatives:"sedatives",cheap_spirits:"spirits"}[d.requirement.item]||d.requirement.item}.`,costAP:0}:d.type==="help"?(f.loyalty=Math.min(100,f.loyalty+(d.reward.loyalty||0)),f.task=void 0,{text:`You help ${k}. They look at you in silence, then bow deeply. "Thank you. I won't forget this."`,costAP:1,changes:{sanity:5}}):{text:"Request completed.",costAP:1}}},{id:"reject_follower_task",label:"Reject Follower Request",description:"Reject your follower's request, may lower loyalty.",reqFollowers:[],result:i=>{const u=i.player.followers.find(B=>{const q=i.player.followerStates?.[B];return q&&q.task&&q.status==="healthy"});if(!u)return{text:"No pending requests.",costAP:0};const f=i.player.followerStates[u],d=f.task,k=u==="beggar_follower"?"Gregory":u==="thug_follower"?"Bruno":u==="nurse_follower"?"Madeline":"follower";f.loyalty=Math.max(0,f.loyalty+(d.penalty.loyalty||0));const E=u==="nurse_follower",U=E&&i.player.flags.lover_madeline;return d.penalty.leave&&f.loyalty<30&&!U?(i.player.followers=i.player.followers.filter(B=>B!==u),delete i.player.followerStates[u],E?i.player.flags.madeline_left=!0:u==="beggar_follower"&&(i.player.flags.beggar_died=!0),{text:`${k}'s eyes grow cold. "I understand." ${E?"She":"They"} turn${E?"s":""} and leave${E?"s":""}, vanishing into the night.`,costAP:1,removeFollowers:[u],changes:{sanity:-10}}):(f.task=void 0,{text:U?`You shake your head. ${k} falls silent for a moment, her eyes showing disappointment, but she does not leave. "I understand... but I won't go."`:`You shake your head. ${k} falls silent for a moment, then nods. "I understand."`,costAP:1,changes:{sanity:-5}})}},{id:"heal_follower",label:"Heal Injured Follower",description:"Use medical supplies to heal an injured follower.",reqItems:["morphine","purified_serum"],reqFollowers:[],result:i=>{const u=i.origin==="doctor",f=i.player.followers.find(U=>{const I=i.player.followerStates?.[U];return I&&I.status==="injured"});if(!f)return{text:"No injured followers.",costAP:0};const d=i.player.followerStates[f],k=f==="beggar_follower"?"Gregory":f==="thug_follower"?"Bruno":f==="nurse_follower"?"Madeline":"follower";let E="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(U=>U!=="purified_serum"),E="purified_serum";else if(i.player.inventory.includes("morphine"))i.player.inventory=i.player.inventory.filter(U=>U!=="morphine"),E="morphine";else return{text:"You have no medicine that can heal wounds.",costAP:0};return d.status="healthy",d.loyalty=Math.min(100,d.loyalty+25),{text:`The medicine flows along ${k}'s wounds, their breathing gradually steadying. They grip your hand tightly. "Thank you. I owe you my life."`,costAP:u?0:1,removeItems:[E],changes:{sanity:10}}}},{id:"calm_insane_follower",label:"Calm Insane Follower",description:"Try to calm an insane follower, requires sedatives or serum.",reqItems:["sedatives","purified_serum"],reqFollowers:[],result:i=>{const u=i.player.followers.find(E=>{const U=i.player.followerStates?.[E];return U&&U.status==="insane"});if(!u)return{text:"No insane followers.",costAP:0};const f=i.player.followerStates[u],d=u==="beggar_follower"?"Gregory":u==="thug_follower"?"Bruno":u==="nurse_follower"?"Madeline":"follower";let k="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(E=>E!=="purified_serum"),k="purified_serum";else if(i.player.inventory.includes("sedatives"))i.player.inventory=i.player.inventory.filter(E=>E!=="sedatives"),k="sedatives";else return{text:"You have no medicine that can quell madness.",costAP:0};return Math.random()<.7?(f.status="healthy",f.loyalty=Math.min(100,f.loyalty+30),{text:`The medicine flows into ${d}'s veins, their whispers gradually ceasing. They blink, their eyes refocusing on you. "I... I'm back. Thank you."`,costAP:1,removeItems:[k],changes:{sanity:15}}):(f.loyalty=Math.min(100,f.loyalty+10),{text:`You inject ${d} with the medicine, but their whispers only pause briefly. Their eyes remain empty.`,costAP:1,removeItems:[k],changes:{sanity:5}})}},{id:"dispatch_beggar_steal",label:"Send Gregory to Steal",reqFollowers:["beggar_follower"],result:i=>{const u=i.player.followerStates?.beggar_follower;if(u&&u.status!=="healthy")return{text:"Gregory's condition prevents him from performing the task. He needs to recover first.",costAP:0};const f=i.player.stats.suspicion,E=f>30?Math.min(.5,.1+(f-30)*.0057):0;if(Math.random()<E)return i.player.flags.beggar_died=!0,{text:"Gregory never returns. A warrant slides under the door, your name written in a trembling hand.",costAP:1,removeFollowers:["beggar_follower"],setFlags:{beggar_died:!0},changes:{suspicion:40,sanity:-10}};const U=u?Math.floor(u.loyalty/20):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"Gregory returns, clutching a few mud-stained coins. He places them on the table.",costAP:1,changes:{funds:3+U,suspicion:3}}}},{id:"dispatch_thug_extort",label:"Send Bruno to Extort",reqFollowers:["thug_follower"],result:i=>{const u=i.player.followerStates?.thug_follower;if(u&&u.status!=="healthy")return{text:"Bruno's condition prevents him from performing the task. He needs to recover first.",costAP:0};const f=u?u.loyalty:50,d=.35,E=d-f/100*(d-.05);if(Math.random()<E)return delete i.player.flags.thug_healed,{text:'Late at night, Bruno drags himself back to you, trailing blood. He collapses at your feet, blood seeping from his wounds. "This time... it was my turn to pay." His heartbeat fades in your palm.',costAP:1,removeFollowers:["thug_follower"],changes:{sanity:-20}};const U=u?Math.floor(u.loyalty/15):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"Bruno tosses a bulging wallet before you, someone else's teeth still imprinted on his knuckles.",costAP:1,changes:{funds:8+U,suspicion:10,sanity:-2}}}}]},rooftop:{id:"rooftop",name:"Apartment Rooftop",description:"Cold wind scrapes over the rusted guardrail while industrial smog sands the starlight pale.",actions:[{id:"return_apartment_roof",label:"Climb Down",result:{text:"You descend the rusted ladder, palms coated in iron filings.",costAP:0,teleport:"apartment"}},{id:"dance_madeline",label:"Dance with Madeline",description:"Slow dance on the brink of the world (requires lover + music box).",reqFlags:["lover_madeline"],reqItems:["music_box"],result:{text:"The music box leaks a fragile waltz; you turn in the wind while the city noise stays below.",costAP:1,changes:{sanity:15}}},{id:"gaze_stars",label:"Stargaze",description:"Search for constellations that have been rearranged. Gazing at the stars consumes great sanity, but occasionally reveals cosmic truth.",result:i=>{const u=`gazed_stars_day_${i.world.day}`;return i.player.flags[u]?{text:"You look up again, but the starlight is completely obscured by industrial smog. Tonight's sky has nothing more to offer.",costAP:0}:{text:"You stare at Orion until the stars bend into geometryand geometry can be pronounced. The truth of the universe flashes before your eyes, but the price of gazing is a heavy toll on sanity.",costAP:1,changes:{gnosis:1,sanity:-15},setFlags:{[u]:!0}}}},{id:"spot_cat",label:"Shadow in the Corner",description:"A pair of green eyes flashes in the dark.",reqFollowersNot:["cat_follower"],result:{text:"A black cat crouches by the pipes, wary and hungry.",costAP:0}},{id:"feed_cat_fish",label:"Feed the Cat Fish",reqItems:["fresh_fish"],reqFollowersNot:["cat_follower"],result:i=>(i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={loyalty:30,status:"healthy"},{text:"It devours the fish, then bumps your leg to say it will follow.",costAP:1,removeItems:["fresh_fish"],addFollowers:["cat_follower"],changes:{sanity:10}})}]},street:{id:"street",name:"District 7 Street",description:i=>"Yellow fog drifts along the avenue, and people hurry through it as though each clutches an unfinished ritual."+Xs(i),actions:[{id:"return_apartment",label:"Return to Apartment",result:{text:"You hurry back to the apartment.",costAP:0,teleport:"apartment"}},{id:"run_away",label:"Flee the City",description:"Abandon rituals and titles; leave with her alone (requires lover + $50).",reqFlags:["lover_madeline"],reqStats:{funds:50},result:{text:"You bribe the gate guards and squeeze onto a freight truck. The skyline recedes, leaving only the hand you clutch; every other title dissolves into the fog.",costAP:1,setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"escape_smuggle",label:"Escape by Smuggling",description:"Use a large sum to bribe a smuggling ship and flee this cursed city (requires: $200).",reqStats:{funds:200},result:{text:"You find a smuggling ship; the captain takes your money and hides you in the cargo hold. Days later, you see unfamiliar coastlines. The city, along with its secrets and horrors, is left behind.",costAP:2,changes:{funds:-200},setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"enter_clinic",label:"Enter Back-Alley Clinic",description:"The red cross flickers on and off through the fog.",result:{text:"You push the door and are hit by disinfectant and alcohol.",costAP:0,teleport:"clinic"}},{id:"enter_tavern",label:"Push the Saloon Doors",description:"Behind them wait groaning drums and mingled smells.",result:{text:"You step into the Drowned Sailor; liquor haze and lamp light braid together.",costAP:0,teleport:"tavern",setFlags:{known_tavern:!0}}},{id:"work_dock",label:"Seek Dock Labor",description:"Trade sinew for coin. High-pressure work drains sanity.",reqStats:{sanity:15},result:{text:"Crates force the air from your lungs while salt mist rakes your throat raw.",costAP:1,changes:{funds:4,sanity:-12}}},{id:"scavenge",label:"Scavenge in Garbage",description:"Search for discarded valuables. Low risk, low reward.",result:()=>{if(Math.random()<.05){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],f=u[Math.floor(Math.random()*u.length)];return{text:"You dig through the garbage and find a crumpled note, its edges water-stained.",costAP:1,changes:{funds:1,sanity:-2},addItems:[f]}}return{text:"You dig through the garbage and find some usable items.",costAP:1,changes:{funds:1,sanity:-2}}}},{id:"beg",label:"Beg on the Street",description:"Hold out your hand to passersby, but most will only offer cold stares.",result:i=>{const f=i.origin==="vagrant"?.8:.4;if(Math.random()<f){const k=Math.random()<.5?1:2;return{text:k===1?"Someone tosses you a coin; you scramble to pick it up.":"A kind soul gives you two coins; you mutter thanks.",costAP:1,changes:{funds:k,sanity:-3}}}else return{text:"People hurry past without stopping. You only feel shame and exhaustion.",costAP:1,changes:{sanity:-5}}}},{id:"enter_black_market",label:"Find Black Market Entrance",description:"Only those who recall the password get in.",reqFlags:["known_market"],reqFlagsNot:["black_market_banned"],reqStats:{funds:5},result:{text:"The doorman pockets the bribe and knocks three coded rhythms on an iron door.",costAP:1,teleport:"black_market"}},{id:"visit_asylum",label:"Go to Asylum",description:"Beyond District 9s walls lies a supposed clean zone.",reqFlags:["known_asylum"],result:{text:"You cross the cordon and step on disinfected tiles.",costAP:0,teleport:"asylum"}},{id:"visit_ministry",label:"Go to Ministry Hall",description:"The administrative monolith shaped like a shrine.",reqFlags:["known_ministry"],result:{text:"The revolving door swallows you while countless eyes stare from the dome.",costAP:0,teleport:"ministry"}},{id:"recruit_beggar",label:"Recruit the Beggar",description:"Use fungus and whispers to summon a courier.",reqFlags:["met_beggar"],reqFollowersNot:["beggar_follower"],reqFlagsNot:["beggar_died"],reqStats:{gnosis:3},reqItems:["strange_fungus"],result:{text:'He swallows the fungus and presses his forehead to the ground. "I see it. Take me to the one you serve."',costAP:1,removeItems:["strange_fungus"],addFollowers:["beggar_follower"],changes:{gnosis:1}}},{id:"recruit_thug",label:"Inject the Enforcer",description:"Use the drug to drag him back from deaths gate.",reqItems:["morphine"],reqFollowersNot:["thug_follower"],reqFlagsNot:["thug_healed"],result:{text:"The medicine runs through his veins and the tremors stop. This life is yours now.",costAP:1,removeItems:["morphine"],addFollowers:["thug_follower"],setFlags:{thug_healed:!0}}},{id:"talk_beggar",label:"Approach the Beggar",reqFlagsNot:["met_beggar"],result:()=>({text:"He grabs your sleeve and presses a rusty key into your palm. Down there remember the password.",costAP:1,addItems:["rusty_key"],setFlags:{met_beggar:!0,known_market:!0},changes:{suspicion:5}})},{id:"unlock_sewers",label:"Unlock the Manhole",reqItems:["rusty_key"],reqFlagsNot:["sewers_open"],result:{text:"The key clicks in response and the cover lifts slowly, vomiting rot.",costAP:1,setFlags:{sewers_open:!0},teleport:"sewers"}},{id:"enter_sewers",label:"Enter Sewers",reqFlags:["sewers_open"],result:{text:"You grip the cold ladder and descend until the dark swallows your steps.",costAP:0,teleport:"sewers"}},{id:"steal_fish",label:"Steal a Fish",description:"Slip one away while the fisher looks elsewhere.",reqFlagsNot:["cat_follower"],result:i=>{const u=i.player.inventory.includes("officer_badge"),f=u?3:0;return Math.random()<.3?{text:u?"You flash your badge; the fisher immediately falls silent and steps back.":'"Stop!" someone shouts, forcing you to flee empty-handed.',costAP:1,changes:{suspicion:10-f}}:{text:u?"You flash your badge; the fisher dares not speak, and you calmly take a fish.":"You tuck a still-flopping fish inside your coat.",costAP:1,addItems:["fresh_fish"],changes:{suspicion:5-f}}}}]},tavern:{id:"tavern",name:"The Drowned Sailor",description:i=>"Tobacco, liquor, and sweat curl together here; nobody asks your past so long as you can pay."+Xs(i),actions:[{id:"leave_tavern",label:"Leave Tavern",result:{text:"You push the door and the fog scrubs away the stench of drink.",costAP:0,teleport:"street"}},{id:"buy_bread",label:"Buy Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach. Basic survival food.",reqStats:{funds:2},result:i=>({text:'The bartender pulls a moldy loaf from under the counter and tosses it to you. "Enough to fill your stomach."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"drink_ale",label:"Drink Cheap Ale",description:"Bitter as sin but it warms the gut.",reqStats:{funds:3},result:{text:"Foam rasps down your throat and your shoulders loosen a notch.",costAP:1,changes:{funds:-3,sanity:5}}},{id:"gamble_dice",label:"Roll Dice",description:"Let the cubes decide your luck.",reqStats:{funds:5},requiresConfirmation:!0,confirmationMessage:i=>{const u=i.player.inventory.includes("loaded_dice")?60:30;return`Warning: This is a gambling action. You have a ${u}% chance to win (net gain 8 coins, +2 sanity) but also a ${100-u}% chance to lose (net loss 5 coins, -2 sanity). Are you sure you want to continue?`},result:i=>Math.random()<(i.player.inventory.includes("loaded_dice")?.6:.3)?{text:"The dice obey and the drunks pockets are yours.",costAP:1,changes:{funds:8,sanity:2}}:{text:"They tumble across the table and your money tumbles with them.",costAP:1,changes:{funds:-5,sanity:-2}}},{id:"listen_rumors",label:"Gather Rumors",description:"Drink-slick tongues sometimes spill real intel.",result:i=>{if(i.player.flags.known_market)if(i.player.flags.known_asylum){if(!i.player.flags.known_ministry)return{text:"A drunk complains the Ministry hall squats beside the square like a tombstone.",costAP:1,setFlags:{known_ministry:!0}}}else return{text:"Word is District 9 Asylum needs bodies; theyre recruiting volunteers on the street.",costAP:1,setFlags:{known_asylum:!0}};else return{text:"Someone whispers about a staircase leading underground; bring enough cash and you can descend.",costAP:1,setFlags:{known_market:!0}};return{text:"The rest is gossip about green sewer lights and missing vagrants.",costAP:1,changes:{suspicion:2}}}}]},clinic:{id:"clinic",name:"Back-Alley Clinic",description:i=>"A jaundiced bulb swings overhead while the doctor wipes scalpels with coarse cloth. This place treats ailments the Ministry refuses to acknowledge."+Xs(i),actions:[{id:"leave_clinic",label:"Leave Clinic",result:{text:"You step back into the fog and the blood-smell thins at once.",costAP:0,teleport:"street"}},{id:"work_clinic",label:"Work at Clinic",description:"As a doctor, you can work here for steady income. Each shift consumes sanity but provides stable funds.",reqFlags:["medical_training"],reqFlagsNot:["clinic_fired"],result:()=>({text:"You put on your white coat and begin the day's consultations. The patients' pain and despair exhaust you, but at least it brings some income.",costAP:2,changes:{funds:5,sanity:-3},setFlags:{clinic_worked_today:!0,clinic_missed_days:0}})},{id:"talk_nurse",label:"Speak with the Crying Nurse",description:"She clearly has trouble looming.",reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'"The interest spiked again. One more day and they sell me to the mines." She wipes her tears with her sleeve.',costAP:1}},{id:"recruit_nurse_gold",label:"Pay Her Debt with Gold Tooth",description:"This tooth can settle the ledger.",reqItems:["gold_tooth"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:`She stares at the tooth for a long while before taking it. "I'll spend the rest of my life repaying this."`,costAP:1,removeItems:["gold_tooth"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"recruit_nurse_file",label:"Leverage the Dossier",description:"Use the classified file as blackmail.",reqItems:["classified_file"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:"You drop the file on the table; the mob boss reads it in silence, then wipes her debt clean.",costAP:1,removeItems:["classified_file"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"cure_infection",label:"Treat Rot Disease",description:"Scrape away corruption and flood it with liquor.",reqStats:{funds:20},reqFlags:["infected"],result:{text:"Liquor burns across the wound before numbness settles and the flesh knits shut.",costAP:1,changes:{funds:-20},setFlags:{infected:!1}}},{id:"rehab_addiction",label:"Detox Regimen",description:"Ride out the craving in restraints.",reqStats:{funds:35},reqFlags:["addicted"],result:{text:"They strap you to a bed for three days; sweat and vomit pool beneath you until all thats left is a shaking breath.",costAP:3,changes:{funds:-35,sanity:-20},setFlags:{addicted:!1}}},{id:"sell_blood",label:"Sell Blood",description:"Trade plasma for cash.",reqStats:{sanity:30},result:{text:"A thick needle taps your vein and a glass bottle slowly fills red while your head drifts.",costAP:1,changes:{funds:6,sanity:-25}}},{id:"sell_kidney",label:"Sell a Kidney",description:"Exchange an organ for breathing room.",reqStats:{funds:0},reqFlagsNot:["kidney_sold"],result:{text:"When the anesthesia fades, your waist is swaddled in bandages and a blood-speckled bundle of bills waits nearby.",costAP:3,changes:{funds:40,sanity:-20},setFlags:{kidney_sold:!0}}},{id:"buy_laudanum",label:"Purchase Laudanum",description:"Ticket to the dreamscape.",reqStats:{funds:15},reqItemsNot:["laudanum","forbidden_name"],result:i=>({text:"The doctor retrieves a black bottle from the safe and tells you to open it in silence.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["laudanum"]})},{id:"buy_sedatives",label:"Purchase Sedatives",description:"Official calming pills.",reqStats:{funds:10},result:i=>({text:"Blue tablets slide into a paper pouch; you are told not to indulge.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["sedatives"]})},{id:"buy_morphine",label:"Purchase Morphine",description:"Costly and perilous peace.",reqStats:{funds:25},result:i=>({text:'An ampoule is pressed into your palm. "Do not let it take command," the doctor warns.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["morphine"]})},{id:"implant_fungus",label:"Implant Luminous Fungus",description:"Let the mycelium lodge in your flesh.",reqItems:["strange_fungus"],reqFlagsNot:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"Warning: Implanting the fungus will cause 20 sanity loss and make you a fungus host. While you can harvest it later, harvesting has a 40% chance of causing infection. Are you sure you want to continue?",result:{text:"The fungus is pushed into the split muscle; when the stitches tighten you feel it pulse.",costAP:2,removeItems:["strange_fungus"],changes:{sanity:-20},setFlags:{fungus_host:!0}}},{id:"harvest_self",label:"Harvest Your Fungus",description:"Treat the host as the offering.",reqFlags:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"Warning: Harvesting your fungus will cause 20 sanity loss and has a 40% chance of causing infection. Once infected, you will lose 8 sanity daily. Are you sure you want to continue?",result:()=>{const i=Math.random()<.4;return{text:i?"The blade grazes the wound and fire spreads, infection blooming immediately.":"You suppress the tremor and dig a glowing tuft from your arm.",costAP:1,addItems:["strange_fungus"],changes:{sanity:-20},setFlags:i?{infected:!0}:{}}}},{id:"use_morphine_risky",label:"Inject Morphine",reqItems:["morphine"],description:"Borrow a brief silence from the needle.",requiresConfirmation:!0,confirmationMessage:i=>i.player.flags.addicted?"You are already addicted to morphine. Continued use will ease withdrawal symptoms but deepen your dependence. Are you sure you want to continue?":"Warning: Using morphine has a 30% chance of causing addiction. Once addicted, you will lose 12 sanity daily and need a 35-coin detox regimen to cure it. Are you sure you want to continue?",result:i=>Math.random()<.3&&!i.player.flags.addicted?{text:"A gentle undertow wraps around you, and the idea of life without it becomes terrifying.",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"Warmth rides your veins and pain ebbs like a tide.",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}]},black_market:{id:"black_market",name:"Underground Market",description:"A damp basement crammed with contraband; transactions care only for price, never for names.",actions:[{id:"leave_market",label:"Leave Market",result:{text:"You return to the street, vendors whispers still clinging to your ears.",costAP:0,teleport:"street"}},{id:"buy_lantern",label:"Buy Brass Lantern",description:"Essential flame for sewer expeditions.",reqStats:{funds:8},reqItemsNot:["brass_lantern"],result:i=>({text:'A new wick goes into the old lantern; the seller taps the glass. "Enough to reach the bottom."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(8*1.5):8)},addItems:["brass_lantern"]})},{id:"buy_music_box",label:"Buy Music Box",description:"An expensive, unnecessary romance.",reqStats:{funds:20},reqItemsNot:["music_box"],result:i=>({text:"The box is slipped into a cloth pouch, its spring still ticking.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["music_box"]})},{id:"buy_ring",label:"Buy Silver Ring",description:"A promise forged amid rubble.",reqStats:{funds:15},reqItemsNot:["silver_ring"],result:i=>({text:"The merchant studies you, then silently slides the ring across the counter.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["silver_ring"]})},{id:"buy_alchemy_kit",label:"Buy Alchemy Kit",description:"Tools that can rewrite recipes.",reqStats:{funds:25},reqItemsNot:["alchemy_kit"],result:i=>({text:'"Do not fire it up during an air raid," the seller warns while handing over the stained apparatus.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["alchemy_kit"]})},{id:"buy_scroll",label:"Buy Worm Scroll",description:"A mold-reeking forbidden text.",reqStats:{funds:20},reqItemsNot:["crumbling_scroll"],result:i=>({text:'Wrapped in coarse cloth, the scroll comes with a warning: "Never read it in the light."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["crumbling_scroll"]})},{id:"buy_iron_dagger",label:"Buy Iron Dagger",description:"A common street weapon, crude but deadly enough.",reqStats:{funds:12},reqItemsNot:["iron_dagger"],result:i=>({text:'The vendor pulls an iron dagger from under the counter, the edge glinting in the dim light. "This will do."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(12*1.5):12)},addItems:["iron_dagger"]})},{id:"buy_scalpel",label:"Buy Scalpel",description:"A common surgical tool from the clinic, sharp as a razor.",reqStats:{funds:10},reqItemsNot:["scalpel"],result:i=>({text:'The vendor hands you a scalpel, the blade reflecting cold light. "Be careful, this thing is more dangerous than it looks."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["scalpel"]})},{id:"buy_rare_item_coin",label:"Gamble with Alchemy Coin (High Risk)",description:"Trade the mysterious coin for the black market's most precious items. Warning: This is a gambleyou may receive items of varying value. Risk at your own discretion.",reqItems:["alchemy_coin"],requiresConfirmation:!0,confirmationMessage:"Warning: This is a high-risk gamble. You may receive very valuable items (like Obsidian Dagger) but also only common materials (like Ancient Coin). The alchemy coin will be consumed. Are you sure you want to continue?",result:()=>{const i=Math.random();let u,f;return i<.05?(u="ritual_dagger",f="Obsidian Dagger"):i<.3?(u="alien_idol",f="Otherworldly Idol"):i<.45?(u="golden_mask",f="Golden Mask"):i<.7?(u="void_salt",f="Void Salt"):(u="ancient_coin",f="Ancient Coin"),{text:`The vendor takes the alchemy coin, eyes flashing with greed. "This glow... I understand. This is true alchemy. I'll trade you this." He hands you ${f}.`,costAP:1,removeItems:["alchemy_coin"],addItems:[u]}}},{id:"buy_bread",label:"Buy Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach. Basic survival food.",reqStats:{funds:2},result:i=>({text:'The vendor digs out a moldy loaf from a corner. "Enough to keep you going for a while."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"buy_spirits",label:"Buy Bootleg Spirits",description:"Cheap anesthesia.",reqStats:{funds:4},result:i=>({text:"A bottle of cloudy liquor smelling like rotten barrels is pressed into your hand.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(4*1.5):4),sanity:15},addItems:["cheap_spirits"]})},{id:"sell_gold_tooth",label:"Sell Gold Tooth",reqItems:["gold_tooth"],result:{text:"A handful of coins get tossed your way with little ceremony.",costAP:1,changes:{funds:6},removeItems:["gold_tooth"]}},{id:"sell_alchemy_coin",label:"Sell Alchemy Coin",reqItems:["alchemy_coin"],result:{text:`The vendor's eyes flash in the otherworldly glow of the coin. "This... this is alchemy's masterpiece. I'll pay top price." He hands you a thick stack of bills.`,costAP:1,changes:{funds:30},removeItems:["alchemy_coin"]}},{id:"sell_fungus",label:"Sell Luminous Fungus",reqItems:["strange_fungus"],result:{text:'"Good cultureenough for two dream draughts."',costAP:1,changes:{funds:4},removeItems:["strange_fungus"]}},{id:"sell_idol",label:"Sell Otherworldly Idol",reqItems:["alien_idol"],result:{text:`The vendor presses a palm on it, eyes flashing. "I'll take this one."`,costAP:1,changes:{funds:50},removeItems:["alien_idol"]}},{id:"sell_mask",label:"Sell Golden Mask",reqItems:["golden_mask"],result:{text:`"Feels too cold, but it'll fetch a crowd." Still, he pays up.`,costAP:1,changes:{funds:40},removeItems:["golden_mask"]}},{id:"sell_ritual_mask",label:"Sell Ritual Mask",reqItems:["ritual_mask"],result:{text:`The vendor's eyes flash in the mask's twisted glow. "Alchemy's masterpiece... this fusion of power, I'll pay top price." He hands you a thick stack of bills.`,costAP:1,changes:{funds:135},removeItems:["ritual_mask"]}},{id:"sell_purge_list",label:"Sell Purge Ledger",reqItems:["purge_list"],result:i=>(delete i.player.flags.purge_list_accessed,{text:`The vendor's fingertips tremble. "Hand it overone page of this buys a row of houses."`,costAP:1,changes:{funds:60},removeItems:["purge_list"]})},{id:"sell_file",label:"Sell Classified Dossier",reqItems:["classified_file"],result:{text:'"This will roll a lot of heads, so the price is fixed."',costAP:1,changes:{funds:25},removeItems:["classified_file"]}},{id:"sell_fermented_bread",label:"Sell Fermented Bread",reqItems:["fermented_bread"],result:{text:`The vendor sniffs the bread. "Alchemy-processed food... interesting. I'll make an offer."`,costAP:1,changes:{funds:8},removeItems:["fermented_bread"]}}]},sewers:{id:"sewers",name:"Ancient Sewers",description:i=>"Stone walls are carved with worn reliefs, and the channels carry glowing sludge instead of water."+Xs(i),actions:[{id:"leave_sewers",label:"Climb Back Up",result:{text:"You haul yourself up the icy ladder until the smog greets you again.",costAP:0,teleport:"street"}},{id:"scavenge_lit_risky",label:"Lantern Scavenge",description:"Let the lantern guide you while you sift the muck for relics.",reqItems:["brass_lantern"],result:()=>{const i=Math.random();if(i<.1)return{text:"A mutated rat bites through your boot and the wound darkens instantly.",costAP:1,changes:{sanity:-10},setFlags:{infected:!0}};if(i<.15){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],f=u[Math.floor(Math.random()*u.length)];return{text:"The light catches a water-soaked slip of paper, barely legible but still readable.",costAP:1,changes:{sanity:-5},addItems:[f]}}else return i<.3?{text:"The light catches a gold tooth wedged between stones.",costAP:1,changes:{sanity:-5},addItems:["gold_tooth"]}:i<.7?{text:"You harvest a pristine clump of luminous fungus, cold to the touch.",costAP:1,changes:{sanity:-3},addItems:["strange_fungus"]}:{text:"You scrape up a few morsels of meat still fit to eat and shove them into your bag.",costAP:1,changes:{sanity:-5},addItems:["rat_meat"]}}},{id:"encounter_sewer_monster",label:"Explore Deeper",description:"Push further into the darkness, where whispers call and something waits.",reqItems:["brass_lantern"],result:()=>{if(Math.random()<.4)return{text:"A low growl echoes ahead, like the resonance of some ancient ritual. Glowing eyes flash in the shadowsnot human eyes, not beast eyes, but something else entirely.",costAP:0,setFlags:{sewer_monster_encounter:!0}};{const u=Math.random();return u<.3?{text:"You discover an ancient altar deep within, its stone surface carved with incomprehensible symbols. The lines pulse like veins, and as you stare, knowledge seeps into your consciousness like venom.",costAP:1,changes:{sanity:-8,gnosis:2}}:u<.6?{text:"Your fingers close around a rusted key in the sludge, like a relic bearing the secrets of those who came before.",costAP:1,changes:{sanity:-5},addItems:["rusty_key"]}:{text:"You explore for a long time, but find nothing except sludge and echoes. The darkness devours your sense of direction, and you begin to wonder if you are still in the same world.",costAP:1,changes:{sanity:-3}}}}},{id:"flee_sewer_monster",label:"Flee",description:"Turn and run, let fear drive your legs.",reqFlags:["sewer_monster_encounter"],result:{text:"You turn and run, footsteps echoing through the pipes like a countdown. You dare not look back until the ladder's outline appears. You're safe, but the feeling of being pursued will remain in your bones forever.",costAP:2,changes:{sanity:-5},setFlags:{sewer_monster_encounter:!1}}},{id:"fight_sewer_monster",label:i=>i.player.inventory.some(f=>["iron_dagger","ritual_dagger","scalpel"].includes(f))?i.player.inventory.includes("ritual_dagger")?"Fight (Very High Chance)":i.player.inventory.includes("iron_dagger")?"Fight (High Chance)":i.player.inventory.includes("scalpel")?"Fight (Moderate Chance)":"Fight (Very Low Chance)":"Fight (Very Low Chance)",description:"Face the darkness with steel, the fear with will.",reqFlags:["sewer_monster_encounter"],result:i=>{if(!i.player.inventory.some(d=>["iron_dagger","ritual_dagger","scalpel"].includes(d)))return{text:"Your hands search, but find only empty pockets. Without a weapon, you can only face those eyes and feel fear pour into your veins like ice water. The creature lunges at you, and you can only fight back with your bare hands and fists in vain. You are struck down hard, and in your dazed state, you crawl back to the entrance. When you wake, you are covered in wounds, and that terror is deeply etched into your memory.",costAP:1,changes:{sanity:-30,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}};let f;return i.player.inventory.includes("ritual_dagger")?f=.8:i.player.inventory.includes("iron_dagger")?f=.65:i.player.inventory.includes("scalpel")?f=.55:f=.45,Math.random()<f?{text:"You swing your weapon; steel meets something unnameable. The creature shrieks with a voice that is not human, retreating into darkness like smoke. You survived, but the horror is carved into your memory, a wound that will never heal.",costAP:1,changes:{sanity:-15,gnosis:1},addItems:["strange_fungus"],setFlags:{sewer_monster_encounter:!1}}:{text:"You fight desperately, but the creature is too strong. Its power washes over you like a tide, and you fall, consciousness drifting in darkness. You wake at the sewer entrance, covered in wounds, as though you had lived through a nightmare. But the wounds are real, the pain reminds youit was not a dream.",costAP:1,changes:{sanity:-25,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}}}},{id:"search_relics",label:"Seek Relics",description:"Grope through the sludge for the relics of rumor.",reqItems:["brass_lantern"],reqItemsNot:["alien_idol"],result:()=>Math.random()<.15?{text:"Your fingertips brush a green-glowing idol, far heavier than expected.",costAP:1,addItems:["alien_idol"],changes:{sanity:-15}}:{text:"Only shattered bones roll through the mud.",costAP:1,changes:{sanity:-8}}},{id:"explore_deep",label:"Search for Altar Gate",description:"Follow unknown tunnels toward the ascension site. When sanity is too low, you can perceive its presence more clearly.",reqStats:{},result:i=>{const u=i.player.stats.sanity>0;return!i.player.inventory.includes("ritual_dagger")&&Math.random()>.5?{text:"You root around in the mire and find a cold obsidian dagger.",costAP:1,changes:{sanity:-10},addItems:["ritual_dagger"]}:u?{text:"You wander the maze of pipes while darkness drags at your thoughts. Your sanity remains clear; you cannot truly see the path to ascension.",costAP:1,changes:{sanity:-15}}:{text:"The boundaries of sanity have shattered; you see passages that should not exist. The altar whispers in the darkness, guiding you toward it.",costAP:1,changes:{sanity:-5}}}},{id:"approach_altar",label:"Approach the Radiant Gate",description:"The altar murmurs for you.",reqItems:["ritual_dagger"],result:{text:"You cleave the blocking vines and a vaulted chamber fills with milky light ahead.",costAP:1,teleport:"altar"}}]},asylum:{id:"asylum",name:"District 9 Asylum",description:"Eyes glow behind barbed windows; this is where they cage those who know too much.",actions:[{id:"leave_asylum",label:"Leave",result:{text:"You hurry away from the white walls, convinced someone still watches your back.",costAP:0,teleport:"street"}},{id:"visit_madman",label:"Visit Patient 103",description:"Hear him describe the voices inside the walls. Can only visit once per day.",reqStats:{funds:2},result:i=>{const u=`visited_madman_day_${i.world.day}`;if(i.player.flags[u])return{text:'The orderly stops you. "Patient 103 has already had a visitor today. Come back tomorrow."',costAP:0};const f=2;return{text:"You bribe the orderly to gain access to the ward. Patient 103's account sounds so much like scripture that you jot down several passages. These words echo in your mind, bringing revelation but consuming your sanity.",costAP:1,changes:{sanity:-8,gnosis:2,funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(f*1.5):f)},setFlags:{[u]:!0}}}},{id:"steal_coat",label:"Steal Lab Coat",description:"Try to pass for a doctor.",reqItemsNot:["doctor_coat"],result:i=>{const u=i.player.inventory.includes("officer_badge"),f=u?5:0;return Math.random()<.3?{text:u?"You flash your badge; the orderlies immediately step back, not daring to stop you.":"Alarms erupt and orderlies drag you out.",costAP:1,changes:{suspicion:15-f,sanity:u?0:-5}}:{text:u?"You flash your badge; no one dares question your identity.":"You slip into the coat, keep your head low, and no one questions you.",costAP:1,addItems:["doctor_coat"],changes:{suspicion:5-f}}}},{id:"enter_archives",label:"Enter Archives",description:"Only credentialed staff may descend. High suspicion may be detected.",reqItems:["doctor_coat"],result:i=>{const u=i.player.stats.suspicion,f=i.player.inventory.includes("officer_badge");let d=0;if(u>=85?d=.7:u>=70?d=.5:u>=50?d=.3:u>=30&&(d=.1),f&&(d*=.5),Math.random()<d){const E=u>=85?20:u>=70?15:10;return{text:f?`The guard examines your badge carefully, eyes growing wary. "Your file... something's off. Come with me."`:`The guard stares at your face for a few seconds, then his expression changes. "Wait, I know you! You're the wanted one!"`,costAP:1,changes:{suspicion:E},teleport:"street"}}else return{text:f?'You flash your badge; the guard immediately steps aside. "Right this way, sir."':"You nod at the guard; he assumes you belong here.",costAP:0,teleport:"asylum_archives"}}},{id:"shock_therapy",label:"Undergo Shock Therapy",description:"Use electricity to erase the noise.",reqStats:{funds:30},result:{text:"Current tears through your temples; memories smear and fear is plucked out like a splinter.",costAP:2,changes:{funds:-30,sanity:60,gnosis:-5}}}]},asylum_archives:{id:"asylum_archives",name:"Basement Archives",description:"Iron cabinets brim with yellowed files documenting every mind the old gods shredded.",actions:[{id:"leave_archives",label:"Return to Hall",result:{text:"You slide the files back and climb the stairs to the ground floor.",costAP:0,teleport:"asylum"}},{id:"read_files",label:"Read Classified Reports",description:"Study the histories that were erased.",result:{text:"You read accounts of the Inverted City; handwriting from a century ago matches todays sightings.",costAP:1,changes:{gnosis:3,sanity:-12}}},{id:"steal_file",label:"Steal the Dossier",description:"Swipe the folder on Patient Zero.",reqItemsNot:["classified_file"],result:i=>{const u=i.player.inventory.includes("officer_badge");return{text:u?"You flash your badge; the archivist dares not question you, and you calmly take the dossier.":"You tuck the file inside your coat; the paper crackles against your chest.",costAP:1,addItems:["classified_file"],changes:{suspicion:u?5:15}}}}]},ministry:{id:"ministry",name:"Ministry Grand Hall",description:i=>i.player.inventory.includes("officer_badge")?"Guards salute you as though you and the building share a spine.":"A colossal statue looms in the rotunda, and printer rattles meld with interrogation screams into a single oppressive drone.",actions:[{id:"leave_ministry",label:"Exit Hall",result:{text:"You stride through the revolving doors, surveillance lights still sweeping your spine.",costAP:0,teleport:"street"}},{id:"bribe_officer",label:"Bribe Clerk ($15)",description:"Pay to erase the record.",reqStats:{funds:15},result:i=>({text:'"Archives glitch sometimes," he mutters while pocketing the envelope and deleting your entry.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15),suspicion:-20}})},{id:"report_citizen_pro",label:"Report a Dissident",description:"Offer up an innocent to wash yourself clean.",reqStats:{suspicion:10},result:{text:"You point at a stranger in the crowd; guards seize him without a word.",costAP:1,changes:{suspicion:-30,sanity:-10}}},{id:"storm_ministry",label:"Storm the Ministry",description:"Rally your cult, overthrow this bastion of oppression with weapons and will (requires: 3 followers at max loyalty, at least 2 weapons, $100).",reqStats:{funds:100},reqItems:[],result:i=>{const u=i.player.followers.filter(k=>{const E=i.player.followerStates?.[k];return E&&E.loyalty>=100&&E.status==="healthy"}),d=["ritual_dagger","iron_dagger","scalpel"].filter(k=>i.player.inventory.includes(k)).length;return u.length<3?{text:"You need at least 3 followers at max loyalty to launch this revolution.",costAP:0}:d<2?{text:"You need at least 2 weapons to storm the Ministry.",costAP:0}:{text:"Your cult charges into the hall, weapons flashing under the lights. Ministry guards fall, files burn in flames. You stand upon the ruins, a new order rising from the ashes.",costAP:3,changes:{funds:-100},setFlags:{victory_achieved:!0,revolution_ending:!0}}}},{id:"steal_badge",label:"Steal Officer Badge",description:"Extremely risky.",reqItemsNot:["officer_badge"],requiresConfirmation:!0,confirmationMessage:` EXTREME DANGER WARNING: Stealing a Ministry officer badge is an extremely dangerous action.

 20% chance of success: Gain badge, but suspicion +10
 30% chance of failure but undetected: Suspicion +20
 50% chance of being caught: Suspicion immediately reaches 100, game ends immediately!

This is an extremely high-risk action that may directly cause game failure. Are you sure you want to continue?`,result:()=>{const i=Math.random();return i<.2?{text:"You lift the badge while he naps, slipping it up your sleeve.",costAP:1,addItems:["officer_badge"],changes:{suspicion:10}}:i<.5?{text:"The officer shifts; you pretend to ask for directions while your heart hammers.",costAP:1,changes:{suspicion:20}}:{text:'"Guards!" he roars, pinning you to the floor.',costAP:1,changes:{suspicion:100}}}},{id:"access_database",label:"Access Database",description:"Pull the purge roster (5-day cooldown).",reqItems:["officer_badge"],reqItemsNot:["purge_list"],reqFlagsNot:["purge_list_accessed"],result:i=>{const f=`purge_list_cooldown_until_${i.world.day+5}`;return{text:"You swipe the badge across the terminal; the printer spits out an entire roll of names. The system logs your access.",costAP:1,addItems:["purge_list"],setFlags:{purge_list_accessed:!0,[f]:!0},changes:{suspicion:5}}}},{id:"use_badge_clear",label:"Use Badge to Clear Records",description:"Leverage your official status to reduce suspicion.",reqItems:["officer_badge"],reqStats:{suspicion:5},result:i=>({text:'You show your badge to the archivist; he immediately marks your file as "reviewed" in the system. Suspicion vanishes like eraser marks.',costAP:1,changes:{suspicion:-Math.min(30,i.player.stats.suspicion)}})},{id:"use_badge_info",label:"Access Internal Intelligence",description:"Use your badge to obtain secret information.",reqItems:["officer_badge"],result:{text:"You browse internal briefings and learn some hidden truths.",costAP:1,changes:{gnosis:5,sanity:-5}}}]},pale_city:{id:"pale_city",name:"The Pale City",description:()=>"The sky congeals into a gray vortex and towers hang upside down overhead. Here, sanity is the only visa.",actions:[{id:"wake_up",label:"Force Wakefulness",description:"Sever the dream and return to reality.",result:{text:"You jolt upright, cold sweat trailing down your spine.",costAP:0,teleport:"apartment"}},{id:"visit_lake",label:"Walk to the Black Lake",description:"The still water at the edge of the city.",reqFlags:["known_lake"],result:{text:"You step into the water and your perspective flips.",costAP:0,teleport:"lake_hali"}},{id:"wander_dream",label:"Wander the Grey Fields",description:"Hunt for clues in the dead landscape.",reqItemsNot:["forbidden_name"],result:()=>{const i=Math.random();return i<.4?{text:"You see deceased relatives waiting on the far bank, faces veiled in white mist.",costAP:1,changes:{sanity:-15}}:i<.7?{text:"You pick up shards of memories that never existed in reality; they glow in your palm.",costAP:1,changes:{sanity:-10,gnosis:2}}:{text:"You arrive at the entrance to the Inverted Library, book spines hanging upside down.",costAP:1,teleport:"dream_library"}}}]},lake_hali:{id:"lake_hali",name:"Lake Hali",description:"The deepest dream lake is black and still as glass, with two moons hanging overheadbeautiful enough to hurt.",actions:[{id:"leave_lake",label:"Swim Back to Shore",result:{text:"You fight the frigid waves and return to the Pale City.",costAP:0,teleport:"pale_city"}},{id:"gaze_reflection",label:"Gaze at the Surface",description:"Stare into the mirror of your subconscious.",result:{text:"Your reflection speaks in a calm voice and reveals truths you refuse to face.",costAP:1,changes:{sanity:-10,gnosis:3}}},{id:"fish_dreams",label:"Dredge Sunken Things",description:"Search the lakebed for lost artifacts.",result:i=>{const u=Math.random();return u<.3&&!i.player.inventory.includes("golden_mask")?{text:"You haul up a golden mask, still rimed with the lakes chill.",costAP:1,addItems:["golden_mask"],changes:{sanity:-15}}:u<.6?{text:"A handful of glowing salt crystals appears in your palm.",costAP:1,addItems:["void_salt"],changes:{sanity:-10}}:{text:"You surface with nothing but a piercing cold.",costAP:1,changes:{sanity:-15}}}},{id:"consume_salt",label:"Inhale Void Salt",description:"Ingest compressed knowledge directly.",reqItems:["void_salt"],result:{text:"Lightning sears across your brain and you glimpse the skeleton of reality.",costAP:1,changes:{gnosis:5,sanity:-5},removeItems:["void_salt"]}},{id:"offer_coin_to_lake",label:"Offer Alchemy Coin to the Lake",description:"Trade the mysterious coin with the power at the depths of dreams.",reqItems:["alchemy_coin"],result:{text:"The alchemy coin sinks into the lake, and otherworldly light spreads through the water. Ripples form on the surface, and you feel the power of dreams flow into your consciousness.",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:8,sanity:10}}}]},dream_library:{id:"dream_library",name:"The Inverted Library",description:"Books hang from the vault like stalactites dripping ink; every destroyed history is archived here.",actions:[{id:"leave_library",label:"Depart",result:{text:"You descend the inverted stair of books and return to the Pale Citys edge.",costAP:0,teleport:"pale_city"}},{id:"find_true_name",label:"Seek the Old Name",description:"The missing syllable of the ascension ritual.",reqStats:{gnosis:20},reqItemsNot:["forbidden_name"],result:{text:"You lift a tome bound in skin; when you recite the name, reality shudders like cloth. You remember it now.",costAP:1,changes:{sanity:-40},addItems:["forbidden_name"]}}]},cathedral:{id:"cathedral",name:"Abandoned Cathedral",description:"The altar has collapsed; only dust and echoes remain.",actions:[{id:"leave_cathedral",label:"Leave",result:{text:"You step over the ruined threshold; dust coils around your ankles.",costAP:0,teleport:"street"}},{id:"confess_sins",label:"Confess",description:"Spend gnosis to trade secrets for calm (reduces suspicion).",reqStats:{gnosis:2},result:{text:"You whisper your crimes and the echo answers in your stead.",costAP:1,changes:{suspicion:-25,gnosis:-2,sanity:5}}},{id:"offer_alchemy_coin",label:"Offer Alchemy Coin",description:"Place the mysterious coin on the altar for a more powerful purification effect.",reqItems:["alchemy_coin"],result:{text:"The alchemy coin glows with otherworldly light on the altar, and the light spreads, washing away suspicion and corruption from you. You feel an unprecedented lightness.",costAP:1,removeItems:["alchemy_coin"],changes:{suspicion:-40,sanity:20,gnosis:3}}},{id:"scavenge_crypt",label:"Explore the Crypt",description:"Rifle coffins in search of offerings.",result:()=>Math.random()<.3?{text:"Your fingers close around an ancient coin wedged between stones.",costAP:1,addItems:["ancient_coin"],changes:{sanity:-15}}:{text:"Only empty tombs and cold air answer you.",costAP:1,changes:{sanity:-10}}}]},altar:{id:"altar",name:"Ascension Altar",description:i=>{let u="You stand on the edge of reality. Physics has fled, leaving only pulsing light and impossible geometry. A vast inverted pyramid hovers above, waiting for the final offering.";return i.player.flags.lover_madeline&&(u+=" Madeline grips your hand; her tremor runs straight into your chest."),u},actions:[{id:"flee_altar",label:"Flee the Altar",description:"The pressure crushes your lungs; you are not ready for the truth.",result:{text:"You scream, spin, and crawl back into the sewer shadows. That colossal terror will forever mock your cowardice in dreams.",costAP:0,teleport:"sewers",changes:{sanity:-20}}},{id:"perform_ritual",label:"Offer Yourself",description:"Recite the True Name and pierce your heart. Flesh is the cage; death is the key. Only at the edge of breakdown can you see the path to ascension.",reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:60},result:i=>i.player.stats.sanity>0?{text:"Your sanity remains clear; you cannot truly understand the meaning of death. Only when you stand at the edge of breakdown can you see the path to ascension.",costAP:0}:{text:"When the obsidian enters your heart there is no pain, only release. Your flesh peels away and your mind becomes a pale beam that tunnels through the strata, devouring the rotten city. You are finally part of eternity.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_lover",label:"Sacrifice Madeline",description:"She is your dearest bond. Only by severing it can you ascend unburdened.",reqFlags:["lover_madeline"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:30},result:{text:"She watches you with trust until the cold blade slips into her chest. Her light fades, replaced by the altars hungry crimson glow. You gain ultimate power, but your humanity dies in that instant. You ascendalone and composed.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_follower",label:"Sacrifice Gregory",description:'The "Prophet" longs to servegrant him the honor.',reqFollowers:["beggar_follower"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:50},result:{text:"You shove the raving beggar onto the altar. Invisible forces tear him apart amid laughter, and blood-rain opens the gate. You tread on his remains as you step into divinity.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"ascend_with_mask",label:"Ascend Through Mask",description:"Wear the ritual mask and let alchemy's masterpiece guide you through reality's threshold. The alchemist's exclusive path.",reqItems:["ritual_mask","forbidden_name"],reqStats:{gnosis:30},result:{text:"You don the twisted mask and speak the Old Name. The mask fuses with your flesh, alchemical flames burning within you. You need no sacrifice, for alchemy has already transformed you. You pass through reality's threshold, becoming alchemy's ultimate creationa being beyond life and death.",costAP:1,setFlags:{victory_achieved:!0}}}]}},xe=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(36).substring(2,15)}-${Math.random().toString(36).substring(2,15)}`},ah=(i,u,f,d)=>{let k;u==="fallen_noble"?k={id:"earn_money",title:i==="zh"?"":"Earn Funds",description:i==="zh"?"50":"Earn at least 50 coins through work or trading to ensure enough funds for various situations",type:"short",completed:f>=50,progress:f,maxProgress:50}:u==="doctor"?k={id:"work_clinic",title:i==="zh"?"":"Work at Clinic",description:i==="zh"?"":"Go to the Back-Alley Clinic to start your first shift. This is your steady source of income as a doctor.",type:"short",completed:!1}:k={id:"earn_money",title:i==="zh"?"":"Earn Funds",description:i==="zh"?"15":"Earn at least 15 coins through work or trading to cover living expenses",type:"short",completed:f>=15,progress:f,maxProgress:15};const E={id:"maintain_sanity",title:i==="zh"?"":"Maintain Sanity",description:i==="zh"?u==="doctor"?"50":"50":u==="doctor"?"Keep your sanity above 50 to avoid breakdown (doctors start with lower sanity, be careful)":"Keep your sanity above 50 to avoid breakdown",type:"short",completed:d>=50};return[{id:"explore_street",title:i==="zh"?"":"Explore the Street",description:i==="zh"?"":"Step outside and explore the street for resources and opportunities",type:"short",completed:!1},k,E,{id:"recruit_follower",title:i==="zh"?"":"Recruit a Follower",description:i==="zh"?"":"Recruit your first follower from the street or market",type:"long",completed:!1},{id:"discover_secret",title:i==="zh"?"":"Discover Secrets",description:i==="zh"?"":"Explore the city to discover hidden truths and secrets",type:"long",completed:!1}]},Qs=(i,u)=>{const f={player:{stats:{sanity:100,funds:10,suspicion:0,gnosis:0},inventory:[],followers:[],flags:{}},world:{day:1,timeSegment:0,maxActionPoints:4,currentActionPoints:4,currentLocationId:"apartment"},logs:[],status:"playing",origin:i,tutorialCompleted:!1};let d=10,k=100;switch(i){case"fallen_noble":f.player.stats={sanity:80,funds:40,suspicion:20,gnosis:0},f.player.inventory=["old_ring"],f.player.flags={noble_heritage:!0},d=40,k=80,f.logs=[{id:"init",text:u==="zh"?`404

312`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. The heirloom ring on the table glimmers in the dim lightthe last relic of your family. The Ministry's eyes never left your family, and now they watch you too.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. First, try stepping outside to explore the street and look for work and resources. Remember: you need to pay 1 coin daily for living expenses in the first 3 days, then 2 coins daily afterwards, so make sure you have enough funds.`,type:"narrative",timestamp:1}];break;case"doctor":f.player.stats={sanity:65,funds:15,suspicion:5,gnosis:0},f.player.inventory=["morphine","scalpel"],f.player.flags={medical_training:!0},d=15,k=65,f.logs=[{id:"init",text:u==="zh"?`404

2353312`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. The morphine bottle in your medical bag reflects dim light on the nightstand. You have seen too much death, too many inexplicable wounds. The boundaries of sanity have long blurred, but you know some truths must be uncovered.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. As a doctor, you can find steady work at the Back-Alley Clinic: each shift costs 2 action points and 3 sanity, but earns 5 coins. Remember: missing work for 3 consecutive days will get you fired. You need to pay 1 coin daily for living expenses in the first 3 days, then 2 coins daily afterwards, so make sure you have enough funds. Your medical training makes medical items more effective.`,type:"narrative",timestamp:1}];break;case"vagrant":f.player.stats={sanity:90,funds:10,suspicion:0,gnosis:0},f.player.inventory=[],f.player.flags={street_wise:!0,resistant:!0},d=10,k=90,f.logs=[{id:"init",text:u==="zh"?`404

312`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. This apartment isn't yours, but you found the key. Years on the streets have accustomed you to reality's cruelty. The whispers and shadows are just another world you must survive.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. First, try stepping outside to explore the street and look for work and resources. Remember: you need to pay 1 coin daily for living expenses in the first 3 days, then 2 coins daily afterwards, so make sure you have enough funds. Your street wisdom gives you greater resistance to anomalous phenomena.`,type:"narrative",timestamp:1}];break}return f.goals=ah(u,i,d,k),f},Vt="pale_threshold_save_v1",Wt="pale_threshold_backup_v1",Do="pale_threshold_mode",By=(i="en")=>{const u=i==="zh"?Cy:Hy,f=i==="zh"?Ey:Ry,d=i==="zh"?Dy:Yy,k=i==="zh"?Oy:Uy,[E,U]=ee.useState(()=>{const g=localStorage.getItem(Do);return g==="hardcore"||g==="normal"?g:"normal"}),[I,B]=ee.useState(()=>{try{const g=localStorage.getItem(Vt);if(g){const w=JSON.parse(g);if(w.player.followers||(w.player.followers=[]),w.player.stats.gnosis===void 0&&(w.player.stats.gnosis=0),!w.goals){const C=w.origin||"fallen_noble",Z=w.player.stats.funds||10,H=w.player.stats.sanity||100;w.goals=ah(i,C,Z,H)}if(w.tutorialCompleted===void 0&&(w.tutorialCompleted=!1),w.status==="defeat"||w.status==="victory"){if((localStorage.getItem(Do)||"normal")==="hardcore")return localStorage.removeItem(Vt),localStorage.removeItem(Wt),Qs("fallen_noble",i);{const Z=localStorage.getItem(Wt);if(Z)try{const H=JSON.parse(Z);if(H.status==="playing")return H}catch(H){console.error(":",H)}return localStorage.removeItem(Vt),localStorage.removeItem(Wt),Qs("fallen_noble",i)}}return w}}catch(g){console.error(":",g)}return Qs("fallen_noble",i)});ee.useEffect(()=>{localStorage.setItem(Do,E)},[E]),ee.useEffect(()=>{I.status==="playing"?localStorage.setItem(Vt,JSON.stringify(I)):(I.status==="defeat"||I.status==="victory")&&(E==="hardcore"?(localStorage.removeItem(Vt),localStorage.removeItem(Wt)):localStorage.removeItem(Vt))},[I,E]);const q=g=>{const{stats:w}=g.player;if(g.player.flags.victory_achieved){g.status="victory",g.player.flags.revolution_ending?g.ending={title:i==="zh"?"":"REVOLUTION",description:i==="zh"?"":"The Ministry hall burns beneath your feet. You stand upon the ruins, a new order rising from the ashes. Your cult will establish new rule upon this land."}:g.player.flags.escape_ending?g.ending={title:i==="zh"?"":"ESCAPE",description:i==="zh"?"":"You see unfamiliar coastlines. The city, along with its secrets and horrors, is left behind. You are free, but those memories will follow you forever."}:g.ending={title:i==="zh"?"":"PALE ASCENSION",description:i==="zh"?"":"You stepped through the gate. Your cult chants behind you as you dissolve into eternal light."};return}const C=g.player.breakdown?.active;if(w.sanity<=0&&!C){g.player.breakdown={active:!0,turnsRemaining:2};const Z=i==="zh"?"[] 2":"[BREAKDOWN] The veil of reality begins to shatter. You hear whispers in the walls. You must restore your sanity within 2 turns, or face complete collapse.";g.logs.unshift({id:xe(),text:Z,type:"warning",timestamp:g.world.day});return}if(C){if(w.sanity>0){g.player.breakdown=void 0;const Z=i==="zh"?"[] ":"[RECOVERED] You struggle back from the edge of breakdown. Sanity reclaims your consciousness.";g.logs.unshift({id:xe(),text:Z,type:"result",timestamp:g.world.day});return}if(w.sanity<=-10){g.status="defeat",g.ending={title:i==="zh"?"":"SANITY LOST",description:i==="zh"?"":"The veil of reality shatters. You hear whispers in the walls, and they make perfect sense."};return}}w.suspicion>=100&&(g.status="defeat",g.ending={title:i==="zh"?"":"PURGED",description:i==="zh"?"":"The midnight knock finally came. The Ministry firing squad gave you no chance to speak."})},te=g=>{const{player:w,world:C}=g,Z=C.day;if(w.breakdown?.active){if(w.breakdown.turnsRemaining-=1,w.breakdown.turnsRemaining<=0){g.status="defeat",g.ending={title:i==="zh"?"":"SANITY LOST",description:i==="zh"?"":"The veil of reality shatters. You hear whispers in the walls, and they make perfect sense. You failed to recover from the edge of breakdown."};return}const h=i==="zh"?`[]  ${w.breakdown.turnsRemaining} `:`[BREAKDOWN] You have ${w.breakdown.turnsRemaining} turn${w.breakdown.turnsRemaining>1?"s":""} left to restore your sanity. You can only rest or use medicine.`;g.logs.unshift({id:xe(),text:h,type:"warning",timestamp:C.day})}if(E==="normal"&&Z>=1){const h=JSON.parse(JSON.stringify(g));localStorage.setItem(Wt,JSON.stringify(h))}C.day+=1,C.currentActionPoints=C.maxActionPoints,w.followerStates||(w.followerStates={}),w.followers.forEach(h=>{w.followerStates[h]||(w.followerStates[h]={loyalty:h==="cat_follower"?30:50,status:"healthy"})}),w.followers.forEach(h=>{const M=w.followerStates[h];if(M&&h!=="cat_follower"){if(M.task&&C.day-M.task.day>3){const D=M.task;M.loyalty=Math.max(0,M.loyalty-20);const Y=h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":h==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",R=h==="nurse_follower",y=R&&w.flags.lover_madeline,S=R?i==="zh"?"":"She":i==="zh"?"":"He",O=R?i==="zh"?"":"she":i==="zh"?"":"he";if(D.penalty.leave&&M.loyalty<30&&!y){w.followers=w.followers.filter($=>$!==h),delete w.followerStates[h],R?w.flags.madeline_left=!0:h==="beggar_follower"&&(w.flags.beggar_died=!0);const G=i==="zh"?`${Y}""${S}`:`${Y}'s eyes grow cold. "I understand." ${S} turn${R?"s":""} and leave${R?"s":""}, vanishing into the night.`;g.logs.unshift({id:xe(),text:G,type:"warning",timestamp:C.day}),w.stats.sanity-=10}else{const G=i==="zh"?y?`${Y}${S}${S}`:`${Y}${S}`:y?`${Y} no longer mentions it. ${S} look${R?"s":""} at you with disappointment, but ${O} does not leave.`:`${Y} no longer mentions it. ${O==="she"?"Her":"His"} silence makes you uneasy.`;g.logs.unshift({id:xe(),text:G,type:"warning",timestamp:C.day}),M.task=void 0}}if(M.status==="healthy"){if(Math.random()<.1){M.status="injured";const D=h==="beggar_follower"?"":h==="thug_follower"?"":h==="nurse_follower"?"":"",Y=i==="zh"?`${D}`:`${D} returns with wounds. Blood seeps through the bandages.`;g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:C.day})}else if(Math.random()<.05+(100-w.stats.sanity)*.001){M.status="insane",M.loyalty=Math.max(0,M.loyalty-30);const D=h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":h==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",Y=h==="nurse_follower",R=Y?i==="zh"?"":"She":i==="zh"?"":"He",y=i==="zh"?`${D}${R}`:`${D}'s eyes lose focus. ${R} ${Y?"begins":"begin"} to whisper words that should not be spoken.`;g.logs.unshift({id:xe(),text:y,type:"warning",timestamp:C.day})}else if(M.loyalty<30&&Math.random()<.1){const D=h==="nurse_follower";if(D&&w.flags.lover_madeline){M.loyalty=Math.max(0,M.loyalty-10);const R=D?i==="zh"?"":"Madeline":h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":i==="zh"?"":"follower",y=i==="zh"?`${R}${D?"":""}${D?"":""}`:`${R}'s eyes grow complex, but ${D?"she":"they"} ${D?"does":"do"} not leave. Even disappointed, ${D?"she":"they"} ${D?"chooses":"choose"} to stay.`;g.logs.unshift({id:xe(),text:y,type:"warning",timestamp:C.day})}else{M.status="betrayed",w.followers=w.followers.filter(O=>O!==h),delete w.followerStates[h],D?w.flags.madeline_left=!0:h==="beggar_follower"&&(w.flags.beggar_died=!0);const R=h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":h==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",y=D?i==="zh"?"":"she":i==="zh"?"":"they",S=i==="zh"?`${R}${y}`:`${R} vanishes into the night. You discover ${y} took some of your secrets, and a note bearing your name.`;g.logs.unshift({id:xe(),text:S,type:"warning",timestamp:C.day}),w.stats.suspicion+=10}}}if(!M.task&&M.status==="healthy"&&Math.random()<.3){let D;if(h==="beggar_follower"){const S=Math.random();D=S<.5?"money":S<.8?"item":"help"}else if(h==="thug_follower"){const S=Math.random();D=S<.4?"help":S<.75?"money":"item"}else if(h==="nurse_follower"){const S=Math.random();D=S<.5?"item":S<.8?"help":"money"}else{const S=["money","item","help"];D=S[Math.floor(Math.random()*S.length)]}let Y;const R=h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":h==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",y=h==="nurse_follower";if(D==="money"){const O=y?Math.floor(Math.random()*5)+2:Math.floor(Math.random()*10)+3;Y={followerId:h,type:"money",requirement:{money:O},description:i==="zh"?y?`${R}" ${O} "`:`${R}" ${O} "`:y?`${R} speaks hesitantly. "I need ${O} coins to purchase some medical supplies. The clinic's stock is running low."`:`${R} extends their hand. "I need ${O} coins. The creditors are waiting."`,reward:{loyalty:15},penalty:{loyalty:-20,leave:M.loyalty<40},day:C.day}}else if(D==="item"){let S;if(y){const wt=Math.random();wt<.7?S=["morphine","sedatives"]:wt<.9?S=["cheap_spirits"]:S=["bread"]}else S=["bread","morphine","sedatives","cheap_spirits"];const O=S[Math.floor(Math.random()*S.length)],G={bread:i==="zh"?"":"bread",morphine:i==="zh"?"":"morphine",sedatives:i==="zh"?"":"sedatives",cheap_spirits:i==="zh"?"":"spirits"},ae={bread:2,cheap_spirits:4,sedatives:10,morphine:25}[O]||2,ue=Math.max(10,Math.min(50,ae*2)),Xe=Math.floor(ue*1.5),Ee=i==="zh"?y?O==="morphine"?`${R}""`:O==="sedatives"?`${R}""`:O==="cheap_spirits"?`${R}""`:`${R}""`:`${R}" ${G[O]}"`:y?O==="morphine"?`${R} examines your medical supplies. "I need some morphine. Patients need pain relief, but the clinic's stock is empty."`:O==="sedatives"?`${R} looks at you. "The sedatives are running low. Some patients need them to stabilize, or they'll harm themselves."`:O==="cheap_spirits"?`${R} explains. "I need spirits to sterilize instruments. Crude, but better than nothing."`:`${R} speaks hesitantly. "I need some bread. Some patients haven't eaten in days."`:`${R} looks at your belongings. "I need ${G[O]}. It's important to me."`;Y={followerId:h,type:"item",requirement:{item:O},description:Ee,reward:{loyalty:ue},penalty:{loyalty:-Xe,leave:M.loyalty<30},day:C.day}}else Y={followerId:h,type:"help",requirement:{},description:i==="zh"?y?`${R}""`:`${R}""`:y?`${R} stands before you, worry in her eyes. "I need your help. There's a patient at the clinic in critical condition, and I can't handle it alone."`:`${R} stands before you. "I need your help."`,reward:{loyalty:20},penalty:{loyalty:-25,leave:M.loyalty<50},day:C.day};M.task=Y,g.logs.unshift({id:xe(),text:Y.description,type:"narrative",timestamp:C.day})}}}),Object.keys(w.flags).forEach(h=>{if(h.startsWith("purge_list_cooldown_until_")){const M=parseInt(h.replace("purge_list_cooldown_until_",""));C.day>=M&&delete w.flags[h]}}),!w.inventory.includes("purge_list")&&w.flags.purge_list_accessed&&delete w.flags.purge_list_accessed;const H=C.day<=3?1:2;if(w.stats.funds-=H,g.origin==="doctor"&&!w.flags.clinic_fired)if(w.flags.clinic_worked_today)delete w.flags.clinic_worked_today,w.flags.clinic_missed_days=0;else{const D=(typeof w.flags.clinic_missed_days=="number"?w.flags.clinic_missed_days:0)+1;if(w.flags.clinic_missed_days=D,D>=3){w.flags.clinic_fired=!0;const Y=i==="zh"?"3":"[CLINIC NOTICE] You have missed work for 3 consecutive days. The clinic has found a replacement. You have lost your job.";g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:C.day})}else if(D===2){const Y=i==="zh"?"2":"[CLINIC WARNING] You have missed work for 2 consecutive days. If you miss one more day, you will be fired.";g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:C.day})}}const X=w.stats.suspicion,ke=typeof w.flags.prev_suspicion=="number"?w.flags.prev_suspicion:0,Re=w.inventory.includes("officer_badge"),Je=Re?40:30;X>=Je&&ke<Je&&(w.flags.black_market_banned=!0);const J=Re?70:60;if(X>=J&&(ke<J||ke===0)){w.flags.price_inflation=!0;const h=i==="zh"?Re?"":"":Re?"Merchants begin to avoid your gaze, but your badge still offers some protection. Prices rise in silence, but slower.":"Merchants begin to avoid your gaze. Every coin grows heavy, as though the Ministry's palm presses down on the scales. Prices rise in silence, you helplessly.";g.logs.unshift({id:xe(),text:h,type:"warning",timestamp:C.day})}const je=Re?90:80;if(X>=je&&(ke<je||ke===0)){const h=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum"],M=[];if((!Re||Math.random()<.5)&&h.forEach(Y=>{w.inventory.includes(Y)&&(w.inventory=w.inventory.filter(R=>R!==Y),M.push(Y))}),M.length>0){const Y=i==="zh"?Re?`${M.length} `:`${M.length} `:Re?`The door crashes open while you dream. Agents flow in, but seeing your badge, they only take some items. ${M.length} items taken by the Ministry, but your badge protected you.`:`The door crashes open while you dream. Agents flow in like shadows, their hands reaching for things that should not exist. When you wake, the room holds only empty echoes. ${M.length} items taken by the Ministry, along with a portion of your secrets.`;g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:C.day}),w.stats.suspicion+=Re?5:10}else{const Y=i==="zh"?Re?"":"":Re?"They ransack your room, but seeing your badge, the search becomes cursory. They leave, but your secrets remain safe.":"They ransack your room like hounds sniffing the air. But the secrets are hidden, tucked away in places even you have forgotten. They leave, but their eyes remain watching.";g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:C.day})}}w.flags.prev_suspicion=X;const oe=w.inventory.includes("officer_badge"),re=oe?.05:.15;if(X>=40&&Math.random()<re){const h=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum"];if(h.some(D=>w.inventory.includes(D)))if(X>=80)g.status="defeat",g.ending={title:i==="zh"?"":"ARRESTED",description:i==="zh"?"":"The knock comes at three in the morning, rhythmic as a heartbeat. The door crashes open, agents' hands reaching under the bedwhere you kept things you should not have possessed. The interrogation room door closes behind you, like a book that can never be opened again."};else{const D=[];h.forEach(R=>{w.inventory.includes(R)&&(w.inventory=w.inventory.filter(y=>y!==R),D.push(R))}),w.stats.suspicion+=25,w.stats.sanity-=20;const Y=i==="zh"?`${D.length} `:`Darkness tears under flashlight beams. They found those thingsitems that do not exist in archives, that should not exist in reality. ${D.length} items are sealed into black bags, like offerings to an altar. Your name is marked on a list somewhere, suspicion spreading like ink.`;g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:C.day})}else{const D=oe?0:5;w.stats.suspicion+=D;const Y=i==="zh"?oe?"":"":oe?"[NIGHT RAID] Agents knock on your door, but seeing your badge, they only perform a routine check without a thorough search.":"[NIGHT RAID] Ministry agents searched your apartment but found nothing. They leave with warning glances.";g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:C.day})}}if(w.stats.funds<0){w.stats.funds=0;const h=C.day<=3,M=["bread","rat_meat","fresh_fish","nutritious_meal","fermented_bread"];if(M.some(Y=>w.inventory.includes(Y))){let Y=null;for(const O of M)if(w.inventory.includes(O)){Y=O,w.inventory=w.inventory.filter(G=>G!==O);break}const R={bread:i==="zh"?"":"moldy bread",rat_meat:i==="zh"?"":"raw rat meat",fresh_fish:i==="zh"?"":"fresh fish",nutritious_meal:i==="zh"?"":"nutritious meal",fermented_bread:i==="zh"?"":"fermented bread"},y=h?2:5;w.stats.sanity-=y;const S=i==="zh"?`${R[Y]} ( -${y})`:`[STARVATION] Penniless, but you fill your stomach with ${R[Y]}. Crude, but at least you avoided the worst (Sanity -${y}).`;g.logs.unshift({id:xe(),text:S,type:"warning",timestamp:C.day})}else{const Y=h?8:15;w.stats.sanity-=Y;const R=i==="zh"?` ( -${Y})`:`[STARVATION] Penniless. Stomach acid corrodes your will (Sanity -${Y}).`;g.logs.unshift({id:xe(),text:R,type:"warning",timestamp:C.day})}}else{const h=i==="zh"?` ${H} `:`Paid $${H} for living expenses.`;if(g.logs.unshift({id:xe(),text:h,type:"narrative",timestamp:C.day}),w.flags.infected){w.stats.sanity-=8;const R=i==="zh"?" ( -8)":"[INFECTED] The wound throbs in agony. (Sanity -8)";g.logs.unshift({id:xe(),text:R,type:"warning",timestamp:C.day})}if(w.flags.addicted){w.stats.sanity-=12;const R=i==="zh"?" ( -12)":"[WITHDRAWAL] Craving morphine. (Sanity -12)";g.logs.unshift({id:xe(),text:R,type:"warning",timestamp:C.day})}const M=C.day<=3?{sanity:30,suspicion:70}:{sanity:40,suspicion:60};if(w.stats.sanity<M.sanity||w.stats.suspicion>M.suspicion){const Y=C.day<=3?5:10;w.stats.sanity-=Y;const R=f.insane[Math.floor(Math.random()*f.insane.length)],y=i==="zh"?"[]":"[NIGHTMARE]",S=i==="zh"?`( -${Y})`:`(Sanity -${Y})`;g.logs.unshift({id:xe(),text:`${y} ${R} ${S}`,type:"warning",timestamp:C.day})}else if(Math.random()<.1){const Y=i==="zh"?"[]  ( +0)":"[INSOMNIA] You stared at the ceiling all night. (Sanity +0).";g.logs.unshift({id:xe(),text:Y,type:"narrative",timestamp:C.day})}else{if(w.stats.sanity=Math.min(100,w.stats.sanity+10),Math.random()>.5){const y=f.normal[Math.floor(Math.random()*f.normal.length)];g.logs.unshift({id:xe(),text:y,type:"narrative",timestamp:C.day})}const R=i==="zh"?" ( +10)":"Restful sleep. (Sanity +10).";g.logs.unshift({id:xe(),text:R,type:"result",timestamp:C.day})}}},P=ee.useCallback(g=>{if(I.status!=="playing")return;if(I.player.breakdown?.active){const J=["sleep","sleep_street","sleep_lover","meditate","use_morphine_risky","use_morphine","use_sedatives","use_sedative","use_alchemy_serum","eat_rat","eat_fish","drink_ale","consume_salt","use_purified_serum","use_strong_painkiller","use_nutritious_meal","use_fermented_bread","use_gnosis_elixir","wake_up","leave_lake","leave_library"];let je=!1,oe;typeof g.result=="function"?je=g.id.includes("leave")||g.id.includes("go_")||g.id==="approach_altar":(je=!!g.result.teleport,oe=g.result.teleport);const h=je&&(!oe||["apartment","street","rooftop","sewers","market","asylum","ministry","cathedral","altar","tavern","clinic","black_market"].includes(oe));if(!(J.includes(g.id)||g.id.includes("sleep")||g.id.includes("meditate")||g.id.includes("morphine")||g.id.includes("sedative")||g.id.includes("serum")||g.id.includes("painkiller")||g.id.includes("eat")||g.id.includes("drink")||g.id.includes("consume")||g.id.includes("use_")&&(g.id.includes("meal")||g.id.includes("bread")||g.id.includes("elixir"))||h||g.id==="approach_altar"||g.id==="perform_ritual")){const D=i==="zh"?"[] ":"[BREAKDOWN] You cannot perform this action. You can only rest or use medicine to restore your sanity.";I.logs.unshift({id:xe(),text:D,type:"warning",timestamp:I.world.day}),B({...I});return}}const C=typeof g.result=="function"?g.result(I):g.result,Z=C.costAP??1;if(I.world.currentActionPoints<Z&&g.id!=="sleep"&&Z>0)return;const H=JSON.parse(JSON.stringify(I)),{player:X,world:ke}=H;ke.currentActionPoints=Math.max(0,ke.currentActionPoints-Z);const Re=[];if(C.changes&&g.id!=="sleep"&&Object.entries(C.changes).forEach(([J,je])=>{const oe=J;let re=je;if(oe==="sanity"&&je>0&&H.origin==="doctor"){const h=["morphine","sedatives","purified_serum","strong_painkiller"];(g.id.includes("morphine")||g.id.includes("sedative")||g.id.includes("serum")||g.id.includes("painkiller")||C.removeItems&&C.removeItems.some(D=>h.includes(D)))&&(re=Math.floor(je*1.5))}if(X.stats[oe]=(X.stats[oe]||0)+re,oe==="sanity"&&(X.stats[oe]=Math.min(100,X.stats[oe])),re!==0){const h=th[i].statChange[oe],M=re>0?"+":"";Re.push(`${M}${re} ${h}`)}}),C.addItems&&X.inventory.push(...C.addItems),C.removeItems&&(X.inventory=X.inventory.filter(J=>!C.removeItems?.includes(J))),C.addFollowers&&X.followers.push(...C.addFollowers),C.removeFollowers&&(X.followers=X.followers.filter(J=>!C.removeFollowers?.includes(J))),C.setFlags&&Object.assign(X.flags,C.setFlags),g.id==="enter_black_market"){const J=X.inventory.includes("officer_badge"),je=J?40:30;if(X.stats.suspicion>=je&&!X.flags.black_market_banned){X.flags.black_market_banned=!0;const oe=i==="zh"?J?'""':'""':J?`The doorman's eyes turn like coins in the shadows. He shakes his head, whispering: "Even with a badge, the Ministry's eyes have opened. You are no longer welcome here."`:`The doorman's eyes turn like coins in the shadows. He shakes his head, whispering: "The Ministry's eyes have opened. You are no longer welcome here."`;H.logs.unshift({id:xe(),text:oe,type:"warning",timestamp:ke.day}),C.teleport&&delete C.teleport,C.text=oe}}if(C.teleport&&(ke.currentLocationId=C.teleport),H.goals){if(C.teleport==="street"||ke.currentLocationId==="street"){const re=H.goals.find(h=>h.id==="explore_street");re&&!re.completed&&(re.completed=!0)}const J=H.goals.find(re=>re.id==="earn_money");if(J&&!J.completed){const re=J.maxProgress||10;J.progress=Math.min(X.stats.funds,re),X.stats.funds>=re&&(J.completed=!0)}if(g.id==="work_clinic"){const re=H.goals.find(h=>h.id==="work_clinic");if(re&&!re.completed){re.completed=!0;const h=i==="zh"?"3":"[IMPORTANT] You have started working at the clinic. Remember: missing work for 3 consecutive days will get you fired and you will lose this steady source of income.";H.logs.unshift({id:xe(),text:h,type:"warning",timestamp:ke.day})}}const je=H.goals.find(re=>re.id==="maintain_sanity");je&&!je.completed&&(je.completed=X.stats.sanity>=50);const oe=H.goals.find(re=>re.id==="recruit_follower");oe&&!oe.completed&&X.followers.length>0&&(oe.completed=!0)}let Je=C.text;if(Re.length>0&&g.id!=="sleep"){const J=Re.join(", ");Je=`${C.text} (${J})`}H.logs.unshift({id:xe(),text:Je,type:g.id==="sleep"?"narrative":"result",timestamp:ke.day}),(g.id==="sleep"||g.id==="sleep_street"||g.id==="sleep_lover")&&te(H),q(H),B(H)},[I,i]),ye=ee.useCallback(g=>{const{player:w}=I;if(g.reqFlags&&!g.reqFlags.every(Z=>w.flags[Z])||g.reqItems&&!g.reqItems.every(Z=>w.inventory.includes(Z)))return!1;const C=w.followers||[];if(g.reqFollowers&&!g.reqFollowers.every(Z=>C.includes(Z)))return!1;if(g.reqStats){if(g.id.includes("buy")&&g.reqStats.funds&&typeof g.result=="function")try{const H=g.result(I);if(H.changes?.funds){const X=Math.abs(H.changes.funds);if(w.stats.funds<X)return!1}else if(w.stats.funds<g.reqStats.funds)return!1}catch{if(w.stats.funds<g.reqStats.funds)return!1}else for(const[H,X]of Object.entries(g.reqStats))if(w.stats[H]<X)return!1}if(g.reqFlagsNot&&g.reqFlagsNot.some(Z=>w.flags[Z])||g.reqItemsNot&&g.reqItemsNot.some(Z=>w.inventory.includes(Z))||g.reqFollowersNot&&g.reqFollowersNot.some(Z=>C.includes(Z)))return!1;if(g.id==="access_database"){const Z=Object.keys(w.flags).filter(H=>H.startsWith("purge_list_cooldown_until_"));if(Z.length>0&&Z.filter(X=>{const ke=parseInt(X.replace("purge_list_cooldown_until_",""));return I.world.day<ke}).length>0)return!1}return!((g.id==="complete_follower_task"||g.id==="reject_follower_task")&&!C.some(H=>{const X=w.followerStates?.[H];return X&&X.task&&X.status==="healthy"})||g.id==="heal_follower"&&!C.some(H=>{const X=w.followerStates?.[H];return X&&X.status==="injured"})||g.id==="calm_insane_follower"&&!C.some(H=>{const X=w.followerStates?.[H];return X&&X.status==="insane"}))},[I]),at=()=>{localStorage.removeItem(Vt),localStorage.removeItem(Wt);const g=I.origin||"fallen_noble",w=Qs(g,i);B(w)},Pe=(g,w="fallen_noble")=>{U(g),localStorage.removeItem(Vt),localStorage.removeItem(Wt);const C=Qs(w,i);B(C)},Ae=()=>{try{const g=localStorage.getItem(Vt);if(g){const w=JSON.parse(g);if(w.player.followers||(w.player.followers=[]),w.player.stats.gnosis===void 0&&(w.player.stats.gnosis=0),w.status==="defeat"||w.status==="victory"){if(E==="hardcore")return!1;{const C=localStorage.getItem(Wt);if(C)try{const Z=JSON.parse(C);if(Z.status==="playing")return B(Z),!0}catch(Z){console.error(":",Z)}return!1}}return B(w),!0}}catch(g){console.error(":",g)}return!1},dt=()=>{if(E==="hardcore")return!1;const g=localStorage.getItem(Wt);if(g)try{const w=JSON.parse(g);if(w.status==="playing"&&w.world.day<I.world.day)return B(w),!0}catch(w){console.error(":",w)}return!1},lt=()=>{const g=localStorage.getItem(Vt);if(!g)return!1;try{return JSON.parse(g).status==="playing"}catch{return!1}},ht=()=>{const g=E==="hardcore"?"normal":"hardcore";U(g),g==="hardcore"&&(I.status==="defeat"||I.status==="victory")&&(localStorage.removeItem(Vt),localStorage.removeItem(Wt))};return{gameState:I,currentLocation:u[I.world.currentLocationId],itemsData:d,followersData:k,executeAction:P,checkRequirements:ye,restartGame:at,startNewGame:Pe,loadGame:Ae,returnToPreviousDay:dt,hasSave:lt,gameMode:E,toggleGameMode:ht}},Ff="pale_threshold_lang",Gy=()=>{const[i,u]=ee.useState(()=>{const k=localStorage.getItem(Ff);return k==="en"||k==="zh"?k:"en"});ee.useEffect(()=>{localStorage.setItem(Ff,i)},[i]);const f=()=>{u(k=>k==="zh"?"en":"zh")};return{t:ee.useCallback((k,E)=>{const U=k.split(".");let I=th[i];for(const B of U)if(I&&typeof I=="object")I=I[B];else return k;return typeof I!="string"?k:E?I.replace(/\{\{(\w+)\}\}/g,(B,q)=>E[q]!==void 0?String(E[q]):`{{${q}}}`):I},[i]),lang:i,setLang:u,toggleLang:f}};const Iy=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ly=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(u,f,d)=>d?d.toUpperCase():f.toLowerCase()),Pf=i=>{const u=Ly(i);return u.charAt(0).toUpperCase()+u.slice(1)},lh=(...i)=>i.filter((u,f,d)=>!!u&&u.trim()!==""&&d.indexOf(u)===f).join(" ").trim(),Xy=i=>{for(const u in i)if(u.startsWith("aria-")||u==="role"||u==="title")return!0};var Qy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vy=ee.forwardRef(({color:i="currentColor",size:u=24,strokeWidth:f=2,absoluteStrokeWidth:d,className:k="",children:E,iconNode:U,...I},B)=>ee.createElement("svg",{ref:B,...Qy,width:u,height:u,stroke:i,strokeWidth:d?Number(f)*24/Number(u):f,className:lh("lucide",k),...!E&&!Xy(I)&&{"aria-hidden":"true"},...I},[...U.map(([q,te])=>ee.createElement(q,te)),...Array.isArray(E)?E:[E]]));const pe=(i,u)=>{const f=ee.forwardRef(({className:d,...k},E)=>ee.createElement(Vy,{ref:E,iconNode:u,className:lh(`lucide-${Iy(Pf(i))}`,`lucide-${i}`,d),...k}));return f.displayName=Pf(i),f};const Zy=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Oo=pe("activity",Zy);const Fy=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Py=pe("anchor",Fy);const Ky=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ro=pe("arrow-right",Ky);const $y=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],sh=pe("backpack",$y);const Jy=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],Wy=pe("bed-double",Jy);const ep=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nh=pe("book-open",ep);const tp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kf=pe("check",tp);const ap=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lp=pe("clock",ap);const sp=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],$f=pe("coins",sp);const np=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],ip=pe("door-open",np);const rp=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jf=pe("eye",rp);const op=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yo=pe("file-text",op);const up=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Uo=pe("flame",up);const cp=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],dp=pe("gem",cp);const fp=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],hp=pe("key",fp);const mp=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Co=pe("languages",mp);const yp=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wf=pe("map-pin",yp);const pp=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ho=pe("message-circle",pp);const gp=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bp=pe("moon",gp);const _p=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],vp=pe("pill",_p);const xp=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],wp=pe("rat",xp);const Sp=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ap=pe("rotate-ccw",Sp);const kp=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Np=pe("scroll",kp);const Mp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tp=pe("search",Mp);const zp=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],qp=pe("shopping-bag",zp);const jp=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],fi=pe("skull",jp);const Ep=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Dp=pe("sprout",Ep);const Op=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],Cp=pe("sword",Op);const Rp=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],di=pe("triangle-alert",Rp);const Yp=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Up=pe("users",Yp);const Hp=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Bp=pe("utensils",Hp);const Gp=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],Ip=pe("wheat",Gp);const Lp=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Xp=pe("wine",Lp);const Qp=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eh=pe("zap",Qp);function Vp(){const{t:i,toggleLang:u,lang:f}=Gy(),[d,k]=ee.useState("game"),[E,U]=ee.useState(!1),[I,B]=ee.useState(null),[q,te]=ee.useState(!1),[P,ye]=ee.useState(!1),[at,Pe]=ee.useState(!1),[Ae,dt]=ee.useState(null),[lt,ht]=ee.useState(!1),{gameState:g,currentLocation:w,executeAction:C,checkRequirements:Z,restartGame:H,startNewGame:X,loadGame:ke,returnToPreviousDay:Re,hasSave:Je,itemsData:J,followersData:je,gameMode:oe,toggleGameMode:re}=By(f);ee.useEffect(()=>{localStorage.getItem("pale_threshold_save_v1")||U(!0)},[]);const{player:h,world:M,logs:D}=g;ee.useEffect(()=>{M.day===1&&g.origin&&!E&&(g.tutorialCompleted||setTimeout(()=>{Pe(!0)},2e3),ye(!0))},[M.day,g.origin,E,g.tutorialCompleted]);const Y=_=>{if(!_)return _;const V=[];J&&Object.values(J).forEach(ge=>{ge.name&&V.push(ge.name),ge.id&&V.push(ge.id)});const ne=[...V,"","","laudanum","","forbidden_name","","officer_badge","Ministry Badge","","Purge Ledger","purge_list","","Ritual Mask","ritual_mask","","ritual_dagger","","Alchemy Coin","alchemy_coin","","Purified Serum","purified_serum","","Gnosis Elixir","gnosis_elixir","","old_ring","","Classified Dossier","classified_file","","Lab Coat","doctor_coat","","Golden Mask","golden_mask","","Otherworldly Idol","alien_idol","","Void Salt","void_salt"],le=new RegExp(`(${ne.join("|")})`,"gi"),De=/([+-]\d+)/g,We=/\(([+-]\d+)\)/g,Ue=f==="zh"?["","","","","","","",""]:["restore","heal","recover","gain","increase","restored","recovered"],Et=f==="zh"?["","","","","","","",""]:["lose","consume","cost","decrease","reduce","lost","damage","hurt"],Ft=new RegExp(`(${Ue.join("|")})`,"gi"),_a=new RegExp(`(${Et.join("|")})`,"gi"),mt=[];let ze;for(;(ze=le.exec(_))!==null;)mt.push({start:ze.index,end:ze.index+ze[0].length,color:"text-amber-400"});for(;(ze=We.exec(_))!==null;){const ge=parseInt(ze[1]);mt.push({start:ze.index,end:ze.index+ze[0].length,color:ge>0?"text-emerald-400":"text-red-400"})}for(;(ze=De.exec(_))!==null;)if(!(_[ze.index-1]==="(")){const He=parseInt(ze[0]);mt.push({start:ze.index,end:ze.index+ze[0].length,color:He>0?"text-emerald-400":"text-red-400"})}for(;(ze=Ft.exec(_))!==null;)mt.push({start:ze.index,end:ze.index+ze[0].length,color:"text-emerald-400"});for(;(ze=_a.exec(_))!==null;)mt.push({start:ze.index,end:ze.index+ze[0].length,color:"text-red-400"});mt.sort((ge,He)=>ge.start-He.start);const Ke=[];for(const ge of mt)if(Ke.length===0||ge.start>=Ke[Ke.length-1].end)Ke.push(ge);else{const He=Ke[Ke.length-1];ge.color==="text-amber-400"||He.color==="text-amber-400"?Ke[Ke.length-1]={start:Math.min(He.start,ge.start),end:Math.max(He.end,ge.end),color:"text-amber-400"}:Ke[Ke.length-1]={start:Math.min(He.start,ge.start),end:Math.max(He.end,ge.end),color:ge.color}}const Va=[];let ea=0;for(const ge of Ke)ge.start>ea&&Va.push(o.jsx("span",{children:_.substring(ea,ge.start)},`text-${ea}`)),Va.push(o.jsx("span",{className:ge.color,children:_.substring(ge.start,ge.end)},`match-${ge.start}`)),ea=ge.end;return ea<_.length&&Va.push(o.jsx("span",{children:_.substring(ea)},`text-${ea}`)),Va.length>0?o.jsx(o.Fragment,{children:Va}):_},R=ee.useRef(null),y=ee.useRef(null),S=ee.useRef(null),O=ee.useRef({...h.stats}),G=ee.useRef([...h.inventory]),$=ee.useRef(!0),ae=ee.useRef(!0),[ue,Xe]=ee.useState([]),Ee=ee.useRef(D.length),[wt,Qa]=ee.useState(!1),Pl=h.followers.some(_=>{const V=h.followerStates?.[_];return V&&V.task}),[Zs,Zt]=ee.useState([]),st=ee.useCallback((_,V="info")=>{console.log("Adding toast:",_,V);const ne=`${Date.now()}-${Math.random()}`;Zt(le=>{const De=[...le,{id:ne,message:_,type:V}];return console.log("Toasts state:",De),De}),setTimeout(()=>{Zt(le=>le.filter(De=>De.id!==ne))},3e3)},[]),St=ee.useCallback((_=50)=>{if("vibrate"in navigator&&navigator.vibrate)try{const V=navigator.vibrate(_);console.log("Vibrate result:",V,"pattern:",_),V===!1&&console.warn("Vibration not supported or blocked")}catch(V){console.error("Vibration error:",V)}else console.log("Vibration API not available")},[]);ee.useEffect(()=>{R.current&&R.current.scrollIntoView({behavior:"smooth",block:"end"}),D.length>Ee.current&&(Qa(!0),setTimeout(()=>Qa(!1),1e3)),Ee.current=D.length},[D,d]),ee.useEffect(()=>{if($.current){$.current=!1,O.current={...h.stats};return}const _=[],V=O.current,ne=h.stats;if(V.sanity!==ne.sanity){const le=ne.sanity-V.sanity;_.push({stat:"sanity",value:le,label:i("stats.sanity")}),le<-10?(st(f==="zh"?` (-${Math.abs(le)})`:`Sanity decreased (-${Math.abs(le)})`,"error"),St([100,50,100])):le>5&&(st(f==="zh"?` (+${le})`:`Sanity restored (+${le})`,"success"),St(30))}if(V.funds!==ne.funds){const le=ne.funds-V.funds;_.push({stat:"funds",value:le,label:i("stats.funds")}),le<-5&&(st(f==="zh"?` (-${Math.abs(le)})`:`Funds decreased (-${Math.abs(le)})`,"warning"),St(50))}if(V.suspicion!==ne.suspicion){const le=ne.suspicion-V.suspicion;_.push({stat:"suspicion",value:le,label:i("stats.suspicion")}),le>10&&(st(f==="zh"?` (+${le})`:`Suspicion increased (+${le})`,"warning"),St([100,50,100]))}if(V.gnosis!==ne.gnosis){const le=ne.gnosis-V.gnosis;_.push({stat:"gnosis",value:le,label:i("stats.gnosis")}),le>0&&(st(f==="zh"?` (+${le})`:`Gnosis increased (+${le})`,"info"),St(30))}_.length>0&&(Xe(_),setTimeout(()=>Xe([]),1500)),O.current={...ne}},[h.stats,i,f,st,St]),ee.useEffect(()=>{if(ae.current){ae.current=!1,G.current=[...h.inventory];return}const _=G.current,V=h.inventory,ne=V.filter(De=>!_.includes(De));ne.length>0&&ne.forEach(De=>{const We=J[De]?.name||De;st(f==="zh"?`${We}`:`Item obtained: ${We}`,"success"),St([50,30,50])});const le=_.filter(De=>!V.includes(De));if(le.length>0){const De=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum","ritual_dagger"];le.forEach(We=>{if(De.includes(We)){const Ue=J[We]?.name||We;st(f==="zh"?`${Ue}`:`Item lost: ${Ue}`,"warning"),St(100)}})}G.current=[...V]},[h.inventory,J,f,st,St]),ee.useEffect(()=>{if(!S.current){const _="/bgm.mp3";S.current=new Audio(_),S.current.loop=!0,S.current.volume=.3;const V=S.current.play();V!==void 0&&V.catch(()=>{const ne=()=>{S.current&&S.current.play().catch(()=>{}),document.removeEventListener("click",ne),document.removeEventListener("touchstart",ne),document.removeEventListener("keydown",ne)};document.addEventListener("click",ne,{once:!0}),document.addEventListener("touchstart",ne,{once:!0}),document.addEventListener("keydown",ne,{once:!0})})}return()=>{S.current&&(S.current.pause(),S.current=null)}},[]),ee.useEffect(()=>{localStorage.getItem("pale_threshold_save_v1")||U(!0)},[]);const hi=()=>{window.confirm(i("restartConfirm"))&&(H(),U(!0))};return E?o.jsxs("div",{className:"relative flex items-start md:items-center justify-center min-h-[100dvh] w-screen bg-[#0c0c0e] text-[#a1a1aa] font-sans overflow-hidden pt-8 pb-20 md:pt-0 md:pb-0",children:[o.jsxs("div",{className:"atmo-layer",children:[o.jsx("div",{className:"atmo-mist"}),o.jsx("div",{className:"atmo-vignette"}),o.jsx("div",{className:"dust-particle",style:{left:"20%",bottom:"12%",animationDuration:"18s",animationDelay:"-4s"}}),o.jsx("div",{className:"dust-particle",style:{left:"55%",bottom:"8%",animationDuration:"22s",animationDelay:"-10s"}}),o.jsx("div",{className:"dust-particle",style:{left:"80%",bottom:"15%",animationDuration:"20s",animationDelay:"-7s"}})]}),o.jsxs("div",{className:"relative max-w-md w-full mx-4 my-4 md:my-0 pb-10 md:pb-0 space-y-6 z-20",children:[o.jsxs("div",{className:"text-center mb-6 md:mb-8",children:[o.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-[0.2em] text-amber-600 uppercase mb-2 flex items-center justify-center gap-3",children:[o.jsx(Uo,{size:32,className:"text-amber-700"}),o.jsx("span",{children:i("title")})]}),o.jsx("p",{className:"text-sm text-stone-500 font-serif italic mt-4",children:f==="zh"?"":"A game of sanity, secrets, and choices"})]}),o.jsxs("div",{className:"space-y-4",children:[q?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{te(!1),B(null)},className:"flex items-center gap-2 text-stone-400 hover:text-stone-300 mb-2",children:[o.jsx(Ro,{size:16,className:"rotate-180"}),o.jsx("span",{className:"text-sm",children:f==="zh"?"":"Back"})]}),o.jsxs("div",{className:"border border-[#27272a] bg-[#141417] p-4 rounded",children:[o.jsx("h2",{className:"text-sm uppercase tracking-wider text-stone-400 mb-3",children:i("selectOrigin")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>{I&&(X(I,"fallen_noble"),U(!1),ye(!0))},className:"w-full text-left p-3 border border-amber-700/50 bg-amber-900/20 text-amber-300 hover:bg-amber-900/40 hover:border-amber-600 transition-all",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.fallen_noble.name")}),o.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.fallen_noble.desc")}),o.jsx("div",{className:"text-xs text-amber-400/70 font-mono mb-1",children:i("origins.fallen_noble.stats")}),o.jsx("div",{className:"text-xs text-amber-500/80 italic",children:i("origins.fallen_noble.passive")})]})}),o.jsx("button",{onClick:()=>{I&&(X(I,"doctor"),U(!1),ye(!0))},className:"w-full text-left p-3 border border-blue-700/50 bg-blue-900/20 text-blue-300 hover:bg-blue-900/40 hover:border-blue-600 transition-all",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.doctor.name")}),o.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.doctor.desc")}),o.jsx("div",{className:"text-xs text-blue-400/70 font-mono mb-1",children:i("origins.doctor.stats")}),o.jsx("div",{className:"text-xs text-blue-500/80 italic",children:i("origins.doctor.passive")})]})}),o.jsx("button",{onClick:()=>{I&&(X(I,"vagrant"),U(!1),ye(!0))},className:"w-full text-left p-3 border border-slate-700/50 bg-slate-900/20 text-slate-300 hover:bg-slate-900/40 hover:border-slate-600 transition-all",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.vagrant.name")}),o.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.vagrant.desc")}),o.jsx("div",{className:"text-xs text-slate-400/70 font-mono mb-1",children:i("origins.vagrant.stats")}),o.jsx("div",{className:"text-xs text-slate-400/80 italic",children:i("origins.vagrant.passive")})]})})]})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"border border-[#27272a] bg-[#141417] p-4 rounded",children:[o.jsx("h2",{className:"text-sm uppercase tracking-wider text-stone-400 mb-3",children:i("selectMode")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>{B("normal"),te(!0)},className:"w-full text-left p-3 border border-slate-700/50 bg-slate-900/20 text-slate-300 hover:bg-slate-900/40 hover:border-slate-600 transition-all",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-serif text-base mb-1",children:i("normalMode")}),o.jsx("div",{className:"text-xs text-stone-500",children:i("normalDesc")})]})})}),o.jsx("button",{onClick:()=>{B("hardcore"),te(!0)},className:"w-full text-left p-3 border border-red-700/50 bg-red-900/20 text-red-300 hover:bg-red-900/40 hover:border-red-600 transition-all",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("div",{className:"font-serif text-base mb-1 flex items-center gap-2",children:[o.jsx(fi,{size:16}),i("hardcoreMode")]}),o.jsx("div",{className:"text-xs text-stone-500",children:i("hardcoreDesc")})]})})})]})]})}),Je()&&o.jsx("button",{onClick:()=>{ke()?(U(!1),st(f==="zh"?"":"Save loaded successfully","success")):st(f==="zh"?"":"Failed to load save","error")},className:"w-full p-4 border-2 border-amber-700/50 bg-amber-900/20 text-amber-400 hover:bg-amber-900/40 hover:border-amber-600 transition-all font-serif tracking-wide",children:i("loadGame")}),o.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[o.jsxs("a",{href:"https://discord.gg/kmG4A7Esx3",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-indigo-700/50 bg-indigo-900/20 text-indigo-400 hover:bg-indigo-900/40 hover:border-indigo-600 transition-all rounded",children:[o.jsx(Ho,{size:16}),o.jsx("span",{className:"text-xs uppercase",children:"Discord"})]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 border border-amber-700/50 bg-amber-900/20 text-amber-500 hover:bg-amber-900/40 transition-all rounded",children:[o.jsx(Co,{size:16}),o.jsx("span",{className:"text-xs uppercase",children:f==="en"?"":"EN"})]})]})]})]})]}):o.jsxs("div",{className:"flex flex-col md:flex-row h-[100dvh] w-screen overflow-hidden bg-[#0c0c0e] text-[#a1a1aa] font-sans selection:bg-amber-900 selection:text-white relative",children:[o.jsxs("div",{className:"atmo-layer",children:[o.jsx("div",{className:"atmo-mist"}),o.jsx("div",{className:"atmo-vignette"}),o.jsx("div",{className:"dust-particle",style:{left:"18%",bottom:"10%",animationDuration:"18s",animationDelay:"-4s"}}),o.jsx("div",{className:"dust-particle",style:{left:"45%",bottom:"6%",animationDuration:"22s",animationDelay:"-9s"}}),o.jsx("div",{className:"dust-particle",style:{left:"72%",bottom:"14%",animationDuration:"20s",animationDelay:"-6s"}}),o.jsx("div",{className:"dust-particle",style:{left:"30%",bottom:"18%",animationDuration:"24s",animationDelay:"-12s"}})]}),(w.id==="pale_city"||w.id==="lake_hali"||w.id==="dream_library")&&o.jsx("div",{className:"dream-overlay",style:{zIndex:1}}),o.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[200] flex flex-col gap-3 pointer-events-none md:top-6",style:{zIndex:200},children:Zs.map(_=>o.jsxs("div",{className:`relative px-5 py-4 rounded border-2 min-w-[300px] max-w-[90vw] pointer-events-auto animate-slide-down shadow-2xl ${_.type==="success"?"bg-[#0c0c0e] border-emerald-600/60 text-emerald-200 shadow-emerald-900/50":_.type==="warning"?"bg-[#0c0c0e] border-amber-600/60 text-amber-200 shadow-amber-900/50":_.type==="error"?"bg-[#0c0c0e] border-red-600/60 text-red-200 shadow-red-900/50":"bg-[#0c0c0e] border-slate-600/60 text-slate-200 shadow-slate-900/50"}`,style:{backdropFilter:"blur(8px)",boxShadow:_.type==="success"?"0 0 20px rgba(16, 185, 129, 0.3), inset 0 0 20px rgba(16, 185, 129, 0.1)":_.type==="warning"?"0 0 20px rgba(245, 158, 11, 0.3), inset 0 0 20px rgba(245, 158, 11, 0.1)":_.type==="error"?"0 0 20px rgba(239, 68, 68, 0.3), inset 0 0 20px rgba(239, 68, 68, 0.1)":"0 0 20px rgba(148, 163, 184, 0.3), inset 0 0 20px rgba(148, 163, 184, 0.1)"},children:[o.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${_.type==="success"?"bg-emerald-500":_.type==="warning"?"bg-amber-500":_.type==="error"?"bg-red-500":"bg-slate-500"}`}),o.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[o.jsxs("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${_.type==="success"?"bg-emerald-900/50 border border-emerald-600/50":_.type==="warning"?"bg-amber-900/50 border border-amber-600/50":_.type==="error"?"bg-red-900/50 border border-red-600/50":"bg-slate-900/50 border border-slate-600/50"}`,children:[_.type==="success"&&o.jsx("span",{className:"text-emerald-300 text-lg font-bold",children:""}),_.type==="warning"&&o.jsx("span",{className:"text-amber-300 text-lg font-bold",children:""}),_.type==="error"&&o.jsx("span",{className:"text-red-300 text-lg font-bold",children:""}),_.type==="info"&&o.jsx("span",{className:"text-slate-300 text-lg font-bold",children:""})]}),o.jsx("span",{className:"text-sm md:text-base font-serif tracking-wide flex-1",children:_.message})]}),o.jsx("div",{className:`absolute inset-0 rounded pointer-events-none animate-pulse opacity-20 ${_.type==="success"?"bg-emerald-500":_.type==="warning"?"bg-amber-500":_.type==="error"?"bg-red-500":"bg-slate-500"}`,style:{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]},_.id))}),o.jsxs("div",{className:`${d==="stats"?"flex":"hidden"} md:flex w-full md:w-80 flex-shrink-0 flex-col border-r border-[#27272a] bg-[#141417] p-4 md:p-6 z-10 overflow-hidden flex-1 md:flex-none h-full md:h-auto relative`,children:[o.jsxs("div",{className:"mb-4 md:mb-8 border-b border-[#27272a] pb-3 md:pb-4 flex-shrink-0",children:[o.jsxs("h1",{className:"text-base md:text-xl font-bold tracking-[0.2em] text-[#e4e4e7] uppercase flex items-center gap-2 mb-3 md:mb-4",children:[o.jsx(Uo,{size:18,className:"md:w-5 md:h-5 text-amber-700 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:i("title")})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("button",{onClick:hi,className:"flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border border-[#27272a] text-stone-500 hover:text-amber-400 hover:border-amber-600 transition-colors flex-shrink-0",title:i("restartRun"),children:[o.jsx(Ap,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0"}),o.jsx("span",{children:i("restartRun")})]}),oe==="normal"&&g.status==="playing"&&o.jsxs("button",{onClick:()=>{Re()?st(f==="zh"?"":"Returned to previous day","info"):st(i("noBackup"),"warning")},className:"flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border border-blue-700/50 bg-blue-900/20 text-blue-400 hover:bg-blue-900/40 hover:border-blue-600 transition-colors flex-shrink-0",title:i("returnToPreviousDayDesc"),children:[o.jsx(Ro,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0 rotate-180"}),o.jsx("span",{children:i("returnToPreviousDay")})]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-1.5 md:px-2.5 py-1 md:py-1.5 border border-amber-700/50 bg-amber-900/20 text-amber-500 hover:bg-amber-900/40 hover:border-amber-600 hover:text-amber-400 transition-all rounded flex-shrink-0",title:f==="en"?"":"Switch to English",children:[o.jsx(Co,{size:12,className:"md:w-4 md:h-4 flex-shrink-0"}),o.jsx("span",{className:"text-[9px] md:text-xs font-bold uppercase tracking-wider",children:f==="en"?"EN":""})]}),o.jsxs("button",{onClick:re,className:`flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border transition-colors flex-shrink-0 ${oe==="hardcore"?"border-red-700/50 bg-red-900/20 text-red-400 hover:bg-red-900/40 hover:border-red-600":"border-slate-700/50 bg-slate-900/20 text-slate-400 hover:bg-slate-900/40 hover:border-slate-600"}`,title:i(oe==="hardcore"?"hardcoreDesc":"normalDesc"),children:[o.jsx(fi,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0"}),o.jsx("span",{children:i(oe==="hardcore"?"hardcoreMode":"normalMode")})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-2 pr-2 pb-4",children:[o.jsxs("div",{className:"space-y-3 md:space-y-4 font-mono text-xs md:text-sm",children:[o.jsx(Vs,{icon:o.jsx(lp,{size:14,className:"md:w-4 md:h-4"}),label:i("day",{day:M.day}),value:"",color:"text-stone-300"}),o.jsx("div",{className:"h-px bg-[#27272a] my-2"}),o.jsx(Vs,{icon:o.jsx(Oo,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.sanity"),value:h.stats.sanity,max:100,color:h.stats.sanity<50?"text-red-500 animate-pulse":"text-amber-600"}),h.breakdown?.active&&o.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-400",children:[o.jsx("div",{className:"font-bold mb-1",children:f==="zh"?" ":" BREAKDOWN"}),o.jsx("div",{className:"text-[10px] text-red-500",children:f==="zh"?` ${h.breakdown.turnsRemaining} `:`${h.breakdown.turnsRemaining} turn${h.breakdown.turnsRemaining>1?"s":""} left to recover`})]}),o.jsx(Vs,{icon:o.jsx($f,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.funds"),value:h.stats.funds,color:"text-yellow-600"}),o.jsx(Vs,{icon:o.jsx(Jf,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.suspicion"),value:h.stats.suspicion,color:"text-purple-500"}),o.jsx(Vs,{icon:o.jsx(eh,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.gnosis"),value:h.stats.gnosis,color:"text-cyan-600"}),g.origin&&o.jsx("div",{className:"pt-3 md:pt-4",children:o.jsxs("button",{onClick:()=>ye(!0),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-xs border border-stone-700/50 bg-stone-900/30 text-stone-400 hover:bg-stone-800/50 hover:border-stone-600 hover:text-stone-300 transition-all rounded",title:f==="zh"?"":"View Origin Trait",children:[o.jsx(di,{size:12,className:"md:w-3.5 md:h-3.5"}),o.jsx("span",{className:"uppercase tracking-wider",children:f==="zh"?"":"Origin Trait"})]})}),g.goals&&g.goals.length>0&&o.jsxs("div",{className:"pt-4 md:pt-6 border-t border-[#27272a]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[o.jsx(nh,{size:14,className:"md:w-4 md:h-4"}),o.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:f==="zh"?"":"GOALS"})]}),o.jsx("div",{className:"space-y-2",children:g.goals.filter(_=>!_.completed||_.type==="long").slice(0,3).map(_=>o.jsxs("div",{className:`p-2 bg-[#1f1f22] border rounded flex flex-col gap-1 ${_.completed?"border-emerald-700/50 bg-emerald-900/10":"border-[#27272a]"}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:`text-xs md:text-sm font-serif ${_.completed?"text-emerald-400 line-through":"text-stone-300"}`,children:_.title}),o.jsx("div",{className:"text-[10px] md:text-xs text-stone-500 mt-0.5",children:_.description})]}),_.completed&&o.jsx(Kf,{size:12,className:"text-emerald-400 flex-shrink-0 mt-0.5"})]}),_.progress!==void 0&&_.maxProgress&&!_.completed&&o.jsxs("div",{className:"mt-1.5",children:[o.jsxs("div",{className:"flex justify-between text-[9px] text-stone-600 mb-1",children:[o.jsx("span",{children:_.progress}),o.jsx("span",{children:_.maxProgress})]}),o.jsx("div",{className:"h-1 bg-[#27272a] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-amber-600 transition-all duration-300",style:{width:`${Math.min(100,_.progress/_.maxProgress*100)}%`}})})]})]},_.id))})]}),o.jsxs("div",{className:"pt-4 md:pt-6",children:[o.jsxs("div",{className:"flex justify-between mb-2 text-[9px] md:text-[10px] uppercase tracking-wider text-stone-500",children:[o.jsx("span",{children:i("stats.ap")}),o.jsxs("span",{children:[M.currentActionPoints," / ",M.maxActionPoints]})]}),o.jsx("div",{className:"h-1.5 bg-[#27272a] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-stone-500 transition-all duration-300",style:{width:`${M.currentActionPoints/M.maxActionPoints*100}%`}})})]})]}),o.jsxs("div",{className:"mt-4 md:mt-6 pt-4 md:pt-6 border-t border-[#27272a]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[o.jsx(Up,{size:14,className:"md:w-4 md:h-4"}),o.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:i("cult")})]}),o.jsxs("div",{className:"space-y-2",children:[h.followers.length===0&&o.jsx("p",{className:"text-[10px] md:text-xs italic text-stone-600",children:i("lonely")}),h.followers.map((_,V)=>{const ne=je[_],le=h.followerStates?.[_],De=le?.loyalty??50,We=le?.status??"healthy",Ue=le?.task,Et=We==="injured"?"text-red-500":We==="insane"?"text-purple-500":"text-emerald-500",Ft=We==="injured"?o.jsx(di,{size:10}):We==="insane"?o.jsx(fi,{size:10}):o.jsx(Kf,{size:10});return o.jsxs("div",{className:"p-2 bg-[#1f1f22] border border-[#27272a] rounded flex flex-col gap-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-700"}),o.jsx("span",{className:"text-xs md:text-sm text-stone-300",children:ne?ne.name:_})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsxs("span",{className:`flex items-center gap-1 ${Et}`,children:[Ft,i(`followerStatus.${We}`)]}),o.jsxs("span",{className:"text-stone-500",children:[i("loyalty"),": ",De]})]})]}),Ue&&o.jsxs("div",{className:"text-xs text-stone-400 italic pl-4",children:[i("followerTask"),": ",Ue.description]})]},V)})]})]}),o.jsxs("div",{className:"mt-4 pt-4 md:mt-6 md:pt-6 border-t border-[#27272a]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[o.jsx(sh,{size:14,className:"md:w-4 md:h-4"}),o.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:i("inventory")})]}),o.jsxs("div",{className:"space-y-2",children:[h.inventory.length===0&&o.jsx("p",{className:"text-[10px] md:text-xs italic text-stone-600",children:i("emptyInventory")}),h.inventory.map((_,V)=>{const ne=J[_],le=Zp(_);return o.jsxs("div",{className:"group relative p-2 bg-[#1f1f22] border border-[#27272a] rounded flex items-center gap-2 md:gap-3 hover:border-stone-500 transition-colors cursor-help",children:[o.jsx("div",{className:"p-1.5 bg-[#141417] rounded text-stone-400 group-hover:text-amber-500",children:o.jsx(le,{size:12,className:"md:w-3.5 md:h-3.5"})}),o.jsx("div",{className:"text-xs md:text-sm text-stone-300 truncate",children:ne?.name||_}),o.jsx("div",{className:"absolute left-0 bottom-full mb-2 w-48 p-3 bg-black border border-stone-700 text-xs text-stone-400 hidden group-hover:block z-50 shadow-xl pointer-events-none",children:ne?.description})]},V)})]})]}),o.jsx("div",{className:"h-40 md:h-20 w-full shrink-0"})]})]}),o.jsxs("div",{className:`${d==="game"?"flex":"hidden"} md:flex flex-1 flex-col relative min-w-0 bg-[#0c0c0e] h-full z-10`,children:[o.jsxs("div",{className:"md:hidden px-3 py-2 bg-[#141417] border-b border-[#27272a] flex items-center justify-between gap-2 flex-shrink-0 relative overflow-hidden",children:[o.jsx("button",{onClick:u,className:"flex items-center justify-center gap-1 px-1.5 py-1.5 border border-amber-700/50 bg-amber-900/20 text-amber-500 active:bg-amber-900/40 active:border-amber-600 active:text-amber-400 transition-all rounded flex-shrink-0",title:f==="en"?"":"Switch to English",children:o.jsx(Co,{size:12,className:"flex-shrink-0"})}),o.jsxs("div",{className:"flex items-center justify-around gap-2 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[o.jsx(Oo,{size:12,className:"text-amber-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.sanity")}),o.jsx("div",{className:`text-[10px] font-mono ${h.stats.sanity<50?"text-red-500":"text-amber-600"}`,children:h.stats.sanity}),h.breakdown?.active&&o.jsx("div",{className:"text-[7px] text-red-400 font-bold mt-0.5",children:f==="zh"?` ${h.breakdown.turnsRemaining}`:`BD ${h.breakdown.turnsRemaining}`})]}),ue.filter(_=>_.stat==="sanity").map((_,V)=>o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${V*.1}s`},children:o.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${_.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[_.value>0?"+":"",_.value]})},`sanity-${V}`))]}),o.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[o.jsx($f,{size:12,className:"text-yellow-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.funds")}),o.jsxs("div",{className:"text-[10px] font-mono text-yellow-600",children:["$",h.stats.funds]})]}),ue.filter(_=>_.stat==="funds").map((_,V)=>o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${V*.1}s`},children:o.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${_.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[_.value>0?"+":"","$",_.value]})},`funds-${V}`))]}),o.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[o.jsx(Jf,{size:12,className:"text-purple-500 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.suspicion")}),o.jsx("div",{className:"text-[10px] font-mono text-purple-500",children:h.stats.suspicion})]}),ue.filter(_=>_.stat==="suspicion").map((_,V)=>o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${V*.1}s`},children:o.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${_.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[_.value>0?"+":"",_.value]})},`suspicion-${V}`))]}),o.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[o.jsx(eh,{size:12,className:"text-cyan-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.gnosis")}),o.jsx("div",{className:"text-[10px] font-mono text-cyan-600",children:h.stats.gnosis})]}),ue.filter(_=>_.stat==="gnosis").map((_,V)=>o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${V*.1}s`},children:o.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${_.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[_.value>0?"+":"",_.value]})},`gnosis-${V}`))]})]}),g.origin&&o.jsx("button",{onClick:()=>ye(!0),className:"flex items-center justify-center px-2 py-1.5 border border-stone-700/50 bg-stone-900/30 text-stone-400 active:bg-stone-800/50 active:border-stone-600 active:text-stone-300 transition-all rounded flex-shrink-0",title:f==="zh"?"":"View Origin Trait",children:o.jsx(di,{size:14})})]}),Pl&&d==="game"&&o.jsxs("div",{className:"md:hidden mx-3 mt-2 mb-0 p-3 bg-gradient-to-r from-amber-900/40 to-amber-800/30 border-2 border-amber-600/60 rounded-lg flex items-center justify-between gap-2 flex-shrink-0 shadow-lg shadow-amber-900/20 animate-slide-down",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ho,{size:18,className:"text-amber-400 flex-shrink-0 animate-pulse"}),o.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"}),o.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsx("span",{className:"text-xs text-amber-200 font-semibold truncate",children:f==="zh"?"":"Follower Request"})]}),o.jsx("button",{onClick:()=>k("stats"),className:"px-3 py-1.5 bg-amber-700/60 hover:bg-amber-700/80 active:bg-amber-600/80 text-amber-100 text-xs font-bold uppercase tracking-wider rounded transition-all transform active:scale-95 flex-shrink-0 shadow-md shadow-amber-900/30",children:f==="zh"?"":"VIEW"})]}),o.jsxs("div",{className:"px-4 md:px-10 pt-6 md:pt-10 pb-4 md:pb-6 border-b border-[#27272a]/50 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-amber-700",children:[o.jsx(Wf,{size:14,className:"md:w-4 md:h-4 flex-shrink-0"}),o.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase tracking-[0.15em] truncate",children:w.id})]}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-[10px] md:text-xs font-mono text-stone-300",children:[o.jsx("span",{className:"uppercase tracking-[0.15em] text-stone-500",children:i("stats.ap")}),o.jsxs("span",{className:"px-1.5 md:px-2 py-0.5 rounded-full border border-[#27272a] bg-[#11111a]",children:[M.currentActionPoints," / ",M.maxActionPoints]})]})]}),o.jsx("h2",{className:"text-2xl md:text-4xl font-serif text-[#e4e4e7] tracking-wide truncate",children:w.name})]}),o.jsxs("div",{ref:y,className:"flex-1 overflow-y-auto px-4 md:px-10 py-4 md:py-8 pb-32 md:pb-8 custom-scrollbar relative z-10",style:{touchAction:"pan-y"},onTouchStart:_=>{const V=_.target;(V.tagName==="BUTTON"||V.closest("button"))&&_.stopPropagation()},children:[o.jsx("div",{className:"mb-6 md:mb-10 pl-4 md:pl-6 border-l-2 border-[#27272a]",children:o.jsx("p",{className:"text-base md:text-xl leading-relaxed md:leading-loose text-stone-400 font-serif italic max-w-3xl",children:typeof w.description=="function"?w.description(g):w.description})}),o.jsx("div",{className:"grid grid-cols-1 gap-2 md:gap-3 max-w-2xl",children:w.actions.map(_=>{if(!Z(_))return null;let ne=_.id==="sleep"?0:typeof _.result=="function"?_.result(g).costAP??1:_.result.costAP??1;const De=!(M.currentActionPoints>=ne)&&_.id!=="sleep"&&ne>0,We=_.id.includes("buy")||_.id.includes("sell"),Ue=_.id.includes("gamble")||_.id.includes("dice");let Et=null;if(!Ue&&(We||_.id.includes("drink")||_.id.includes("eat")||_.reqStats?.funds))try{const Ke=typeof _.result=="function"?_.result(g):_.result;Ke.changes?.funds&&Ke.changes.funds<0?Et=Math.abs(Ke.changes.funds):_.reqStats?.funds&&(Et=_.reqStats.funds)}catch{_.reqStats?.funds&&(Et=_.reqStats.funds)}let Ft=i("actions.costAP",{val:ne}),_a="border-[#27272a] text-stone-500 bg-[#0c0c0e]";_.id==="sleep"?(Ft=i("actions.endDay"),_a="border-amber-900/30 text-amber-700 bg-amber-900/10"):ne===0&&(Ft=i("actions.free"),_a="border-emerald-900/30 text-emerald-600 bg-emerald-900/10");const mt=Fp(_.id),ze=()=>{De||(_.requiresConfirmation?(dt(_),ht(!0)):C(_))};return o.jsxs("button",{onClick:ze,disabled:De,className:`w-full text-left p-3 md:p-4 border rounded transition-all duration-200 flex items-center gap-3 md:gap-5 relative z-50 ${De?"border-[#27272a] bg-transparent opacity-40 cursor-not-allowed":"border-[#3f3f46] bg-[#18181b] active:bg-[#202023] md:hover:bg-[#202023] active:border-amber-700/50 md:hover:border-amber-700/50 active:translate-x-1 md:hover:translate-x-1"}`,style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent",pointerEvents:"auto",position:"relative",zIndex:50},children:[o.jsx("div",{className:`p-2 md:p-3 rounded-full bg-[#0c0c0e] border border-[#27272a] flex-shrink-0 ${De?"text-stone-700":"text-stone-400 group-hover:text-amber-500"}`,style:{pointerEvents:"none"},children:o.jsx(mt,{size:20,className:"md:w-6 md:h-6",strokeWidth:1.5})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-1 min-w-0",style:{pointerEvents:"none"},children:[o.jsxs("div",{className:"flex justify-between items-center w-full gap-2",children:[o.jsx("span",{className:`text-base md:text-lg font-serif tracking-wide ${De?"text-stone-500":"text-stone-200"} truncate flex-1`,children:typeof _.label=="function"?_.label(g):_.label}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[Et!==null&&o.jsxs("span",{className:`text-[9px] md:text-[10px] font-mono px-1.5 md:px-2 py-0.5 md:py-1 rounded border ${_.id.includes("buy")||Et>0&&!_.id.includes("sell")?"border-yellow-700/50 text-yellow-500 bg-yellow-900/20":"border-emerald-700/50 text-emerald-500 bg-emerald-900/20"}`,children:[_.id.includes("sell")?"+":"","$",Et]}),o.jsx("span",{className:`text-[9px] md:text-[10px] font-mono px-1.5 md:px-2 py-0.5 md:py-1 rounded border ${_a}`,children:Ft})]})]}),o.jsx("div",{className:"text-xs md:text-sm text-stone-500 font-serif italic line-clamp-2",children:typeof _.description=="function"?_.description(g):_.description})]})]},_.id)})}),o.jsx("div",{className:"h-40 md:h-8 w-full shrink-0 pointer-events-none"})]})]}),o.jsxs("div",{className:`${d==="journal"?"flex":"hidden"} md:flex w-full md:w-80 flex-shrink-0 flex-col border-l border-[#27272a] bg-[#0c0c0e] h-full md:h-auto relative z-10`,children:[o.jsxs("div",{className:"p-3 md:p-4 border-b border-[#27272a] bg-[#141417] flex justify-between items-center flex-shrink-0",children:[o.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider text-stone-500",children:i("journal")}),o.jsx("span",{className:"text-[9px] md:text-[10px] text-stone-700 font-mono",children:i("latestEvents")})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 font-serif custom-scrollbar space-y-4 md:space-y-6",children:[[...D].reverse().map((_,V)=>{const ne=_.text==="init_game"?i("initGame"):_.text;return o.jsxs("div",{className:`animate-in fade-in slide-in-from-bottom-2 duration-500 ${V===0&&wt?"animate-log-update":""}`,children:[o.jsx("div",{className:"flex items-center mb-1",children:o.jsx("span",{className:"text-[9px] md:text-[10px] font-mono text-stone-600 uppercase",children:i("day",{day:_.timestamp})})}),o.jsx("p",{className:`text-xs md:text-sm leading-relaxed ${_.type==="warning"?"text-red-900 border-l-2 border-red-900 pl-2":_.type==="result"?"text-stone-300":"text-stone-500"}`,children:Y(ne)})]},_.id)}),o.jsx("div",{ref:R,className:"h-1"}),o.jsx("div",{className:"h-32 md:h-0 w-full shrink-0"})]})]}),o.jsxs("div",{className:`md:hidden fixed bottom-16 left-0 right-0 px-4 pt-3 pb-2 border-t border-[#27272a] bg-[#0c0c0e] z-20 pointer-events-none ${d==="journal"?"hidden":"block"} ${wt?"animate-log-container-update":""}`,style:{maxHeight:"120px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-stone-500",children:[o.jsx(Yo,{size:14,className:wt?"animate-pulse":""}),o.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider",children:i("journal")})]}),o.jsxs("button",{onClick:()=>k("journal"),className:"text-[9px] text-stone-600 active:text-amber-500 transition-colors pointer-events-auto relative z-10",children:[f==="en"?"View All":""," "]})]}),o.jsx("div",{className:"min-h-[20px] max-h-[80px] overflow-y-auto custom-scrollbar",children:D&&Array.isArray(D)&&D.length>0&&D[0]&&D[0].text?o.jsxs("div",{className:`flex items-start gap-2 ${wt?"animate-log-entry-update":""}`,children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-amber-700/50 mt-1.5 flex-shrink-0"}),o.jsx("p",{className:`text-[11px] leading-relaxed flex-1 break-words whitespace-normal ${D[0].type==="warning"?"text-red-900":D[0].type==="result"?"text-stone-300":"text-stone-500"}`,children:Y(D[0].text==="init_game"?i("initGame"):D[0].text)})]}):o.jsx("p",{className:"text-[11px] text-stone-600 italic",children:f==="en"?"No events yet...":"..."})})]}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[#141417] border-t border-[#27272a] z-30 safe-area-inset-bottom",children:o.jsxs("div",{className:"flex items-center justify-around h-16",children:[o.jsxs("button",{onClick:()=>k("game"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${d==="game"?"text-amber-500":"text-stone-500"}`,children:[o.jsx(Wf,{size:20}),o.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:f==="zh"?"":"GAME"})]}),o.jsxs("button",{onClick:()=>k("stats"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${d==="stats"?"text-amber-500":"text-stone-500"}`,children:[o.jsx(Oo,{size:20}),o.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:f==="zh"?"":"STATS"})]}),o.jsxs("button",{onClick:()=>k("journal"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${d==="journal"?"text-amber-500":"text-stone-500"}`,children:[o.jsx(Yo,{size:20}),o.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:i("journal")})]})]})}),lt&&Ae&&o.jsx("div",{className:"absolute inset-0 z-[70] bg-black/95 flex items-center justify-center p-4 md:p-8",children:o.jsxs("div",{className:"max-w-lg w-full border border-red-700/50 bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(di,{size:24,className:"text-red-500 flex-shrink-0"}),o.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-red-400 uppercase",children:f==="zh"?" ":" HIGH RISK ACTION"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm md:text-base text-stone-300 font-serif",children:typeof Ae.label=="function"?Ae.label(g):Ae.label}),o.jsx("div",{className:"text-xs md:text-sm text-stone-400 leading-relaxed border-l-2 border-red-700/30 pl-4",children:Ae.confirmationMessage?typeof Ae.confirmationMessage=="function"?Ae.confirmationMessage(g):Ae.confirmationMessage:f==="zh"?"":"This action carries high risk and may lead to serious consequences (addiction, infection, resource loss, etc.). Are you sure you want to continue?"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{ht(!1),dt(null)},className:"flex-1 px-6 md:px-8 py-3 md:py-4 border border-stone-800 active:border-stone-900 md:hover:border-stone-900 active:text-stone-300 md:hover:text-stone-300 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:f==="zh"?"":"Cancel"}),o.jsx("button",{onClick:()=>{Ae&&(C(Ae),ht(!1),dt(null))},className:"flex-1 px-6 md:px-8 py-3 md:py-4 border border-red-800 active:border-red-900 md:hover:border-red-900 active:text-red-400 md:hover:text-red-400 text-red-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all font-bold",children:f==="zh"?"":"Confirm"})]})]})}),P&&g.origin&&o.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-4 md:p-8",children:o.jsxs("div",{className:"max-w-lg w-full border border-[#27272a] bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[o.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-amber-500 uppercase",children:f==="zh"?"":"Origin Trait"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm md:text-base text-stone-300 font-serif",children:i(`origins.${g.origin}.name`)}),o.jsxs("div",{className:"text-xs md:text-sm text-stone-400 leading-relaxed",children:[g.origin==="doctor"&&f==="zh"&&o.jsx(o.Fragment,{children:"50%"}),g.origin==="doctor"&&f==="en"&&o.jsx(o.Fragment,{children:"As a doctor, your medical training increases the sanity restoration effect of medical items (morphine, sedatives, purified serum, strong painkiller) by 50%. Your medical bag contains morphine and a scalpel."}),g.origin==="fallen_noble"&&f==="zh"&&o.jsx(o.Fragment,{children:""}),g.origin==="fallen_noble"&&f==="en"&&o.jsx(o.Fragment,{children:"As a fallen noble, your family heritage protects you from price inflation. Even when the Ministry raises prices, you can still purchase items at their original cost."}),g.origin==="vagrant"&&f==="zh"&&o.jsx(o.Fragment,{children:""}),g.origin==="vagrant"&&f==="en"&&o.jsx(o.Fragment,{children:"As a vagrant, the survival wisdom you learned on the streets gives you greater resistance to anomalous phenomena. You start with higher sanity and greater tolerance for fear."})]})]}),o.jsx("button",{onClick:()=>ye(!1),className:"w-full mt-4 md:mt-6 px-6 md:px-8 py-3 md:py-4 border border-stone-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:f==="zh"?"":"Understood"})]})}),at&&M.day===1&&!g.tutorialCompleted&&o.jsx("div",{className:"absolute inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 md:p-8",children:o.jsxs("div",{className:"max-w-2xl w-full border border-amber-700/50 bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[o.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-amber-500 uppercase",children:f==="zh"?"":"Welcome to Pale Threshold"}),o.jsx("div",{className:"space-y-4 text-sm md:text-base text-stone-300 leading-relaxed",children:f==="zh"?o.jsxs(o.Fragment,{children:[o.jsx("p",{children:""}),o.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-amber-700/30",children:[o.jsx("p",{className:"font-bold text-amber-400",children:" "}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-400",children:[o.jsxs("li",{children:["",o.jsx("strong",{className:"text-amber-400",children:""}),""]}),g.origin==="doctor"&&o.jsxs("li",{children:["",o.jsx("strong",{className:"text-blue-400",children:""}),"",o.jsx("strong",{className:"text-cyan-400",children:""}),"+5-323"]}),o.jsxs("li",{children:["",o.jsx("strong",{className:"text-yellow-400",children:""}),"312"]}),o.jsxs("li",{children:["",o.jsx("strong",{className:"text-amber-400",children:""}),"50"]}),g.origin!=="doctor"&&o.jsxs("li",{children:["",o.jsx("strong",{className:"text-cyan-400",children:""}),"",o.jsx("strong",{className:"text-cyan-400",children:""}),""]}),o.jsxs("li",{children:["",o.jsx("strong",{className:"text-purple-400",children:""}),""]})]})]}),o.jsx("p",{className:"text-xs text-stone-500 italic",children:'""'})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{children:"This is a game about survival, exploration, and choices. Your goal is to survive in this dangerous city and discover hidden truths."}),o.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-amber-700/30",children:[o.jsx("p",{className:"font-bold text-amber-400",children:" Starting Tips:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-400",children:[o.jsxs("li",{children:["First, ",o.jsx("strong",{className:"text-amber-400",children:"step outside to explore the street"})," and look for work and resources"]}),o.jsxs("li",{children:["Make sure you have enough ",o.jsx("strong",{className:"text-yellow-400",children:"funds"})," to pay living expenses (1 coin daily for the first 3 days, then 2 coins daily afterwards)"]}),o.jsxs("li",{children:["Keep your ",o.jsx("strong",{className:"text-amber-400",children:"sanity"})," above 50 to avoid breakdown"]}),o.jsxs("li",{children:["Look for work opportunities in the ",o.jsx("strong",{className:"text-cyan-400",children:"market"})," or ",o.jsx("strong",{className:"text-cyan-400",children:"street"})," to earn funds"]}),o.jsxs("li",{children:["Explore the city, ",o.jsx("strong",{className:"text-purple-400",children:"recruit followers"}),", and build your cult"]})]})]}),o.jsx("p",{className:"text-xs text-stone-500 italic",children:'Tip: Check the "Goals" panel in the left sidebar to see your current objectives. Completing goals will help you better understand the game mechanics.'})]})}),o.jsx("button",{onClick:()=>{Pe(!1);try{const _=localStorage.getItem("pale_threshold_save_v1");if(_){const V=JSON.parse(_);V.tutorialCompleted=!0,localStorage.setItem("pale_threshold_save_v1",JSON.stringify(V))}}catch(_){console.error("Failed to save tutorial completion:",_)}},className:"w-full mt-4 md:mt-6 px-6 md:px-8 py-3 md:py-4 border border-amber-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-amber-400 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:f==="zh"?"":"Start Playing"})]})}),g.status!=="playing"&&g.ending&&o.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-4 md:p-8",children:o.jsxs("div",{className:"max-w-2xl w-full text-center space-y-4 md:space-y-8",children:[o.jsx("h1",{className:"text-3xl md:text-6xl font-serif font-bold tracking-widest uppercase text-amber-500",children:g.ending.title}),o.jsx("p",{className:"text-base md:text-xl text-stone-400 font-serif italic",children:g.ending.description}),o.jsx("button",{onClick:H,className:"mt-4 md:mt-8 px-6 md:px-10 py-3 md:py-4 border border-stone-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm",children:i("gameOver.restart")})]})})]})}const Vs=({icon:i,label:u,value:f,max:d,color:k})=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center text-stone-500 gap-2 md:gap-3",children:[o.jsx("span",{className:"opacity-70",children:i}),o.jsx("span",{className:"text-[10px] md:text-xs font-bold tracking-wider",children:u})]}),o.jsxs("span",{className:`font-mono text-xs md:text-sm ${k}`,children:[f,d?o.jsxs("span",{className:"text-stone-700 text-[9px] md:text-[10px]",children:["/",d]}):""]})]});function Zp(i){return i.includes("bread")?Ip:i.includes("rat")?wp:i.includes("spirit")?Xp:i.includes("sedative")||i.includes("morphine")?vp:i.includes("key")?hp:i.includes("lantern")?Uo:i.includes("dagger")||i.includes("scalpel")?Cp:i.includes("scroll")||i.includes("file")?Np:i.includes("tooth")||i.includes("idol")?dp:i.includes("fungus")?Dp:i.includes("manuscript")||i.includes("coat")?Yo:sh}function Fp(i){return i.includes("leave")||i.includes("return")||i.includes("enter")||i.includes("unlock")||i.includes("visit")||i.includes("flee")||i.includes("wake")?ip:i.includes("sleep")?bp:i.includes("work")||i.includes("job")?Py:i.includes("buy")||i.includes("sell")?qp:i.includes("talk")||i.includes("recruit")||i.includes("dispatch")?Ho:i.includes("eat")||i.includes("drink")||i.includes("take")?Bp:i.includes("study")||i.includes("read")||i.includes("write")?nh:i.includes("explore")||i.includes("scavenge")||i.includes("search")||i.includes("find")?Tp:i.includes("lay_low")?Wy:i.includes("ritual")||i.includes("lobotomy")||i.includes("blood")||i.includes("implant")||i.includes("harvest")||i.includes("shock")||i.includes("steal")?fi:Ro}jy.createRoot(document.getElementById("root")).render(o.jsx(ee.StrictMode,{children:o.jsx(Vp,{})}));
