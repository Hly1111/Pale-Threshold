(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))f(k);new MutationObserver(k=>{for(const z of k)if(z.type==="childList")for(const R of z.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&f(R)}).observe(document,{childList:!0,subtree:!0});function d(k){const z={};return k.integrity&&(z.integrity=k.integrity),k.referrerPolicy&&(z.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?z.credentials="include":k.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function f(k){if(k.ep)return;k.ep=!0;const z=d(k);fetch(k.href,z)}})();var zo={exports:{}},Xs={};var Lf;function qy(){if(Lf)return Xs;Lf=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function d(f,k,z){var R=null;if(z!==void 0&&(R=""+z),k.key!==void 0&&(R=""+k.key),"key"in k){z={};for(var L in k)L!=="key"&&(z[L]=k[L])}else z=k;return k=z.ref,{$$typeof:i,type:f,key:R,ref:k!==void 0?k:null,props:z}}return Xs.Fragment=u,Xs.jsx=d,Xs.jsxs=d,Xs}var If;function jy(){return If||(If=1,zo.exports=qy()),zo.exports}var o=jy(),qo={exports:{}},ee={};var Zf;function Ey(){if(Zf)return ee;Zf=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),R=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),fe=Symbol.iterator;function Ke(y){return y===null||typeof y!="object"?null:(y=fe&&y[fe]||y["@@iterator"],typeof y=="function"?y:null)}var $e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ae=Object.assign,ft={};function st(y,S,C){this.props=y,this.context=S,this.refs=ft,this.updater=C||$e}st.prototype.isReactComponent={},st.prototype.setState=function(y,S){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,S,"setState")},st.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function mt(){}mt.prototype=st.prototype;function g(y,S,C){this.props=y,this.context=S,this.refs=ft,this.updater=C||$e}var w=g.prototype=new mt;w.constructor=g,Ae(w,st.prototype),w.isPureReactComponent=!0;var O=Array.isArray;function F(){}var B={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function ke(y,S,C){var G=C.ref;return{$$typeof:i,type:y,key:S,ref:G!==void 0?G:null,props:C}}function Re(y,S){return ke(y.type,S,y.props)}function et(y){return typeof y=="object"&&y!==null&&y.$$typeof===i}function W(y){var S={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(C){return S[C]})}var je=/\/+/g;function oe(y,S){return typeof y=="object"&&y!==null&&y.key!=null?W(""+y.key):S.toString(36)}function re(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then(F,F):(y.status="pending",y.then(function(S){y.status==="pending"&&(y.status="fulfilled",y.value=S)},function(S){y.status==="pending"&&(y.status="rejected",y.reason=S)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function h(y,S,C,G,$){var ae=typeof y;(ae==="undefined"||ae==="boolean")&&(y=null);var ue=!1;if(y===null)ue=!0;else switch(ae){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(y.$$typeof){case i:case u:ue=!0;break;case J:return ue=y._init,h(ue(y._payload),S,C,G,$)}}if(ue)return $=$(y),ue=G===""?"."+oe(y,0):G,O($)?(C="",ue!=null&&(C=ue.replace(je,"$&/")+"/"),h($,S,C,"",function(St){return St})):$!=null&&(et($)&&($=Re($,C+($.key==null||y&&y.key===$.key?"":(""+$.key).replace(je,"$&/")+"/")+ue)),S.push($)),1;ue=0;var Ze=G===""?".":G+":";if(O(y))for(var Ee=0;Ee<y.length;Ee++)G=y[Ee],ae=Ze+oe(G,Ee),ue+=h(G,S,C,ae,$);else if(Ee=Ke(y),typeof Ee=="function")for(y=Ee.call(y),Ee=0;!(G=y.next()).done;)G=G.value,ae=Ze+oe(G,Ee++),ue+=h(G,S,C,ae,$);else if(ae==="object"){if(typeof y.then=="function")return h(re(y),S,C,G,$);throw S=String(y),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return ue}function M(y,S,C){if(y==null)return y;var G=[],$=0;return h(y,G,"","",function(ae){return S.call(C,ae,$++)}),G}function D(y){if(y._status===-1){var S=y._result;S=S(),S.then(function(C){(y._status===0||y._status===-1)&&(y._status=1,y._result=C)},function(C){(y._status===0||y._status===-1)&&(y._status=2,y._result=C)}),y._status===-1&&(y._status=0,y._result=S)}if(y._status===1)return y._result.default;throw y._result}var U=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},Y={map:M,forEach:function(y,S,C){M(y,function(){S.apply(this,arguments)},C)},count:function(y){var S=0;return M(y,function(){S++}),S},toArray:function(y){return M(y,function(S){return S})||[]},only:function(y){if(!et(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return ee.Activity=V,ee.Children=Y,ee.Component=st,ee.Fragment=d,ee.Profiler=k,ee.PureComponent=g,ee.StrictMode=f,ee.Suspense=H,ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ee.__COMPILER_RUNTIME={__proto__:null,c:function(y){return B.H.useMemoCache(y)}},ee.cache=function(y){return function(){return y.apply(null,arguments)}},ee.cacheSignal=function(){return null},ee.cloneElement=function(y,S,C){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var G=Ae({},y.props),$=y.key;if(S!=null)for(ae in S.key!==void 0&&($=""+S.key),S)!Z.call(S,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&S.ref===void 0||(G[ae]=S[ae]);var ae=arguments.length-2;if(ae===1)G.children=C;else if(1<ae){for(var ue=Array(ae),Ze=0;Ze<ae;Ze++)ue[Ze]=arguments[Ze+2];G.children=ue}return ke(y.type,$,G)},ee.createContext=function(y){return y={$$typeof:R,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:z,_context:y},y},ee.createElement=function(y,S,C){var G,$={},ae=null;if(S!=null)for(G in S.key!==void 0&&(ae=""+S.key),S)Z.call(S,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&($[G]=S[G]);var ue=arguments.length-2;if(ue===1)$.children=C;else if(1<ue){for(var Ze=Array(ue),Ee=0;Ee<ue;Ee++)Ze[Ee]=arguments[Ee+2];$.children=Ze}if(y&&y.defaultProps)for(G in ue=y.defaultProps,ue)$[G]===void 0&&($[G]=ue[G]);return ke(y,ae,$)},ee.createRef=function(){return{current:null}},ee.forwardRef=function(y){return{$$typeof:L,render:y}},ee.isValidElement=et,ee.lazy=function(y){return{$$typeof:J,_payload:{_status:-1,_result:y},_init:D}},ee.memo=function(y,S){return{$$typeof:q,type:y,compare:S===void 0?null:S}},ee.startTransition=function(y){var S=B.T,C={};B.T=C;try{var G=y(),$=B.S;$!==null&&$(C,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(F,U)}catch(ae){U(ae)}finally{S!==null&&C.types!==null&&(S.types=C.types),B.T=S}},ee.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ee.use=function(y){return B.H.use(y)},ee.useActionState=function(y,S,C){return B.H.useActionState(y,S,C)},ee.useCallback=function(y,S){return B.H.useCallback(y,S)},ee.useContext=function(y){return B.H.useContext(y)},ee.useDebugValue=function(){},ee.useDeferredValue=function(y,S){return B.H.useDeferredValue(y,S)},ee.useEffect=function(y,S){return B.H.useEffect(y,S)},ee.useEffectEvent=function(y){return B.H.useEffectEvent(y)},ee.useId=function(){return B.H.useId()},ee.useImperativeHandle=function(y,S,C){return B.H.useImperativeHandle(y,S,C)},ee.useInsertionEffect=function(y,S){return B.H.useInsertionEffect(y,S)},ee.useLayoutEffect=function(y,S){return B.H.useLayoutEffect(y,S)},ee.useMemo=function(y,S){return B.H.useMemo(y,S)},ee.useOptimistic=function(y,S){return B.H.useOptimistic(y,S)},ee.useReducer=function(y,S,C){return B.H.useReducer(y,S,C)},ee.useRef=function(y){return B.H.useRef(y)},ee.useState=function(y){return B.H.useState(y)},ee.useSyncExternalStore=function(y,S,C){return B.H.useSyncExternalStore(y,S,C)},ee.useTransition=function(){return B.H.useTransition()},ee.version="19.2.0",ee}var Xf;function Zo(){return Xf||(Xf=1,qo.exports=Ey()),qo.exports}var te=Zo(),jo={exports:{}},Qs={},Eo={exports:{}},Do={};var Qf;function Dy(){return Qf||(Qf=1,(function(i){function u(h,M){var D=h.length;h.push(M);e:for(;0<D;){var U=D-1>>>1,Y=h[U];if(0<k(Y,M))h[U]=M,h[D]=Y,D=U;else break e}}function d(h){return h.length===0?null:h[0]}function f(h){if(h.length===0)return null;var M=h[0],D=h.pop();if(D!==M){h[0]=D;e:for(var U=0,Y=h.length,y=Y>>>1;U<y;){var S=2*(U+1)-1,C=h[S],G=S+1,$=h[G];if(0>k(C,D))G<Y&&0>k($,C)?(h[U]=$,h[G]=D,U=G):(h[U]=C,h[S]=D,U=S);else if(G<Y&&0>k($,D))h[U]=$,h[G]=D,U=G;else break e}}return M}function k(h,M){var D=h.sortIndex-M.sortIndex;return D!==0?D:h.id-M.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var z=performance;i.unstable_now=function(){return z.now()}}else{var R=Date,L=R.now();i.unstable_now=function(){return R.now()-L}}var H=[],q=[],J=1,V=null,fe=3,Ke=!1,$e=!1,Ae=!1,ft=!1,st=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function w(h){for(var M=d(q);M!==null;){if(M.callback===null)f(q);else if(M.startTime<=h)f(q),M.sortIndex=M.expirationTime,u(H,M);else break;M=d(q)}}function O(h){if(Ae=!1,w(h),!$e)if(d(H)!==null)$e=!0,F||(F=!0,W());else{var M=d(q);M!==null&&re(O,M.startTime-h)}}var F=!1,B=-1,Z=5,ke=-1;function Re(){return ft?!0:!(i.unstable_now()-ke<Z)}function et(){if(ft=!1,F){var h=i.unstable_now();ke=h;var M=!0;try{e:{$e=!1,Ae&&(Ae=!1,mt(B),B=-1),Ke=!0;var D=fe;try{t:{for(w(h),V=d(H);V!==null&&!(V.expirationTime>h&&Re());){var U=V.callback;if(typeof U=="function"){V.callback=null,fe=V.priorityLevel;var Y=U(V.expirationTime<=h);if(h=i.unstable_now(),typeof Y=="function"){V.callback=Y,w(h),M=!0;break t}V===d(H)&&f(H),w(h)}else f(H);V=d(H)}if(V!==null)M=!0;else{var y=d(q);y!==null&&re(O,y.startTime-h),M=!1}}break e}finally{V=null,fe=D,Ke=!1}M=void 0}}finally{M?W():F=!1}}}var W;if(typeof g=="function")W=function(){g(et)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,oe=je.port2;je.port1.onmessage=et,W=function(){oe.postMessage(null)}}else W=function(){st(et,0)};function re(h,M){B=st(function(){h(i.unstable_now())},M)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(h){h.callback=null},i.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<h?Math.floor(1e3/h):5},i.unstable_getCurrentPriorityLevel=function(){return fe},i.unstable_next=function(h){switch(fe){case 1:case 2:case 3:var M=3;break;default:M=fe}var D=fe;fe=M;try{return h()}finally{fe=D}},i.unstable_requestPaint=function(){ft=!0},i.unstable_runWithPriority=function(h,M){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var D=fe;fe=h;try{return M()}finally{fe=D}},i.unstable_scheduleCallback=function(h,M,D){var U=i.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,h){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=D+Y,h={id:J++,callback:M,priorityLevel:h,startTime:D,expirationTime:Y,sortIndex:-1},D>U?(h.sortIndex=D,u(q,h),d(H)===null&&h===d(q)&&(Ae?(mt(B),B=-1):Ae=!0,re(O,D-U))):(h.sortIndex=Y,u(H,h),$e||Ke||($e=!0,F||(F=!0,W()))),h},i.unstable_shouldYield=Re,i.unstable_wrapCallback=function(h){var M=fe;return function(){var D=fe;fe=M;try{return h.apply(this,arguments)}finally{fe=D}}}})(Do)),Do}var Vf;function Cy(){return Vf||(Vf=1,Eo.exports=Dy()),Eo.exports}var Co={exports:{}},dt={};var Ff;function Oy(){if(Ff)return dt;Ff=1;var i=Zo();function u(H){var q="https://react.dev/errors/"+H;if(1<arguments.length){q+="?args[]="+encodeURIComponent(arguments[1]);for(var J=2;J<arguments.length;J++)q+="&args[]="+encodeURIComponent(arguments[J])}return"Minified React error #"+H+"; visit "+q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var f={d:{f:d,r:function(){throw Error(u(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},k=Symbol.for("react.portal");function z(H,q,J){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:V==null?null:""+V,children:H,containerInfo:q,implementation:J}}var R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function L(H,q){if(H==="font")return"";if(typeof q=="string")return q==="use-credentials"?q:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,dt.createPortal=function(H,q){var J=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q||q.nodeType!==1&&q.nodeType!==9&&q.nodeType!==11)throw Error(u(299));return z(H,q,null,J)},dt.flushSync=function(H){var q=R.T,J=f.p;try{if(R.T=null,f.p=2,H)return H()}finally{R.T=q,f.p=J,f.d.f()}},dt.preconnect=function(H,q){typeof H=="string"&&(q?(q=q.crossOrigin,q=typeof q=="string"?q==="use-credentials"?q:"":void 0):q=null,f.d.C(H,q))},dt.prefetchDNS=function(H){typeof H=="string"&&f.d.D(H)},dt.preinit=function(H,q){if(typeof H=="string"&&q&&typeof q.as=="string"){var J=q.as,V=L(J,q.crossOrigin),fe=typeof q.integrity=="string"?q.integrity:void 0,Ke=typeof q.fetchPriority=="string"?q.fetchPriority:void 0;J==="style"?f.d.S(H,typeof q.precedence=="string"?q.precedence:void 0,{crossOrigin:V,integrity:fe,fetchPriority:Ke}):J==="script"&&f.d.X(H,{crossOrigin:V,integrity:fe,fetchPriority:Ke,nonce:typeof q.nonce=="string"?q.nonce:void 0})}},dt.preinitModule=function(H,q){if(typeof H=="string")if(typeof q=="object"&&q!==null){if(q.as==null||q.as==="script"){var J=L(q.as,q.crossOrigin);f.d.M(H,{crossOrigin:J,integrity:typeof q.integrity=="string"?q.integrity:void 0,nonce:typeof q.nonce=="string"?q.nonce:void 0})}}else q==null&&f.d.M(H)},dt.preload=function(H,q){if(typeof H=="string"&&typeof q=="object"&&q!==null&&typeof q.as=="string"){var J=q.as,V=L(J,q.crossOrigin);f.d.L(H,J,{crossOrigin:V,integrity:typeof q.integrity=="string"?q.integrity:void 0,nonce:typeof q.nonce=="string"?q.nonce:void 0,type:typeof q.type=="string"?q.type:void 0,fetchPriority:typeof q.fetchPriority=="string"?q.fetchPriority:void 0,referrerPolicy:typeof q.referrerPolicy=="string"?q.referrerPolicy:void 0,imageSrcSet:typeof q.imageSrcSet=="string"?q.imageSrcSet:void 0,imageSizes:typeof q.imageSizes=="string"?q.imageSizes:void 0,media:typeof q.media=="string"?q.media:void 0})}},dt.preloadModule=function(H,q){if(typeof H=="string")if(q){var J=L(q.as,q.crossOrigin);f.d.m(H,{as:typeof q.as=="string"&&q.as!=="script"?q.as:void 0,crossOrigin:J,integrity:typeof q.integrity=="string"?q.integrity:void 0})}else f.d.m(H)},dt.requestFormReset=function(H){f.d.r(H)},dt.unstable_batchedUpdates=function(H,q){return H(q)},dt.useFormState=function(H,q,J){return R.H.useFormState(H,q,J)},dt.useFormStatus=function(){return R.H.useHostTransitionStatus()},dt.version="19.2.0",dt}var Pf;function Ry(){if(Pf)return Co.exports;Pf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),Co.exports=Oy(),Co.exports}var Kf;function Yy(){if(Kf)return Qs;Kf=1;var i=Cy(),u=Zo(),d=Ry();function f(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function z(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function R(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function H(e){if(z(e)!==e)throw Error(f(188))}function q(e){var t=e.alternate;if(!t){if(t=z(e),t===null)throw Error(f(188));return t!==e?null:e}for(var a=e,l=t;;){var s=a.return;if(s===null)break;var n=s.alternate;if(n===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===n.child){for(n=s.child;n;){if(n===a)return H(s),e;if(n===l)return H(s),t;n=n.sibling}throw Error(f(188))}if(a.return!==l.return)a=s,l=n;else{for(var r=!1,c=s.child;c;){if(c===a){r=!0,a=s,l=n;break}if(c===l){r=!0,l=s,a=n;break}c=c.sibling}if(!r){for(c=n.child;c;){if(c===a){r=!0,a=n,l=s;break}if(c===l){r=!0,l=n,a=s;break}c=c.sibling}if(!r)throw Error(f(189))}}if(a.alternate!==l)throw Error(f(190))}if(a.tag!==3)throw Error(f(188));return a.stateNode.current===a?e:t}function J(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=J(e),t!==null)return t;e=e.sibling}return null}var V=Object.assign,fe=Symbol.for("react.element"),Ke=Symbol.for("react.transitional.element"),$e=Symbol.for("react.portal"),Ae=Symbol.for("react.fragment"),ft=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),g=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ke=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=et&&e[et]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ae:return"Fragment";case st:return"Profiler";case ft:return"StrictMode";case O:return"Suspense";case F:return"SuspenseList";case ke:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $e:return"Portal";case g:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}var re=Array.isArray,h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},U=[],Y=-1;function y(e){return{current:e}}function S(e){0>Y||(e.current=U[Y],U[Y]=null,Y--)}function C(e,t){Y++,U[Y]=e.current,e.current=t}var G=y(null),$=y(null),ae=y(null),ue=y(null);function Ze(e,t){switch(C(ae,t),C($,e),C(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?df(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=df(t),e=ff(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}S(G),C(G,e)}function Ee(){S(G),S($),S(ae)}function St(e){e.memoizedState!==null&&C(ue,e);var t=G.current,a=ff(t,e.type);t!==a&&(C($,e),C(G,a))}function Va(e){$.current===e&&(S(G),S($)),ue.current===e&&(S(ue),Gs._currentValue=D)}var Wl,Ps;function Ft(e){if(Wl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Wl=t&&t[1]||"",Ps=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wl+e+Ps}var nt=!1;function At(e,t){if(!e||nt)return"";nt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var E=function(){throw Error()};if(Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(N){var A=N}Reflect.construct(e,[],E)}else{try{E.call()}catch(N){A=N}e.call(E.prototype)}}else{try{throw Error()}catch(N){A=N}(E=e())&&typeof E.catch=="function"&&E.catch(function(){})}}catch(N){if(N&&A&&typeof N.stack=="string")return[N.stack,A.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=l.DetermineComponentFrameRoot(),r=n[0],c=n[1];if(r&&c){var m=r.split(`
`),x=c.split(`
`);for(s=l=0;l<m.length&&!m[l].includes("DetermineComponentFrameRoot");)l++;for(;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;if(l===m.length||s===x.length)for(l=m.length-1,s=x.length-1;1<=l&&0<=s&&m[l]!==x[s];)s--;for(;1<=l&&0<=s;l--,s--)if(m[l]!==x[s]){if(l!==1||s!==1)do if(l--,s--,0>s||m[l]!==x[s]){var T=`
`+m[l].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=l&&0<=s);break}}}finally{nt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ft(a):""}function yi(e,t){switch(e.tag){case 26:case 27:case 5:return Ft(e.type);case 16:return Ft("Lazy");case 13:return e.child!==t&&t!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return At(e.type,!1);case 11:return At(e.type.render,!1);case 1:return At(e.type,!0);case 31:return Ft("Activity");default:return""}}function _(e){try{var t="",a=null;do t+=yi(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Q=Object.prototype.hasOwnProperty,ne=i.unstable_scheduleCallback,le=i.unstable_cancelCallback,De=i.unstable_shouldYield,tt=i.unstable_requestPaint,Ue=i.unstable_now,Dt=i.unstable_getCurrentPriorityLevel,Pt=i.unstable_ImmediatePriority,xa=i.unstable_UserBlockingPriority,yt=i.unstable_NormalPriority,ze=i.unstable_LowPriority,Je=i.unstable_IdlePriority,Fa=i.log,aa=i.unstable_setDisableYieldValue,ge=null,He=null;function wa(e){if(typeof Fa=="function"&&aa(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ge,e)}catch{}}var kt=Math.clz32?Math.clz32:ph,mh=Math.log,yh=Math.LN2;function ph(e){return e>>>=0,e===0?32:31-(mh(e)/yh|0)|0}var Ks=256,$s=262144,Js=4194304;function Pa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ws(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var s=0,n=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var c=l&134217727;return c!==0?(l=c&~n,l!==0?s=Pa(l):(r&=c,r!==0?s=Pa(r):a||(a=c&~e,a!==0&&(s=Pa(a))))):(c=l&~n,c!==0?s=Pa(c):r!==0?s=Pa(r):a||(a=l&~e,a!==0&&(s=Pa(a)))),s===0?0:t!==0&&t!==s&&(t&n)===0&&(n=s&-s,a=t&-t,n>=a||n===32&&(a&4194048)!==0)?t:s}function es(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xo(){var e=Js;return Js<<=1,(Js&62914560)===0&&(Js=4194304),e}function pi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ts(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,t,a,l,s,n){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,m=e.expirationTimes,x=e.hiddenUpdates;for(a=r&~a;0<a;){var T=31-kt(a),E=1<<T;c[T]=0,m[T]=-1;var A=x[T];if(A!==null)for(x[T]=null,T=0;T<A.length;T++){var N=A[T];N!==null&&(N.lane&=-536870913)}a&=~E}l!==0&&Qo(e,l,0),n!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=n&~(r&~t))}function Qo(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-kt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Vo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-kt(a),s=1<<l;s&t|e[l]&t&&(e[l]|=t),a&=~s}}function Fo(e,t){var a=t&-t;return a=(a&42)!==0?1:gi(a),(a&(e.suspendedLanes|t))!==0?0:a}function gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Po(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:Of(e.type))}function Ko(e,t){var a=M.p;try{return M.p=e,t()}finally{M.p=a}}var Sa=Math.random().toString(36).slice(2),it="__reactFiber$"+Sa,pt="__reactProps$"+Sa,ml="__reactContainer$"+Sa,_i="__reactEvents$"+Sa,_h="__reactListeners$"+Sa,vh="__reactHandles$"+Sa,$o="__reactResources$"+Sa,as="__reactMarker$"+Sa;function vi(e){delete e[it],delete e[pt],delete e[_i],delete e[_h],delete e[vh]}function yl(e){var t=e[it];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ml]||a[it]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=_f(e);e!==null;){if(a=e[it])return a;e=_f(e)}return t}e=a,a=e.parentNode}return null}function pl(e){if(e=e[it]||e[ml]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(f(33))}function gl(e){var t=e[$o];return t||(t=e[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[as]=!0}var Jo=new Set,Wo={};function Ka(e,t){bl(e,t),bl(e+"Capture",t)}function bl(e,t){for(Wo[e]=t,e=0;e<t.length;e++)Jo.add(t[e])}var xh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},tu={};function wh(e){return Q.call(tu,e)?!0:Q.call(eu,e)?!1:xh.test(e)?tu[e]=!0:(eu[e]=!0,!1)}function en(e,t,a){if(wh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function tn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function la(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function au(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sh(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,n=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){a=""+r,n.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xi(e){if(!e._valueTracker){var t=au(e)?"checked":"value";e._valueTracker=Sh(e,t,""+e[t])}}function lu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=au(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function an(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ah=/[\n"\\]/g;function Ot(e){return e.replace(Ah,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wi(e,t,a,l,s,n,r,c){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Si(e,r,Ct(t)):a!=null?Si(e,r,Ct(a)):l!=null&&e.removeAttribute("value"),s==null&&n!=null&&(e.defaultChecked=!!n),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+Ct(c):e.removeAttribute("name")}function su(e,t,a,l,s,n,r,c){if(n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"&&(e.type=n),t!=null||a!=null){if(!(n!=="submit"&&n!=="reset"||t!=null)){xi(e);return}a=a!=null?""+Ct(a):"",t=t!=null?""+Ct(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=c?e.checked:!!l,e.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),xi(e)}function Si(e,t,a){t==="number"&&an(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _l(e,t,a,l){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ct(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nu(e,t,a){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ct(a):""}function iu(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(f(92));if(re(l)){if(1<l.length)throw Error(f(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ct(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),xi(e)}function vl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||kh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ou(e,t,a){if(t!=null&&typeof t!="object")throw Error(f(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&a[s]!==l&&ru(e,s,l)}else for(var n in t)t.hasOwnProperty(n)&&ru(e,n,t[n])}function Ai(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(e){return Mh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var ki=null;function Ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,wl=null;function uu(e){var t=pl(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var s=l[pt]||null;if(!s)throw Error(f(90));wi(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&lu(l)}break e;case"textarea":nu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&_l(e,!!a.multiple,t,!1)}}}var Mi=!1;function cu(e,t,a){if(Mi)return e(t,a);Mi=!0;try{var l=e(t);return l}finally{if(Mi=!1,(xl!==null||wl!==null)&&(Xn(),xl&&(t=xl,e=wl,wl=xl=null,uu(t),e)))for(t=0;t<e.length;t++)uu(e[t])}}function ss(e,t){var a=e.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(f(231,t,typeof a));return a}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ti=!1;if(na)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Ti=!1}var Aa=null,zi=null,sn=null;function du(){if(sn)return sn;var e,t=zi,a=t.length,l,s="value"in Aa?Aa.value:Aa.textContent,n=s.length;for(e=0;e<a&&t[e]===s[e];e++);var r=a-e;for(l=1;l<=r&&t[a-l]===s[n-l];l++);return sn=s.slice(e,1<l?1-l:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rn(){return!0}function fu(){return!1}function gt(e){function t(a,l,s,n,r){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=n,this.target=r,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(n):n[c]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?rn:fu,this.isPropagationStopped=fu,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},on=gt($a),is=V({},$a,{view:0,detail:0}),Th=gt(is),qi,ji,rs,un=V({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(qi=e.screenX-rs.screenX,ji=e.screenY-rs.screenY):ji=qi=0,rs=e),qi)},movementY:function(e){return"movementY"in e?e.movementY:ji}}),hu=gt(un),zh=V({},un,{dataTransfer:0}),qh=gt(zh),jh=V({},is,{relatedTarget:0}),Ei=gt(jh),Eh=V({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Dh=gt(Eh),Ch=V({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oh=gt(Ch),Rh=V({},$a,{data:0}),mu=gt(Rh),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hh[e])?!!t[e]:!1}function Di(){return Bh}var Gh=V({},is,{key:function(e){if(e.key){var t=Yh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(e){return e.type==="keypress"?nn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lh=gt(Gh),Ih=V({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=gt(Ih),Zh=V({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),Xh=gt(Zh),Qh=V({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vh=gt(Qh),Fh=V({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ph=gt(Fh),Kh=V({},$a,{newState:0,oldState:0}),$h=gt(Kh),Jh=[9,13,27,32],Ci=na&&"CompositionEvent"in window,os=null;na&&"documentMode"in document&&(os=document.documentMode);var Wh=na&&"TextEvent"in window&&!os,pu=na&&(!Ci||os&&8<os&&11>=os),gu=" ",bu=!1;function _u(e,t){switch(e){case"keyup":return Jh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sl=!1;function em(e,t){switch(e){case"compositionend":return vu(t);case"keypress":return t.which!==32?null:(bu=!0,gu);case"textInput":return e=t.data,e===gu&&bu?null:e;default:return null}}function tm(e,t){if(Sl)return e==="compositionend"||!Ci&&_u(e,t)?(e=du(),sn=zi=Aa=null,Sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pu&&t.locale!=="ko"?null:t.data;default:return null}}var am={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!am[e.type]:t==="textarea"}function wu(e,t,a,l){xl?wl?wl.push(l):wl=[l]:xl=l,t=Jn(t,"onChange"),0<t.length&&(a=new on("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var us=null,cs=null;function lm(e){sf(e,0)}function cn(e){var t=ls(e);if(lu(t))return e}function Su(e,t){if(e==="change")return t}var Au=!1;if(na){var Oi;if(na){var Ri="oninput"in document;if(!Ri){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),Ri=typeof ku.oninput=="function"}Oi=Ri}else Oi=!1;Au=Oi&&(!document.documentMode||9<document.documentMode)}function Nu(){us&&(us.detachEvent("onpropertychange",Mu),cs=us=null)}function Mu(e){if(e.propertyName==="value"&&cn(cs)){var t=[];wu(t,cs,e,Ni(e)),cu(lm,t)}}function sm(e,t,a){e==="focusin"?(Nu(),us=t,cs=a,us.attachEvent("onpropertychange",Mu)):e==="focusout"&&Nu()}function nm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cn(cs)}function im(e,t){if(e==="click")return cn(t)}function rm(e,t){if(e==="input"||e==="change")return cn(t)}function om(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:om;function ds(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!Q.call(t,s)||!Nt(e[s],t[s]))return!1}return!0}function Tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var a=Tu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tu(a)}}function qu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ju(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=an(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=an(e.document)}return t}function Yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var um=na&&"documentMode"in document&&11>=document.documentMode,Al=null,Ui=null,fs=null,Hi=!1;function Eu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hi||Al==null||Al!==an(l)||(l=Al,"selectionStart"in l&&Yi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fs&&ds(fs,l)||(fs=l,l=Jn(Ui,"onSelect"),0<l.length&&(t=new on("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Al)))}function Ja(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var kl={animationend:Ja("Animation","AnimationEnd"),animationiteration:Ja("Animation","AnimationIteration"),animationstart:Ja("Animation","AnimationStart"),transitionrun:Ja("Transition","TransitionRun"),transitionstart:Ja("Transition","TransitionStart"),transitioncancel:Ja("Transition","TransitionCancel"),transitionend:Ja("Transition","TransitionEnd")},Bi={},Du={};na&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function Wa(e){if(Bi[e])return Bi[e];if(!kl[e])return e;var t=kl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Du)return Bi[e]=t[a];return e}var Cu=Wa("animationend"),Ou=Wa("animationiteration"),Ru=Wa("animationstart"),cm=Wa("transitionrun"),dm=Wa("transitionstart"),fm=Wa("transitioncancel"),Yu=Wa("transitionend"),Uu=new Map,Gi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gi.push("scrollEnd");function Zt(e,t){Uu.set(e,t),Ka(t,[e])}var dn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rt=[],Nl=0,Li=0;function fn(){for(var e=Nl,t=Li=Nl=0;t<e;){var a=Rt[t];Rt[t++]=null;var l=Rt[t];Rt[t++]=null;var s=Rt[t];Rt[t++]=null;var n=Rt[t];if(Rt[t++]=null,l!==null&&s!==null){var r=l.pending;r===null?s.next=s:(s.next=r.next,r.next=s),l.pending=s}n!==0&&Hu(a,s,n)}}function hn(e,t,a,l){Rt[Nl++]=e,Rt[Nl++]=t,Rt[Nl++]=a,Rt[Nl++]=l,Li|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ii(e,t,a,l){return hn(e,t,a,l),mn(e)}function el(e,t){return hn(e,null,null,t),mn(e)}function Hu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var s=!1,n=e.return;n!==null;)n.childLanes|=a,l=n.alternate,l!==null&&(l.childLanes|=a),n.tag===22&&(e=n.stateNode,e===null||e._visibility&1||(s=!0)),e=n,n=n.return;return e.tag===3?(n=e.stateNode,s&&t!==null&&(s=31-kt(a),e=n.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=a|536870912),n):null}function mn(e){if(50<Cs)throw Cs=0,Jr=null,Error(f(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ml={};function hm(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,a,l){return new hm(e,t,a,l)}function Zi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ia(e,t){var a=e.alternate;return a===null?(a=Mt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yn(e,t,a,l,s,n){var r=0;if(l=e,typeof e=="function")Zi(e)&&(r=1);else if(typeof e=="string")r=by(e,a,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ke:return e=Mt(31,a,t,s),e.elementType=ke,e.lanes=n,e;case Ae:return tl(a.children,s,n,t);case ft:r=8,s|=24;break;case st:return e=Mt(12,a,t,s|2),e.elementType=st,e.lanes=n,e;case O:return e=Mt(13,a,t,s),e.elementType=O,e.lanes=n,e;case F:return e=Mt(19,a,t,s),e.elementType=F,e.lanes=n,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g:r=10;break e;case mt:r=9;break e;case w:r=11;break e;case B:r=14;break e;case Z:r=16,l=null;break e}r=29,a=Error(f(130,e===null?"null":typeof e,"")),l=null}return t=Mt(r,a,t,s),t.elementType=e,t.type=l,t.lanes=n,t}function tl(e,t,a,l){return e=Mt(7,e,l,t),e.lanes=a,e}function Xi(e,t,a){return e=Mt(6,e,null,t),e.lanes=a,e}function Gu(e){var t=Mt(18,null,null,0);return t.stateNode=e,t}function Qi(e,t,a){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Lu=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var a=Lu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_(t)},Lu.set(e,t),t)}return{value:e,source:t,stack:_(t)}}var Tl=[],zl=0,pn=null,hs=0,Ut=[],Ht=0,ka=null,Kt=1,$t="";function ra(e,t){Tl[zl++]=hs,Tl[zl++]=pn,pn=e,hs=t}function Iu(e,t,a){Ut[Ht++]=Kt,Ut[Ht++]=$t,Ut[Ht++]=ka,ka=e;var l=Kt;e=$t;var s=32-kt(l)-1;l&=~(1<<s),a+=1;var n=32-kt(t)+s;if(30<n){var r=s-s%5;n=(l&(1<<r)-1).toString(32),l>>=r,s-=r,Kt=1<<32-kt(t)+s|a<<s|l,$t=n+e}else Kt=1<<n|a<<s|l,$t=e}function Vi(e){e.return!==null&&(ra(e,1),Iu(e,1,0))}function Fi(e){for(;e===pn;)pn=Tl[--zl],Tl[zl]=null,hs=Tl[--zl],Tl[zl]=null;for(;e===ka;)ka=Ut[--Ht],Ut[Ht]=null,$t=Ut[--Ht],Ut[Ht]=null,Kt=Ut[--Ht],Ut[Ht]=null}function Zu(e,t){Ut[Ht++]=Kt,Ut[Ht++]=$t,Ut[Ht++]=ka,Kt=t.id,$t=t.overflow,ka=e}var rt=null,Ce=null,ye=!1,Na=null,Bt=!1,Pi=Error(f(519));function Ma(e){var t=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ms(Yt(t,e)),Pi}function Xu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[it]=e,t[pt]=l,a){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(a=0;a<Rs.length;a++)de(Rs[a],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),su(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),iu(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||uf(t.textContent,a)?(l.popover!=null&&(de("beforetoggle",t),de("toggle",t)),l.onScroll!=null&&de("scroll",t),l.onScrollEnd!=null&&de("scrollend",t),l.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||Ma(e,!0)}function Qu(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:rt=rt.return}}function ql(e){if(e!==rt)return!1;if(!ye)return Qu(e),ye=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||mo(e.type,e.memoizedProps)),a=!a),a&&Ce&&Ma(e),Qu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Ce=bf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Ce=bf(e)}else t===27?(t=Ce,Ga(e.type)?(e=_o,_o=null,Ce=e):Ce=t):Ce=rt?Lt(e.stateNode.nextSibling):null;return!0}function al(){Ce=rt=null,ye=!1}function Ki(){var e=Na;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Na=null),e}function ms(e){Na===null?Na=[e]:Na.push(e)}var $i=y(null),ll=null,oa=null;function Ta(e,t,a){C($i,t._currentValue),t._currentValue=a}function ua(e){e._currentValue=$i.current,S($i)}function Ji(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Wi(e,t,a,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var n=s.dependencies;if(n!==null){var r=s.child;n=n.firstContext;e:for(;n!==null;){var c=n;n=s;for(var m=0;m<t.length;m++)if(c.context===t[m]){n.lanes|=a,c=n.alternate,c!==null&&(c.lanes|=a),Ji(n.return,a,e),l||(r=null);break e}n=c.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(f(341));r.lanes|=a,n=r.alternate,n!==null&&(n.lanes|=a),Ji(r,a,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function jl(e,t,a,l){e=null;for(var s=t,n=!1;s!==null;){if(!n){if((s.flags&524288)!==0)n=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(f(387));if(r=r.memoizedProps,r!==null){var c=s.type;Nt(s.pendingProps.value,r.value)||(e!==null?e.push(c):e=[c])}}else if(s===ue.current){if(r=s.alternate,r===null)throw Error(f(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Gs):e=[Gs])}s=s.return}e!==null&&Wi(t,e,a,l),t.flags|=262144}function gn(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sl(e){ll=e,oa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Vu(ll,e)}function bn(e,t){return ll===null&&sl(e),Vu(e,t)}function Vu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},oa===null){if(e===null)throw Error(f(308));oa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oa=oa.next=t;return a}var mm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ym=i.unstable_scheduleCallback,pm=i.unstable_NormalPriority,Xe={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function er(){return{controller:new mm,data:new Map,refCount:0}}function ys(e){e.refCount--,e.refCount===0&&ym(pm,function(){e.controller.abort()})}var ps=null,tr=0,El=0,Dl=null;function gm(e,t){if(ps===null){var a=ps=[];tr=0,El=so(),Dl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return tr++,t.then(Fu,Fu),t}function Fu(){if(--tr===0&&ps!==null){Dl!==null&&(Dl.status="fulfilled");var e=ps;ps=null,El=0,Dl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bm(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var Pu=h.S;h.S=function(e,t){Ed=Ue(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gm(e,t),Pu!==null&&Pu(e,t)};var nl=y(null);function ar(){var e=nl.current;return e!==null?e:qe.pooledCache}function _n(e,t){t===null?C(nl,nl.current):C(nl,t.pool)}function Ku(){var e=ar();return e===null?null:{parent:Xe._currentValue,pool:e}}var Cl=Error(f(460)),lr=Error(f(474)),vn=Error(f(542)),xn={then:function(){}};function $u(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ju(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(sa,sa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ec(e),e;default:if(typeof t.status=="string")t.then(sa,sa);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ec(e),e}throw rl=t,Cl}}function il(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(rl=a,Cl):a}}var rl=null;function Wu(){if(rl===null)throw Error(f(459));var e=rl;return rl=null,e}function ec(e){if(e===Cl||e===vn)throw Error(f(483))}var Ol=null,gs=0;function wn(e){var t=gs;return gs+=1,Ol===null&&(Ol=[]),Ju(Ol,e,t)}function bs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sn(e,t){throw t.$$typeof===fe?Error(f(525)):(e=Object.prototype.toString.call(t),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function tc(e){function t(b,p){if(e){var v=b.deletions;v===null?(b.deletions=[p],b.flags|=16):v.push(p)}}function a(b,p){if(!e)return null;for(;p!==null;)t(b,p),p=p.sibling;return null}function l(b){for(var p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function s(b,p){return b=ia(b,p),b.index=0,b.sibling=null,b}function n(b,p,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<p?(b.flags|=67108866,p):v):(b.flags|=67108866,p)):(b.flags|=1048576,p)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function c(b,p,v,j){return p===null||p.tag!==6?(p=Xi(v,b.mode,j),p.return=b,p):(p=s(p,v),p.return=b,p)}function m(b,p,v,j){var P=v.type;return P===Ae?T(b,p,v.props.children,j,v.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Z&&il(P)===p.type)?(p=s(p,v.props),bs(p,v),p.return=b,p):(p=yn(v.type,v.key,v.props,null,b.mode,j),bs(p,v),p.return=b,p)}function x(b,p,v,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Qi(v,b.mode,j),p.return=b,p):(p=s(p,v.children||[]),p.return=b,p)}function T(b,p,v,j,P){return p===null||p.tag!==7?(p=tl(v,b.mode,j,P),p.return=b,p):(p=s(p,v),p.return=b,p)}function E(b,p,v){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Xi(""+p,b.mode,v),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ke:return v=yn(p.type,p.key,p.props,null,b.mode,v),bs(v,p),v.return=b,v;case $e:return p=Qi(p,b.mode,v),p.return=b,p;case Z:return p=il(p),E(b,p,v)}if(re(p)||W(p))return p=tl(p,b.mode,v,null),p.return=b,p;if(typeof p.then=="function")return E(b,wn(p),v);if(p.$$typeof===g)return E(b,bn(b,p),v);Sn(b,p)}return null}function A(b,p,v,j){var P=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return P!==null?null:c(b,p,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ke:return v.key===P?m(b,p,v,j):null;case $e:return v.key===P?x(b,p,v,j):null;case Z:return v=il(v),A(b,p,v,j)}if(re(v)||W(v))return P!==null?null:T(b,p,v,j,null);if(typeof v.then=="function")return A(b,p,wn(v),j);if(v.$$typeof===g)return A(b,p,bn(b,v),j);Sn(b,v)}return null}function N(b,p,v,j,P){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return b=b.get(v)||null,c(p,b,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ke:return b=b.get(j.key===null?v:j.key)||null,m(p,b,j,P);case $e:return b=b.get(j.key===null?v:j.key)||null,x(p,b,j,P);case Z:return j=il(j),N(b,p,v,j,P)}if(re(j)||W(j))return b=b.get(v)||null,T(p,b,j,P,null);if(typeof j.then=="function")return N(b,p,v,wn(j),P);if(j.$$typeof===g)return N(b,p,v,bn(p,j),P);Sn(p,j)}return null}function I(b,p,v,j){for(var P=null,be=null,X=p,ie=p=0,me=null;X!==null&&ie<v.length;ie++){X.index>ie?(me=X,X=null):me=X.sibling;var _e=A(b,X,v[ie],j);if(_e===null){X===null&&(X=me);break}e&&X&&_e.alternate===null&&t(b,X),p=n(_e,p,ie),be===null?P=_e:be.sibling=_e,be=_e,X=me}if(ie===v.length)return a(b,X),ye&&ra(b,ie),P;if(X===null){for(;ie<v.length;ie++)X=E(b,v[ie],j),X!==null&&(p=n(X,p,ie),be===null?P=X:be.sibling=X,be=X);return ye&&ra(b,ie),P}for(X=l(X);ie<v.length;ie++)me=N(X,b,ie,v[ie],j),me!==null&&(e&&me.alternate!==null&&X.delete(me.key===null?ie:me.key),p=n(me,p,ie),be===null?P=me:be.sibling=me,be=me);return e&&X.forEach(function(Qa){return t(b,Qa)}),ye&&ra(b,ie),P}function K(b,p,v,j){if(v==null)throw Error(f(151));for(var P=null,be=null,X=p,ie=p=0,me=null,_e=v.next();X!==null&&!_e.done;ie++,_e=v.next()){X.index>ie?(me=X,X=null):me=X.sibling;var Qa=A(b,X,_e.value,j);if(Qa===null){X===null&&(X=me);break}e&&X&&Qa.alternate===null&&t(b,X),p=n(Qa,p,ie),be===null?P=Qa:be.sibling=Qa,be=Qa,X=me}if(_e.done)return a(b,X),ye&&ra(b,ie),P;if(X===null){for(;!_e.done;ie++,_e=v.next())_e=E(b,_e.value,j),_e!==null&&(p=n(_e,p,ie),be===null?P=_e:be.sibling=_e,be=_e);return ye&&ra(b,ie),P}for(X=l(X);!_e.done;ie++,_e=v.next())_e=N(X,b,ie,_e.value,j),_e!==null&&(e&&_e.alternate!==null&&X.delete(_e.key===null?ie:_e.key),p=n(_e,p,ie),be===null?P=_e:be.sibling=_e,be=_e);return e&&X.forEach(function(zy){return t(b,zy)}),ye&&ra(b,ie),P}function Te(b,p,v,j){if(typeof v=="object"&&v!==null&&v.type===Ae&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ke:e:{for(var P=v.key;p!==null;){if(p.key===P){if(P=v.type,P===Ae){if(p.tag===7){a(b,p.sibling),j=s(p,v.props.children),j.return=b,b=j;break e}}else if(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Z&&il(P)===p.type){a(b,p.sibling),j=s(p,v.props),bs(j,v),j.return=b,b=j;break e}a(b,p);break}else t(b,p);p=p.sibling}v.type===Ae?(j=tl(v.props.children,b.mode,j,v.key),j.return=b,b=j):(j=yn(v.type,v.key,v.props,null,b.mode,j),bs(j,v),j.return=b,b=j)}return r(b);case $e:e:{for(P=v.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){a(b,p.sibling),j=s(p,v.children||[]),j.return=b,b=j;break e}else{a(b,p);break}else t(b,p);p=p.sibling}j=Qi(v,b.mode,j),j.return=b,b=j}return r(b);case Z:return v=il(v),Te(b,p,v,j)}if(re(v))return I(b,p,v,j);if(W(v)){if(P=W(v),typeof P!="function")throw Error(f(150));return v=P.call(v),K(b,p,v,j)}if(typeof v.then=="function")return Te(b,p,wn(v),j);if(v.$$typeof===g)return Te(b,p,bn(b,v),j);Sn(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,p!==null&&p.tag===6?(a(b,p.sibling),j=s(p,v),j.return=b,b=j):(a(b,p),j=Xi(v,b.mode,j),j.return=b,b=j),r(b)):a(b,p)}return function(b,p,v,j){try{gs=0;var P=Te(b,p,v,j);return Ol=null,P}catch(X){if(X===Cl||X===vn)throw X;var be=Mt(29,X,null,b.mode);return be.lanes=j,be.return=b,be}finally{}}}var ol=tc(!0),ac=tc(!1),za=!1;function sr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ja(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ve&2)!==0){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=mn(e),Hu(e,null,a),t}return hn(e,l,t,a),mn(e)}function _s(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Vo(e,a)}}function ir(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,n=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};n===null?s=n=r:n=n.next=r,a=a.next}while(a!==null);n===null?s=n=t:n=n.next=t}else s=n=t;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:n,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var rr=!1;function vs(){if(rr){var e=Dl;if(e!==null)throw e}}function xs(e,t,a,l){rr=!1;var s=e.updateQueue;za=!1;var n=s.firstBaseUpdate,r=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var m=c,x=m.next;m.next=null,r===null?n=x:r.next=x,r=m;var T=e.alternate;T!==null&&(T=T.updateQueue,c=T.lastBaseUpdate,c!==r&&(c===null?T.firstBaseUpdate=x:c.next=x,T.lastBaseUpdate=m))}if(n!==null){var E=s.baseState;r=0,T=x=m=null,c=n;do{var A=c.lane&-536870913,N=A!==c.lane;if(N?(he&A)===A:(l&A)===A){A!==0&&A===El&&(rr=!0),T!==null&&(T=T.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var I=e,K=c;A=t;var Te=a;switch(K.tag){case 1:if(I=K.payload,typeof I=="function"){E=I.call(Te,E,A);break e}E=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=K.payload,A=typeof I=="function"?I.call(Te,E,A):I,A==null)break e;E=V({},E,A);break e;case 2:za=!0}}A=c.callback,A!==null&&(e.flags|=64,N&&(e.flags|=8192),N=s.callbacks,N===null?s.callbacks=[A]:N.push(A))}else N={lane:A,tag:c.tag,payload:c.payload,callback:c.callback,next:null},T===null?(x=T=N,m=E):T=T.next=N,r|=A;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;N=c,c=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(!0);T===null&&(m=E),s.baseState=m,s.firstBaseUpdate=x,s.lastBaseUpdate=T,n===null&&(s.shared.lanes=0),Ra|=r,e.lanes=r,e.memoizedState=E}}function lc(e,t){if(typeof e!="function")throw Error(f(191,e));e.call(t)}function sc(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lc(a[e],t)}var Rl=y(null),An=y(0);function nc(e,t){e=ba,C(An,e),C(Rl,t),ba=e|t.baseLanes}function or(){C(An,ba),C(Rl,Rl.current)}function ur(){ba=An.current,S(Rl),S(An)}var Tt=y(null),Gt=null;function Ea(e){var t=e.alternate;C(Le,Le.current&1),C(Tt,e),Gt===null&&(t===null||Rl.current!==null||t.memoizedState!==null)&&(Gt=e)}function cr(e){C(Le,Le.current),C(Tt,e),Gt===null&&(Gt=e)}function ic(e){e.tag===22?(C(Le,Le.current),C(Tt,e),Gt===null&&(Gt=e)):Da()}function Da(){C(Le,Le.current),C(Tt,Tt.current)}function zt(e){S(Tt),Gt===e&&(Gt=null),S(Le)}var Le=y(0);function kn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||go(a)||bo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=0,se=null,Ne=null,Qe=null,Nn=!1,Yl=!1,ul=!1,Mn=0,ws=0,Ul=null,_m=0;function Be(){throw Error(f(321))}function dr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Nt(e[a],t[a]))return!1;return!0}function fr(e,t,a,l,s,n){return ca=n,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,h.H=e===null||e.memoizedState===null?Ic:Mr,ul=!1,n=a(l,s),ul=!1,Yl&&(n=oc(t,a,l,s)),rc(e),n}function rc(e){h.H=ks;var t=Ne!==null&&Ne.next!==null;if(ca=0,Qe=Ne=se=null,Nn=!1,ws=0,Ul=null,t)throw Error(f(300));e===null||Ve||(e=e.dependencies,e!==null&&gn(e)&&(Ve=!0))}function oc(e,t,a,l){se=e;var s=0;do{if(Yl&&(Ul=null),ws=0,Yl=!1,25<=s)throw Error(f(301));if(s+=1,Qe=Ne=null,e.updateQueue!=null){var n=e.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,n.memoCache!=null&&(n.memoCache.index=0)}h.H=Zc,n=t(a,l)}while(Yl);return n}function vm(){var e=h.H,t=e.useState()[0];return t=typeof t.then=="function"?Ss(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(se.flags|=1024),t}function hr(){var e=Mn!==0;return Mn=0,e}function mr(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function yr(e){if(Nn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nn=!1}ca=0,Qe=Ne=se=null,Yl=!1,ws=Mn=0,Ul=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?se.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ie(){if(Ne===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Qe===null?se.memoizedState:Qe.next;if(t!==null)Qe=t,Ne=e;else{if(e===null)throw se.alternate===null?Error(f(467)):Error(f(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Qe===null?se.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Tn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ss(e){var t=ws;return ws+=1,Ul===null&&(Ul=[]),e=Ju(Ul,e,t),t=se,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,h.H=t===null||t.memoizedState===null?Ic:Mr),e}function zn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ss(e);if(e.$$typeof===g)return ot(e)}throw Error(f(438,String(e)))}function pr(e){var t=null,a=se.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Tn(),se.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Re;return t.index++,a}function da(e,t){return typeof t=="function"?t(e):t}function qn(e){var t=Ie();return gr(t,Ne,e)}function gr(e,t,a){var l=e.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=a;var s=e.baseQueue,n=l.pending;if(n!==null){if(s!==null){var r=s.next;s.next=n.next,n.next=r}t.baseQueue=s=n,l.pending=null}if(n=e.baseState,s===null)e.memoizedState=n;else{t=s.next;var c=r=null,m=null,x=t,T=!1;do{var E=x.lane&-536870913;if(E!==x.lane?(he&E)===E:(ca&E)===E){var A=x.revertLane;if(A===0)m!==null&&(m=m.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),E===El&&(T=!0);else if((ca&A)===A){x=x.next,A===El&&(T=!0);continue}else E={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},m===null?(c=m=E,r=n):m=m.next=E,se.lanes|=A,Ra|=A;E=x.action,ul&&a(n,E),n=x.hasEagerState?x.eagerState:a(n,E)}else A={lane:E,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},m===null?(c=m=A,r=n):m=m.next=A,se.lanes|=E,Ra|=E;x=x.next}while(x!==null&&x!==t);if(m===null?r=n:m.next=c,!Nt(n,e.memoizedState)&&(Ve=!0,T&&(a=Dl,a!==null)))throw a;e.memoizedState=n,e.baseState=r,e.baseQueue=m,l.lastRenderedState=n}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function br(e){var t=Ie(),a=t.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=e;var l=a.dispatch,s=a.pending,n=t.memoizedState;if(s!==null){a.pending=null;var r=s=s.next;do n=e(n,r.action),r=r.next;while(r!==s);Nt(n,t.memoizedState)||(Ve=!0),t.memoizedState=n,t.baseQueue===null&&(t.baseState=n),a.lastRenderedState=n}return[n,l]}function uc(e,t,a){var l=se,s=Ie(),n=ye;if(n){if(a===void 0)throw Error(f(407));a=a()}else a=t();var r=!Nt((Ne||s).memoizedState,a);if(r&&(s.memoizedState=a,Ve=!0),s=s.queue,xr(fc.bind(null,l,s,e),[e]),s.getSnapshot!==t||r||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,Hl(9,{destroy:void 0},dc.bind(null,l,s,a,t),null),qe===null)throw Error(f(349));n||(ca&127)!==0||cc(l,t,a)}return a}function cc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=se.updateQueue,t===null?(t=Tn(),se.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function dc(e,t,a,l){t.value=a,t.getSnapshot=l,hc(t)&&mc(e)}function fc(e,t,a){return a(function(){hc(t)&&mc(e)})}function hc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Nt(e,a)}catch{return!0}}function mc(e){var t=el(e,2);t!==null&&wt(t,e,2)}function _r(e){var t=ht();if(typeof e=="function"){var a=e;if(e=a(),ul){wa(!0);try{a()}finally{wa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:e},t}function yc(e,t,a,l){return e.baseState=a,gr(e,Ne,typeof l=="function"?l:da)}function xm(e,t,a,l,s){if(Dn(e))throw Error(f(485));if(e=t.action,e!==null){var n={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){n.listeners.push(r)}};h.T!==null?a(!0):n.isTransition=!1,l(n),a=t.pending,a===null?(n.next=t.pending=n,pc(t,n)):(n.next=a.next,t.pending=a.next=n)}}function pc(e,t){var a=t.action,l=t.payload,s=e.state;if(t.isTransition){var n=h.T,r={};h.T=r;try{var c=a(s,l),m=h.S;m!==null&&m(r,c),gc(e,t,c)}catch(x){vr(e,t,x)}finally{n!==null&&r.types!==null&&(n.types=r.types),h.T=n}}else try{n=a(s,l),gc(e,t,n)}catch(x){vr(e,t,x)}}function gc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bc(e,t,l)},function(l){return vr(e,t,l)}):bc(e,t,a)}function bc(e,t,a){t.status="fulfilled",t.value=a,_c(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,pc(e,a)))}function vr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,_c(t),t=t.next;while(t!==l)}e.action=null}function _c(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vc(e,t){return t}function xc(e,t){if(ye){var a=qe.formState;if(a!==null){e:{var l=se;if(ye){if(Ce){t:{for(var s=Ce,n=Bt;s.nodeType!==8;){if(!n){s=null;break t}if(s=Lt(s.nextSibling),s===null){s=null;break t}}n=s.data,s=n==="F!"||n==="F"?s:null}if(s){Ce=Lt(s.nextSibling),l=s.data==="F!";break e}}Ma(l)}l=!1}l&&(t=a[0])}}return a=ht(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:t},a.queue=l,a=Bc.bind(null,se,l),l.dispatch=a,l=_r(!1),n=Nr.bind(null,se,!1,l.queue),l=ht(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,a=xm.bind(null,se,s,n,a),s.dispatch=a,l.memoizedState=e,[t,a,!1]}function wc(e){var t=Ie();return Sc(t,Ne,e)}function Sc(e,t,a){if(t=gr(e,t,vc)[0],e=qn(da)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ss(t)}catch(r){throw r===Cl?vn:r}else l=t;t=Ie();var s=t.queue,n=s.dispatch;return a!==t.memoizedState&&(se.flags|=2048,Hl(9,{destroy:void 0},wm.bind(null,s,a),null)),[l,n,e]}function wm(e,t){e.action=t}function Ac(e){var t=Ie(),a=Ne;if(a!==null)return Sc(t,a,e);Ie(),t=t.memoizedState,a=Ie();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Hl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=se.updateQueue,t===null&&(t=Tn(),se.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function kc(){return Ie().memoizedState}function jn(e,t,a,l){var s=ht();se.flags|=e,s.memoizedState=Hl(1|t,{destroy:void 0},a,l===void 0?null:l)}function En(e,t,a,l){var s=Ie();l=l===void 0?null:l;var n=s.memoizedState.inst;Ne!==null&&l!==null&&dr(l,Ne.memoizedState.deps)?s.memoizedState=Hl(t,n,a,l):(se.flags|=e,s.memoizedState=Hl(1|t,n,a,l))}function Nc(e,t){jn(8390656,8,e,t)}function xr(e,t){En(2048,8,e,t)}function Sm(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=Tn(),se.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Mc(e){var t=Ie().memoizedState;return Sm({ref:t,nextImpl:e}),function(){if((ve&2)!==0)throw Error(f(440));return t.impl.apply(void 0,arguments)}}function Tc(e,t){return En(4,2,e,t)}function zc(e,t){return En(4,4,e,t)}function qc(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jc(e,t,a){a=a!=null?a.concat([e]):null,En(4,4,qc.bind(null,t,e),a)}function wr(){}function Ec(e,t){var a=Ie();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&dr(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Dc(e,t){var a=Ie();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&dr(t,l[1]))return l[0];if(l=e(),ul){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[l,t],l}function Sr(e,t,a){return a===void 0||(ca&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Cd(),se.lanes|=e,Ra|=e,a)}function Cc(e,t,a,l){return Nt(a,t)?a:Rl.current!==null?(e=Sr(e,a,l),Nt(e,t)||(Ve=!0),e):(ca&42)===0||(ca&1073741824)!==0&&(he&261930)===0?(Ve=!0,e.memoizedState=a):(e=Cd(),se.lanes|=e,Ra|=e,t)}function Oc(e,t,a,l,s){var n=M.p;M.p=n!==0&&8>n?n:8;var r=h.T,c={};h.T=c,Nr(e,!1,t,a);try{var m=s(),x=h.S;if(x!==null&&x(c,m),m!==null&&typeof m=="object"&&typeof m.then=="function"){var T=bm(m,l);As(e,t,T,Et(e))}else As(e,t,l,Et(e))}catch(E){As(e,t,{then:function(){},status:"rejected",reason:E},Et())}finally{M.p=n,r!==null&&c.types!==null&&(r.types=c.types),h.T=r}}function Am(){}function Ar(e,t,a,l){if(e.tag!==5)throw Error(f(476));var s=Rc(e).queue;Oc(e,s,t,D,a===null?Am:function(){return Yc(e),a(l)})}function Rc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:D},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yc(e){var t=Rc(e);t.next===null&&(t=e.alternate.memoizedState),As(e,t.next.queue,{},Et())}function kr(){return ot(Gs)}function Uc(){return Ie().memoizedState}function Hc(){return Ie().memoizedState}function km(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Et();e=qa(a);var l=ja(t,e,a);l!==null&&(wt(l,t,a),_s(l,t,a)),t={cache:er()},e.payload=t;return}t=t.return}}function Nm(e,t,a){var l=Et();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dn(e)?Gc(t,a):(a=Ii(e,t,a,l),a!==null&&(wt(a,e,l),Lc(a,t,l)))}function Bc(e,t,a){var l=Et();As(e,t,a,l)}function As(e,t,a,l){var s={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dn(e))Gc(t,s);else{var n=e.alternate;if(e.lanes===0&&(n===null||n.lanes===0)&&(n=t.lastRenderedReducer,n!==null))try{var r=t.lastRenderedState,c=n(r,a);if(s.hasEagerState=!0,s.eagerState=c,Nt(c,r))return hn(e,t,s,0),qe===null&&fn(),!1}catch{}finally{}if(a=Ii(e,t,s,l),a!==null)return wt(a,e,l),Lc(a,t,l),!0}return!1}function Nr(e,t,a,l){if(l={lane:2,revertLane:so(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dn(e)){if(t)throw Error(f(479))}else t=Ii(e,a,l,2),t!==null&&wt(t,e,2)}function Dn(e){var t=e.alternate;return e===se||t!==null&&t===se}function Gc(e,t){Yl=Nn=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Lc(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Vo(e,a)}}var ks={readContext:ot,use:zn,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};ks.useEffectEvent=Be;var Ic={readContext:ot,use:zn,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Nc,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,jn(4194308,4,qc.bind(null,t,e),a)},useLayoutEffect:function(e,t){return jn(4194308,4,e,t)},useInsertionEffect:function(e,t){jn(4,2,e,t)},useMemo:function(e,t){var a=ht();t=t===void 0?null:t;var l=e();if(ul){wa(!0);try{e()}finally{wa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=ht();if(a!==void 0){var s=a(t);if(ul){wa(!0);try{a(t)}finally{wa(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=Nm.bind(null,se,e),[l.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=_r(e);var t=e.queue,a=Bc.bind(null,se,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:wr,useDeferredValue:function(e,t){var a=ht();return Sr(a,e,t)},useTransition:function(){var e=_r(!1);return e=Oc.bind(null,se,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=se,s=ht();if(ye){if(a===void 0)throw Error(f(407));a=a()}else{if(a=t(),qe===null)throw Error(f(349));(he&127)!==0||cc(l,t,a)}s.memoizedState=a;var n={value:a,getSnapshot:t};return s.queue=n,Nc(fc.bind(null,l,n,e),[e]),l.flags|=2048,Hl(9,{destroy:void 0},dc.bind(null,l,n,a,t),null),a},useId:function(){var e=ht(),t=qe.identifierPrefix;if(ye){var a=$t,l=Kt;a=(l&~(1<<32-kt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Mn++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=_m++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:kr,useFormState:xc,useActionState:xc,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Nr.bind(null,se,!0,a),a.dispatch=t,[e,t]},useMemoCache:pr,useCacheRefresh:function(){return ht().memoizedState=km.bind(null,se)},useEffectEvent:function(e){var t=ht(),a={impl:e};return t.memoizedState=a,function(){if((ve&2)!==0)throw Error(f(440));return a.impl.apply(void 0,arguments)}}},Mr={readContext:ot,use:zn,useCallback:Ec,useContext:ot,useEffect:xr,useImperativeHandle:jc,useInsertionEffect:Tc,useLayoutEffect:zc,useMemo:Dc,useReducer:qn,useRef:kc,useState:function(){return qn(da)},useDebugValue:wr,useDeferredValue:function(e,t){var a=Ie();return Cc(a,Ne.memoizedState,e,t)},useTransition:function(){var e=qn(da)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Ss(e),t]},useSyncExternalStore:uc,useId:Uc,useHostTransitionStatus:kr,useFormState:wc,useActionState:wc,useOptimistic:function(e,t){var a=Ie();return yc(a,Ne,e,t)},useMemoCache:pr,useCacheRefresh:Hc};Mr.useEffectEvent=Mc;var Zc={readContext:ot,use:zn,useCallback:Ec,useContext:ot,useEffect:xr,useImperativeHandle:jc,useInsertionEffect:Tc,useLayoutEffect:zc,useMemo:Dc,useReducer:br,useRef:kc,useState:function(){return br(da)},useDebugValue:wr,useDeferredValue:function(e,t){var a=Ie();return Ne===null?Sr(a,e,t):Cc(a,Ne.memoizedState,e,t)},useTransition:function(){var e=br(da)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Ss(e),t]},useSyncExternalStore:uc,useId:Uc,useHostTransitionStatus:kr,useFormState:Ac,useActionState:Ac,useOptimistic:function(e,t){var a=Ie();return Ne!==null?yc(a,Ne,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:pr,useCacheRefresh:Hc};Zc.useEffectEvent=Mc;function Tr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:V({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Et(),s=qa(l);s.payload=t,a!=null&&(s.callback=a),t=ja(e,s,l),t!==null&&(wt(t,e,l),_s(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Et(),s=qa(l);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=ja(e,s,l),t!==null&&(wt(t,e,l),_s(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Et(),l=qa(a);l.tag=2,t!=null&&(l.callback=t),t=ja(e,l,a),t!==null&&(wt(t,e,a),_s(t,e,a))}};function Xc(e,t,a,l,s,n,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,n,r):t.prototype&&t.prototype.isPureReactComponent?!ds(a,l)||!ds(s,n):!0}function Qc(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&zr.enqueueReplaceState(t,t.state,null)}function cl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=V({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Vc(e){dn(e)}function Fc(e){console.error(e)}function Pc(e){dn(e)}function Cn(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Kc(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function qr(e,t,a){return a=qa(a),a.tag=3,a.payload={element:null},a.callback=function(){Cn(e,t)},a}function $c(e){return e=qa(e),e.tag=3,e}function Jc(e,t,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var n=l.value;e.payload=function(){return s(n)},e.callback=function(){Kc(t,a,l)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Kc(t,a,l),typeof s!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var c=l.stack;this.componentDidCatch(l.value,{componentStack:c!==null?c:""})})}function Mm(e,t,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&jl(t,a,s,!0),a=Tt.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?Qn():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===xn?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),to(e,l,s)),!1;case 22:return a.flags|=65536,l===xn?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),to(e,l,s)),!1}throw Error(f(435,a.tag))}return to(e,l,s),Qn(),!1}if(ye)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==Pi&&(e=Error(f(422),{cause:l}),ms(Yt(e,a)))):(l!==Pi&&(t=Error(f(423),{cause:l}),ms(Yt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=Yt(l,a),s=qr(e.stateNode,l,s),ir(e,s),Ge!==4&&(Ge=2)),!1;var n=Error(f(520),{cause:l});if(n=Yt(n,a),Ds===null?Ds=[n]:Ds.push(n),Ge!==4&&(Ge=2),t===null)return!0;l=Yt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=qr(a.stateNode,l,e),ir(a,e),!1;case 1:if(t=a.type,n=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Ya===null||!Ya.has(n))))return a.flags|=65536,s&=-s,a.lanes|=s,s=$c(s),Jc(s,e,a,l),ir(a,s),!1}a=a.return}while(a!==null);return!1}var jr=Error(f(461)),Ve=!1;function ut(e,t,a,l){t.child=e===null?ac(t,null,a,l):ol(t,e.child,a,l)}function Wc(e,t,a,l,s){a=a.render;var n=t.ref;if("ref"in l){var r={};for(var c in l)c!=="ref"&&(r[c]=l[c])}else r=l;return sl(t),l=fr(e,t,a,r,n,s),c=hr(),e!==null&&!Ve?(mr(e,t,s),fa(e,t,s)):(ye&&c&&Vi(t),t.flags|=1,ut(e,t,l,s),t.child)}function ed(e,t,a,l,s){if(e===null){var n=a.type;return typeof n=="function"&&!Zi(n)&&n.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=n,td(e,t,n,l,s)):(e=yn(a.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(n=e.child,!Hr(e,s)){var r=n.memoizedProps;if(a=a.compare,a=a!==null?a:ds,a(r,l)&&e.ref===t.ref)return fa(e,t,s)}return t.flags|=1,e=ia(n,l),e.ref=t.ref,e.return=t,t.child=e}function td(e,t,a,l,s){if(e!==null){var n=e.memoizedProps;if(ds(n,l)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=l=n,Hr(e,s))(e.flags&131072)!==0&&(Ve=!0);else return t.lanes=e.lanes,fa(e,t,s)}return Er(e,t,a,l,s)}function ad(e,t,a,l){var s=l.children,n=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(n=n!==null?n.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~n}else l=0,t.child=null;return ld(e,t,n,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_n(t,n!==null?n.cachePool:null),n!==null?nc(t,n):or(),ic(t);else return l=t.lanes=536870912,ld(e,t,n!==null?n.baseLanes|a:a,a,l)}else n!==null?(_n(t,n.cachePool),nc(t,n),Da(),t.memoizedState=null):(e!==null&&_n(t,null),or(),Da());return ut(e,t,s,a),t.child}function Ns(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ld(e,t,a,l,s){var n=ar();return n=n===null?null:{parent:Xe._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&_n(t,null),or(),ic(t),e!==null&&jl(e,t,l,!0),t.childLanes=s,null}function On(e,t){return t=Yn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function sd(e,t,a){return ol(t,e.child,null,a),e=On(t,t.pendingProps),e.flags|=2,zt(t),t.memoizedState=null,e}function Tm(e,t,a){var l=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(l.mode==="hidden")return e=On(t,l),t.lanes=536870912,Ns(null,e);if(cr(t),(e=Ce)?(e=gf(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ka!==null?{id:Kt,overflow:$t}:null,retryLane:536870912,hydrationErrors:null},a=Gu(e),a.return=t,t.child=a,rt=t,Ce=null)):e=null,e===null)throw Ma(t);return t.lanes=536870912,null}return On(t,l)}var n=e.memoizedState;if(n!==null){var r=n.dehydrated;if(cr(t),s)if(t.flags&256)t.flags&=-257,t=sd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(f(558));else if(Ve||jl(e,t,a,!1),s=(a&e.childLanes)!==0,Ve||s){if(l=qe,l!==null&&(r=Fo(l,a),r!==0&&r!==n.retryLane))throw n.retryLane=r,el(e,r),wt(l,e,r),jr;Qn(),t=sd(e,t,a)}else e=n.treeContext,Ce=Lt(r.nextSibling),rt=t,ye=!0,Na=null,Bt=!1,e!==null&&Zu(t,e),t=On(t,l),t.flags|=4096;return t}return e=ia(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rn(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(f(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Er(e,t,a,l,s){return sl(t),a=fr(e,t,a,l,void 0,s),l=hr(),e!==null&&!Ve?(mr(e,t,s),fa(e,t,s)):(ye&&l&&Vi(t),t.flags|=1,ut(e,t,a,s),t.child)}function nd(e,t,a,l,s,n){return sl(t),t.updateQueue=null,a=oc(t,l,a,s),rc(e),l=hr(),e!==null&&!Ve?(mr(e,t,n),fa(e,t,n)):(ye&&l&&Vi(t),t.flags|=1,ut(e,t,a,n),t.child)}function id(e,t,a,l,s){if(sl(t),t.stateNode===null){var n=Ml,r=a.contextType;typeof r=="object"&&r!==null&&(n=ot(r)),n=new a(l,n),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=zr,t.stateNode=n,n._reactInternals=t,n=t.stateNode,n.props=l,n.state=t.memoizedState,n.refs={},sr(t),r=a.contextType,n.context=typeof r=="object"&&r!==null?ot(r):Ml,n.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(Tr(t,a,r,l),n.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&zr.enqueueReplaceState(n,n.state,null),xs(t,l,n,s),vs(),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){n=t.stateNode;var c=t.memoizedProps,m=cl(a,c);n.props=m;var x=n.context,T=a.contextType;r=Ml,typeof T=="object"&&T!==null&&(r=ot(T));var E=a.getDerivedStateFromProps;T=typeof E=="function"||typeof n.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,T||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(c||x!==r)&&Qc(t,n,l,r),za=!1;var A=t.memoizedState;n.state=A,xs(t,l,n,s),vs(),x=t.memoizedState,c||A!==x||za?(typeof E=="function"&&(Tr(t,a,E,l),x=t.memoizedState),(m=za||Xc(t,a,m,l,A,x,r))?(T||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(t.flags|=4194308)):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=x),n.props=l,n.state=x,n.context=r,l=m):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{n=t.stateNode,nr(e,t),r=t.memoizedProps,T=cl(a,r),n.props=T,E=t.pendingProps,A=n.context,x=a.contextType,m=Ml,typeof x=="object"&&x!==null&&(m=ot(x)),c=a.getDerivedStateFromProps,(x=typeof c=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(r!==E||A!==m)&&Qc(t,n,l,m),za=!1,A=t.memoizedState,n.state=A,xs(t,l,n,s),vs();var N=t.memoizedState;r!==E||A!==N||za||e!==null&&e.dependencies!==null&&gn(e.dependencies)?(typeof c=="function"&&(Tr(t,a,c,l),N=t.memoizedState),(T=za||Xc(t,a,T,l,A,N,m)||e!==null&&e.dependencies!==null&&gn(e.dependencies))?(x||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(l,N,m),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(l,N,m)),typeof n.componentDidUpdate=="function"&&(t.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof n.componentDidUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),n.props=l,n.state=N,n.context=m,l=T):(typeof n.componentDidUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),l=!1)}return n=l,Rn(e,t),l=(t.flags&128)!==0,n||l?(n=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:n.render(),t.flags|=1,e!==null&&l?(t.child=ol(t,e.child,null,s),t.child=ol(t,null,a,s)):ut(e,t,a,s),t.memoizedState=n.state,e=t.child):e=fa(e,t,s),e}function rd(e,t,a,l){return al(),t.flags|=256,ut(e,t,a,l),t.child}var Dr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cr(e){return{baseLanes:e,cachePool:Ku()}}function Or(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=jt),e}function od(e,t,a){var l=t.pendingProps,s=!1,n=(t.flags&128)!==0,r;if((r=n)||(r=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(s?Ea(t):Da(),(e=Ce)?(e=gf(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ka!==null?{id:Kt,overflow:$t}:null,retryLane:536870912,hydrationErrors:null},a=Gu(e),a.return=t,t.child=a,rt=t,Ce=null)):e=null,e===null)throw Ma(t);return bo(e)?t.lanes=32:t.lanes=536870912,null}var c=l.children;return l=l.fallback,s?(Da(),s=t.mode,c=Yn({mode:"hidden",children:c},s),l=tl(l,s,a,null),c.return=t,l.return=t,c.sibling=l,t.child=c,l=t.child,l.memoizedState=Cr(a),l.childLanes=Or(e,r,a),t.memoizedState=Dr,Ns(null,l)):(Ea(t),Rr(t,c))}var m=e.memoizedState;if(m!==null&&(c=m.dehydrated,c!==null)){if(n)t.flags&256?(Ea(t),t.flags&=-257,t=Yr(e,t,a)):t.memoizedState!==null?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),c=l.fallback,s=t.mode,l=Yn({mode:"visible",children:l.children},s),c=tl(c,s,a,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,ol(t,e.child,null,a),l=t.child,l.memoizedState=Cr(a),l.childLanes=Or(e,r,a),t.memoizedState=Dr,t=Ns(null,l));else if(Ea(t),bo(c)){if(r=c.nextSibling&&c.nextSibling.dataset,r)var x=r.dgst;r=x,l=Error(f(419)),l.stack="",l.digest=r,ms({value:l,source:null,stack:null}),t=Yr(e,t,a)}else if(Ve||jl(e,t,a,!1),r=(a&e.childLanes)!==0,Ve||r){if(r=qe,r!==null&&(l=Fo(r,a),l!==0&&l!==m.retryLane))throw m.retryLane=l,el(e,l),wt(r,e,l),jr;go(c)||Qn(),t=Yr(e,t,a)}else go(c)?(t.flags|=192,t.child=e.child,t=null):(e=m.treeContext,Ce=Lt(c.nextSibling),rt=t,ye=!0,Na=null,Bt=!1,e!==null&&Zu(t,e),t=Rr(t,l.children),t.flags|=4096);return t}return s?(Da(),c=l.fallback,s=t.mode,m=e.child,x=m.sibling,l=ia(m,{mode:"hidden",children:l.children}),l.subtreeFlags=m.subtreeFlags&65011712,x!==null?c=ia(x,c):(c=tl(c,s,a,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,Ns(null,l),l=t.child,c=e.child.memoizedState,c===null?c=Cr(a):(s=c.cachePool,s!==null?(m=Xe._currentValue,s=s.parent!==m?{parent:m,pool:m}:s):s=Ku(),c={baseLanes:c.baseLanes|a,cachePool:s}),l.memoizedState=c,l.childLanes=Or(e,r,a),t.memoizedState=Dr,Ns(e.child,l)):(Ea(t),a=e.child,e=a.sibling,a=ia(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function Rr(e,t){return t=Yn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yn(e,t){return e=Mt(22,e,null,t),e.lanes=0,e}function Yr(e,t,a){return ol(t,e.child,null,a),e=Rr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ud(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ji(e.return,t,a)}function Ur(e,t,a,l,s,n){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s,treeForkCount:n}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=s,r.treeForkCount=n)}function cd(e,t,a){var l=t.pendingProps,s=l.revealOrder,n=l.tail;l=l.children;var r=Le.current,c=(r&2)!==0;if(c?(r=r&1|2,t.flags|=128):r&=1,C(Le,r),ut(e,t,l,a),l=ye?hs:0,!c&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,a,t);else if(e.tag===19)ud(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&kn(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Ur(t,!1,s,a,n,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kn(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Ur(t,!0,a,null,n,l);break;case"together":Ur(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(jl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(f(153));if(t.child!==null){for(e=t.child,a=ia(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ia(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Hr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&gn(e)))}function zm(e,t,a){switch(t.tag){case 3:Ze(t,t.stateNode.containerInfo),Ta(t,Xe,e.memoizedState.cache),al();break;case 27:case 5:St(t);break;case 4:Ze(t,t.stateNode.containerInfo);break;case 10:Ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,cr(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ea(t),t.flags|=128,null):(a&t.child.childLanes)!==0?od(e,t,a):(Ea(t),e=fa(e,t,a),e!==null?e.sibling:null);Ea(t);break;case 19:var s=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(jl(e,t,a,!1),l=(a&t.childLanes)!==0),s){if(l)return cd(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),C(Le,Le.current),l)break;return null;case 22:return t.lanes=0,ad(e,t,a,t.pendingProps);case 24:Ta(t,Xe,e.memoizedState.cache)}return fa(e,t,a)}function dd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!Hr(e,a)&&(t.flags&128)===0)return Ve=!1,zm(e,t,a);Ve=(e.flags&131072)!==0}else Ve=!1,ye&&(t.flags&1048576)!==0&&Iu(t,hs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=il(t.elementType),t.type=e,typeof e=="function")Zi(e)?(l=cl(e,l),t.tag=1,t=id(null,t,e,l,a)):(t.tag=0,t=Er(null,t,e,l,a));else{if(e!=null){var s=e.$$typeof;if(s===w){t.tag=11,t=Wc(null,t,e,l,a);break e}else if(s===B){t.tag=14,t=ed(null,t,e,l,a);break e}}throw t=oe(e)||e,Error(f(306,t,""))}}return t;case 0:return Er(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,s=cl(l,t.pendingProps),id(e,t,l,s,a);case 3:e:{if(Ze(t,t.stateNode.containerInfo),e===null)throw Error(f(387));l=t.pendingProps;var n=t.memoizedState;s=n.element,nr(e,t),xs(t,l,null,a);var r=t.memoizedState;if(l=r.cache,Ta(t,Xe,l),l!==n.cache&&Wi(t,[Xe],a,!0),vs(),l=r.element,n.isDehydrated)if(n={element:l,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){t=rd(e,t,l,a);break e}else if(l!==s){s=Yt(Error(f(424)),t),ms(s),t=rd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ce=Lt(e.firstChild),rt=t,ye=!0,Na=null,Bt=!0,a=ac(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(al(),l===s){t=fa(e,t,a);break e}ut(e,t,l,a)}t=t.child}return t;case 26:return Rn(e,t),e===null?(a=Sf(t.type,null,t.pendingProps,null))?t.memoizedState=a:ye||(a=t.type,e=t.pendingProps,l=Wn(ae.current).createElement(a),l[it]=t,l[pt]=e,ct(l,a,e),at(l),t.stateNode=l):t.memoizedState=Sf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return St(t),e===null&&ye&&(l=t.stateNode=vf(t.type,t.pendingProps,ae.current),rt=t,Bt=!0,s=Ce,Ga(t.type)?(_o=s,Ce=Lt(l.firstChild)):Ce=s),ut(e,t,t.pendingProps.children,a),Rn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((s=l=Ce)&&(l=ny(l,t.type,t.pendingProps,Bt),l!==null?(t.stateNode=l,rt=t,Ce=Lt(l.firstChild),Bt=!1,s=!0):s=!1),s||Ma(t)),St(t),s=t.type,n=t.pendingProps,r=e!==null?e.memoizedProps:null,l=n.children,mo(s,n)?l=null:r!==null&&mo(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=fr(e,t,vm,null,null,a),Gs._currentValue=s),Rn(e,t),ut(e,t,l,a),t.child;case 6:return e===null&&ye&&((e=a=Ce)&&(a=iy(a,t.pendingProps,Bt),a!==null?(t.stateNode=a,rt=t,Ce=null,e=!0):e=!1),e||Ma(t)),null;case 13:return od(e,t,a);case 4:return Ze(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ol(t,null,l,a):ut(e,t,l,a),t.child;case 11:return Wc(e,t,t.type,t.pendingProps,a);case 7:return ut(e,t,t.pendingProps,a),t.child;case 8:return ut(e,t,t.pendingProps.children,a),t.child;case 12:return ut(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ta(t,t.type,l.value),ut(e,t,l.children,a),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,sl(t),s=ot(s),l=l(s),t.flags|=1,ut(e,t,l,a),t.child;case 14:return ed(e,t,t.type,t.pendingProps,a);case 15:return td(e,t,t.type,t.pendingProps,a);case 19:return cd(e,t,a);case 31:return Tm(e,t,a);case 22:return ad(e,t,a,t.pendingProps);case 24:return sl(t),l=ot(Xe),e===null?(s=ar(),s===null&&(s=qe,n=er(),s.pooledCache=n,n.refCount++,n!==null&&(s.pooledCacheLanes|=a),s=n),t.memoizedState={parent:l,cache:s},sr(t),Ta(t,Xe,s)):((e.lanes&a)!==0&&(nr(e,t),xs(t,null,null,a),vs()),s=e.memoizedState,n=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ta(t,Xe,l)):(l=n.cache,Ta(t,Xe,l),l!==s.cache&&Wi(t,[Xe],a,!0))),ut(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(f(156,t.tag))}function ha(e){e.flags|=4}function Br(e,t,a,l,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Ud())e.flags|=8192;else throw rl=xn,lr}else e.flags&=-16777217}function fd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tf(t))if(Ud())e.flags|=8192;else throw rl=xn,lr}function Un(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xo():536870912,e.lanes|=t,Il|=t)}function Ms(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function qm(e,t,a){var l=t.pendingProps;switch(Fi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ua(Xe),Ee(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ql(t)?ha(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ki())),Oe(t),null;case 26:var s=t.type,n=t.memoizedState;return e===null?(ha(t),n!==null?(Oe(t),fd(t,n)):(Oe(t),Br(t,s,null,l,a))):n?n!==e.memoizedState?(ha(t),Oe(t),fd(t,n)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ha(t),Oe(t),Br(t,s,e,l,a)),null;case 27:if(Va(t),a=ae.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(!l){if(t.stateNode===null)throw Error(f(166));return Oe(t),null}e=G.current,ql(t)?Xu(t):(e=vf(s,l,a),t.stateNode=e,ha(t))}return Oe(t),null;case 5:if(Va(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(!l){if(t.stateNode===null)throw Error(f(166));return Oe(t),null}if(n=G.current,ql(t))Xu(t);else{var r=Wn(ae.current);switch(n){case 1:n=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=r.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?r.createElement(s,{is:l.is}):r.createElement(s)}}n[it]=t,n[pt]=l;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=n;e:switch(ct(n,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ha(t)}}return Oe(t),Br(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ha(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(f(166));if(e=ae.current,ql(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,s=rt,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[it]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uf(e.nodeValue,a)),e||Ma(t,!0)}else e=Wn(e).createTextNode(l),e[it]=t,t.stateNode=e}return Oe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=ql(t),a!==null){if(e===null){if(!l)throw Error(f(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[it]=t}else al(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else a=Ki(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(zt(t),t):(zt(t),null);if((t.flags&128)!==0)throw Error(f(558))}return Oe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ql(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(f(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(f(317));s[it]=t}else al(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),s=!1}else s=Ki(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(zt(t),t):(zt(t),null)}return zt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==s&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Un(t,t.updateQueue),Oe(t),null);case 4:return Ee(),e===null&&oo(t.stateNode.containerInfo),Oe(t),null;case 10:return ua(t.type),Oe(t),null;case 19:if(S(Le),l=t.memoizedState,l===null)return Oe(t),null;if(s=(t.flags&128)!==0,n=l.rendering,n===null)if(s)Ms(l,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(n=kn(e),n!==null){for(t.flags|=128,Ms(l,!1),e=n.updateQueue,t.updateQueue=e,Un(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Bu(a,e),a=a.sibling;return C(Le,Le.current&1|2),ye&&ra(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ue()>In&&(t.flags|=128,s=!0,Ms(l,!1),t.lanes=4194304)}else{if(!s)if(e=kn(n),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Un(t,e),Ms(l,!0),l.tail===null&&l.tailMode==="hidden"&&!n.alternate&&!ye)return Oe(t),null}else 2*Ue()-l.renderingStartTime>In&&a!==536870912&&(t.flags|=128,s=!0,Ms(l,!1),t.lanes=4194304);l.isBackwards?(n.sibling=t.child,t.child=n):(e=l.last,e!==null?e.sibling=n:t.child=n,l.last=n)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ue(),e.sibling=null,a=Le.current,C(Le,s?a&1|2:a&1),ye&&ra(t,l.treeForkCount),e):(Oe(t),null);case 22:case 23:return zt(t),ur(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),a=t.updateQueue,a!==null&&Un(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&S(nl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ua(Xe),Oe(t),null;case 25:return null;case 30:return null}throw Error(f(156,t.tag))}function jm(e,t){switch(Fi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(Xe),Ee(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Va(t),null;case 31:if(t.memoizedState!==null){if(zt(t),t.alternate===null)throw Error(f(340));al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(f(340));al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return S(Le),null;case 4:return Ee(),null;case 10:return ua(t.type),null;case 22:case 23:return zt(t),ur(),e!==null&&S(nl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ua(Xe),null;case 25:return null;default:return null}}function hd(e,t){switch(Fi(t),t.tag){case 3:ua(Xe),Ee();break;case 26:case 27:case 5:Va(t);break;case 4:Ee();break;case 31:t.memoizedState!==null&&zt(t);break;case 13:zt(t);break;case 19:S(Le);break;case 10:ua(t.type);break;case 22:case 23:zt(t),ur(),e!==null&&S(nl);break;case 24:ua(Xe)}}function Ts(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){l=void 0;var n=a.create,r=a.inst;l=n(),r.destroy=l}a=a.next}while(a!==s)}}catch(c){Se(t,t.return,c)}}function Ca(e,t,a){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){var r=l.inst,c=r.destroy;if(c!==void 0){r.destroy=void 0,s=t;var m=a,x=c;try{x()}catch(T){Se(s,m,T)}}}l=l.next}while(l!==n)}}catch(T){Se(t,t.return,T)}}function md(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{sc(t,a)}catch(l){Se(e,e.return,l)}}}function yd(e,t,a){a.props=cl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Se(e,t,l)}}function zs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(s){Se(e,t,s)}}function Jt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){Se(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Se(e,t,s)}else a.current=null}function pd(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){Se(e,e.return,s)}}function Gr(e,t,a){try{var l=e.stateNode;Wm(l,e.type,a,t),l[pt]=t}catch(s){Se(e,e.return,s)}}function gd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function Lr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ir(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=sa));else if(l!==4&&(l===27&&Ga(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ir(e,t,a),e=e.sibling;e!==null;)Ir(e,t,a),e=e.sibling}function Hn(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ga(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Hn(e,t,a),e=e.sibling;e!==null;)Hn(e,t,a),e=e.sibling}function bd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ct(t,l,a),t[it]=e,t[pt]=a}catch(n){Se(e,e.return,n)}}var ma=!1,Fe=!1,Zr=!1,_d=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Em(e,t){if(e=e.containerInfo,fo=ii,e=ju(e),Yi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,n=l.focusNode;l=l.focusOffset;try{a.nodeType,n.nodeType}catch{a=null;break e}var r=0,c=-1,m=-1,x=0,T=0,E=e,A=null;t:for(;;){for(var N;E!==a||s!==0&&E.nodeType!==3||(c=r+s),E!==n||l!==0&&E.nodeType!==3||(m=r+l),E.nodeType===3&&(r+=E.nodeValue.length),(N=E.firstChild)!==null;)A=E,E=N;for(;;){if(E===e)break t;if(A===a&&++x===s&&(c=r),A===n&&++T===l&&(m=r),(N=E.nextSibling)!==null)break;E=A,A=E.parentNode}E=N}a=c===-1||m===-1?null:{start:c,end:m}}else a=null}a=a||{start:0,end:0}}else a=null;for(ho={focusedElem:e,selectionRange:a},ii=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,n=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&n!==null){e=void 0,a=t,s=n.memoizedProps,n=n.memoizedState,l=a.stateNode;try{var I=cl(a.type,s);e=l.getSnapshotBeforeUpdate(I,n),l.__reactInternalSnapshotBeforeUpdate=e}catch(K){Se(a,a.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)po(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":po(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function vd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:pa(e,a),l&4&&Ts(5,a);break;case 1:if(pa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Se(a,a.return,r)}else{var s=cl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Se(a,a.return,r)}}l&64&&md(a),l&512&&zs(a,a.return);break;case 3:if(pa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{sc(e,t)}catch(r){Se(a,a.return,r)}}break;case 27:t===null&&l&4&&bd(a);case 26:case 5:pa(e,a),t===null&&l&4&&pd(a),l&512&&zs(a,a.return);break;case 12:pa(e,a);break;case 31:pa(e,a),l&4&&Sd(e,a);break;case 13:pa(e,a),l&4&&Ad(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Gm.bind(null,a),ry(e,a))));break;case 22:if(l=a.memoizedState!==null||ma,!l){t=t!==null&&t.memoizedState!==null||Fe,s=ma;var n=Fe;ma=l,(Fe=t)&&!n?ga(e,a,(a.subtreeFlags&8772)!==0):pa(e,a),ma=s,Fe=n}break;case 30:break;default:pa(e,a)}}function xd(e){var t=e.alternate;t!==null&&(e.alternate=null,xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,bt=!1;function ya(e,t,a){for(a=a.child;a!==null;)wd(e,t,a),a=a.sibling}function wd(e,t,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ge,a)}catch{}switch(a.tag){case 26:Fe||Jt(a,t),ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||Jt(a,t);var l=Ye,s=bt;Ga(a.type)&&(Ye=a.stateNode,bt=!1),ya(e,t,a),Us(a.stateNode),Ye=l,bt=s;break;case 5:Fe||Jt(a,t);case 6:if(l=Ye,s=bt,Ye=null,ya(e,t,a),Ye=l,bt=s,Ye!==null)if(bt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(n){Se(a,t,n)}else try{Ye.removeChild(a.stateNode)}catch(n){Se(a,t,n)}break;case 18:Ye!==null&&(bt?(e=Ye,yf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$l(e)):yf(Ye,a.stateNode));break;case 4:l=Ye,s=bt,Ye=a.stateNode.containerInfo,bt=!0,ya(e,t,a),Ye=l,bt=s;break;case 0:case 11:case 14:case 15:Ca(2,a,t),Fe||Ca(4,a,t),ya(e,t,a);break;case 1:Fe||(Jt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yd(a,t,l)),ya(e,t,a);break;case 21:ya(e,t,a);break;case 22:Fe=(l=Fe)||a.memoizedState!==null,ya(e,t,a),Fe=l;break;default:ya(e,t,a)}}function Sd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$l(e)}catch(a){Se(t,t.return,a)}}}function Ad(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$l(e)}catch(a){Se(t,t.return,a)}}function Dm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _d),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _d),t;default:throw Error(f(435,e.tag))}}function Bn(e,t){var a=Dm(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var s=Lm.bind(null,e,l);l.then(s,s)}})}function _t(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],n=e,r=t,c=r;e:for(;c!==null;){switch(c.tag){case 27:if(Ga(c.type)){Ye=c.stateNode,bt=!1;break e}break;case 5:Ye=c.stateNode,bt=!1;break e;case 3:case 4:Ye=c.stateNode.containerInfo,bt=!0;break e}c=c.return}if(Ye===null)throw Error(f(160));wd(n,r,s),Ye=null,bt=!1,n=s.alternate,n!==null&&(n.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}var Xt=null;function kd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),vt(e),l&4&&(Ca(3,e,e.return),Ts(3,e),Ca(5,e,e.return));break;case 1:_t(t,e),vt(e),l&512&&(Fe||a===null||Jt(a,a.return)),l&64&&ma&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=Xt;if(_t(t,e),vt(e),l&512&&(Fe||a===null||Jt(a,a.return)),l&4){var n=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":n=s.getElementsByTagName("title")[0],(!n||n[as]||n[it]||n.namespaceURI==="http://www.w3.org/2000/svg"||n.hasAttribute("itemprop"))&&(n=s.createElement(l),s.head.insertBefore(n,s.querySelector("head > title"))),ct(n,l,a),n[it]=e,at(n),l=n;break e;case"link":var r=Nf("link","href",s).get(l+(a.href||""));if(r){for(var c=0;c<r.length;c++)if(n=r[c],n.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&n.getAttribute("rel")===(a.rel==null?null:a.rel)&&n.getAttribute("title")===(a.title==null?null:a.title)&&n.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(c,1);break t}}n=s.createElement(l),ct(n,l,a),s.head.appendChild(n);break;case"meta":if(r=Nf("meta","content",s).get(l+(a.content||""))){for(c=0;c<r.length;c++)if(n=r[c],n.getAttribute("content")===(a.content==null?null:""+a.content)&&n.getAttribute("name")===(a.name==null?null:a.name)&&n.getAttribute("property")===(a.property==null?null:a.property)&&n.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&n.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(c,1);break t}}n=s.createElement(l),ct(n,l,a),s.head.appendChild(n);break;default:throw Error(f(468,l))}n[it]=e,at(n),l=n}e.stateNode=l}else Mf(s,e.type,e.stateNode);else e.stateNode=kf(s,l,e.memoizedProps);else n!==l?(n===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):n.count--,l===null?Mf(s,e.type,e.stateNode):kf(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gr(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(t,e),vt(e),l&512&&(Fe||a===null||Jt(a,a.return)),a!==null&&l&4&&Gr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(t,e),vt(e),l&512&&(Fe||a===null||Jt(a,a.return)),e.flags&32){s=e.stateNode;try{vl(s,"")}catch(I){Se(e,e.return,I)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,Gr(e,s,a!==null?a.memoizedProps:s)),l&1024&&(Zr=!0);break;case 6:if(_t(t,e),vt(e),l&4){if(e.stateNode===null)throw Error(f(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(I){Se(e,e.return,I)}}break;case 3:if(ai=null,s=Xt,Xt=ei(t.containerInfo),_t(t,e),Xt=s,vt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$l(t.containerInfo)}catch(I){Se(e,e.return,I)}Zr&&(Zr=!1,Nd(e));break;case 4:l=Xt,Xt=ei(e.stateNode.containerInfo),_t(t,e),vt(e),Xt=l;break;case 12:_t(t,e),vt(e);break;case 31:_t(t,e),vt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bn(e,l)));break;case 13:_t(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ln=Ue()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bn(e,l)));break;case 22:s=e.memoizedState!==null;var m=a!==null&&a.memoizedState!==null,x=ma,T=Fe;if(ma=x||s,Fe=T||m,_t(t,e),Fe=T,ma=x,vt(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||m||ma||Fe||dl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){m=a=t;try{if(n=m.stateNode,s)r=n.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{c=m.stateNode;var E=m.memoizedProps.style,A=E!=null&&E.hasOwnProperty("display")?E.display:null;c.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(I){Se(m,m.return,I)}}}else if(t.tag===6){if(a===null){m=t;try{m.stateNode.nodeValue=s?"":m.memoizedProps}catch(I){Se(m,m.return,I)}}}else if(t.tag===18){if(a===null){m=t;try{var N=m.stateNode;s?pf(N,!0):pf(m.stateNode,!1)}catch(I){Se(m,m.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bn(e,a))));break;case 19:_t(t,e),vt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bn(e,l)));break;case 30:break;case 21:break;default:_t(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(gd(l)){a=l;break}l=l.return}if(a==null)throw Error(f(160));switch(a.tag){case 27:var s=a.stateNode,n=Lr(e);Hn(e,n,s);break;case 5:var r=a.stateNode;a.flags&32&&(vl(r,""),a.flags&=-33);var c=Lr(e);Hn(e,c,r);break;case 3:case 4:var m=a.stateNode.containerInfo,x=Lr(e);Ir(e,x,m);break;default:throw Error(f(161))}}catch(T){Se(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Nd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function pa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vd(e,t.alternate,t),t=t.sibling}function dl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ca(4,t,t.return),dl(t);break;case 1:Jt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&yd(t,t.return,a),dl(t);break;case 27:Us(t.stateNode);case 26:case 5:Jt(t,t.return),dl(t);break;case 22:t.memoizedState===null&&dl(t);break;case 30:dl(t);break;default:dl(t)}e=e.sibling}}function ga(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,n=t,r=n.flags;switch(n.tag){case 0:case 11:case 15:ga(s,n,a),Ts(4,n);break;case 1:if(ga(s,n,a),l=n,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(x){Se(l,l.return,x)}if(l=n,s=l.updateQueue,s!==null){var c=l.stateNode;try{var m=s.shared.hiddenCallbacks;if(m!==null)for(s.shared.hiddenCallbacks=null,s=0;s<m.length;s++)lc(m[s],c)}catch(x){Se(l,l.return,x)}}a&&r&64&&md(n),zs(n,n.return);break;case 27:bd(n);case 26:case 5:ga(s,n,a),a&&l===null&&r&4&&pd(n),zs(n,n.return);break;case 12:ga(s,n,a);break;case 31:ga(s,n,a),a&&r&4&&Sd(s,n);break;case 13:ga(s,n,a),a&&r&4&&Ad(s,n);break;case 22:n.memoizedState===null&&ga(s,n,a),zs(n,n.return);break;case 30:break;default:ga(s,n,a)}t=t.sibling}}function Xr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ys(a))}function Qr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ys(e))}function Qt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Md(e,t,a,l),t=t.sibling}function Md(e,t,a,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,a,l),s&2048&&Ts(9,t);break;case 1:Qt(e,t,a,l);break;case 3:Qt(e,t,a,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ys(e)));break;case 12:if(s&2048){Qt(e,t,a,l),e=t.stateNode;try{var n=t.memoizedProps,r=n.id,c=n.onPostCommit;typeof c=="function"&&c(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(m){Se(t,t.return,m)}}else Qt(e,t,a,l);break;case 31:Qt(e,t,a,l);break;case 13:Qt(e,t,a,l);break;case 23:break;case 22:n=t.stateNode,r=t.alternate,t.memoizedState!==null?n._visibility&2?Qt(e,t,a,l):qs(e,t):n._visibility&2?Qt(e,t,a,l):(n._visibility|=2,Bl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Xr(r,t);break;case 24:Qt(e,t,a,l),s&2048&&Qr(t.alternate,t);break;default:Qt(e,t,a,l)}}function Bl(e,t,a,l,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var n=e,r=t,c=a,m=l,x=r.flags;switch(r.tag){case 0:case 11:case 15:Bl(n,r,c,m,s),Ts(8,r);break;case 23:break;case 22:var T=r.stateNode;r.memoizedState!==null?T._visibility&2?Bl(n,r,c,m,s):qs(n,r):(T._visibility|=2,Bl(n,r,c,m,s)),s&&x&2048&&Xr(r.alternate,r);break;case 24:Bl(n,r,c,m,s),s&&x&2048&&Qr(r.alternate,r);break;default:Bl(n,r,c,m,s)}t=t.sibling}}function qs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,s=l.flags;switch(l.tag){case 22:qs(a,l),s&2048&&Xr(l.alternate,l);break;case 24:qs(a,l),s&2048&&Qr(l.alternate,l);break;default:qs(a,l)}t=t.sibling}}var js=8192;function Gl(e,t,a){if(e.subtreeFlags&js)for(e=e.child;e!==null;)Td(e,t,a),e=e.sibling}function Td(e,t,a){switch(e.tag){case 26:Gl(e,t,a),e.flags&js&&e.memoizedState!==null&&_y(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:Gl(e,t,a);break;case 3:case 4:var l=Xt;Xt=ei(e.stateNode.containerInfo),Gl(e,t,a),Xt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=js,js=16777216,Gl(e,t,a),js=l):Gl(e,t,a));break;default:Gl(e,t,a)}}function zd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Es(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];lt=l,jd(l,e)}zd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qd(e),e=e.sibling}function qd(e){switch(e.tag){case 0:case 11:case 15:Es(e),e.flags&2048&&Ca(9,e,e.return);break;case 3:Es(e);break;case 12:Es(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Gn(e)):Es(e);break;default:Es(e)}}function Gn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];lt=l,jd(l,e)}zd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ca(8,t,t.return),Gn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Gn(t));break;default:Gn(t)}e=e.sibling}}function jd(e,t){for(;lt!==null;){var a=lt;switch(a.tag){case 0:case 11:case 15:Ca(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ys(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,lt=l;else e:for(a=e;lt!==null;){l=lt;var s=l.sibling,n=l.return;if(xd(l),l===a){lt=null;break e}if(s!==null){s.return=n,lt=s;break e}lt=n}}}var Cm={getCacheForType:function(e){var t=ot(Xe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ot(Xe).controller.signal}},Om=typeof WeakMap=="function"?WeakMap:Map,ve=0,qe=null,ce=null,he=0,we=0,qt=null,Oa=!1,Ll=!1,Vr=!1,ba=0,Ge=0,Ra=0,fl=0,Fr=0,jt=0,Il=0,Ds=null,xt=null,Pr=!1,Ln=0,Ed=0,In=1/0,Zn=null,Ya=null,We=0,Ua=null,Zl=null,_a=0,Kr=0,$r=null,Dd=null,Cs=0,Jr=null;function Et(){return(ve&2)!==0&&he!==0?he&-he:h.T!==null?so():Po()}function Cd(){if(jt===0)if((he&536870912)===0||ye){var e=$s;$s<<=1,($s&3932160)===0&&($s=262144),jt=e}else jt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),jt}function wt(e,t,a){(e===qe&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Xl(e,0),Ha(e,he,jt,!1)),ts(e,a),((ve&2)===0||e!==qe)&&(e===qe&&((ve&2)===0&&(fl|=a),Ge===4&&Ha(e,he,jt,!1)),Wt(e))}function Od(e,t,a){if((ve&6)!==0)throw Error(f(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||es(e,t),s=l?Um(e,t):eo(e,t,!0),n=l;do{if(s===0){Ll&&!l&&Ha(e,t,0,!1);break}else{if(a=e.current.alternate,n&&!Rm(a)){s=eo(e,t,!1),n=!1;continue}if(s===2){if(n=t,e.errorRecoveryDisabledLanes&n)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var c=e;s=Ds;var m=c.current.memoizedState.isDehydrated;if(m&&(Xl(c,r).flags|=256),r=eo(c,r,!1),r!==2){if(Vr&&!m){c.errorRecoveryDisabledLanes|=n,fl|=n,s=4;break e}n=xt,xt=s,n!==null&&(xt===null?xt=n:xt.push.apply(xt,n))}s=r}if(n=!1,s!==2)continue}}if(s===1){Xl(e,0),Ha(e,t,0,!0);break}e:{switch(l=e,n=s,n){case 0:case 1:throw Error(f(345));case 4:if((t&4194048)!==t)break;case 6:Ha(l,t,jt,!Oa);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(f(329))}if((t&62914560)===t&&(s=Ln+300-Ue(),10<s)){if(Ha(l,t,jt,!Oa),Ws(l,0,!0)!==0)break e;_a=t,l.timeoutHandle=hf(Rd.bind(null,l,a,xt,Zn,Pr,t,jt,fl,Il,Oa,n,"Throttled",-0,0),s);break e}Rd(l,a,xt,Zn,Pr,t,jt,fl,Il,Oa,n,null,-0,0)}}break}while(!0);Wt(e)}function Rd(e,t,a,l,s,n,r,c,m,x,T,E,A,N){if(e.timeoutHandle=-1,E=t.subtreeFlags,E&8192||(E&16785408)===16785408){E={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},Td(t,n,E);var I=(n&62914560)===n?Ln-Ue():(n&4194048)===n?Ed-Ue():0;if(I=vy(E,I),I!==null){_a=n,e.cancelPendingCommit=I(Zd.bind(null,e,t,n,a,l,s,r,c,m,T,E,null,A,N)),Ha(e,n,r,!x);return}}Zd(e,t,n,a,l,s,r,c,m)}function Rm(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],n=s.getSnapshot;s=s.value;try{if(!Nt(n(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ha(e,t,a,l){t&=~Fr,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var n=31-kt(s),r=1<<n;l[n]=-1,s&=~r}a!==0&&Qo(e,a,t)}function Xn(){return(ve&6)===0?(Os(0),!1):!0}function Wr(){if(ce!==null){if(we===0)var e=ce.return;else e=ce,oa=ll=null,yr(e),Ol=null,gs=0,e=ce;for(;e!==null;)hd(e.alternate,e),e=e.return;ce=null}}function Xl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ay(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_a=0,Wr(),qe=e,ce=a=ia(e.current,null),he=t,we=0,qt=null,Oa=!1,Ll=es(e,t),Vr=!1,Il=jt=Fr=fl=Ra=Ge=0,xt=Ds=null,Pr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-kt(l),n=1<<s;t|=e[s],l&=~n}return ba=t,fn(),a}function Yd(e,t){se=null,h.H=ks,t===Cl||t===vn?(t=Wu(),we=3):t===lr?(t=Wu(),we=4):we=t===jr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,ce===null&&(Ge=1,Cn(e,Yt(t,e.current)))}function Ud(){var e=Tt.current;return e===null?!0:(he&4194048)===he?Gt===null:(he&62914560)===he||(he&536870912)!==0?e===Gt:!1}function Hd(){var e=h.H;return h.H=ks,e===null?ks:e}function Bd(){var e=h.A;return h.A=Cm,e}function Qn(){Ge=4,Oa||(he&4194048)!==he&&Tt.current!==null||(Ll=!0),(Ra&134217727)===0&&(fl&134217727)===0||qe===null||Ha(qe,he,jt,!1)}function eo(e,t,a){var l=ve;ve|=2;var s=Hd(),n=Bd();(qe!==e||he!==t)&&(Zn=null,Xl(e,t)),t=!1;var r=Ge;e:do try{if(we!==0&&ce!==null){var c=ce,m=qt;switch(we){case 8:Wr(),r=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var x=we;if(we=0,qt=null,Ql(e,c,m,x),a&&Ll){r=0;break e}break;default:x=we,we=0,qt=null,Ql(e,c,m,x)}}Ym(),r=Ge;break}catch(T){Yd(e,T)}while(!0);return t&&e.shellSuspendCounter++,oa=ll=null,ve=l,h.H=s,h.A=n,ce===null&&(qe=null,he=0,fn()),r}function Ym(){for(;ce!==null;)Gd(ce)}function Um(e,t){var a=ve;ve|=2;var l=Hd(),s=Bd();qe!==e||he!==t?(Zn=null,In=Ue()+500,Xl(e,t)):Ll=es(e,t);e:do try{if(we!==0&&ce!==null){t=ce;var n=qt;t:switch(we){case 1:we=0,qt=null,Ql(e,t,n,1);break;case 2:case 9:if($u(n)){we=0,qt=null,Ld(t);break}t=function(){we!==2&&we!==9||qe!==e||(we=7),Wt(e)},n.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:$u(n)?(we=0,qt=null,Ld(t)):(we=0,qt=null,Ql(e,t,n,7));break;case 5:var r=null;switch(ce.tag){case 26:r=ce.memoizedState;case 5:case 27:var c=ce;if(r?Tf(r):c.stateNode.complete){we=0,qt=null;var m=c.sibling;if(m!==null)ce=m;else{var x=c.return;x!==null?(ce=x,Vn(x)):ce=null}break t}}we=0,qt=null,Ql(e,t,n,5);break;case 6:we=0,qt=null,Ql(e,t,n,6);break;case 8:Wr(),Ge=6;break e;default:throw Error(f(462))}}Hm();break}catch(T){Yd(e,T)}while(!0);return oa=ll=null,h.H=l,h.A=s,ve=a,ce!==null?0:(qe=null,he=0,fn(),Ge)}function Hm(){for(;ce!==null&&!De();)Gd(ce)}function Gd(e){var t=dd(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?Vn(e):ce=t}function Ld(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=nd(a,t,t.pendingProps,t.type,void 0,he);break;case 11:t=nd(a,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:yr(t);default:hd(a,t),t=ce=Bu(t,ba),t=dd(a,t,ba)}e.memoizedProps=e.pendingProps,t===null?Vn(e):ce=t}function Ql(e,t,a,l){oa=ll=null,yr(t),Ol=null,gs=0;var s=t.return;try{if(Mm(e,s,t,a,he)){Ge=1,Cn(e,Yt(a,e.current)),ce=null;return}}catch(n){if(s!==null)throw ce=s,n;Ge=1,Cn(e,Yt(a,e.current)),ce=null;return}t.flags&32768?(ye||l===1?e=!0:Ll||(he&536870912)!==0?e=!1:(Oa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Id(t,e)):Vn(t)}function Vn(e){var t=e;do{if((t.flags&32768)!==0){Id(t,Oa);return}e=t.return;var a=qm(t.alternate,t,ba);if(a!==null){ce=a;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);Ge===0&&(Ge=5)}function Id(e,t){do{var a=jm(e.alternate,e);if(a!==null){a.flags&=32767,ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=a}while(e!==null);Ge=6,ce=null}function Zd(e,t,a,l,s,n,r,c,m){e.cancelPendingCommit=null;do Fn();while(We!==0);if((ve&6)!==0)throw Error(f(327));if(t!==null){if(t===e.current)throw Error(f(177));if(n=t.lanes|t.childLanes,n|=Li,bh(e,a,n,r,c,m),e===qe&&(ce=qe=null,he=0),Zl=t,Ua=e,_a=a,Kr=n,$r=s,Dd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Im(yt,function(){return Pd(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=h.T,h.T=null,s=M.p,M.p=2,r=ve,ve|=4;try{Em(e,t,a)}finally{ve=r,M.p=s,h.T=l}}We=1,Xd(),Qd(),Vd()}}function Xd(){if(We===1){We=0;var e=Ua,t=Zl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=h.T,h.T=null;var l=M.p;M.p=2;var s=ve;ve|=4;try{kd(t,e);var n=ho,r=ju(e.containerInfo),c=n.focusedElem,m=n.selectionRange;if(r!==c&&c&&c.ownerDocument&&qu(c.ownerDocument.documentElement,c)){if(m!==null&&Yi(c)){var x=m.start,T=m.end;if(T===void 0&&(T=x),"selectionStart"in c)c.selectionStart=x,c.selectionEnd=Math.min(T,c.value.length);else{var E=c.ownerDocument||document,A=E&&E.defaultView||window;if(A.getSelection){var N=A.getSelection(),I=c.textContent.length,K=Math.min(m.start,I),Te=m.end===void 0?K:Math.min(m.end,I);!N.extend&&K>Te&&(r=Te,Te=K,K=r);var b=zu(c,K),p=zu(c,Te);if(b&&p&&(N.rangeCount!==1||N.anchorNode!==b.node||N.anchorOffset!==b.offset||N.focusNode!==p.node||N.focusOffset!==p.offset)){var v=E.createRange();v.setStart(b.node,b.offset),N.removeAllRanges(),K>Te?(N.addRange(v),N.extend(p.node,p.offset)):(v.setEnd(p.node,p.offset),N.addRange(v))}}}}for(E=[],N=c;N=N.parentNode;)N.nodeType===1&&E.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<E.length;c++){var j=E[c];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}ii=!!fo,ho=fo=null}finally{ve=s,M.p=l,h.T=a}}e.current=t,We=2}}function Qd(){if(We===2){We=0;var e=Ua,t=Zl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=h.T,h.T=null;var l=M.p;M.p=2;var s=ve;ve|=4;try{vd(e,t.alternate,t)}finally{ve=s,M.p=l,h.T=a}}We=3}}function Vd(){if(We===4||We===3){We=0,tt();var e=Ua,t=Zl,a=_a,l=Dd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,Zl=Ua=null,Fd(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ya=null),bi(a),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ge,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=h.T,s=M.p,M.p=2,h.T=null;try{for(var n=e.onRecoverableError,r=0;r<l.length;r++){var c=l[r];n(c.value,{componentStack:c.stack})}}finally{h.T=t,M.p=s}}(_a&3)!==0&&Fn(),Wt(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===Jr?Cs++:(Cs=0,Jr=e):Cs=0,Os(0)}}function Fd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ys(t)))}function Fn(){return Xd(),Qd(),Vd(),Pd()}function Pd(){if(We!==5)return!1;var e=Ua,t=Kr;Kr=0;var a=bi(_a),l=h.T,s=M.p;try{M.p=32>a?32:a,h.T=null,a=$r,$r=null;var n=Ua,r=_a;if(We=0,Zl=Ua=null,_a=0,(ve&6)!==0)throw Error(f(331));var c=ve;if(ve|=4,qd(n.current),Md(n,n.current,r,a),ve=c,Os(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ge,n)}catch{}return!0}finally{M.p=s,h.T=l,Fd(e,t)}}function Kd(e,t,a){t=Yt(a,t),t=qr(e.stateNode,t,2),e=ja(e,t,2),e!==null&&(ts(e,2),Wt(e))}function Se(e,t,a){if(e.tag===3)Kd(e,e,a);else for(;t!==null;){if(t.tag===3){Kd(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ya===null||!Ya.has(l))){e=Yt(a,e),a=$c(2),l=ja(t,a,2),l!==null&&(Jc(a,l,t,e),ts(l,2),Wt(l));break}}t=t.return}}function to(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Om;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(a)||(Vr=!0,s.add(a),e=Bm.bind(null,e,t,a),t.then(e,e))}function Bm(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(he&a)===a&&(Ge===4||Ge===3&&(he&62914560)===he&&300>Ue()-Ln?(ve&2)===0&&Xl(e,0):Fr|=a,Il===he&&(Il=0)),Wt(e)}function $d(e,t){t===0&&(t=Xo()),e=el(e,t),e!==null&&(ts(e,t),Wt(e))}function Gm(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),$d(e,a)}function Lm(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(f(314))}l!==null&&l.delete(t),$d(e,a)}function Im(e,t){return ne(e,t)}var Pn=null,Vl=null,ao=!1,Kn=!1,lo=!1,Ba=0;function Wt(e){e!==Vl&&e.next===null&&(Vl===null?Pn=Vl=e:Vl=Vl.next=e),Kn=!0,ao||(ao=!0,Xm())}function Os(e,t){if(!lo&&Kn){lo=!0;do for(var a=!1,l=Pn;l!==null;){if(e!==0){var s=l.pendingLanes;if(s===0)var n=0;else{var r=l.suspendedLanes,c=l.pingedLanes;n=(1<<31-kt(42|e)+1)-1,n&=s&~(r&~c),n=n&201326741?n&201326741|1:n?n|2:0}n!==0&&(a=!0,tf(l,n))}else n=he,n=Ws(l,l===qe?n:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(n&3)===0||es(l,n)||(a=!0,tf(l,n));l=l.next}while(a);lo=!1}}function Zm(){Jd()}function Jd(){Kn=ao=!1;var e=0;Ba!==0&&ty()&&(e=Ba);for(var t=Ue(),a=null,l=Pn;l!==null;){var s=l.next,n=Wd(l,t);n===0?(l.next=null,a===null?Pn=s:a.next=s,s===null&&(Vl=a)):(a=l,(e!==0||(n&3)!==0)&&(Kn=!0)),l=s}We!==0&&We!==5||Os(e),Ba!==0&&(Ba=0)}function Wd(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,n=e.pendingLanes&-62914561;0<n;){var r=31-kt(n),c=1<<r,m=s[r];m===-1?((c&a)===0||(c&l)!==0)&&(s[r]=gh(c,t)):m<=t&&(e.expiredLanes|=c),n&=~c}if(t=qe,a=he,a=Ws(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&le(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||es(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&le(l),bi(a)){case 2:case 8:a=xa;break;case 32:a=yt;break;case 268435456:a=Je;break;default:a=yt}return l=ef.bind(null,e),a=ne(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&le(l),e.callbackPriority=2,e.callbackNode=null,2}function ef(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Fn()&&e.callbackNode!==a)return null;var l=he;return l=Ws(e,e===qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Od(e,l,t),Wd(e,Ue()),e.callbackNode!=null&&e.callbackNode===a?ef.bind(null,e):null)}function tf(e,t){if(Fn())return null;Od(e,t,!0)}function Xm(){ly(function(){(ve&6)!==0?ne(Pt,Zm):Jd()})}function so(){if(Ba===0){var e=El;e===0&&(e=Ks,Ks<<=1,(Ks&261888)===0&&(Ks=256)),Ba=e}return Ba}function af(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ln(""+e)}function lf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Qm(e,t,a,l,s){if(t==="submit"&&a&&a.stateNode===s){var n=af((s[pt]||null).action),r=l.submitter;r&&(t=(t=r[pt]||null)?af(t.formAction):r.getAttribute("formAction"),t!==null&&(n=t,r=null));var c=new on("action","action",null,l,s);e.push({event:c,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ba!==0){var m=r?lf(s,r):new FormData(s);Ar(a,{pending:!0,data:m,method:s.method,action:n},null,m)}}else typeof n=="function"&&(c.preventDefault(),m=r?lf(s,r):new FormData(s),Ar(a,{pending:!0,data:m,method:s.method,action:n},n,m))},currentTarget:s}]})}}for(var no=0;no<Gi.length;no++){var io=Gi[no],Vm=io.toLowerCase(),Fm=io[0].toUpperCase()+io.slice(1);Zt(Vm,"on"+Fm)}Zt(Cu,"onAnimationEnd"),Zt(Ou,"onAnimationIteration"),Zt(Ru,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(cm,"onTransitionRun"),Zt(dm,"onTransitionStart"),Zt(fm,"onTransitionCancel"),Zt(Yu,"onTransitionEnd"),bl("onMouseEnter",["mouseout","mouseover"]),bl("onMouseLeave",["mouseout","mouseover"]),bl("onPointerEnter",["pointerout","pointerover"]),bl("onPointerLeave",["pointerout","pointerover"]),Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function sf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],s=l.event;l=l.listeners;e:{var n=void 0;if(t)for(var r=l.length-1;0<=r;r--){var c=l[r],m=c.instance,x=c.currentTarget;if(c=c.listener,m!==n&&s.isPropagationStopped())break e;n=c,s.currentTarget=x;try{n(s)}catch(T){dn(T)}s.currentTarget=null,n=m}else for(r=0;r<l.length;r++){if(c=l[r],m=c.instance,x=c.currentTarget,c=c.listener,m!==n&&s.isPropagationStopped())break e;n=c,s.currentTarget=x;try{n(s)}catch(T){dn(T)}s.currentTarget=null,n=m}}}}function de(e,t){var a=t[_i];a===void 0&&(a=t[_i]=new Set);var l=e+"__bubble";a.has(l)||(nf(t,e,2,!1),a.add(l))}function ro(e,t,a){var l=0;t&&(l|=4),nf(a,e,l,t)}var $n="_reactListening"+Math.random().toString(36).slice(2);function oo(e){if(!e[$n]){e[$n]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(Pm.has(a)||ro(a,!1,e),ro(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$n]||(t[$n]=!0,ro("selectionchange",!1,t))}}function nf(e,t,a,l){switch(Of(t)){case 2:var s=Sy;break;case 8:s=Ay;break;default:s=Ao}a=s.bind(null,t,a,e),s=void 0,!Ti||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function uo(e,t,a,l,s){var n=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var c=l.stateNode.containerInfo;if(c===s)break;if(r===4)for(r=l.return;r!==null;){var m=r.tag;if((m===3||m===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;c!==null;){if(r=yl(c),r===null)return;if(m=r.tag,m===5||m===6||m===26||m===27){l=n=r;continue e}c=c.parentNode}}l=l.return}cu(function(){var x=n,T=Ni(a),E=[];e:{var A=Uu.get(e);if(A!==void 0){var N=on,I=e;switch(e){case"keypress":if(nn(a)===0)break e;case"keydown":case"keyup":N=Lh;break;case"focusin":I="focus",N=Ei;break;case"focusout":I="blur",N=Ei;break;case"beforeblur":case"afterblur":N=Ei;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Xh;break;case Cu:case Ou:case Ru:N=Dh;break;case Yu:N=Vh;break;case"scroll":case"scrollend":N=Th;break;case"wheel":N=Ph;break;case"copy":case"cut":case"paste":N=Oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=yu;break;case"toggle":case"beforetoggle":N=$h}var K=(t&4)!==0,Te=!K&&(e==="scroll"||e==="scrollend"),b=K?A!==null?A+"Capture":null:A;K=[];for(var p=x,v;p!==null;){var j=p;if(v=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||v===null||b===null||(j=ss(p,b),j!=null&&K.push(Ys(p,j,v))),Te)break;p=p.return}0<K.length&&(A=new N(A,I,null,a,T),E.push({event:A,listeners:K}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",A&&a!==ki&&(I=a.relatedTarget||a.fromElement)&&(yl(I)||I[ml]))break e;if((N||A)&&(A=T.window===T?T:(A=T.ownerDocument)?A.defaultView||A.parentWindow:window,N?(I=a.relatedTarget||a.toElement,N=x,I=I?yl(I):null,I!==null&&(Te=z(I),K=I.tag,I!==Te||K!==5&&K!==27&&K!==6)&&(I=null)):(N=null,I=x),N!==I)){if(K=hu,j="onMouseLeave",b="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(K=yu,j="onPointerLeave",b="onPointerEnter",p="pointer"),Te=N==null?A:ls(N),v=I==null?A:ls(I),A=new K(j,p+"leave",N,a,T),A.target=Te,A.relatedTarget=v,j=null,yl(T)===x&&(K=new K(b,p+"enter",I,a,T),K.target=v,K.relatedTarget=Te,j=K),Te=j,N&&I)t:{for(K=Km,b=N,p=I,v=0,j=b;j;j=K(j))v++;j=0;for(var P=p;P;P=K(P))j++;for(;0<v-j;)b=K(b),v--;for(;0<j-v;)p=K(p),j--;for(;v--;){if(b===p||p!==null&&b===p.alternate){K=b;break t}b=K(b),p=K(p)}K=null}else K=null;N!==null&&rf(E,A,N,K,!1),I!==null&&Te!==null&&rf(E,Te,I,K,!0)}}e:{if(A=x?ls(x):window,N=A.nodeName&&A.nodeName.toLowerCase(),N==="select"||N==="input"&&A.type==="file")var be=Su;else if(xu(A))if(Au)be=rm;else{be=nm;var X=sm}else N=A.nodeName,!N||N.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?x&&Ai(x.elementType)&&(be=Su):be=im;if(be&&(be=be(e,x))){wu(E,be,a,T);break e}X&&X(e,A,x),e==="focusout"&&x&&A.type==="number"&&x.memoizedProps.value!=null&&Si(A,"number",A.value)}switch(X=x?ls(x):window,e){case"focusin":(xu(X)||X.contentEditable==="true")&&(Al=X,Ui=x,fs=null);break;case"focusout":fs=Ui=Al=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":Hi=!1,Eu(E,a,T);break;case"selectionchange":if(um)break;case"keydown":case"keyup":Eu(E,a,T)}var ie;if(Ci)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Sl?_u(e,a)&&(me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(pu&&a.locale!=="ko"&&(Sl||me!=="onCompositionStart"?me==="onCompositionEnd"&&Sl&&(ie=du()):(Aa=T,zi="value"in Aa?Aa.value:Aa.textContent,Sl=!0)),X=Jn(x,me),0<X.length&&(me=new mu(me,e,null,a,T),E.push({event:me,listeners:X}),ie?me.data=ie:(ie=vu(a),ie!==null&&(me.data=ie)))),(ie=Wh?em(e,a):tm(e,a))&&(me=Jn(x,"onBeforeInput"),0<me.length&&(X=new mu("onBeforeInput","beforeinput",null,a,T),E.push({event:X,listeners:me}),X.data=ie)),Qm(E,e,x,a,T)}sf(E,t)})}function Ys(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Jn(e,t){for(var a=t+"Capture",l=[];e!==null;){var s=e,n=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||n===null||(s=ss(e,a),s!=null&&l.unshift(Ys(e,s,n)),s=ss(e,t),s!=null&&l.push(Ys(e,s,n))),e.tag===3)return l;e=e.return}return[]}function Km(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rf(e,t,a,l,s){for(var n=t._reactName,r=[];a!==null&&a!==l;){var c=a,m=c.alternate,x=c.stateNode;if(c=c.tag,m!==null&&m===l)break;c!==5&&c!==26&&c!==27||x===null||(m=x,s?(x=ss(a,n),x!=null&&r.unshift(Ys(a,x,m))):s||(x=ss(a,n),x!=null&&r.push(Ys(a,x,m)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var $m=/\r\n?/g,Jm=/\u0000|\uFFFD/g;function of(e){return(typeof e=="string"?e:""+e).replace($m,`
`).replace(Jm,"")}function uf(e,t){return t=of(t),of(e)===t}function Me(e,t,a,l,s,n){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||vl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&vl(e,""+l);break;case"className":tn(e,"class",l);break;case"tabIndex":tn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tn(e,a,l);break;case"style":ou(e,l,n);break;case"data":if(t!=="object"){tn(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ln(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof n=="function"&&(a==="formAction"?(t!=="input"&&Me(e,t,"name",s.name,s,null),Me(e,t,"formEncType",s.formEncType,s,null),Me(e,t,"formMethod",s.formMethod,s,null),Me(e,t,"formTarget",s.formTarget,s,null)):(Me(e,t,"encType",s.encType,s,null),Me(e,t,"method",s.method,s,null),Me(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ln(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=sa);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(f(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(f(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ln(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":de("beforetoggle",e),de("toggle",e),en(e,"popover",l);break;case"xlinkActuate":la(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":la(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":la(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":la(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":la(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":la(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":la(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":la(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":la(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":en(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nh.get(a)||a,en(e,a,l))}}function co(e,t,a,l,s,n){switch(a){case"style":ou(e,l,n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(f(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(f(60));e.innerHTML=a}}break;case"children":typeof l=="string"?vl(e,l):(typeof l=="number"||typeof l=="bigint")&&vl(e,""+l);break;case"onScroll":l!=null&&de("scroll",e);break;case"onScrollEnd":l!=null&&de("scrollend",e);break;case"onClick":l!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),n=e[pt]||null,n=n!=null?n[a]:null,typeof n=="function"&&e.removeEventListener(t,n,s),typeof l=="function")){typeof n!="function"&&n!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,s);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):en(e,a,l)}}}function ct(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var l=!1,s=!1,n;for(n in a)if(a.hasOwnProperty(n)){var r=a[n];if(r!=null)switch(n){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Me(e,t,n,r,a,null)}}s&&Me(e,t,"srcSet",a.srcSet,a,null),l&&Me(e,t,"src",a.src,a,null);return;case"input":de("invalid",e);var c=n=r=s=null,m=null,x=null;for(l in a)if(a.hasOwnProperty(l)){var T=a[l];if(T!=null)switch(l){case"name":s=T;break;case"type":r=T;break;case"checked":m=T;break;case"defaultChecked":x=T;break;case"value":n=T;break;case"defaultValue":c=T;break;case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(f(137,t));break;default:Me(e,t,l,T,a,null)}}su(e,n,c,m,x,r,s,!1);return;case"select":de("invalid",e),l=r=n=null;for(s in a)if(a.hasOwnProperty(s)&&(c=a[s],c!=null))switch(s){case"value":n=c;break;case"defaultValue":r=c;break;case"multiple":l=c;default:Me(e,t,s,c,a,null)}t=n,a=r,e.multiple=!!l,t!=null?_l(e,!!l,t,!1):a!=null&&_l(e,!!l,a,!0);return;case"textarea":de("invalid",e),n=s=l=null;for(r in a)if(a.hasOwnProperty(r)&&(c=a[r],c!=null))switch(r){case"value":l=c;break;case"defaultValue":s=c;break;case"children":n=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(f(91));break;default:Me(e,t,r,c,a,null)}iu(e,l,s,n);return;case"option":for(m in a)if(a.hasOwnProperty(m)&&(l=a[m],l!=null))switch(m){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,t,m,l,a,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(l=0;l<Rs.length;l++)de(Rs[l],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:Me(e,t,x,l,a,null)}return;default:if(Ai(t)){for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!==void 0&&co(e,t,T,l,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(l=a[c],l!=null&&Me(e,t,c,l,a,null))}function Wm(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,n=null,r=null,c=null,m=null,x=null,T=null;for(N in a){var E=a[N];if(a.hasOwnProperty(N)&&E!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":m=E;default:l.hasOwnProperty(N)||Me(e,t,N,null,l,E)}}for(var A in l){var N=l[A];if(E=a[A],l.hasOwnProperty(A)&&(N!=null||E!=null))switch(A){case"type":n=N;break;case"name":s=N;break;case"checked":x=N;break;case"defaultChecked":T=N;break;case"value":r=N;break;case"defaultValue":c=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(f(137,t));break;default:N!==E&&Me(e,t,A,N,l,E)}}wi(e,r,c,m,x,T,n,s);return;case"select":N=r=c=A=null;for(n in a)if(m=a[n],a.hasOwnProperty(n)&&m!=null)switch(n){case"value":break;case"multiple":N=m;default:l.hasOwnProperty(n)||Me(e,t,n,null,l,m)}for(s in l)if(n=l[s],m=a[s],l.hasOwnProperty(s)&&(n!=null||m!=null))switch(s){case"value":A=n;break;case"defaultValue":c=n;break;case"multiple":r=n;default:n!==m&&Me(e,t,s,n,l,m)}t=c,a=r,l=N,A!=null?_l(e,!!a,A,!1):!!l!=!!a&&(t!=null?_l(e,!!a,t,!0):_l(e,!!a,a?[]:"",!1));return;case"textarea":N=A=null;for(c in a)if(s=a[c],a.hasOwnProperty(c)&&s!=null&&!l.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Me(e,t,c,null,l,s)}for(r in l)if(s=l[r],n=a[r],l.hasOwnProperty(r)&&(s!=null||n!=null))switch(r){case"value":A=s;break;case"defaultValue":N=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(f(91));break;default:s!==n&&Me(e,t,r,s,l,n)}nu(e,A,N);return;case"option":for(var I in a)if(A=a[I],a.hasOwnProperty(I)&&A!=null&&!l.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:Me(e,t,I,null,l,A)}for(m in l)if(A=l[m],N=a[m],l.hasOwnProperty(m)&&A!==N&&(A!=null||N!=null))switch(m){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Me(e,t,m,A,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in a)A=a[K],a.hasOwnProperty(K)&&A!=null&&!l.hasOwnProperty(K)&&Me(e,t,K,null,l,A);for(x in l)if(A=l[x],N=a[x],l.hasOwnProperty(x)&&A!==N&&(A!=null||N!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(f(137,t));break;default:Me(e,t,x,A,l,N)}return;default:if(Ai(t)){for(var Te in a)A=a[Te],a.hasOwnProperty(Te)&&A!==void 0&&!l.hasOwnProperty(Te)&&co(e,t,Te,void 0,l,A);for(T in l)A=l[T],N=a[T],!l.hasOwnProperty(T)||A===N||A===void 0&&N===void 0||co(e,t,T,A,l,N);return}}for(var b in a)A=a[b],a.hasOwnProperty(b)&&A!=null&&!l.hasOwnProperty(b)&&Me(e,t,b,null,l,A);for(E in l)A=l[E],N=a[E],!l.hasOwnProperty(E)||A===N||A==null&&N==null||Me(e,t,E,A,l,N)}function cf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ey(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var s=a[l],n=s.transferSize,r=s.initiatorType,c=s.duration;if(n&&c&&cf(r)){for(r=0,c=s.responseEnd,l+=1;l<a.length;l++){var m=a[l],x=m.startTime;if(x>c)break;var T=m.transferSize,E=m.initiatorType;T&&cf(E)&&(m=m.responseEnd,r+=T*(m<c?1:(c-x)/(m-x)))}if(--l,t+=8*(n+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fo=null,ho=null;function Wn(e){return e.nodeType===9?e:e.ownerDocument}function df(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ff(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yo=null;function ty(){var e=window.event;return e&&e.type==="popstate"?e===yo?!1:(yo=e,!0):(yo=null,!1)}var hf=typeof setTimeout=="function"?setTimeout:void 0,ay=typeof clearTimeout=="function"?clearTimeout:void 0,mf=typeof Promise=="function"?Promise:void 0,ly=typeof queueMicrotask=="function"?queueMicrotask:typeof mf<"u"?function(e){return mf.resolve(null).then(e).catch(sy)}:hf;function sy(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function yf(e,t){var a=t,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(s),$l(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Us(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Us(a);for(var n=a.firstChild;n;){var r=n.nextSibling,c=n.nodeName;n[as]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&n.rel.toLowerCase()==="stylesheet"||a.removeChild(n),n=r}}else a==="body"&&Us(e.ownerDocument.body);a=s}while(a);$l(t)}function pf(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function po(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":po(a),vi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ny(e,t,a,l){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[as])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(n=e.getAttribute("rel"),n==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(n!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(n=e.getAttribute("src"),(n!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&n&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var n=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===n)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function iy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Lt(e.nextSibling),e===null))return null;return e}function gf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function go(e){return e.data==="$?"||e.data==="$~"}function bo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ry(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var _o=null;function bf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Lt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function _f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function vf(e,t,a){switch(t=Wn(a),e){case"html":if(e=t.documentElement,!e)throw Error(f(452));return e;case"head":if(e=t.head,!e)throw Error(f(453));return e;case"body":if(e=t.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function Us(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vi(e)}var It=new Map,xf=new Set;function ei(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=M.d;M.d={f:oy,r:uy,D:cy,C:dy,L:fy,m:hy,X:yy,S:my,M:py};function oy(){var e=va.f(),t=Xn();return e||t}function uy(e){var t=pl(e);t!==null&&t.tag===5&&t.type==="form"?Yc(t):va.r(e)}var Fl=typeof document>"u"?null:document;function wf(e,t,a){var l=Fl;if(l&&typeof t=="string"&&t){var s=Ot(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),xf.has(s)||(xf.add(s),e={rel:e,crossOrigin:a,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),ct(t,"link",e),at(t),l.head.appendChild(t)))}}function cy(e){va.D(e),wf("dns-prefetch",e,null)}function dy(e,t){va.C(e,t),wf("preconnect",e,t)}function fy(e,t,a){va.L(e,t,a);var l=Fl;if(l&&e&&t){var s='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Ot(a.imageSizes)+'"]')):s+='[href="'+Ot(e)+'"]';var n=s;switch(t){case"style":n=Pl(e);break;case"script":n=Kl(e)}It.has(n)||(e=V({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),It.set(n,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(Hs(n))||t==="script"&&l.querySelector(Bs(n))||(t=l.createElement("link"),ct(t,"link",e),at(t),l.head.appendChild(t)))}}function hy(e,t){va.m(e,t);var a=Fl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(e)+'"]',n=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=Kl(e)}if(!It.has(n)&&(e=V({rel:"modulepreload",href:e},t),It.set(n,e),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bs(n)))return}l=a.createElement("link"),ct(l,"link",e),at(l),a.head.appendChild(l)}}}function my(e,t,a){va.S(e,t,a);var l=Fl;if(l&&e){var s=gl(l).hoistableStyles,n=Pl(e);t=t||"default";var r=s.get(n);if(!r){var c={loading:0,preload:null};if(r=l.querySelector(Hs(n)))c.loading=5;else{e=V({rel:"stylesheet",href:e,"data-precedence":t},a),(a=It.get(n))&&vo(e,a);var m=r=l.createElement("link");at(m),ct(m,"link",e),m._p=new Promise(function(x,T){m.onload=x,m.onerror=T}),m.addEventListener("load",function(){c.loading|=1}),m.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ti(r,t,l)}r={type:"stylesheet",instance:r,count:1,state:c},s.set(n,r)}}}function yy(e,t){va.X(e,t);var a=Fl;if(a&&e){var l=gl(a).hoistableScripts,s=Kl(e),n=l.get(s);n||(n=a.querySelector(Bs(s)),n||(e=V({src:e,async:!0},t),(t=It.get(s))&&xo(e,t),n=a.createElement("script"),at(n),ct(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},l.set(s,n))}}function py(e,t){va.M(e,t);var a=Fl;if(a&&e){var l=gl(a).hoistableScripts,s=Kl(e),n=l.get(s);n||(n=a.querySelector(Bs(s)),n||(e=V({src:e,async:!0,type:"module"},t),(t=It.get(s))&&xo(e,t),n=a.createElement("script"),at(n),ct(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},l.set(s,n))}}function Sf(e,t,a,l){var s=(s=ae.current)?ei(s):null;if(!s)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Pl(a.href),a=gl(s).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pl(a.href);var n=gl(s).hoistableStyles,r=n.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},n.set(e,r),(n=s.querySelector(Hs(e)))&&!n._p&&(r.instance=n,r.state.loading=5),It.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},It.set(e,a),n||gy(s,e,a,r.state))),t&&l===null)throw Error(f(528,""));return r}if(t&&l!==null)throw Error(f(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kl(a),a=gl(s).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function Pl(e){return'href="'+Ot(e)+'"'}function Hs(e){return'link[rel="stylesheet"]['+e+"]"}function Af(e){return V({},e,{"data-precedence":e.precedence,precedence:null})}function gy(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ct(t,"link",a),at(t),e.head.appendChild(t))}function Kl(e){return'[src="'+Ot(e)+'"]'}function Bs(e){return"script[async]"+e}function kf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return t.instance=l,at(l),l;var s=V({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),at(l),ct(l,"style",s),ti(l,a.precedence,e),t.instance=l;case"stylesheet":s=Pl(a.href);var n=e.querySelector(Hs(s));if(n)return t.state.loading|=4,t.instance=n,at(n),n;l=Af(a),(s=It.get(s))&&vo(l,s),n=(e.ownerDocument||e).createElement("link"),at(n);var r=n;return r._p=new Promise(function(c,m){r.onload=c,r.onerror=m}),ct(n,"link",l),t.state.loading|=4,ti(n,a.precedence,e),t.instance=n;case"script":return n=Kl(a.src),(s=e.querySelector(Bs(n)))?(t.instance=s,at(s),s):(l=a,(s=It.get(n))&&(l=V({},a),xo(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),at(s),ct(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(f(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ti(l,a.precedence,e));return t.instance}function ti(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,n=s,r=0;r<l.length;r++){var c=l[r];if(c.dataset.precedence===t)n=c;else if(n!==s)break}n?n.parentNode.insertBefore(e,n.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function vo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ai=null;function Nf(e,t,a){if(ai===null){var l=new Map,s=ai=new Map;s.set(a,l)}else s=ai,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var n=a[s];if(!(n[as]||n[it]||e==="link"&&n.getAttribute("rel")==="stylesheet")&&n.namespaceURI!=="http://www.w3.org/2000/svg"){var r=n.getAttribute(t)||"";r=e+r;var c=l.get(r);c?c.push(n):l.set(r,[n])}}return l}function Mf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function by(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _y(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=Pl(l.href),n=t.querySelector(Hs(s));if(n){t=n._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=li.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=n,at(n);return}n=t.ownerDocument||t,l=Af(l),(s=It.get(s))&&vo(l,s),n=n.createElement("link"),at(n);var r=n;r._p=new Promise(function(c,m){r.onload=c,r.onerror=m}),ct(n,"link",l),a.instance=n}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=li.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var wo=0;function vy(e,t){return e.stylesheets&&e.count===0&&ni(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&ni(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4+t);0<e.imgBytes&&wo===0&&(wo=62500*ey());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ni(e,e.stylesheets),e.unsuspend)){var n=e.unsuspend;e.unsuspend=null,n()}},(e.imgBytes>wo?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function li(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ni(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var si=null;function ni(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,si=new Map,t.forEach(xy,e),si=null,li.call(e))}function xy(e,t){if(!(t.state.loading&4)){var a=si.get(e);if(a)var l=a.get(null);else{a=new Map,si.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<s.length;n++){var r=s[n];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),l=r)}l&&a.set(null,l)}s=t.instance,r=s.getAttribute("data-precedence"),n=a.get(r)||l,n===l&&a.set(null,s),a.set(r,s),this.count++,l=li.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),n?n.parentNode.insertBefore(s,n.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Gs={$$typeof:g,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function wy(e,t,a,l,s,n,r,c,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=n,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function zf(e,t,a,l,s,n,r,c,m,x,T,E){return e=new wy(e,t,a,r,m,x,T,E,c),t=1,n===!0&&(t|=24),n=Mt(3,null,null,t),e.current=n,n.stateNode=e,t=er(),t.refCount++,e.pooledCache=t,t.refCount++,n.memoizedState={element:l,isDehydrated:a,cache:t},sr(n),e}function qf(e){return e?(e=Ml,e):Ml}function jf(e,t,a,l,s,n){s=qf(s),l.context===null?l.context=s:l.pendingContext=s,l=qa(t),l.payload={element:a},n=n===void 0?null:n,n!==null&&(l.callback=n),a=ja(e,l,t),a!==null&&(wt(a,e,t),_s(a,e,t))}function Ef(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function So(e,t){Ef(e,t),(e=e.alternate)&&Ef(e,t)}function Df(e){if(e.tag===13||e.tag===31){var t=el(e,67108864);t!==null&&wt(t,e,67108864),So(e,67108864)}}function Cf(e){if(e.tag===13||e.tag===31){var t=Et();t=gi(t);var a=el(e,t);a!==null&&wt(a,e,t),So(e,t)}}var ii=!0;function Sy(e,t,a,l){var s=h.T;h.T=null;var n=M.p;try{M.p=2,Ao(e,t,a,l)}finally{M.p=n,h.T=s}}function Ay(e,t,a,l){var s=h.T;h.T=null;var n=M.p;try{M.p=8,Ao(e,t,a,l)}finally{M.p=n,h.T=s}}function Ao(e,t,a,l){if(ii){var s=ko(l);if(s===null)uo(e,t,l,ri,a),Rf(e,l);else if(Ny(s,e,t,a,l))l.stopPropagation();else if(Rf(e,l),t&4&&-1<ky.indexOf(e)){for(;s!==null;){var n=pl(s);if(n!==null)switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var r=Pa(n.pendingLanes);if(r!==0){var c=n;for(c.pendingLanes|=2,c.entangledLanes|=2;r;){var m=1<<31-kt(r);c.entanglements[1]|=m,r&=~m}Wt(n),(ve&6)===0&&(In=Ue()+500,Os(0))}}break;case 31:case 13:c=el(n,2),c!==null&&wt(c,n,2),Xn(),So(n,2)}if(n=ko(l),n===null&&uo(e,t,l,ri,a),n===s)break;s=n}s!==null&&l.stopPropagation()}else uo(e,t,l,null,a)}}function ko(e){return e=Ni(e),No(e)}var ri=null;function No(e){if(ri=null,e=yl(e),e!==null){var t=z(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=R(t),e!==null)return e;e=null}else if(a===31){if(e=L(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ri=e,null}function Of(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case Pt:return 2;case xa:return 8;case yt:case ze:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Mo=!1,La=null,Ia=null,Za=null,Ls=new Map,Is=new Map,Xa=[],ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rf(e,t){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Is.delete(t.pointerId)}}function Zs(e,t,a,l,s,n){return e===null||e.nativeEvent!==n?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:n,targetContainers:[s]},t!==null&&(t=pl(t),t!==null&&Df(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ny(e,t,a,l,s){switch(t){case"focusin":return La=Zs(La,e,t,a,l,s),!0;case"dragenter":return Ia=Zs(Ia,e,t,a,l,s),!0;case"mouseover":return Za=Zs(Za,e,t,a,l,s),!0;case"pointerover":var n=s.pointerId;return Ls.set(n,Zs(Ls.get(n)||null,e,t,a,l,s)),!0;case"gotpointercapture":return n=s.pointerId,Is.set(n,Zs(Is.get(n)||null,e,t,a,l,s)),!0}return!1}function Yf(e){var t=yl(e.target);if(t!==null){var a=z(t);if(a!==null){if(t=a.tag,t===13){if(t=R(a),t!==null){e.blockedOn=t,Ko(e.priority,function(){Cf(a)});return}}else if(t===31){if(t=L(a),t!==null){e.blockedOn=t,Ko(e.priority,function(){Cf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ko(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ki=l,a.target.dispatchEvent(l),ki=null}else return t=pl(a),t!==null&&Df(t),e.blockedOn=a,!1;t.shift()}return!0}function Uf(e,t,a){oi(e)&&a.delete(t)}function My(){Mo=!1,La!==null&&oi(La)&&(La=null),Ia!==null&&oi(Ia)&&(Ia=null),Za!==null&&oi(Za)&&(Za=null),Ls.forEach(Uf),Is.forEach(Uf)}function ui(e,t){e.blockedOn===t&&(e.blockedOn=null,Mo||(Mo=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,My)))}var ci=null;function Hf(e){ci!==e&&(ci=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ci===e&&(ci=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(No(l||a)===null)continue;break}var n=pl(a);n!==null&&(e.splice(t,3),t-=3,Ar(n,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function $l(e){function t(m){return ui(m,e)}La!==null&&ui(La,e),Ia!==null&&ui(Ia,e),Za!==null&&ui(Za,e),Ls.forEach(t),Is.forEach(t);for(var a=0;a<Xa.length;a++){var l=Xa[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Xa.length&&(a=Xa[0],a.blockedOn===null);)Yf(a),a.blockedOn===null&&Xa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],n=a[l+1],r=s[pt]||null;if(typeof n=="function")r||Hf(a);else if(r){var c=null;if(n&&n.hasAttribute("formAction")){if(s=n,r=n[pt]||null)c=r.formAction;else if(No(s)!==null)continue}else c=r.action;typeof c=="function"?a[l+1]=c:(a.splice(l,3),l-=3),Hf(a)}}}function Bf(){function e(n){n.canIntercept&&n.info==="react-transition"&&n.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var n=navigation.currentEntry;n&&n.url!=null&&navigation.navigate(n.url,{state:n.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function To(e){this._internalRoot=e}di.prototype.render=To.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(f(409));var a=t.current,l=Et();jf(a,l,e,t,null,null)},di.prototype.unmount=To.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jf(e.current,2,null,e,null,null),Xn(),t[ml]=null}};function di(e){this._internalRoot=e}di.prototype.unstable_scheduleHydration=function(e){if(e){var t=Po();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xa.length&&t!==0&&t<Xa[a].priority;a++);Xa.splice(a,0,e),a===0&&Yf(e)}};var Gf=u.version;if(Gf!=="19.2.0")throw Error(f(527,Gf,"19.2.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=q(t),e=e!==null?J(e):null,e=e===null?null:e.stateNode,e};var Ty={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:h,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{ge=fi.inject(Ty),He=fi}catch{}}return Qs.createRoot=function(e,t){if(!k(e))throw Error(f(299));var a=!1,l="",s=Vc,n=Fc,r=Pc;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(n=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=zf(e,1,!1,null,null,a,l,null,s,n,r,Bf),e[ml]=t.current,oo(e),new To(t)},Qs.hydrateRoot=function(e,t,a){if(!k(e))throw Error(f(299));var l=!1,s="",n=Vc,r=Fc,c=Pc,m=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(n=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.formState!==void 0&&(m=a.formState)),t=zf(e,1,!0,t,a??null,l,s,m,n,r,c,Bf),t.context=qf(null),a=t.current,l=Et(),l=gi(l),s=qa(l),s.callback=null,ja(a,s,l),a=l,t.current.lanes=a,ts(t,a),Wt(t),e[ml]=t.current,oo(e),new di(t)},Qs.version="19.2.0",Qs}var $f;function Uy(){if($f)return jo.exports;$f=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),jo.exports=Yy(),jo.exports}var Hy=Uy();const oh={zh:{title:"",day:" {{day}} ",stats:{sanity:"",funds:"",suspicion:"",gnosis:"",ap:""},restartRun:"",restartConfirm:"",gameMode:"",hardcoreMode:"",normalMode:"",hardcoreDesc:"",normalDesc:"",startGame:"",newGame:"",loadGame:"",returnToPreviousDay:"",returnToPreviousDayDesc:"",noBackup:"",selectMode:"",selectOrigin:"",hasSave:"",noSave:"",origins:{fallen_noble:{name:"",desc:"",stats:" 40 |  20 |  80",passive:""},doctor:{name:"",desc:"",stats:" 15 |  5 |  65 | ",passive:"+50%"},vagrant:{name:"",desc:"",stats:" 10 |  0 |  90 | ",passive:""}},inventory:"",emptyInventory:"...",cult:"",lonely:"...",loyalty:"",followerStatus:{healthy:"",injured:"",insane:"",betrayed:""},followerTask:"",journal:"",latestEvents:"",initGame:"404",statChange:{sanity:"",funds:"",suspicion:"",gnosis:""},actions:{free:"",endDay:"",costAP:"{{val}} "},gameOver:{victory:"",defeat:"",daysSurvived:"",finalSanity:"",finalGnosis:"",restart:""}},en:{title:"PALE THRESHOLD",day:"DAY {{day}}",stats:{sanity:"SANITY",funds:"FUNDS",suspicion:"SUSPICION",gnosis:"GNOSIS",ap:"ACTION POINTS"},restartRun:"Abandon Run",restartConfirm:"Abandon this run and restart?",gameMode:"Game Mode",hardcoreMode:"Hardcore",normalMode:"Normal",hardcoreDesc:"Save deleted on death",normalDesc:"Can load previous day",startGame:"Start Game",newGame:"New Game",loadGame:"Load Game",returnToPreviousDay:"Return to Previous Day",returnToPreviousDayDesc:"Return to the previous day's state (Normal mode only)",noBackup:"No backup save available",selectMode:"Select Game Mode",selectOrigin:"Select Origin",hasSave:"Save detected",noSave:"No save",origins:{fallen_noble:{name:"Fallen Noble",desc:"You were once part of high society, but your family has fallen. You have funds and heirlooms, but the Ministry has long watched your family.",stats:"Funds 40 | Suspicion 20 | Sanity 80",passive:"Passive: Immune to price inflation"},doctor:{name:"Doctor",desc:"You are a doctor who has seen too much death and suffering. You have medical supplies, but your sanity is severely eroded.",stats:"Funds 15 | Suspicion 5 | Sanity 65 | Items: Morphine, Scalpel",passive:"Passive: Medical items +50% effect"},vagrant:{name:"Vagrant",desc:"You have wandered the streets for years, long accustomed to hardship. You have nothing, but possess strong resistance and clear awareness of reality.",stats:"Funds 10 | Suspicion 0 | Sanity 90 | High Resistance",passive:"Passive: High sanity start, strong resistance"}},inventory:"INVENTORY",emptyInventory:"Empty...",cult:"THE CULT",lonely:"Alone...",loyalty:"Loyalty",followerStatus:{healthy:"Healthy",injured:"Injured",insane:"Insane",betrayed:"Betrayed"},followerTask:"Request",journal:"JOURNAL",latestEvents:"LATEST EVENTS",initGame:"You wake in Apartment 404, neon slashing through the blinds like fresh wounds.",statChange:{sanity:"Sanity",funds:"Funds",suspicion:"Suspicion",gnosis:"Gnosis"},actions:{free:"FREE",endDay:"END DAY",costAP:"{{val}} AP"},gameOver:{victory:"ASCENSION",defeat:"TERMINATED",daysSurvived:"Days Survived",finalSanity:"Final Sanity",finalGnosis:"Final Gnosis",restart:"BEGIN AGAIN"}}},Pe={livingCost:{earlyGameDays:3,earlyGameCost:1,normalCost:2},clinicWork:{costAP:2,rewardFunds:5,costSanity:3,maxMissedDays:3},medicalBonus:{multiplier:1.5,items:["morphine","sedatives","purified_serum","strong_painkiller"]},sanityThresholds:{warning:50}},By={normal:["","","","",""],insane:["","","","","","","","","",""]},Gy={normal:["Slow, rhythmic tapping from next door, like someone counting pulses.","Drones outside trace red lines all night, as if drawing sigils around your room.","Something drags metal bones through the sewers, mud-water murmuring in response.","In dreams, an inverted tower hangs motionless, and you can only fall upward.","A black paper slips under the door, ink still wet on its surface."],insane:["The reflection in the mirror speaks first, showing teeth unlike yours.","Soft collisions from inside the pillow, like enamel grinding.","Mold stains on the wallpaper form prayer gestures, lips outlined in dust.","You wake standing on the windowsill, as if someone lifted your feet.","The dead landlord sits at the foot of the bed, his neck-bone greeting you.","Shadows gather at the doorframe, whispering your name in glass-breaking tones.","The Ministry's gaze pierces your eyelids, watching even in dreams.","Paranoia tears at your mindevery creak is a footstep, every shadow a pursuer.","Your sanity shatters like old glass, things that should stay outside seeping through the cracks.","The weight of suspicion makes it hard to breathe, dreams becoming interrogation rooms."]},Ly={bread:{id:"bread",name:"",description:""},rat_meat:{id:"rat_meat",name:"",description:""},fresh_fish:{id:"fresh_fish",name:"",description:""},cheap_spirits:{id:"cheap_spirits",name:"",description:""},sedatives:{id:"sedatives",name:"",description:""},morphine:{id:"morphine",name:"",description:""},laudanum:{id:"laudanum",name:"",description:""},forbidden_name:{id:"forbidden_name",name:"",description:""},rusty_key:{id:"rusty_key",name:"",description:'"7-B"'},brass_lantern:{id:"brass_lantern",name:"",description:""},ritual_dagger:{id:"ritual_dagger",name:"",description:""},iron_dagger:{id:"iron_dagger",name:"",description:""},scalpel:{id:"scalpel",name:"",description:""},crumbling_scroll:{id:"crumbling_scroll",name:"",description:""},old_radio:{id:"old_radio",name:"",description:""},loaded_dice:{id:"loaded_dice",name:"",description:""},silver_ring:{id:"silver_ring",name:"",description:""},old_ring:{id:"old_ring",name:"",description:""},music_box:{id:"music_box",name:"",description:"",price:20},doctor_coat:{id:"doctor_coat",name:"",description:""},classified_file:{id:"classified_file",name:"",description:'"0"'},officer_badge:{id:"officer_badge",name:"",description:""},purge_list:{id:"purge_list",name:"",description:'""'},gold_tooth:{id:"gold_tooth",name:"",description:""},strange_fungus:{id:"strange_fungus",name:"",description:""},alien_idol:{id:"alien_idol",name:"",description:""},void_salt:{id:"void_salt",name:"",description:""},golden_mask:{id:"golden_mask",name:"",description:""},alchemy_kit:{id:"alchemy_kit",name:"",description:""},purified_serum:{id:"purified_serum",name:"",description:""},ancient_coin:{id:"ancient_coin",name:"",description:""},nutritious_meal:{id:"nutritious_meal",name:"",description:""},strong_painkiller:{id:"strong_painkiller",name:"",description:""},gnosis_elixir:{id:"gnosis_elixir",name:"",description:""},alchemy_coin:{id:"alchemy_coin",name:"",description:""},ritual_mask:{id:"ritual_mask",name:"",description:""},fermented_bread:{id:"fermented_bread",name:"",description:""},recipe_scrap_bread_rat:{id:"recipe_scrap_bread_rat",name:"",description:""},recipe_scrap_morphine_sedatives:{id:"recipe_scrap_morphine_sedatives",name:"",description:""},recipe_scrap_void_salt_fungus:{id:"recipe_scrap_void_salt_fungus",name:"",description:""},recipe_scrap_gold_tooth_coin:{id:"recipe_scrap_gold_tooth_coin",name:"",description:""},recipe_scrap_idol_mask:{id:"recipe_scrap_idol_mask",name:"",description:""},recipe_scrap_bread_spirits:{id:"recipe_scrap_bread_spirits",name:"",description:""},recipe_scrap_serum:{id:"recipe_scrap_serum",name:"",description:""}},Iy={bread:{id:"bread",name:"Moldy Bread",description:"Hard moldy chunks that taste like chalk dust, but they stop your stomach from cramping. Hard to swallow, but at least it fills you up."},rat_meat:{id:"rat_meat",name:"Raw Rat Meat",description:"Still warm strips of meat, blood mixed with alley dust. Cooked, it can barely fill you, at the cost of slight sanity loss."},fresh_fish:{id:"fresh_fish",name:"Fresh Fish",description:"Scales reflect light like talismans, its eyes searching for something behind you. Cooked, it brings some comfort and a bit of coin."},cheap_spirits:{id:"cheap_spirits",name:"Moonshine",description:"Bitter and cloudy, one swallow burns like incense ash. But alcohol numbs the nerves, making pain blurry."},sedatives:{id:"sedatives",name:"Ministry Sedatives",description:"Blue pills that fade the world, like pulling down heavy curtains. Swallowed, anxiety and fear retreat, sanity gets a moment's rest."},morphine:{id:"morphine",name:"Medical Morphine",description:"Amber liquid in ampoules, bringing brief silence, also taking will. Injected, it greatly relieves pain, but each use may make you more dependent."},laudanum:{id:"laudanum",name:"Laudanum Tincture",description:"Black sticky liquid, tastes like cold iron, but opens another city in your stomach."},forbidden_name:{id:"forbidden_name",name:"Old God's True Name",description:"A syllable that cannot be fully spoken, just echoing in your mind makes your temples throb."},rusty_key:{id:"rusty_key",name:"Rusty Iron Key",description:'A key the beggar shoved into your palm, engraved "7-B", covered in damp mold.'},brass_lantern:{id:"brass_lantern",name:"Brass Lantern",description:"Old lamp polished bright, lit it leaves order in the darkness. Essential for exploring dark areas like sewers."},ritual_dagger:{id:"ritual_dagger",name:"Obsidian Dagger",description:"Blade absorbs light, hilt cold, as if waiting for an oath."},iron_dagger:{id:"iron_dagger",name:"Iron Dagger",description:"Rough iron short blade, edge worn but still deadly. A common street weapon, available in the black market."},scalpel:{id:"scalpel",name:"Scalpel",description:"Common surgical tool in clinics, blade sharp as a razor. Designed to save lives, but can become a weapon when needed."},crumbling_scroll:{id:"crumbling_scroll",name:"Worm Scroll",description:"Paper soft as skin, text updates faster than you can turn pages."},old_radio:{id:"old_radio",name:"Old Radio",description:"Tuning knob occasionally loose, can hear calls from non-local stations."},loaded_dice:{id:"loaded_dice",name:"Loaded Dice",description:"Heavy dice, the result decided before you throw."},silver_ring:{id:"silver_ring",name:"Silver Ring",description:"Old item left in a pawnshop, surface worn, but can still carry vows."},old_ring:{id:"old_ring",name:"Heirloom Ring",description:"The last relic of your family, gold ring engraved with ancient heraldry. Still reflects dim light in darkness, as if telling the story of your family's glory and fall."},music_box:{id:"music_box",name:"Wind-Up Music Box",description:"When wound, plays a slightly off-key waltz, like distant prayers.",price:20},doctor_coat:{id:"doctor_coat",name:"Bloodstained White Coat",description:"The dark red on the collar can never be washed away, but it can fool the asylum's iron gates. Wearing it, you can enter places that require a doctor's identity."},classified_file:{id:"classified_file",name:"Classified File",description:'Ministry records on "Patient Zero", red stamp on the footer like a funeral seal.'},officer_badge:{id:"officer_badge",name:"Ministry Officer Badge",description:"Heavy silver badge, oath engraved on the back. Wearers are assumed to stand on the side of light. Use it to access classified databases at the Ministry, retrieve purge lists."},purge_list:{id:"purge_list",name:"Purge List",description:'A ledger of names about to be "vaporized", each line worth a bounty.'},gold_tooth:{id:"gold_tooth",name:"Gold Tooth",description:"Trophy knocked from a corpse's mouth, the black market always buys. Can also be fused with ancient coins on an alchemy table to make more valuable alchemy coins."},strange_fungus:{id:"strange_fungus",name:"Luminous Fungus",description:"Blue fungus growing in deep mud, touch cold, leaves light spots in your palm. Important alchemy material, can fuse with spirits to make serum."},alien_idol:{id:"alien_idol",name:"Alien Idol",description:"Heavy idol carved from green stone, surface smooth as wet skin. Contains otherworldly power, can fuse with mask on alchemy table."},void_salt:{id:"void_salt",name:"Void Salt",description:"Crystals precipitated from dream edges, one sniff shows structures that shouldn't exist. Direct consumption increases gnosis but erodes sanity. Also used in alchemy."},golden_mask:{id:"golden_mask",name:"Golden Mask",description:"Artifact from Lake Hali, pressed to face slows heartbeat. Contains ancient power, can fuse with idol on alchemy table."},alchemy_kit:{id:"alchemy_kit",name:"Simple Alchemy Table",description:"Equipment pieced together from old flasks and test tubes, can turn waste into potions or disasters. Box includes a scribbled note: fungus mixed with spirits can extract blue serum."},purified_serum:{id:"purified_serum",name:"Purified Serum",description:"Blue liquid extracted from fungus, injected into brain brings instant silence. Effectively restores sanity, product of alchemy."},ancient_coin:{id:"ancient_coin",name:"Ancient Coin",description:"Burial coin from church crypt, unknown king engraved on the side. Valuable itself, but fusing with other items produces more mysterious power."},nutritious_meal:{id:"nutritious_meal",name:"Nutritious Meal",description:"Meal carefully made from bread and rat meat on alchemy table, simple but effectively restores sanity and fills stomach."},strong_painkiller:{id:"strong_painkiller",name:"Strong Painkiller",description:"Deep purple liquid fused from morphine and sedatives, instantly eliminates all pain, greatly restores sanity. Highly addictive, each use may make you more dependent."},gnosis_elixir:{id:"gnosis_elixir",name:"Gnosis Elixir",description:"Shimmering blue crystals fused from void salt and luminous fungus. Swallowed, increases gnosis, lets you glimpse the true structure of the world, but consumes sanity."},alchemy_coin:{id:"alchemy_coin",name:"Alchemy Coin",description:"Mysterious coin fused from gold tooth and ancient coin on alchemy table, shimmering with otherworldly light. Value far exceeds common currency, also slightly increases gnosis."},ritual_mask:{id:"ritual_mask",name:"Ritual Mask",description:"Twisted mask fused from alien idol and golden mask. Wearing it shows the true structure of the world, greatly increases gnosis, but at the cost of severe sanity loss."},fermented_bread:{id:"fermented_bread",name:"Fermented Bread",description:"Food made from bread soaked in spirits, processed through alchemy. Brings brief comfort, restores sanity, can also be sold for coin."},recipe_scrap_bread_rat:{id:"recipe_scrap_bread_rat",name:"Crumpled Note (Nutritious Meal)",description:"Scribbles on the edge of an old newspaper, handwriting blurred but barely legible."},recipe_scrap_morphine_sedatives:{id:"recipe_scrap_morphine_sedatives",name:"Crumpled Note (Painkiller)",description:"Note fished from clinic trash, records proportions of some mixture."},recipe_scrap_void_salt_fungus:{id:"recipe_scrap_void_salt_fungus",name:"Crumpled Note (Gnosis Elixir)",description:"Paper yellowed, edges water-stained, but core content still readable."},recipe_scrap_gold_tooth_coin:{id:"recipe_scrap_gold_tooth_coin",name:"Crumpled Note (Alchemy Coin)",description:"Black market merchant's transaction record, one line circled."},recipe_scrap_idol_mask:{id:"recipe_scrap_idol_mask",name:"Crumpled Note (Ritual Mask)",description:"Mix of ancient text and modern symbols, seems from a secret cult."},recipe_scrap_bread_spirits:{id:"recipe_scrap_bread_spirits",name:"Crumpled Note (Fermented Bread)",description:"Note from tavern kitchen, records a special food processing method."},recipe_scrap_serum:{id:"recipe_scrap_serum",name:"Crumpled Note (Purified Serum)",description:"Abandoned lab record, crossed-out experimental steps."}},Zy={beggar_follower:{id:"beggar_follower",name:'""',description:"",role:"moth"},thug_follower:{id:"thug_follower",name:"",description:"",role:"edge"},nurse_follower:{id:"nurse_follower",name:"",description:"",role:"heart"},cat_follower:{id:"cat_follower",name:'""',description:"",role:"heart"}},Xy={beggar_follower:{id:"beggar_follower",name:'"Prophet" Gregory',description:"A street corner beggar who bows to you, seeing you as the voice of an underground altar.",role:"moth"},thug_follower:{id:"thug_follower",name:"Iron Fist Bruno",description:"A dock enforcer cast aside, you saved his life, so he puts his bones on your side.",role:"edge"},nurse_follower:{id:"nurse_follower",name:"Nurse Madeline",description:"Former clinic nurse, after you freed her from debt, became your most reliable hand.",role:"heart"},cat_follower:{id:"cat_follower",name:'Black Cat "Midnight"',description:"A silent black companion, its purr like the drumbeat of a secret ritual.",role:"heart"}},ta=i=>{const{player:u}=i,{stats:d,flags:f}=u,k=[];return d.sanity<40&&k.push(" "),d.suspicion>60&&k.push(" "),d.funds<3&&k.push(" "),f.infected&&k.push(" "),f.addicted&&!f.morphine_taken_today&&k.push(" "),f.lover_madeline?k.push(" "):f.madeline_sick&&k.push(" "),d.gnosis>=10&&!u.inventory.includes("laudanum")&&k.push(" "),k.length>0?k[Math.floor(Math.random()*k.length)]:""},Jf=(i,u)=>{const d=`${u}_day_${i.world.day}`;return{used:!!i.player.flags[d],flag:d}},Qy=(i,u,d)=>!!i.player.flags[u]||i.player.inventory.includes(d),uh=(i,u,d,f="")=>k=>Qy(k,i,u)?d:f,hl=(i,u,d,f,k)=>({id:i,label:k,description:"",reqItems:[u],result:{text:f,costAP:0,removeItems:[u],setFlags:{[d]:!0}}}),Jl=(i,u,d,f,k,z,R,L,H,q)=>({id:i,label:uh(u,d,f),description:k,reqItems:z,result:{text:H,costAP:1,removeItems:R,addItems:L,changes:q}}),Vy=(i,u,d,f,k,z,R,L,H,q,J,V)=>({id:i,label:uh(u,d,f),description:k,reqItems:z,result:fe=>{const Ke=fe.player.flags.addicted;return Math.random()<H&&!Ke?{text:J,costAP:1,removeItems:R,addItems:L,setFlags:{addicted:!0},changes:{sanity:V}}:{text:q,costAP:1,removeItems:R,addItems:L,changes:{sanity:V}}}}),Wf=i=>({beggar_follower:"",thug_follower:"",nurse_follower:"",cat_follower:'""'})[i]||"",Oo=i=>({beggar_follower:"Gregory",thug_follower:"Bruno",nurse_follower:"Madeline",cat_follower:"Midnight"})[i]||"follower",Ro=(i,u,d,f,k,z=1,R)=>({id:i,label:u,description:d,reqItems:[f],result:{text:k,costAP:z,removeItems:[f],changes:R}}),eh=(i,u,d,f,k,z=0)=>({id:i,label:u,description:d,result:{text:f,costAP:z,teleport:k}}),Fy={apartment:{id:"apartment",name:"404",description:i=>{let u="";return i.player.stats.sanity<50&&(u=""),u+ta(i)},actions:[eh("leave_apartment","","","","street"),eh("go_rooftop","","","","rooftop"),{id:"sleep",label:"",description:"",reqFlagsNot:["lover_madeline"],result:{text:"",costAP:99}},{id:"sleep_lover",label:"",description:"",reqFlags:["lover_madeline"],result:{text:"",costAP:99,changes:{sanity:30}}},{id:"eat_rat",label:"",description:"",reqItems:["rat_meat"],result:i=>{const u=i.origin==="vagrant",d=`fed_day_${i.world.day}`;return{text:"",costAP:1,changes:{sanity:u?0:-5},removeItems:["rat_meat"],setFlags:{[d]:!0}}}},{id:"meditate",label:"/",description:"",result:()=>Math.random()<.15?{text:"",costAP:1,changes:{sanity:5,gnosis:1}}:{text:"",costAP:1,changes:{sanity:5}}},{id:"talk_madeline",label:"",description:"",reqFollowers:["nurse_follower"],reqFlagsNot:["madeline_sick"],result:{text:"",costAP:1,setFlags:{madeline_sick:!0}}},{id:"cure_madeline",label:"",description:" (: )",reqFlags:["madeline_sick"],reqItems:["purified_serum"],reqFlagsNot:["madeline_cured"],result:{text:"",costAP:1,removeItems:["purified_serum"],setFlags:{madeline_cured:!0,madeline_sick:!1},changes:{sanity:20}}},{id:"propose_madeline",label:"",description:" (: , )",reqFlags:["madeline_cured"],reqItems:["silver_ring"],reqFlagsNot:["lover_madeline"],result:{text:"",costAP:1,removeItems:["silver_ring"],setFlags:{lover_madeline:!0},changes:{sanity:50}}},{id:"study_scroll",label:"",description:"",reqItems:["crumbling_scroll"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-25},removeItems:["crumbling_scroll"]}},{id:"enter_dream",label:"",description:"",reqItems:["laudanum"],result:{text:"",costAP:1,teleport:"pale_city",removeItems:["laudanum"]}},hl("read_recipe_bread_rat","recipe_scrap_bread_rat","recipe_known_bread_rat","...",""),hl("read_recipe_morphine_sedatives","recipe_scrap_morphine_sedatives","recipe_known_morphine_sedatives","...",""),hl("read_recipe_void_salt_fungus","recipe_scrap_void_salt_fungus","recipe_known_void_salt_fungus","...",""),hl("read_recipe_gold_tooth_coin","recipe_scrap_gold_tooth_coin","recipe_known_gold_tooth_coin","...",""),hl("read_recipe_idol_mask","recipe_scrap_idol_mask","recipe_known_idol_mask","...",""),hl("read_recipe_bread_spirits","recipe_scrap_bread_spirits","recipe_known_bread_spirits","...",""),hl("read_recipe_serum","recipe_scrap_serum","recipe_known_serum","...",""),Jl("use_alchemy_serum","recipe_known_serum","recipe_scrap_serum",""," +   ",["alchemy_kit","strange_fungus","cheap_spirits"],["strange_fungus","cheap_spirits"],["purified_serum"],""),Jl("combine_bread_rat","recipe_known_bread_rat","recipe_scrap_bread_rat",""," +   ",["alchemy_kit","bread","rat_meat"],["bread","rat_meat"],["nutritious_meal"],"",{sanity:10}),Vy("combine_morphine_sedatives","recipe_known_morphine_sedatives","recipe_scrap_morphine_sedatives",""," +   ",["alchemy_kit","morphine","sedatives"],["morphine","sedatives"],["strong_painkiller"],.4,"","",50),Jl("combine_void_salt_fungus","recipe_known_void_salt_fungus","recipe_scrap_void_salt_fungus",""," +   ",["alchemy_kit","void_salt","strange_fungus"],["void_salt","strange_fungus"],["gnosis_elixir"],""),Jl("combine_gold_tooth_coin","recipe_known_gold_tooth_coin","recipe_scrap_gold_tooth_coin",""," +   ",["alchemy_kit","gold_tooth","ancient_coin"],["gold_tooth","ancient_coin"],["alchemy_coin"],"",{gnosis:2}),Jl("combine_idol_mask","recipe_known_idol_mask","recipe_scrap_idol_mask",""," +   ",["alchemy_kit","alien_idol","golden_mask"],["alien_idol","golden_mask"],["ritual_mask"],"",{gnosis:10,sanity:-30}),Jl("combine_bread_spirits","recipe_known_bread_spirits","recipe_scrap_bread_spirits",""," +   ",["alchemy_kit","bread","cheap_spirits"],["bread","cheap_spirits"],["fermented_bread"],""),{id:"pet_cat",label:'""',description:"",reqFollowers:["cat_follower"],result:i=>{const{used:u,flag:d}=Jf(i,"petted_cat");if(u)return{text:'""',costAP:0};const k=i.player.followerStates?.cat_follower?.loyalty??50,z=10+Math.floor(k/20);return{text:'""',costAP:0,changes:{sanity:Math.min(15,z)},setFlags:{[d]:!0}}}},{id:"feed_cat_fish_again",label:'""',description:"",reqFollowers:["cat_follower"],reqItems:["fresh_fish"],result:i=>{const u=i.player.followerStates?.cat_follower,d=u?.loyalty??50,f=Math.min(100,d+10);return i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={...u,loyalty:f,status:"healthy"},{text:'""',costAP:1,removeItems:["fresh_fish"],changes:{sanity:5}}}},{id:"eat_fish",label:"",description:"",reqItems:["fresh_fish"],result:i=>{const u=`fed_day_${i.world.day}`;return{text:"",costAP:1,removeItems:["fresh_fish"],changes:{sanity:5},setFlags:{[u]:!0}}}},{id:"eat_bread",label:"",description:"",reqItems:["bread"],result:i=>{const u=`fed_day_${i.world.day}`;return{text:"",costAP:1,removeItems:["bread"],changes:{sanity:3},setFlags:{[u]:!0}}}},Ro("drink_spirits","","","cheap_spirits","",1,{sanity:10}),{id:"consume_alchemy_coin",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:5,sanity:15}}},{id:"use_nutritious_meal",label:"",description:"",reqItems:["nutritious_meal"],result:i=>{const u=`fed_day_${i.world.day}`;return{text:"",costAP:1,removeItems:["nutritious_meal"],changes:{sanity:10},setFlags:{[u]:!0}}}},{id:"use_strong_painkiller",label:"",description:"",reqItems:["strong_painkiller"],result:i=>{const d=i.player.flags.addicted;return d||Math.random()<.3&&!d?{text:"",costAP:1,removeItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"",costAP:1,removeItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"use_sedatives",label:"",description:"",reqItems:["sedatives"],result:{text:"",costAP:1,removeItems:["sedatives"],changes:{sanity:15}}},{id:"use_morphine",label:"",description:"",reqItems:["morphine"],requiresConfirmation:!0,confirmationMessage:i=>i.player.flags.addicted?"":"30%1235",result:i=>{const d=i.player.flags.addicted;return Math.random()<.3&&!d?{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}},Ro("use_purified_serum","","","purified_serum","",1,{sanity:20}),Ro("use_gnosis_elixir","","","gnosis_elixir","",1,{gnosis:8,sanity:-2}),{id:"use_fermented_bread",label:"",description:"",reqItems:["fermented_bread"],result:i=>{const u=`fed_day_${i.world.day}`;return{text:"",costAP:1,removeItems:["fermented_bread"],changes:{sanity:18},setFlags:{[u]:!0}}}},{id:"use_ritual_mask",label:"",description:"",reqItems:["ritual_mask"],result:i=>{const{used:u,flag:d}=Jf(i,"used_ritual_mask");return u?{text:"",costAP:0}:{text:"",costAP:1,changes:{gnosis:7,sanity:-20},setFlags:{[d]:!0}}}},{id:"complete_follower_task",label:"",description:"",reqFollowers:[],result:i=>{const u=i.player.followers.find(z=>{const R=i.player.followerStates?.[z];return R&&R.task&&R.status==="healthy"});if(!u)return{text:"",costAP:0};const d=i.player.followerStates[u],f=d.task,k=Wf(u);return f.type==="money"&&f.requirement.money?i.player.stats.funds<f.requirement.money?{text:` ${f.requirement.money} `,costAP:0}:(i.player.stats.funds-=f.requirement.money,d.loyalty=Math.min(100,d.loyalty+(f.reward.loyalty||0)),d.task=void 0,{text:`${k}""`,costAP:1,changes:{funds:-f.requirement.money}}):f.type==="item"&&f.requirement.item?i.player.inventory.includes(f.requirement.item)?(i.player.inventory=i.player.inventory.filter(R=>R!==f.requirement.item),d.loyalty=Math.min(100,d.loyalty+(f.reward.loyalty||0)),d.task=void 0,{text:`${k}${{bread:"",morphine:"",sedatives:"",cheap_spirits:""}[f.requirement.item]||f.requirement.item}""`,costAP:1,removeItems:[f.requirement.item]}):{text:` ${{bread:"",morphine:"",sedatives:"",cheap_spirits:""}[f.requirement.item]||f.requirement.item}`,costAP:0}:f.type==="help"?(d.loyalty=Math.min(100,d.loyalty+(f.reward.loyalty||0)),d.task=void 0,{text:`${k}""`,costAP:1,changes:{sanity:5}}):{text:"",costAP:1}}},{id:"reject_follower_task",label:"",description:"",reqFollowers:[],result:i=>{const u=i.player.followers.find(q=>{const J=i.player.followerStates?.[q];return J&&J.task&&J.status==="healthy"});if(!u)return{text:"",costAP:0};const d=i.player.followerStates[u],f=d.task,k=Wf(u);d.loyalty=Math.max(0,d.loyalty+(f.penalty.loyalty||0));const z=u==="nurse_follower",R=z&&i.player.flags.lover_madeline,L=z?"":"";return f.penalty.leave&&d.loyalty<30&&!R?(i.player.followers=i.player.followers.filter(q=>q!==u),delete i.player.followerStates[u],z?i.player.flags.madeline_left=!0:u==="beggar_follower"&&(i.player.flags.beggar_died=!0),{text:`${k}""${L}`,costAP:1,removeFollowers:[u],changes:{sanity:-10}}):(d.task=void 0,{text:R?`${k}"..."`:`${k}""`,costAP:1,changes:{sanity:-5}})}},{id:"heal_follower",label:"",description:"",reqItems:["morphine","purified_serum"],reqFollowers:[],result:i=>{const u=i.origin==="doctor",d=i.player.followers.find(R=>{const L=i.player.followerStates?.[R];return L&&L.status==="injured"});if(!d)return{text:"",costAP:0};const f=i.player.followerStates[d],k=d==="beggar_follower"?"":d==="thug_follower"?"":d==="nurse_follower"?"":"";let z="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(R=>R!=="purified_serum"),z="purified_serum";else if(i.player.inventory.includes("morphine"))i.player.inventory=i.player.inventory.filter(R=>R!=="morphine"),z="morphine";else return{text:"",costAP:0};return f.status="healthy",f.loyalty=Math.min(100,f.loyalty+25),{text:`${k}""`,costAP:u?0:1,removeItems:[z],changes:{sanity:10}}}},{id:"calm_insane_follower",label:"",description:"",reqItems:["sedatives","purified_serum"],reqFollowers:[],result:i=>{const u=i.player.followers.find(z=>{const R=i.player.followerStates?.[z];return R&&R.status==="insane"});if(!u)return{text:"",costAP:0};const d=i.player.followerStates[u],f=u==="beggar_follower"?"":u==="thug_follower"?"":u==="nurse_follower"?"":"";let k="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(z=>z!=="purified_serum"),k="purified_serum";else if(i.player.inventory.includes("sedatives"))i.player.inventory=i.player.inventory.filter(z=>z!=="sedatives"),k="sedatives";else return{text:"",costAP:0};return Math.random()<.7?(d.status="healthy",d.loyalty=Math.min(100,d.loyalty+30),{text:`${f}"..."`,costAP:1,removeItems:[k],changes:{sanity:15}}):(d.loyalty=Math.min(100,d.loyalty+10),{text:`${f}`,costAP:1,removeItems:[k],changes:{sanity:5}})}},{id:"dispatch_beggar_steal",label:"",reqFollowers:["beggar_follower"],result:i=>{const u=i.player.followerStates?.beggar_follower;if(u&&u.status!=="healthy")return{text:"",costAP:0};const d=i.player.stats.suspicion,z=d>30?Math.min(.5,.1+(d-30)*.0057):0;if(Math.random()<z)return i.player.flags.beggar_died=!0,{text:"",costAP:1,removeFollowers:["beggar_follower"],setFlags:{beggar_died:!0},changes:{suspicion:40,sanity:-10}};const R=u?Math.floor(u.loyalty/20):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"",costAP:1,changes:{funds:3+R,suspicion:3}}}},{id:"dispatch_thug_extort",label:"",reqFollowers:["thug_follower"],result:i=>{const u=i.player.followerStates?.thug_follower;if(u&&u.status!=="healthy")return{text:"",costAP:0};const d=u?u.loyalty:50,f=.35,z=f-d/100*(f-.05);if(Math.random()<z)return delete i.player.flags.thug_healed,{text:'"..."',costAP:1,removeFollowers:["thug_follower"],changes:{sanity:-20}};const R=u?Math.floor(u.loyalty/15):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"",costAP:1,changes:{funds:8+R,suspicion:10,sanity:-2}}}}]},rooftop:{id:"rooftop",name:"",description:"",actions:[{id:"return_apartment_roof",label:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"dance_madeline",label:"",description:" (: , )",reqFlags:["lover_madeline"],reqItems:["music_box"],result:{text:"",costAP:1,changes:{sanity:15}}},{id:"gaze_stars",label:"",description:"",result:i=>{const u=`gazed_stars_day_${i.world.day}`;return i.player.flags[u]?{text:"",costAP:0}:{text:"",costAP:1,changes:{gnosis:1,sanity:-15},setFlags:{[u]:!0}}}},{id:"spot_cat",label:"",description:"",reqFollowersNot:["cat_follower"],result:{text:"",costAP:0}},{id:"feed_cat_fish",label:"",reqItems:["fresh_fish"],reqFollowersNot:["cat_follower"],result:i=>(i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={loyalty:30,status:"healthy"},{text:"",costAP:1,removeItems:["fresh_fish"],addFollowers:["cat_follower"],changes:{sanity:10}})}]}},Py={apartment:{id:"apartment",name:"Apartment 404",description:i=>{let u="A cramped rental where neon slashes across the blinds like fresh wounds.";return i.player.stats.sanity<50&&(u="The room no longer recognizes you; shadows crouch in the corners like kneeling congregants."),u+ta(i)},actions:[{id:"leave_apartment",label:"Step Outside",description:"Push open the heavy iron door and walk into the fog.",result:{text:"The night air is wet and cold; your footsteps echo down the hallway.",costAP:0,teleport:"street"}},{id:"go_rooftop",label:"Climb to Rooftop",description:"Take the old ladder up for a breath of air.",result:{text:"Each rung creaks under you; the wind tastes of rust.",costAP:0,teleport:"rooftop"}},{id:"sleep",label:"Sleep",description:"End the day and pray the gate of dreams stays shut.",reqFlagsNot:["lover_madeline"],result:{text:"Damp sheets cling to your back while you mutter warding phrases in your head.",costAP:99}},{id:"sleep_lover",label:"Sleep with Madeline",description:"Her warmth acts like a talisman, her breath muffling every omen.",reqFlags:["lover_madeline"],result:{text:"No elder whispers, only her steady heartbeat. For once, you sleep like a person.",costAP:99,changes:{sanity:30}}},{id:"eat_rat",label:"Roast Rat",description:"Even crude fire is enough to scare off parasites.",reqItems:["rat_meat"],result:i=>{const u=i.origin==="vagrant",d=`fed_day_${i.world.day}`;return{text:"Charred grease and acid stink mix together, but you force it down and hope your stomach remembers.",costAP:1,changes:{sanity:u?0:-5},removeItems:["rat_meat"],setFlags:{[d]:!0}}}},{id:"meditate",label:"Stare into the Void / Meditate",description:"Empty your mind and let your weary soul rest. Sometimes you glimpse deeper truths.",result:()=>Math.random()<.15?{text:"You close your eyes and let consciousness sink. In the void, you catch a whisper that doesn't belong to this world; it leaves a mark in your mind.",costAP:1,changes:{sanity:5,gnosis:1}}:{text:"You sit on the edge of the bed, staring at the stains on the wall. Time flows slowly, and the whispers quiet for a moment.",costAP:1,changes:{sanity:5}}},{id:"talk_madeline",label:"Talk to Madeline",description:"Her face grows paler; the cough sounds like steel plates scraping.",reqFollowers:["nurse_follower"],reqFlagsNot:["madeline_sick"],result:{text:"She rolls up her sleeve, black mottling creeping across her arm. Got it at the clinic. Dont waste resourcesI wont last long.",costAP:1,setFlags:{madeline_sick:!0}}},{id:"cure_madeline",label:"Inject Serum",description:"Use your handmade serum to steady the sickness (requires Purified Serum).",reqFlags:["madeline_sick"],reqItems:["purified_serum"],reqFlagsNot:["madeline_cured"],result:{text:"Blue liquid slides along her veins and the black patches recede. She leans into you, eyes rekindled. Why save me? This city isnt worth it.",costAP:1,removeItems:["purified_serum"],setFlags:{madeline_cured:!0,madeline_sick:!1},changes:{sanity:20}}},{id:"propose_madeline",label:"Propose to Madeline",description:"Make a vow amid the ruins (needs Silver Ring and she must be cured).",reqFlags:["madeline_cured"],reqItems:["silver_ring"],reqFlagsNot:["lover_madeline"],result:{text:"She holds the worn ring like a relic. All right. I will. Even if the world breaks tomorrow, tonight we stay together.",costAP:1,removeItems:["silver_ring"],setFlags:{lover_madeline:!0},changes:{sanity:50}}},{id:"study_scroll",label:"Study the Worm Scroll",description:"Try to comprehend words not meant for people.",reqItems:["crumbling_scroll"],result:{text:"The script leaps from parchment to retina; you glimpse the universe skewing and retch.",costAP:1,changes:{gnosis:5,sanity:-25},removeItems:["crumbling_scroll"]}},{id:"enter_dream",label:"Drink Laudanum",description:"Swallow the black tonic and sink toward the Pale City.",reqItems:["laudanum"],result:{text:"It tastes like burnt ink; reality melts like wax immediately after.",costAP:1,teleport:"pale_city",removeItems:["laudanum"]}},{id:"read_recipe_bread_rat",label:"Read Recipe Scrap (Nutritious Meal)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_bread_rat"],result:{text:"You see scribbles on the edge of an old newspaper: Moldy bread, if heated with meat, might become more palatable...",costAP:0,removeItems:["recipe_scrap_bread_rat"],setFlags:{recipe_known_bread_rat:!0}}},{id:"read_recipe_morphine_sedatives",label:"Read Recipe Scrap (Painkiller)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_morphine_sedatives"],result:{text:"The slip of paper is scrawled with: Morphine and sedatives mixed, heated, produce deep purple smoke that instantly eliminates all pain...",costAP:0,removeItems:["recipe_scrap_morphine_sedatives"],setFlags:{recipe_known_morphine_sedatives:!0}}},{id:"read_recipe_void_salt_fungus",label:"Read Recipe Scrap (Gnosis Elixir)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_void_salt_fungus"],result:{text:"The yellowed page records: Void salt and luminous fungus merge in flame, producing shimmering blue crystals that stretch consciousness into another dimension...",costAP:0,removeItems:["recipe_scrap_void_salt_fungus"],setFlags:{recipe_known_void_salt_fungus:!0}}},{id:"read_recipe_gold_tooth_coin",label:"Read Recipe Scrap (Alchemy Coin)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_gold_tooth_coin"],result:{text:"The circled line in the transaction record reads: Gold tooth and ancient coin fused under high heat form a coin that glimmers with mysterious light, its value far exceeding ordinary currency...",costAP:0,removeItems:["recipe_scrap_gold_tooth_coin"],setFlags:{recipe_known_gold_tooth_coin:!0}}},{id:"read_recipe_idol_mask",label:"Read Recipe Scrap (Ritual Mask)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_idol_mask"],result:{text:"The record mixing ancient script and modern symbols: Otherworldly idol and golden mask merge in alchemical flame, forming a twisted mask that reveals the true structure of the world when worn...",costAP:0,removeItems:["recipe_scrap_idol_mask"],setFlags:{recipe_known_idol_mask:!0}}},{id:"read_recipe_bread_spirits",label:"Read Recipe Scrap (Fermented Bread)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_bread_spirits"],result:{text:"The note records: Soak bread in spirits, process through alchemy to create food that brings brief comfort...",costAP:0,removeItems:["recipe_scrap_bread_spirits"],setFlags:{recipe_known_bread_spirits:!0}}},{id:"read_recipe_serum",label:"Read Recipe Scrap (Purified Serum)",description:"Carefully decipher the handwriting.",reqItems:["recipe_scrap_serum"],result:{text:"The crossed-out experimental steps in the discarded notes: Mix fungus with spirits, the liquid shifts from dark green to deep blue in the flask, refining a blue serum...",costAP:0,removeItems:["recipe_scrap_serum"],setFlags:{recipe_known_serum:!0}}},{id:"use_alchemy_serum",label:i=>i.player.flags.recipe_known_serum||i.player.inventory.includes("recipe_scrap_serum")?"Alchemy: Purify Serum":"Alchemy: ???",description:"Fungus + Spirits  Purified Serum (restores sanity).",reqItems:["alchemy_kit","strange_fungus","cheap_spirits"],result:{text:"Liquid in the flask shifts from dark green to deep blue, breathing a mint-cold vapor.",costAP:1,removeItems:["strange_fungus","cheap_spirits"],addItems:["purified_serum"]}},{id:"combine_bread_rat",label:i=>i.player.flags.recipe_known_bread_rat||i.player.inventory.includes("recipe_scrap_bread_rat")?"Alchemy: Nutritious Meal":"Alchemy: ???",description:"Bread + Rat Meat  Nutritious Meal (restores sanity).",reqItems:["alchemy_kit","bread","rat_meat"],result:{text:"You mix bread and rat meat, heating them on the alchemy table. The aroma of charred fat fills the air, creating a meal that fills the stomach.",costAP:1,removeItems:["bread","rat_meat"],addItems:["nutritious_meal"],changes:{sanity:10}}},{id:"combine_morphine_sedatives",label:i=>i.player.flags.recipe_known_morphine_sedatives||i.player.inventory.includes("recipe_scrap_morphine_sedatives")?"Alchemy: Strong Painkiller":"Alchemy: ???",description:"Morphine + Sedatives  Strong Painkiller (greatly restores sanity, may cause addiction).",reqItems:["alchemy_kit","morphine","sedatives"],result:i=>{const d=i.player.flags.addicted;return Math.random()<.4&&!d?{text:"The two liquids merge in the flask, producing deep purple smoke. You inhale once, and all pain vanishes instantlybut you know you can never be without it again.",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"The two liquids merge in the flask, producing deep purple smoke. You inhale once, and all pain vanishes instantly.",costAP:1,removeItems:["morphine","sedatives"],addItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"combine_void_salt_fungus",label:i=>i.player.flags.recipe_known_void_salt_fungus||i.player.inventory.includes("recipe_scrap_void_salt_fungus")?"Alchemy: Gnosis Elixir":"Alchemy: ???",description:"Void Salt + Luminous Fungus  Gnosis Elixir (increases gnosis).",reqItems:["alchemy_kit","void_salt","strange_fungus"],result:{text:"Salt crystals and fungus merge in the flame, producing shimmering blue crystals. Alchemy's refinement makes its effects gentler.",costAP:1,removeItems:["void_salt","strange_fungus"],addItems:["gnosis_elixir"]}},{id:"combine_gold_tooth_coin",label:i=>i.player.flags.recipe_known_gold_tooth_coin||i.player.inventory.includes("recipe_scrap_gold_tooth_coin")?"Alchemy: Alchemy Coin":"Alchemy: ???",description:"Gold Tooth + Ancient Coin  Alchemy Coin (valuable currency).",reqItems:["alchemy_kit","gold_tooth","ancient_coin"],result:{text:"The gold tooth and ancient coin merge under high heat, forming a coin that glimmers with mysterious light. Its value far exceeds ordinary currency.",costAP:1,removeItems:["gold_tooth","ancient_coin"],addItems:["alchemy_coin"],changes:{gnosis:2}}},{id:"combine_idol_mask",label:i=>i.player.flags.recipe_known_idol_mask||i.player.inventory.includes("recipe_scrap_idol_mask")?"Alchemy: Ritual Mask":"Alchemy: ???",description:"Otherworldly Idol + Golden Mask  Ritual Mask (greatly increases gnosis, costs sanity).",reqItems:["alchemy_kit","alien_idol","golden_mask"],result:{text:"The idol and mask merge in the alchemical flame, forming a twisted mask. When you wear it, you see the true structure of the worldbut at a cost.",costAP:1,removeItems:["alien_idol","golden_mask"],addItems:["ritual_mask"],changes:{gnosis:10,sanity:-30}}},{id:"combine_bread_spirits",label:i=>i.player.flags.recipe_known_bread_spirits||i.player.inventory.includes("recipe_scrap_bread_spirits")?"Alchemy: Fermented Bread":"Alchemy: ???",description:"Bread + Bootleg Spirits  Fermented Bread (restores sanity).",reqItems:["alchemy_kit","bread","cheap_spirits"],result:{text:"You soak the bread in spirits, processing it through alchemy to create a food that brings brief comfort. Alchemy's refinement perfectly blends the effects of both ingredients.",costAP:1,removeItems:["bread","cheap_spirits"],addItems:["fermented_bread"]}},{id:"pet_cat",label:"Pet Midnight",description:"The black cat purrs like a ritual drum, its warmth a small anchor in the dark. Can only pet once per day.",reqFollowers:["cat_follower"],result:i=>{const u=`petted_cat_day_${i.world.day}`;if(i.player.flags[u])return{text:"Midnight has had enough of your petting for today and just wants to curl up quietly in the corner. Today's comfort is already enough.",costAP:0};const f=i.player.followerStates?.cat_follower?.loyalty??50,k=10+Math.floor(f/20);return{text:"Midnight curls against your hand, purring in a rhythm that quiets the whispers. For a moment, the room feels safe.",costAP:0,changes:{sanity:Math.min(15,k)},setFlags:{[u]:!0}}}},{id:"feed_cat_fish_again",label:"Feed Midnight Fish",description:"Gain its trust with fresh fish.",reqFollowers:["cat_follower"],reqItems:["fresh_fish"],result:i=>{const u=i.player.followerStates?.cat_follower,d=u?.loyalty??50,f=Math.min(100,d+10);return i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={...u,loyalty:f,status:"healthy"},{text:"Midnight quickly devours the fish, then rubs against your hand contentedly.",costAP:1,removeItems:["fresh_fish"],changes:{sanity:5}}}},{id:"eat_fish",label:"Cook Fresh Fish",description:"Roast the fish over fire to fill your stomach.",reqItems:["fresh_fish"],result:i=>{const u=`fed_day_${i.world.day}`;return{text:"You roast the fish, and the taste makes you forget your hunger for a moment.",costAP:1,removeItems:["fresh_fish"],changes:{sanity:5},setFlags:{[u]:!0}}}},{id:"eat_bread",label:"Eat Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach.",reqItems:["bread"],result:{text:"You bite into the moldy bread, its dry texture like chalk dust, but the spasms in your stomach are indeed suppressed.",costAP:1,removeItems:["bread"],changes:{sanity:3}}},{id:"drink_spirits",label:"Drink Bootleg Spirits",description:"Harsh and murky spirits that temporarily numb the nerves and blur pain.",reqItems:["cheap_spirits"],result:{text:"You gulp down the spirits, the harsh taste like burning incense ash, but the alcohol quickly numbs your nerves, and pain becomes temporarily blurred.",costAP:1,removeItems:["cheap_spirits"],changes:{sanity:10}}},{id:"consume_alchemy_coin",label:"Absorb Alchemy Coin's Power",description:"Let the otherworldly light merge with your consciousness, gaining gnosis and restoring sanity.",reqItems:["alchemy_coin"],result:{text:"You grip the alchemy coin, and otherworldly light spills from between your fingers, seeping into your consciousness. You feel a deeper understanding of the world, and your sanity is restored.",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:5,sanity:15}}},{id:"use_nutritious_meal",label:"Eat Nutritious Meal",description:"Enjoy a carefully prepared meal to restore sanity.",reqItems:["nutritious_meal"],result:i=>{const u=`fed_day_${i.world.day}`;return{text:"You slowly chew the simple but warm meal. The aroma of charred fat spreads in your mouth, and satisfaction fills your stomach as sanity gradually returns.",costAP:1,removeItems:["nutritious_meal"],changes:{sanity:10},setFlags:{[u]:!0}}}},{id:"use_strong_painkiller",label:"Use Strong Painkiller",description:"Deep purple smoke instantly eliminates all pain and greatly restores sanity. Highly addictive; each use may make you more dependent.",reqItems:["strong_painkiller"],result:i=>{const d=i.player.flags.addicted;return d||Math.random()<.3&&!d?{text:"You inhale the deep purple smoke, and all pain vanishes instantly. Sanity floods back like a tide. But you feel an emptiness, as if only this smoke can fill it.",costAP:1,removeItems:["strong_painkiller"],setFlags:{addicted:!0},changes:{sanity:50}}:{text:"You inhale the deep purple smoke, and all pain vanishes instantly. Sanity floods back like a tide.",costAP:1,removeItems:["strong_painkiller"],changes:{sanity:50}}}},{id:"use_sedatives",label:"Take Sedatives",description:"Blue pills that drain the color from the world, as though a curtain has been drawn. Swallowed, anxiety and fear temporarily recede, giving sanity a moment's respite.",reqItems:["sedatives"],result:{text:"You swallow the blue pills, and the world begins to drain of color, as though a curtain has been drawn. Anxiety and fear temporarily recede, giving sanity a moment's respite.",costAP:1,removeItems:["sedatives"],changes:{sanity:15}}},{id:"use_morphine",label:"Inject Morphine",description:"Amber liquid that grants brief silence and can greatly ease pain, but each use may make you more dependent on it.",reqItems:["morphine"],requiresConfirmation:!0,confirmationMessage:i=>i.player.flags.addicted?"You are already addicted to morphine. Continued use will ease withdrawal symptoms but deepen your dependence. Are you sure you want to continue?":"Warning: Using morphine has a 30% chance of causing addiction. Once addicted, you will lose 12 sanity daily and need a 35-coin detox regimen to cure it. Are you sure you want to continue?",result:i=>{const d=i.player.flags.addicted;return Math.random()<.3&&!d?{text:"The needle pierces your skin, and the amber liquid slowly injects. Warmth rides your veins and pain ebbs like a tide. But you also feel an emptiness, as though only this liquid can fill it. The idea of life without it becomes terrifying.",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"The needle pierces your skin, and the amber liquid slowly injects. Warmth rides your veins and pain ebbs like a tide.",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}},{id:"use_purified_serum",label:"Inject Purified Serum",description:"Blue liquid that instantly quiets the mind and effectively restores sanity.",reqItems:["purified_serum"],result:{text:"The needle pierces your skin, and the blue liquid slowly injects. Your mind instantly quiets, the whispers and fears temporarily recede, and sanity is restored.",costAP:1,removeItems:["purified_serum"],changes:{sanity:20}}},{id:"use_gnosis_elixir",label:"Swallow Gnosis Elixir",description:"Shimmering blue crystals that increase gnosis and let you glimpse the true structure of the world. Alchemy's refinement greatly reduces side effects.",reqItems:["gnosis_elixir"],result:{text:"You place the blue crystal in your mouth, and it instantly dissolves. Your consciousness stretches into another dimension, and you see the true structure of the world. Alchemy's refinement greatly reduces side effectsyou gain more knowledge with only a small cost.",costAP:1,removeItems:["gnosis_elixir"],changes:{gnosis:8,sanity:-2}}},{id:"use_fermented_bread",label:"Eat Fermented Bread",description:"Bread soaked in spirits that brings brief comfort and restores sanity. Alchemy's refinement perfectly blends the effects of both ingredients for superior restoration.",reqItems:["fermented_bread"],result:i=>{const u=`fed_day_${i.world.day}`;return{text:"You bite into the fermented bread, the slight intoxication of alcohol mixing with the softness of bread. Alchemy's refinement perfectly blends the effects of both ingredients, providing far superior restoration than consuming them separately.",costAP:1,removeItems:["fermented_bread"],changes:{sanity:18},setFlags:{[u]:!0}}}},{id:"use_ritual_mask",label:"Wear Ritual Mask",description:"A twisted mask that reveals the true structure of the world and greatly increases gnosis. Alchemy's refinement reduces side effects, but a cost remains. Can only be used once per day.",reqItems:["ritual_mask"],result:i=>{const u=`used_ritual_mask_day_${i.world.day}`;return i.player.flags[u]?{text:"You pick up the mask again, but its power is exhausted. Today's revelation has ended; you must wait until tomorrow to glimpse the true structure of the world again.",costAP:0}:{text:"You press the twisted mask against your face, and instantly, the true structure of the world unfolds before you. You see things that should not exist, understand the universe's skew. Alchemy's refinement reduces side effects, but sanity still pays a price. The mask's power is temporarily exhausted; you must wait until tomorrow to use it again.",costAP:1,changes:{gnosis:7,sanity:-20},setFlags:{[u]:!0}}}},{id:"complete_follower_task",label:"Complete Follower Request",description:"Help your follower complete their request to gain loyalty.",reqFollowers:[],result:i=>{const u=i.player.followers.find(z=>{const R=i.player.followerStates?.[z];return R&&R.task&&R.status==="healthy"});if(!u)return{text:"No pending requests.",costAP:0};const d=i.player.followerStates[u],f=d.task,k=Oo(u);return f.type==="money"&&f.requirement.money?i.player.stats.funds<f.requirement.money?{text:`Your coin purse is too light. Need ${f.requirement.money} coins.`,costAP:0}:(i.player.stats.funds-=f.requirement.money,d.loyalty=Math.min(100,d.loyalty+(f.reward.loyalty||0)),d.task=void 0,{text:`${k} takes the coins, weighing them in their palm. "Thank you. I will remember this kindness."`,costAP:1,changes:{funds:-f.requirement.money}}):f.type==="item"&&f.requirement.item?i.player.inventory.includes(f.requirement.item)?(i.player.inventory=i.player.inventory.filter(R=>R!==f.requirement.item),d.loyalty=Math.min(100,d.loyalty+(f.reward.loyalty||0)),d.task=void 0,{text:`${k} takes the ${{bread:"bread",morphine:"morphine",sedatives:"sedatives",cheap_spirits:"spirits"}[f.requirement.item]||f.requirement.item}. "Thank you. I will repay this debt."`,costAP:1,removeItems:[f.requirement.item]}):{text:`You don't have ${{bread:"bread",morphine:"morphine",sedatives:"sedatives",cheap_spirits:"spirits"}[f.requirement.item]||f.requirement.item}.`,costAP:0}:f.type==="help"?(d.loyalty=Math.min(100,d.loyalty+(f.reward.loyalty||0)),d.task=void 0,{text:`You help ${k}. They look at you in silence, then bow deeply. "Thank you. I won't forget this."`,costAP:1,changes:{sanity:5}}):{text:"Request completed.",costAP:1}}},{id:"reject_follower_task",label:"Reject Follower Request",description:"Reject your follower's request, may lower loyalty.",reqFollowers:[],result:i=>{const u=i.player.followers.find(H=>{const q=i.player.followerStates?.[H];return q&&q.task&&q.status==="healthy"});if(!u)return{text:"No pending requests.",costAP:0};const d=i.player.followerStates[u],f=d.task,k=Oo(u);d.loyalty=Math.max(0,d.loyalty+(f.penalty.loyalty||0));const z=u==="nurse_follower",R=z&&i.player.flags.lover_madeline;return f.penalty.leave&&d.loyalty<30&&!R?(i.player.followers=i.player.followers.filter(H=>H!==u),delete i.player.followerStates[u],z?i.player.flags.madeline_left=!0:u==="beggar_follower"&&(i.player.flags.beggar_died=!0),{text:`${k}'s eyes grow cold. "I understand." ${z?"She":"They"} turn${z?"s":""} and leave${z?"s":""}, vanishing into the night.`,costAP:1,removeFollowers:[u],changes:{sanity:-10}}):(d.task=void 0,{text:R?`You shake your head. ${k} falls silent for a moment, her eyes showing disappointment, but she does not leave. "I understand... but I won't go."`:`You shake your head. ${k} falls silent for a moment, then nods. "I understand."`,costAP:1,changes:{sanity:-5}})}},{id:"heal_follower",label:"Heal Injured Follower",description:"Use medical supplies to heal an injured follower.",reqItems:["morphine","purified_serum"],reqFollowers:[],result:i=>{const u=i.origin==="doctor",d=i.player.followers.find(R=>{const L=i.player.followerStates?.[R];return L&&L.status==="injured"});if(!d)return{text:"No injured followers.",costAP:0};const f=i.player.followerStates[d],k=d==="beggar_follower"?"Gregory":d==="thug_follower"?"Bruno":d==="nurse_follower"?"Madeline":"follower";let z="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(R=>R!=="purified_serum"),z="purified_serum";else if(i.player.inventory.includes("morphine"))i.player.inventory=i.player.inventory.filter(R=>R!=="morphine"),z="morphine";else return{text:"You have no medicine that can heal wounds.",costAP:0};return f.status="healthy",f.loyalty=Math.min(100,f.loyalty+25),{text:`The medicine flows along ${k}'s wounds, their breathing gradually steadying. They grip your hand tightly. "Thank you. I owe you my life."`,costAP:u?0:1,removeItems:[z],changes:{sanity:10}}}},{id:"calm_insane_follower",label:"Calm Insane Follower",description:"Try to calm an insane follower, requires sedatives or serum.",reqItems:["sedatives","purified_serum"],reqFollowers:[],result:i=>{const u=i.player.followers.find(z=>{const R=i.player.followerStates?.[z];return R&&R.status==="insane"});if(!u)return{text:"No insane followers.",costAP:0};const d=i.player.followerStates[u],f=Oo(u);let k="";if(i.player.inventory.includes("purified_serum"))i.player.inventory=i.player.inventory.filter(z=>z!=="purified_serum"),k="purified_serum";else if(i.player.inventory.includes("sedatives"))i.player.inventory=i.player.inventory.filter(z=>z!=="sedatives"),k="sedatives";else return{text:"You have no medicine that can quell madness.",costAP:0};return Math.random()<.7?(d.status="healthy",d.loyalty=Math.min(100,d.loyalty+30),{text:`The medicine flows into ${f}'s veins, their whispers gradually ceasing. They blink, their eyes refocusing on you. "I... I'm back. Thank you."`,costAP:1,removeItems:[k],changes:{sanity:15}}):(d.loyalty=Math.min(100,d.loyalty+10),{text:`You inject ${f} with the medicine, but their whispers only pause briefly. Their eyes remain empty.`,costAP:1,removeItems:[k],changes:{sanity:5}})}},{id:"dispatch_beggar_steal",label:"Send Gregory to Steal",reqFollowers:["beggar_follower"],result:i=>{const u=i.player.followerStates?.beggar_follower;if(u&&u.status!=="healthy")return{text:"Gregory's condition prevents him from performing the task. He needs to recover first.",costAP:0};const d=i.player.stats.suspicion,z=d>30?Math.min(.5,.1+(d-30)*.0057):0;if(Math.random()<z)return i.player.flags.beggar_died=!0,{text:"Gregory never returns. A warrant slides under the door, your name written in a trembling hand.",costAP:1,removeFollowers:["beggar_follower"],setFlags:{beggar_died:!0},changes:{suspicion:40,sanity:-10}};const R=u?Math.floor(u.loyalty/20):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"Gregory returns, clutching a few mud-stained coins. He places them on the table.",costAP:1,changes:{funds:3+R,suspicion:3}}}},{id:"dispatch_thug_extort",label:"Send Bruno to Extort",reqFollowers:["thug_follower"],result:i=>{const u=i.player.followerStates?.thug_follower;if(u&&u.status!=="healthy")return{text:"Bruno's condition prevents him from performing the task. He needs to recover first.",costAP:0};const d=u?u.loyalty:50,f=.35,z=f-d/100*(f-.05);if(Math.random()<z)return delete i.player.flags.thug_healed,{text:'Late at night, Bruno drags himself back to you, trailing blood. He collapses at your feet, blood seeping from his wounds. "This time... it was my turn to pay." His heartbeat fades in your palm.',costAP:1,removeFollowers:["thug_follower"],changes:{sanity:-20}};const R=u?Math.floor(u.loyalty/15):0;return u&&(u.loyalty=Math.min(100,u.loyalty+2)),{text:"Bruno tosses a bulging wallet before you, someone else's teeth still imprinted on his knuckles.",costAP:1,changes:{funds:8+R,suspicion:10,sanity:-2}}}}]},rooftop:{id:"rooftop",name:"Apartment Rooftop",description:"Cold wind scrapes over the rusted guardrail while industrial smog sands the starlight pale.",actions:[{id:"return_apartment_roof",label:"Climb Down",result:{text:"You descend the rusted ladder, palms coated in iron filings.",costAP:0,teleport:"apartment"}},{id:"dance_madeline",label:"Dance with Madeline",description:"Slow dance on the brink of the world (requires lover + music box).",reqFlags:["lover_madeline"],reqItems:["music_box"],result:{text:"The music box leaks a fragile waltz; you turn in the wind while the city noise stays below.",costAP:1,changes:{sanity:15}}},{id:"gaze_stars",label:"Stargaze",description:"Search for constellations that have been rearranged. Gazing at the stars consumes great sanity, but occasionally reveals cosmic truth.",result:i=>{const u=`gazed_stars_day_${i.world.day}`;return i.player.flags[u]?{text:"You look up again, but the starlight is completely obscured by industrial smog. Tonight's sky has nothing more to offer.",costAP:0}:{text:"You stare at Orion until the stars bend into geometryand geometry can be pronounced. The truth of the universe flashes before your eyes, but the price of gazing is a heavy toll on sanity.",costAP:1,changes:{gnosis:1,sanity:-15},setFlags:{[u]:!0}}}},{id:"spot_cat",label:"Shadow in the Corner",description:"A pair of green eyes flashes in the dark.",reqFollowersNot:["cat_follower"],result:{text:"A black cat crouches by the pipes, wary and hungry.",costAP:0}},{id:"feed_cat_fish",label:"Feed the Cat Fish",reqItems:["fresh_fish"],reqFollowersNot:["cat_follower"],result:i=>(i.player.followerStates||(i.player.followerStates={}),i.player.followerStates.cat_follower={loyalty:30,status:"healthy"},{text:"It devours the fish, then bumps your leg to say it will follow.",costAP:1,removeItems:["fresh_fish"],addFollowers:["cat_follower"],changes:{sanity:10}})}]}},Ky={street:{id:"street",name:"7",description:i=>""+ta(i),actions:[{id:"return_apartment",label:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"run_away",label:"",description:" (: , $50)",reqFlags:["lover_madeline"],reqStats:{funds:50},result:{text:"",costAP:1,setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"escape_smuggle",label:"",description:" (: $200)",reqStats:{funds:200},result:{text:"",costAP:2,changes:{funds:-200},setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"enter_clinic",label:"",description:"",result:{text:"",costAP:0,teleport:"clinic"}},{id:"enter_tavern",label:"",description:"",result:{text:"",costAP:0,teleport:"tavern",setFlags:{known_tavern:!0}}},{id:"work_dock",label:"",description:"",reqStats:{sanity:15},result:{text:"",costAP:1,changes:{funds:4,sanity:-12}}},{id:"scavenge",label:"",description:"",result:()=>{if(Math.random()<.05){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],d=u[Math.floor(Math.random()*u.length)];return{text:"",costAP:1,changes:{funds:1,sanity:-2},addItems:[d]}}return{text:"",costAP:1,changes:{funds:1,sanity:-2}}}},{id:"beg",label:"",description:"",result:i=>{const d=i.origin==="vagrant"?.8:.4;if(Math.random()<d){const k=Math.random()<.5?1:2;return{text:k===1?"":"",costAP:1,changes:{funds:k,sanity:-3}}}else return{text:"",costAP:1,changes:{sanity:-5}}}},{id:"enter_black_market",label:"",description:"",reqFlags:["known_market"],reqFlagsNot:["black_market_banned"],reqStats:{funds:5},result:{text:"",costAP:1,teleport:"black_market"}},{id:"visit_asylum",label:"",description:"9",reqFlags:["known_asylum"],result:{text:"",costAP:0,teleport:"asylum"}},{id:"visit_ministry",label:"",description:"",reqFlags:["known_ministry"],result:{text:"",costAP:0,teleport:"ministry"}},{id:"recruit_beggar",label:"",description:"",reqFlags:["met_beggar"],reqFollowersNot:["beggar_follower"],reqFlagsNot:["beggar_died"],reqStats:{gnosis:3},reqItems:["strange_fungus"],result:{text:'""',costAP:1,removeItems:["strange_fungus"],addFollowers:["beggar_follower"],changes:{gnosis:1}}},{id:"recruit_thug",label:"",description:"",reqItems:["morphine"],reqFollowersNot:["thug_follower"],reqFlagsNot:["thug_healed"],result:{text:"",costAP:1,removeItems:["morphine"],addFollowers:["thug_follower"],setFlags:{thug_healed:!0}}},{id:"talk_beggar",label:"",reqFlagsNot:["met_beggar"],result:()=>({text:"",costAP:1,addItems:["rusty_key"],setFlags:{met_beggar:!0,known_market:!0},changes:{suspicion:5}})},{id:"unlock_sewers",label:"",reqItems:["rusty_key"],reqFlagsNot:["sewers_open"],result:{text:"",costAP:1,setFlags:{sewers_open:!0},teleport:"sewers"}},{id:"enter_sewers",label:"",reqFlags:["sewers_open"],result:{text:"",costAP:0,teleport:"sewers"}},{id:"steal_fish",label:"",description:"",reqFlagsNot:["cat_follower"],result:i=>{const u=i.player.inventory.includes("officer_badge"),d=u?3:0;return Math.random()<.3?{text:u?"":'""',costAP:1,changes:{suspicion:10-d}}:{text:u?"":"",costAP:1,addItems:["fresh_fish"],changes:{suspicion:5-d}}}}]},tavern:{id:"tavern",name:"",description:i=>""+ta(i),actions:[{id:"leave_tavern",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"buy_bread",label:"",description:"",reqStats:{funds:2},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"drink_ale",label:"",description:"",reqStats:{funds:3},result:{text:"",costAP:1,changes:{funds:-3,sanity:5}}},{id:"gamble_dice",label:"",description:"",reqStats:{funds:5},requiresConfirmation:!0,confirmationMessage:i=>{const u=i.player.inventory.includes("loaded_dice")?60:30;return`${u}%8+2${100-u}%5-2`},result:i=>Math.random()<(i.player.inventory.includes("loaded_dice")?.6:.3)?{text:"",costAP:1,changes:{funds:8,sanity:2}}:{text:"",costAP:1,changes:{funds:-5,sanity:-2}}},{id:"listen_rumors",label:"",description:"",result:i=>{if(i.player.flags.known_market)if(i.player.flags.known_asylum){if(!i.player.flags.known_ministry)return{text:"",costAP:1,setFlags:{known_ministry:!0}}}else return{text:"9",costAP:1,setFlags:{known_asylum:!0}};else return{text:"",costAP:1,setFlags:{known_market:!0}};return{text:"",costAP:1,changes:{suspicion:2}}}}]},clinic:{id:"clinic",name:"",description:i=>""+ta(i),actions:[{id:"leave_clinic",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"work_clinic",label:"",description:"",reqFlags:["medical_training"],reqFlagsNot:["clinic_fired"],result:()=>{const i=Pe.clinicWork;return{text:"",costAP:i.costAP,changes:{funds:i.rewardFunds,sanity:-3},setFlags:{clinic_worked_today:!0,clinic_missed_days:0}}}},{id:"talk_nurse",label:"",description:"",reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'""',costAP:1}},{id:"recruit_nurse_gold",label:"",description:"",reqItems:["gold_tooth"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'""',costAP:1,removeItems:["gold_tooth"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"recruit_nurse_file",label:"",description:"",reqItems:["classified_file"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:"",costAP:1,removeItems:["classified_file"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"cure_infection",label:"",description:"",reqStats:{funds:20},reqFlags:["infected"],result:{text:"",costAP:1,changes:{funds:-20},setFlags:{infected:!1}}},{id:"rehab_addiction",label:"",description:"",reqStats:{funds:35},reqFlags:["addicted"],result:{text:"",costAP:3,changes:{funds:-35,sanity:-20},setFlags:{addicted:!1}}},{id:"sell_blood",label:"",description:"",reqStats:{sanity:30},result:{text:"",costAP:1,changes:{funds:6,sanity:-25}}},{id:"sell_kidney",label:"",description:"",reqStats:{funds:0},reqFlagsNot:["kidney_sold"],result:{text:"",costAP:3,changes:{funds:40,sanity:-20},setFlags:{kidney_sold:!0}}},{id:"buy_laudanum",label:"",description:"",reqStats:{funds:15},reqItemsNot:["laudanum","forbidden_name"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["laudanum"]})},{id:"buy_sedatives",label:"",description:"",reqStats:{funds:10},result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["sedatives"]})},{id:"buy_morphine",label:"",description:"",reqStats:{funds:25},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["morphine"]})},{id:"implant_fungus",label:"",description:"",reqItems:["strange_fungus"],reqFlagsNot:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"2040%",result:{text:"",costAP:2,removeItems:["strange_fungus"],changes:{sanity:-20},setFlags:{fungus_host:!0}}},{id:"harvest_self",label:"",description:"",reqFlags:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"2040%8",result:()=>{const i=Math.random()<.4;return{text:i?"":"",costAP:1,addItems:["strange_fungus"],changes:{sanity:-20},setFlags:i?{infected:!0}:{}}}},{id:"use_morphine_risky",label:"",reqItems:["morphine"],description:"",requiresConfirmation:!0,confirmationMessage:i=>i.player.flags.addicted?"":"30%1235",result:i=>Math.random()<.3&&!i.player.flags.addicted?{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}]},black_market:{id:"black_market",name:"",description:"",actions:[{id:"leave_market",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"buy_lantern",label:"",description:"",reqStats:{funds:8},reqItemsNot:["brass_lantern"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(8*1.5):8)},addItems:["brass_lantern"]})},{id:"buy_music_box",label:"",description:"",reqStats:{funds:20},reqItemsNot:["music_box"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["music_box"]})},{id:"buy_ring",label:"",description:"",reqStats:{funds:15},reqItemsNot:["silver_ring"],result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["silver_ring"]})},{id:"buy_alchemy_kit",label:"",description:"",reqStats:{funds:25},reqItemsNot:["alchemy_kit"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["alchemy_kit"]})},{id:"buy_scroll",label:"",description:"",reqStats:{funds:20},reqItemsNot:["crumbling_scroll"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["crumbling_scroll"]})},{id:"buy_iron_dagger",label:"",description:"",reqStats:{funds:12},reqItemsNot:["iron_dagger"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(12*1.5):12)},addItems:["iron_dagger"]})},{id:"buy_scalpel",label:"",description:"",reqStats:{funds:10},reqItemsNot:["scalpel"],result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["scalpel"]})},{id:"buy_rare_item_coin",label:"",description:"",reqItems:["alchemy_coin"],requiresConfirmation:!0,confirmationMessage:"",result:()=>{const i=Math.random();let u,d;return i<.05?(u="ritual_dagger",d=""):i<.3?(u="alien_idol",d=""):i<.45?(u="golden_mask",d=""):i<.7?(u="void_salt",d=""):(u="ancient_coin",d=""),{text:`"..."${d}`,costAP:1,removeItems:["alchemy_coin"],addItems:[u]}}},{id:"buy_bread",label:"",description:"",reqStats:{funds:2},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"buy_spirits",label:"",description:"",reqStats:{funds:4},result:i=>({text:"",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(4*1.5):4),sanity:15},addItems:["cheap_spirits"]})},{id:"sell_gold_tooth",label:"",reqItems:["gold_tooth"],result:{text:"",costAP:1,changes:{funds:6},removeItems:["gold_tooth"]}},{id:"sell_alchemy_coin",label:"",reqItems:["alchemy_coin"],result:{text:'"..."',costAP:1,changes:{funds:30},removeItems:["alchemy_coin"]}},{id:"sell_fungus",label:"",reqItems:["strange_fungus"],result:{text:'""',costAP:1,changes:{funds:4},removeItems:["strange_fungus"]}},{id:"sell_idol",label:"",reqItems:["alien_idol"],result:{text:'""',costAP:1,changes:{funds:50},removeItems:["alien_idol"]}},{id:"sell_mask",label:"",reqItems:["golden_mask"],result:{text:'""',costAP:1,changes:{funds:40},removeItems:["golden_mask"]}},{id:"sell_ritual_mask",label:"",reqItems:["ritual_mask"],result:{text:'"..."',costAP:1,changes:{funds:135},removeItems:["ritual_mask"]}},{id:"sell_purge_list",label:"",reqItems:["purge_list"],result:i=>(delete i.player.flags.purge_list_accessed,{text:'""',costAP:1,changes:{funds:60},removeItems:["purge_list"]})},{id:"sell_file",label:"",reqItems:["classified_file"],result:{text:"",costAP:1,changes:{funds:25},removeItems:["classified_file"]}},{id:"sell_fermented_bread",label:"",reqItems:["fermented_bread"],result:{text:'"..."',costAP:1,changes:{funds:8},removeItems:["fermented_bread"]}}]}},$y={street:{id:"street",name:"District 7 Street",description:i=>"Yellow fog drifts along the avenue, and people hurry through it as though each clutches an unfinished ritual."+ta(i),actions:[{id:"return_apartment",label:"Return to Apartment",result:{text:"You hurry back to the apartment.",costAP:0,teleport:"apartment"}},{id:"run_away",label:"Flee the City",description:"Abandon rituals and titles; leave with her alone (requires lover + $50).",reqFlags:["lover_madeline"],reqStats:{funds:50},result:{text:"You bribe the gate guards and squeeze onto a freight truck. The skyline recedes, leaving only the hand you clutch; every other title dissolves into the fog.",costAP:1,setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"escape_smuggle",label:"Escape by Smuggling",description:"Use a large sum to bribe a smuggling ship and flee this cursed city (requires: $200).",reqStats:{funds:200},result:{text:"You find a smuggling ship; the captain takes your money and hides you in the cargo hold. Days later, you see unfamiliar coastlines. The city, along with its secrets and horrors, is left behind.",costAP:2,changes:{funds:-200},setFlags:{victory_achieved:!0,escape_ending:!0}}},{id:"enter_clinic",label:"Enter Back-Alley Clinic",description:"The red cross flickers on and off through the fog.",result:{text:"You push the door and are hit by disinfectant and alcohol.",costAP:0,teleport:"clinic"}},{id:"enter_tavern",label:"Push the Saloon Doors",description:"Behind them wait groaning drums and mingled smells.",result:{text:"You step into the Drowned Sailor; liquor haze and lamp light braid together.",costAP:0,teleport:"tavern",setFlags:{known_tavern:!0}}},{id:"work_dock",label:"Seek Dock Labor",description:"Trade sinew for coin. High-pressure work drains sanity.",reqStats:{sanity:15},result:{text:"Crates force the air from your lungs while salt mist rakes your throat raw.",costAP:1,changes:{funds:4,sanity:-12}}},{id:"scavenge",label:"Scavenge in Garbage",description:"Search for discarded valuables. Low risk, low reward.",result:()=>{if(Math.random()<.05){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],d=u[Math.floor(Math.random()*u.length)];return{text:"You dig through the garbage and find a crumpled note, its edges water-stained.",costAP:1,changes:{funds:1,sanity:-2},addItems:[d]}}return{text:"You dig through the garbage and find some usable items.",costAP:1,changes:{funds:1,sanity:-2}}}},{id:"beg",label:"Beg on the Street",description:"Hold out your hand to passersby, but most will only offer cold stares.",result:i=>{const d=i.origin==="vagrant"?.8:.4;if(Math.random()<d){const k=Math.random()<.5?1:2;return{text:k===1?"Someone tosses you a coin; you scramble to pick it up.":"A kind soul gives you two coins; you mutter thanks.",costAP:1,changes:{funds:k,sanity:-3}}}else return{text:"People hurry past without stopping. You only feel shame and exhaustion.",costAP:1,changes:{sanity:-5}}}},{id:"enter_black_market",label:"Find Black Market Entrance",description:"Only those who recall the password get in.",reqFlags:["known_market"],reqFlagsNot:["black_market_banned"],reqStats:{funds:5},result:{text:"The doorman pockets the bribe and knocks three coded rhythms on an iron door.",costAP:1,teleport:"black_market"}},{id:"visit_asylum",label:"Go to Asylum",description:"Beyond District 9s walls lies a supposed clean zone.",reqFlags:["known_asylum"],result:{text:"You cross the cordon and step on disinfected tiles.",costAP:0,teleport:"asylum"}},{id:"visit_ministry",label:"Go to Ministry Hall",description:"The administrative monolith shaped like a shrine.",reqFlags:["known_ministry"],result:{text:"The revolving door swallows you while countless eyes stare from the dome.",costAP:0,teleport:"ministry"}},{id:"recruit_beggar",label:"Recruit the Beggar",description:"Use fungus and whispers to summon a courier.",reqFlags:["met_beggar"],reqFollowersNot:["beggar_follower"],reqFlagsNot:["beggar_died"],reqStats:{gnosis:3},reqItems:["strange_fungus"],result:{text:'He swallows the fungus and presses his forehead to the ground. "I see it. Take me to the one you serve."',costAP:1,removeItems:["strange_fungus"],addFollowers:["beggar_follower"],changes:{gnosis:1}}},{id:"recruit_thug",label:"Inject the Enforcer",description:"Use the drug to drag him back from deaths gate.",reqItems:["morphine"],reqFollowersNot:["thug_follower"],reqFlagsNot:["thug_healed"],result:{text:"The medicine runs through his veins and the tremors stop. This life is yours now.",costAP:1,removeItems:["morphine"],addFollowers:["thug_follower"],setFlags:{thug_healed:!0}}},{id:"talk_beggar",label:"Approach the Beggar",reqFlagsNot:["met_beggar"],result:()=>({text:"He grabs your sleeve and presses a rusty key into your palm. Down there remember the password.",costAP:1,addItems:["rusty_key"],setFlags:{met_beggar:!0,known_market:!0},changes:{suspicion:5}})},{id:"unlock_sewers",label:"Unlock the Manhole",reqItems:["rusty_key"],reqFlagsNot:["sewers_open"],result:{text:"The key clicks in response and the cover lifts slowly, vomiting rot.",costAP:1,setFlags:{sewers_open:!0},teleport:"sewers"}},{id:"enter_sewers",label:"Enter Sewers",reqFlags:["sewers_open"],result:{text:"You grip the cold ladder and descend until the dark swallows your steps.",costAP:0,teleport:"sewers"}},{id:"steal_fish",label:"Steal a Fish",description:"Slip one away while the fisher looks elsewhere.",reqFlagsNot:["cat_follower"],result:i=>{const u=i.player.inventory.includes("officer_badge"),d=u?3:0;return Math.random()<.3?{text:u?"You flash your badge; the fisher immediately falls silent and steps back.":'"Stop!" someone shouts, forcing you to flee empty-handed.',costAP:1,changes:{suspicion:10-d}}:{text:u?"You flash your badge; the fisher dares not speak, and you calmly take a fish.":"You tuck a still-flopping fish inside your coat.",costAP:1,addItems:["fresh_fish"],changes:{suspicion:5-d}}}}]},tavern:{id:"tavern",name:"The Drowned Sailor",description:i=>"Tobacco, liquor, and sweat curl together here; nobody asks your past so long as you can pay."+ta(i),actions:[{id:"leave_tavern",label:"Leave Tavern",result:{text:"You push the door and the fog scrubs away the stench of drink.",costAP:0,teleport:"street"}},{id:"buy_bread",label:"Buy Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach. Basic survival food.",reqStats:{funds:2},result:i=>({text:'The bartender pulls a moldy loaf from under the counter and tosses it to you. "Enough to fill your stomach."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"drink_ale",label:"Drink Cheap Ale",description:"Bitter as sin but it warms the gut.",reqStats:{funds:3},result:{text:"Foam rasps down your throat and your shoulders loosen a notch.",costAP:1,changes:{funds:-3,sanity:5}}},{id:"gamble_dice",label:"Roll Dice",description:"Let the cubes decide your luck.",reqStats:{funds:5},requiresConfirmation:!0,confirmationMessage:i=>{const u=i.player.inventory.includes("loaded_dice")?60:30;return`Warning: This is a gambling action. You have a ${u}% chance to win (net gain 8 coins, +2 sanity) but also a ${100-u}% chance to lose (net loss 5 coins, -2 sanity). Are you sure you want to continue?`},result:i=>Math.random()<(i.player.inventory.includes("loaded_dice")?.6:.3)?{text:"The dice obey and the drunks pockets are yours.",costAP:1,changes:{funds:8,sanity:2}}:{text:"They tumble across the table and your money tumbles with them.",costAP:1,changes:{funds:-5,sanity:-2}}},{id:"listen_rumors",label:"Gather Rumors",description:"Drink-slick tongues sometimes spill real intel.",result:i=>{if(i.player.flags.known_market)if(i.player.flags.known_asylum){if(!i.player.flags.known_ministry)return{text:"A drunk complains the Ministry hall squats beside the square like a tombstone.",costAP:1,setFlags:{known_ministry:!0}}}else return{text:"Word is District 9 Asylum needs bodies; theyre recruiting volunteers on the street.",costAP:1,setFlags:{known_asylum:!0}};else return{text:"Someone whispers about a staircase leading underground; bring enough cash and you can descend.",costAP:1,setFlags:{known_market:!0}};return{text:"The rest is gossip about green sewer lights and missing vagrants.",costAP:1,changes:{suspicion:2}}}}]},clinic:{id:"clinic",name:"Back-Alley Clinic",description:i=>"A jaundiced bulb swings overhead while the doctor wipes scalpels with coarse cloth. This place treats ailments the Ministry refuses to acknowledge."+ta(i),actions:[{id:"leave_clinic",label:"Leave Clinic",result:{text:"You step back into the fog and the blood-smell thins at once.",costAP:0,teleport:"street"}},{id:"work_clinic",label:"Work at Clinic",description:"As a doctor, you can work here for steady income. Each shift consumes sanity but provides stable funds.",reqFlags:["medical_training"],reqFlagsNot:["clinic_fired"],result:()=>{const i=Pe.clinicWork;return{text:"You put on your white coat and begin the day's consultations. The patients' pain and despair exhaust you, but at least it brings some income.",costAP:i.costAP,changes:{funds:i.rewardFunds,sanity:-3},setFlags:{clinic_worked_today:!0,clinic_missed_days:0}}}},{id:"talk_nurse",label:"Speak with the Crying Nurse",description:"She clearly has trouble looming.",reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:'"The interest spiked again. One more day and they sell me to the mines." She wipes her tears with her sleeve.',costAP:1}},{id:"recruit_nurse_gold",label:"Pay Her Debt with Gold Tooth",description:"This tooth can settle the ledger.",reqItems:["gold_tooth"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:`She stares at the tooth for a long while before taking it. "I'll spend the rest of my life repaying this."`,costAP:1,removeItems:["gold_tooth"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"recruit_nurse_file",label:"Leverage the Dossier",description:"Use the classified file as blackmail.",reqItems:["classified_file"],reqFollowersNot:["nurse_follower"],reqFlagsNot:["madeline_left"],result:{text:"You drop the file on the table; the mob boss reads it in silence, then wipes her debt clean.",costAP:1,removeItems:["classified_file"],addFollowers:["nurse_follower"],setFlags:{madeline_recruited:!0}}},{id:"cure_infection",label:"Treat Rot Disease",description:"Scrape away corruption and flood it with liquor.",reqStats:{funds:20},reqFlags:["infected"],result:{text:"Liquor burns across the wound before numbness settles and the flesh knits shut.",costAP:1,changes:{funds:-20},setFlags:{infected:!1}}},{id:"rehab_addiction",label:"Detox Regimen",description:"Ride out the craving in restraints.",reqStats:{funds:35},reqFlags:["addicted"],result:{text:"They strap you to a bed for three days; sweat and vomit pool beneath you until all thats left is a shaking breath.",costAP:3,changes:{funds:-35,sanity:-20},setFlags:{addicted:!1}}},{id:"sell_blood",label:"Sell Blood",description:"Trade plasma for cash.",reqStats:{sanity:30},result:{text:"A thick needle taps your vein and a glass bottle slowly fills red while your head drifts.",costAP:1,changes:{funds:6,sanity:-25}}},{id:"sell_kidney",label:"Sell a Kidney",description:"Exchange an organ for breathing room.",reqStats:{funds:0},reqFlagsNot:["kidney_sold"],result:{text:"When the anesthesia fades, your waist is swaddled in bandages and a blood-speckled bundle of bills waits nearby.",costAP:3,changes:{funds:40,sanity:-20},setFlags:{kidney_sold:!0}}},{id:"buy_laudanum",label:"Purchase Laudanum",description:"Ticket to the dreamscape.",reqStats:{funds:15},reqItemsNot:["laudanum","forbidden_name"],result:i=>({text:"The doctor retrieves a black bottle from the safe and tells you to open it in silence.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["laudanum"]})},{id:"buy_sedatives",label:"Purchase Sedatives",description:"Official calming pills.",reqStats:{funds:10},result:i=>({text:"Blue tablets slide into a paper pouch; you are told not to indulge.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["sedatives"]})},{id:"buy_morphine",label:"Purchase Morphine",description:"Costly and perilous peace.",reqStats:{funds:25},result:i=>({text:'An ampoule is pressed into your palm. "Do not let it take command," the doctor warns.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["morphine"]})},{id:"implant_fungus",label:"Implant Luminous Fungus",description:"Let the mycelium lodge in your flesh.",reqItems:["strange_fungus"],reqFlagsNot:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"Warning: Implanting the fungus will cause 20 sanity loss and make you a fungus host. While you can harvest it later, harvesting has a 40% chance of causing infection. Are you sure you want to continue?",result:{text:"The fungus is pushed into the split muscle; when the stitches tighten you feel it pulse.",costAP:2,removeItems:["strange_fungus"],changes:{sanity:-20},setFlags:{fungus_host:!0}}},{id:"harvest_self",label:"Harvest Your Fungus",description:"Treat the host as the offering.",reqFlags:["fungus_host"],requiresConfirmation:!0,confirmationMessage:"Warning: Harvesting your fungus will cause 20 sanity loss and has a 40% chance of causing infection. Once infected, you will lose 8 sanity daily. Are you sure you want to continue?",result:()=>{const i=Math.random()<.4;return{text:i?"The blade grazes the wound and fire spreads, infection blooming immediately.":"You suppress the tremor and dig a glowing tuft from your arm.",costAP:1,addItems:["strange_fungus"],changes:{sanity:-20},setFlags:i?{infected:!0}:{}}}},{id:"use_morphine_risky",label:"Inject Morphine",reqItems:["morphine"],description:"Borrow a brief silence from the needle.",requiresConfirmation:!0,confirmationMessage:i=>i.player.flags.addicted?"You are already addicted to morphine. Continued use will ease withdrawal symptoms but deepen your dependence. Are you sure you want to continue?":"Warning: Using morphine has a 30% chance of causing addiction. Once addicted, you will lose 12 sanity daily and need a 35-coin detox regimen to cure it. Are you sure you want to continue?",result:i=>Math.random()<.3&&!i.player.flags.addicted?{text:"A gentle undertow wraps around you, and the idea of life without it becomes terrifying.",costAP:1,changes:{sanity:40},removeItems:["morphine"],setFlags:{addicted:!0}}:{text:"Warmth rides your veins and pain ebbs like a tide.",costAP:1,changes:{sanity:40},removeItems:["morphine"]}}]},black_market:{id:"black_market",name:"Underground Market",description:"A damp basement crammed with contraband; transactions care only for price, never for names.",actions:[{id:"leave_market",label:"Leave Market",result:{text:"You return to the street, vendors whispers still clinging to your ears.",costAP:0,teleport:"street"}},{id:"buy_lantern",label:"Buy Brass Lantern",description:"Essential flame for sewer expeditions.",reqStats:{funds:8},reqItemsNot:["brass_lantern"],result:i=>({text:'A new wick goes into the old lantern; the seller taps the glass. "Enough to reach the bottom."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(8*1.5):8)},addItems:["brass_lantern"]})},{id:"buy_music_box",label:"Buy Music Box",description:"An expensive, unnecessary romance.",reqStats:{funds:20},reqItemsNot:["music_box"],result:i=>({text:"The box is slipped into a cloth pouch, its spring still ticking.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["music_box"]})},{id:"buy_ring",label:"Buy Silver Ring",description:"A promise forged amid rubble.",reqStats:{funds:15},reqItemsNot:["silver_ring"],result:i=>({text:"The merchant studies you, then silently slides the ring across the counter.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15)},addItems:["silver_ring"]})},{id:"buy_alchemy_kit",label:"Buy Alchemy Kit",description:"Tools that can rewrite recipes.",reqStats:{funds:25},reqItemsNot:["alchemy_kit"],result:i=>({text:'"Do not fire it up during an air raid," the seller warns while handing over the stained apparatus.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(25*1.5):25)},addItems:["alchemy_kit"]})},{id:"buy_scroll",label:"Buy Worm Scroll",description:"A mold-reeking forbidden text.",reqStats:{funds:20},reqItemsNot:["crumbling_scroll"],result:i=>({text:'Wrapped in coarse cloth, the scroll comes with a warning: "Never read it in the light."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(20*1.5):20)},addItems:["crumbling_scroll"]})},{id:"buy_iron_dagger",label:"Buy Iron Dagger",description:"A common street weapon, crude but deadly enough.",reqStats:{funds:12},reqItemsNot:["iron_dagger"],result:i=>({text:'The vendor pulls an iron dagger from under the counter, the edge glinting in the dim light. "This will do."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(12*1.5):12)},addItems:["iron_dagger"]})},{id:"buy_scalpel",label:"Buy Scalpel",description:"A common surgical tool from the clinic, sharp as a razor.",reqStats:{funds:10},reqItemsNot:["scalpel"],result:i=>({text:'The vendor hands you a scalpel, the blade reflecting cold light. "Be careful, this thing is more dangerous than it looks."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(10*1.5):10)},addItems:["scalpel"]})},{id:"buy_rare_item_coin",label:"Gamble with Alchemy Coin (High Risk)",description:"Trade the mysterious coin for the black market's most precious items. Warning: This is a gambleyou may receive items of varying value. Risk at your own discretion.",reqItems:["alchemy_coin"],requiresConfirmation:!0,confirmationMessage:"Warning: This is a high-risk gamble. You may receive very valuable items (like Obsidian Dagger) but also only common materials (like Ancient Coin). The alchemy coin will be consumed. Are you sure you want to continue?",result:()=>{const i=Math.random();let u,d;return i<.05?(u="ritual_dagger",d="Obsidian Dagger"):i<.3?(u="alien_idol",d="Otherworldly Idol"):i<.45?(u="golden_mask",d="Golden Mask"):i<.7?(u="void_salt",d="Void Salt"):(u="ancient_coin",d="Ancient Coin"),{text:`The vendor takes the alchemy coin, eyes flashing with greed. "This glow... I understand. This is true alchemy. I'll trade you this." He hands you ${d}.`,costAP:1,removeItems:["alchemy_coin"],addItems:[u]}}},{id:"buy_bread",label:"Buy Moldy Bread",description:"A rigid lump of mold, unpleasant to swallow but at least it fills the stomach. Basic survival food.",reqStats:{funds:2},result:i=>({text:'The vendor digs out a moldy loaf from a corner. "Enough to keep you going for a while."',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(2*1.5):2)},addItems:["bread"]})},{id:"buy_spirits",label:"Buy Bootleg Spirits",description:"Cheap anesthesia.",reqStats:{funds:4},result:i=>({text:"A bottle of cloudy liquor smelling like rotten barrels is pressed into your hand.",costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(4*1.5):4),sanity:15},addItems:["cheap_spirits"]})},{id:"sell_gold_tooth",label:"Sell Gold Tooth",reqItems:["gold_tooth"],result:{text:"A handful of coins get tossed your way with little ceremony.",costAP:1,changes:{funds:6},removeItems:["gold_tooth"]}},{id:"sell_alchemy_coin",label:"Sell Alchemy Coin",reqItems:["alchemy_coin"],result:{text:`The vendor's eyes flash in the otherworldly glow of the coin. "This... this is alchemy's masterpiece. I'll pay top price." He hands you a thick stack of bills.`,costAP:1,changes:{funds:30},removeItems:["alchemy_coin"]}},{id:"sell_fungus",label:"Sell Luminous Fungus",reqItems:["strange_fungus"],result:{text:'"Good cultureenough for two dream draughts."',costAP:1,changes:{funds:4},removeItems:["strange_fungus"]}},{id:"sell_idol",label:"Sell Otherworldly Idol",reqItems:["alien_idol"],result:{text:`The vendor presses a palm on it, eyes flashing. "I'll take this one."`,costAP:1,changes:{funds:50},removeItems:["alien_idol"]}},{id:"sell_mask",label:"Sell Golden Mask",reqItems:["golden_mask"],result:{text:`"Feels too cold, but it'll fetch a crowd." Still, he pays up.`,costAP:1,changes:{funds:40},removeItems:["golden_mask"]}},{id:"sell_ritual_mask",label:"Sell Ritual Mask",reqItems:["ritual_mask"],result:{text:`The vendor's eyes flash in the mask's twisted glow. "Alchemy's masterpiece... this fusion of power, I'll pay top price." He hands you a thick stack of bills.`,costAP:1,changes:{funds:135},removeItems:["ritual_mask"]}},{id:"sell_purge_list",label:"Sell Purge Ledger",reqItems:["purge_list"],result:i=>(delete i.player.flags.purge_list_accessed,{text:`The vendor's fingertips tremble. "Hand it overone page of this buys a row of houses."`,costAP:1,changes:{funds:60},removeItems:["purge_list"]})},{id:"sell_file",label:"Sell Classified Dossier",reqItems:["classified_file"],result:{text:'"This will roll a lot of heads, so the price is fixed."',costAP:1,changes:{funds:25},removeItems:["classified_file"]}},{id:"sell_fermented_bread",label:"Sell Fermented Bread",reqItems:["fermented_bread"],result:{text:`The vendor sniffs the bread. "Alchemy-processed food... interesting. I'll make an offer."`,costAP:1,changes:{funds:8},removeItems:["fermented_bread"]}}]}},Jy={sewers:{id:"sewers",name:"",description:i=>""+ta(i),actions:[{id:"leave_sewers",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"scavenge_lit_risky",label:"",description:"",reqItems:["brass_lantern"],result:()=>{const i=Math.random();if(i<.1)return{text:"",costAP:1,changes:{sanity:-10},setFlags:{infected:!0}};if(i<.15){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],d=u[Math.floor(Math.random()*u.length)];return{text:"",costAP:1,changes:{sanity:-5},addItems:[d]}}else return i<.3?{text:"",costAP:1,changes:{sanity:-5},addItems:["gold_tooth"]}:i<.7?{text:"",costAP:1,changes:{sanity:-3},addItems:["strange_fungus"]}:{text:"",costAP:1,changes:{sanity:-5},addItems:["rat_meat"]}}},{id:"search_relics",label:"",description:"",reqItems:["brass_lantern"],reqItemsNot:["alien_idol"],result:()=>Math.random()<.15?{text:"",costAP:1,addItems:["alien_idol"],changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-8}}},{id:"encounter_sewer_monster",label:"",description:"",reqItems:["brass_lantern"],reqFlagsNot:["sewer_monster_encounter"],result:()=>{if(Math.random()<.4)return{text:"",costAP:0,setFlags:{sewer_monster_encounter:!0}};{const u=Math.random();return u<.3?{text:"",costAP:1,changes:{sanity:-8,gnosis:2}}:u<.6?{text:"",costAP:1,changes:{sanity:-5},addItems:["rusty_key"]}:{text:"",costAP:1,changes:{sanity:-3}}}}},{id:"flee_sewer_monster",label:"",description:"",reqFlags:["sewer_monster_encounter"],result:{text:"",costAP:2,changes:{sanity:-5},setFlags:{sewer_monster_encounter:!1}}},{id:"fight_sewer_monster",label:i=>i.player.inventory.some(d=>["iron_dagger","ritual_dagger","scalpel"].includes(d))?i.player.inventory.includes("ritual_dagger")?" ()":i.player.inventory.includes("iron_dagger")?" ()":i.player.inventory.includes("scalpel")?" ()":" ()":" ()",description:"",reqFlags:["sewer_monster_encounter"],result:i=>{if(!i.player.inventory.some(f=>["iron_dagger","ritual_dagger","scalpel"].includes(f)))return{text:"",costAP:1,changes:{sanity:-30,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}};let d;return i.player.inventory.includes("ritual_dagger")?d=.8:i.player.inventory.includes("iron_dagger")?d=.65:i.player.inventory.includes("scalpel")?d=.55:d=.45,Math.random()<d?{text:"",costAP:1,changes:{sanity:-15,gnosis:1},addItems:["strange_fungus"],setFlags:{sewer_monster_encounter:!1}}:{text:"",costAP:1,changes:{sanity:-25,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}}}},{id:"explore_deep",label:"",description:"",reqStats:{},result:i=>{const u=i.player.stats.sanity>0;return!i.player.inventory.includes("ritual_dagger")&&Math.random()>.5?{text:"",costAP:1,changes:{sanity:-10},addItems:["ritual_dagger"]}:u?{text:"",costAP:1,changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-5}}}},{id:"approach_altar",label:"",description:"",reqItems:["ritual_dagger"],result:{text:"",costAP:1,teleport:"altar"}}]}},Wy={sewers:{id:"sewers",name:"Ancient Sewers",description:i=>"Stone walls are carved with worn reliefs, and the channels carry glowing sludge instead of water."+ta(i),actions:[{id:"leave_sewers",label:"Climb Back Up",result:{text:"You haul yourself up the icy ladder until the smog greets you again.",costAP:0,teleport:"street"}},{id:"scavenge_lit_risky",label:"Lantern Scavenge",description:"Let the lantern guide you while you sift the muck for relics.",reqItems:["brass_lantern"],result:()=>{const i=Math.random();if(i<.1)return{text:"A mutated rat bites through your boot and the wound darkens instantly.",costAP:1,changes:{sanity:-10},setFlags:{infected:!0}};if(i<.15){const u=["recipe_scrap_bread_rat","recipe_scrap_morphine_sedatives","recipe_scrap_void_salt_fungus","recipe_scrap_gold_tooth_coin","recipe_scrap_idol_mask","recipe_scrap_bread_spirits","recipe_scrap_serum"],d=u[Math.floor(Math.random()*u.length)];return{text:"The light catches a water-soaked slip of paper, barely legible but still readable.",costAP:1,changes:{sanity:-5},addItems:[d]}}else return i<.3?{text:"The light catches a gold tooth wedged between stones.",costAP:1,changes:{sanity:-5},addItems:["gold_tooth"]}:i<.7?{text:"You harvest a pristine clump of luminous fungus, cold to the touch.",costAP:1,changes:{sanity:-3},addItems:["strange_fungus"]}:{text:"You scrape up a few morsels of meat still fit to eat and shove them into your bag.",costAP:1,changes:{sanity:-5},addItems:["rat_meat"]}}},{id:"encounter_sewer_monster",label:"Explore Deeper",description:"Push further into the darkness, where whispers call and something waits.",reqItems:["brass_lantern"],result:()=>{if(Math.random()<.4)return{text:"A low growl echoes ahead, like the resonance of some ancient ritual. Glowing eyes flash in the shadowsnot human eyes, not beast eyes, but something else entirely.",costAP:0,setFlags:{sewer_monster_encounter:!0}};{const u=Math.random();return u<.3?{text:"You discover an ancient altar deep within, its stone surface carved with incomprehensible symbols. The lines pulse like veins, and as you stare, knowledge seeps into your consciousness like venom.",costAP:1,changes:{sanity:-8,gnosis:2}}:u<.6?{text:"Your fingers close around a rusted key in the sludge, like a relic bearing the secrets of those who came before.",costAP:1,changes:{sanity:-5},addItems:["rusty_key"]}:{text:"You explore for a long time, but find nothing except sludge and echoes. The darkness devours your sense of direction, and you begin to wonder if you are still in the same world.",costAP:1,changes:{sanity:-3}}}}},{id:"flee_sewer_monster",label:"Flee",description:"Turn and run, let fear drive your legs.",reqFlags:["sewer_monster_encounter"],result:{text:"You turn and run, footsteps echoing through the pipes like a countdown. You dare not look back until the ladder's outline appears. You're safe, but the feeling of being pursued will remain in your bones forever.",costAP:2,changes:{sanity:-5},setFlags:{sewer_monster_encounter:!1}}},{id:"fight_sewer_monster",label:i=>i.player.inventory.some(d=>["iron_dagger","ritual_dagger","scalpel"].includes(d))?i.player.inventory.includes("ritual_dagger")?"Fight (Very High Chance)":i.player.inventory.includes("iron_dagger")?"Fight (High Chance)":i.player.inventory.includes("scalpel")?"Fight (Moderate Chance)":"Fight (Very Low Chance)":"Fight (Very Low Chance)",description:"Face the darkness with steel, the fear with will.",reqFlags:["sewer_monster_encounter"],result:i=>{if(!i.player.inventory.some(f=>["iron_dagger","ritual_dagger","scalpel"].includes(f)))return{text:"Your hands search, but find only empty pockets. Without a weapon, you can only face those eyes and feel fear pour into your veins like ice water. The creature lunges at you, and you can only fight back with your bare hands and fists in vain. You are struck down hard, and in your dazed state, you crawl back to the entrance. When you wake, you are covered in wounds, and that terror is deeply etched into your memory.",costAP:1,changes:{sanity:-30,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}};let d;return i.player.inventory.includes("ritual_dagger")?d=.8:i.player.inventory.includes("iron_dagger")?d=.65:i.player.inventory.includes("scalpel")?d=.55:d=.45,Math.random()<d?{text:"You swing your weapon; steel meets something unnameable. The creature shrieks with a voice that is not human, retreating into darkness like smoke. You survived, but the horror is carved into your memory, a wound that will never heal.",costAP:1,changes:{sanity:-15,gnosis:1},addItems:["strange_fungus"],setFlags:{sewer_monster_encounter:!1}}:{text:"You fight desperately, but the creature is too strong. Its power washes over you like a tide, and you fall, consciousness drifting in darkness. You wake at the sewer entrance, covered in wounds, as though you had lived through a nightmare. But the wounds are real, the pain reminds youit was not a dream.",costAP:1,changes:{sanity:-25,funds:-5},setFlags:{sewer_monster_encounter:!1,infected:!0}}}},{id:"search_relics",label:"Seek Relics",description:"Grope through the sludge for the relics of rumor.",reqItems:["brass_lantern"],reqItemsNot:["alien_idol"],result:()=>Math.random()<.15?{text:"Your fingertips brush a green-glowing idol, far heavier than expected.",costAP:1,addItems:["alien_idol"],changes:{sanity:-15}}:{text:"Only shattered bones roll through the mud.",costAP:1,changes:{sanity:-8}}},{id:"explore_deep",label:"Search for Altar Gate",description:"Follow unknown tunnels toward the ascension site. When sanity is too low, you can perceive its presence more clearly.",reqStats:{},result:i=>{const u=i.player.stats.sanity>0;return!i.player.inventory.includes("ritual_dagger")&&Math.random()>.5?{text:"You root around in the mire and find a cold obsidian dagger.",costAP:1,changes:{sanity:-10},addItems:["ritual_dagger"]}:u?{text:"You wander the maze of pipes while darkness drags at your thoughts. Your sanity remains clear; you cannot truly see the path to ascension.",costAP:1,changes:{sanity:-15}}:{text:"The boundaries of sanity have shattered; you see passages that should not exist. The altar whispers in the darkness, guiding you toward it.",costAP:1,changes:{sanity:-5}}}},{id:"approach_altar",label:"Approach the Radiant Gate",description:"The altar murmurs for you.",reqItems:["ritual_dagger"],result:{text:"You cleave the blocking vines and a vaulted chamber fills with milky light ahead.",costAP:1,teleport:"altar"}}]}},ep={asylum:{id:"asylum",name:"9",description:"",actions:[{id:"leave_asylum",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"visit_madman",label:'"" 103',description:"",reqStats:{funds:2},result:i=>{const u=`visited_madman_day_${i.world.day}`;if(i.player.flags[u])return{text:'"103"',costAP:0};const d=2;return{text:"103",costAP:1,changes:{sanity:-8,gnosis:2,funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(d*1.5):d)},setFlags:{[u]:!0}}}},{id:"steal_coat",label:"",description:"",reqItemsNot:["doctor_coat"],result:i=>{const u=i.player.inventory.includes("officer_badge"),d=u?5:0;return Math.random()<.3?{text:u?"":"",costAP:1,changes:{suspicion:15-d,sanity:u?0:-5}}:{text:u?"":"",costAP:1,addItems:["doctor_coat"],changes:{suspicion:5-d}}}},{id:"enter_archives",label:"",description:"",reqItems:["doctor_coat"],result:i=>{const u=i.player.stats.suspicion,d=i.player.inventory.includes("officer_badge");let f=0;if(u>=85?f=.7:u>=70?f=.5:u>=50?f=.3:u>=30&&(f=.1),d&&(f*=.5),Math.random()<f){const z=u>=85?20:u>=70?15:10;return{text:d?'"..."':'""',costAP:1,changes:{suspicion:z},teleport:"street"}}else return{text:d?'""':"",costAP:0,teleport:"asylum_archives"}}},{id:"shock_therapy",label:"",description:"",reqStats:{funds:30},result:{text:"",costAP:2,changes:{funds:-30,sanity:60,gnosis:-5}}}]},asylum_archives:{id:"asylum_archives",name:"",description:"",actions:[{id:"leave_archives",label:"",result:{text:"",costAP:0,teleport:"asylum"}},{id:"read_files",label:"",description:"",result:{text:"",costAP:1,changes:{gnosis:3,sanity:-12}}},{id:"steal_file",label:"",description:'"0"',reqItemsNot:["classified_file"],result:i=>{const u=i.player.inventory.includes("officer_badge");return{text:u?"":"",costAP:1,addItems:["classified_file"],changes:{suspicion:u?5:15}}}}]},ministry:{id:"ministry",name:"",description:i=>i.player.inventory.includes("officer_badge")?"":"",actions:[{id:"leave_ministry",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"bribe_officer",label:" ($15)",description:"",reqStats:{funds:15},result:i=>({text:'""',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15),suspicion:-20}})},{id:"report_citizen_pro",label:"",description:"",reqStats:{suspicion:10},result:{text:"",costAP:1,changes:{suspicion:-30,sanity:-10}}},{id:"storm_ministry",label:"",description:" (: 3, 2, $100)",reqStats:{funds:100},reqItems:[],result:i=>{const u=i.player.followers.filter(k=>{const z=i.player.followerStates?.[k];return z&&z.loyalty>=100&&z.status==="healthy"}),f=["ritual_dagger","iron_dagger","scalpel"].filter(k=>i.player.inventory.includes(k)).length;return u.length<3?{text:"3",costAP:0}:f<2?{text:"2",costAP:0}:{text:"",costAP:3,changes:{funds:-100},setFlags:{victory_achieved:!0,revolution_ending:!0}}}},{id:"steal_badge",label:"",description:"",reqItemsNot:["officer_badge"],requiresConfirmation:!0,confirmationMessage:` 

 20% +10
 30% +20
 50% 100

`,result:()=>{const i=Math.random();return i<.2?{text:"",costAP:1,addItems:["officer_badge"],changes:{suspicion:10}}:i<.5?{text:"",costAP:1,changes:{suspicion:20}}:{text:'""',costAP:1,changes:{suspicion:100}}}},{id:"access_database",label:"",description:"5",reqItems:["officer_badge"],reqItemsNot:["purge_list"],reqFlagsNot:["purge_list_accessed"],result:i=>{const d=`purge_list_cooldown_until_${i.world.day+5}`;return{text:"",costAP:1,addItems:["purge_list"],setFlags:{purge_list_accessed:!0,[d]:!0},changes:{suspicion:5}}}},{id:"use_badge_clear",label:"",description:"",reqItems:["officer_badge"],reqStats:{suspicion:5},result:i=>({text:'""',costAP:1,changes:{suspicion:-Math.min(30,i.player.stats.suspicion)}})},{id:"use_badge_info",label:"",description:"",reqItems:["officer_badge"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-5}}}]}},tp={asylum:{id:"asylum",name:"District 9 Asylum",description:"Eyes glow behind barbed windows; this is where they cage those who know too much.",actions:[{id:"leave_asylum",label:"Leave",result:{text:"You hurry away from the white walls, convinced someone still watches your back.",costAP:0,teleport:"street"}},{id:"visit_madman",label:"Visit Patient 103",description:"Hear him describe the voices inside the walls. Can only visit once per day.",reqStats:{funds:2},result:i=>{const u=`visited_madman_day_${i.world.day}`;if(i.player.flags[u])return{text:'The orderly stops you. "Patient 103 has already had a visitor today. Come back tomorrow."',costAP:0};const d=2;return{text:"You bribe the orderly to gain access to the ward. Patient 103's account sounds so much like scripture that you jot down several passages. These words echo in your mind, bringing revelation but consuming your sanity.",costAP:1,changes:{sanity:-8,gnosis:2,funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(d*1.5):d)},setFlags:{[u]:!0}}}},{id:"steal_coat",label:"Steal Lab Coat",description:"Try to pass for a doctor.",reqItemsNot:["doctor_coat"],result:i=>{const u=i.player.inventory.includes("officer_badge"),d=u?5:0;return Math.random()<.3?{text:u?"You flash your badge; the orderlies immediately step back, not daring to stop you.":"Alarms erupt and orderlies drag you out.",costAP:1,changes:{suspicion:15-d,sanity:u?0:-5}}:{text:u?"You flash your badge; no one dares question your identity.":"You slip into the coat, keep your head low, and no one questions you.",costAP:1,addItems:["doctor_coat"],changes:{suspicion:5-d}}}},{id:"enter_archives",label:"Enter Archives",description:"Only credentialed staff may descend. High suspicion may be detected.",reqItems:["doctor_coat"],result:i=>{const u=i.player.stats.suspicion,d=i.player.inventory.includes("officer_badge");let f=0;if(u>=85?f=.7:u>=70?f=.5:u>=50?f=.3:u>=30&&(f=.1),d&&(f*=.5),Math.random()<f){const z=u>=85?20:u>=70?15:10;return{text:d?`The guard examines your badge carefully, eyes growing wary. "Your file... something's off. Come with me."`:`The guard stares at your face for a few seconds, then his expression changes. "Wait, I know you! You're the wanted one!"`,costAP:1,changes:{suspicion:z},teleport:"street"}}else return{text:d?'You flash your badge; the guard immediately steps aside. "Right this way, sir."':"You nod at the guard; he assumes you belong here.",costAP:0,teleport:"asylum_archives"}}},{id:"shock_therapy",label:"Undergo Shock Therapy",description:"Use electricity to erase the noise.",reqStats:{funds:30},result:{text:"Current tears through your temples; memories smear and fear is plucked out like a splinter.",costAP:2,changes:{funds:-30,sanity:60,gnosis:-5}}}]},asylum_archives:{id:"asylum_archives",name:"Basement Archives",description:"Iron cabinets brim with yellowed files documenting every mind the old gods shredded.",actions:[{id:"leave_archives",label:"Return to Hall",result:{text:"You slide the files back and climb the stairs to the ground floor.",costAP:0,teleport:"asylum"}},{id:"read_files",label:"Read Classified Reports",description:"Study the histories that were erased.",result:{text:"You read accounts of the Inverted City; handwriting from a century ago matches todays sightings.",costAP:1,changes:{gnosis:3,sanity:-12}}},{id:"steal_file",label:"Steal the Dossier",description:"Swipe the folder on Patient Zero.",reqItemsNot:["classified_file"],result:i=>{const u=i.player.inventory.includes("officer_badge");return{text:u?"You flash your badge; the archivist dares not question you, and you calmly take the dossier.":"You tuck the file inside your coat; the paper crackles against your chest.",costAP:1,addItems:["classified_file"],changes:{suspicion:u?5:15}}}}]},ministry:{id:"ministry",name:"Ministry Grand Hall",description:i=>i.player.inventory.includes("officer_badge")?"Guards salute you as though you and the building share a spine.":"A colossal statue looms in the rotunda, and printer rattles meld with interrogation screams into a single oppressive drone.",actions:[{id:"leave_ministry",label:"Exit Hall",result:{text:"You stride through the revolving doors, surveillance lights still sweeping your spine.",costAP:0,teleport:"street"}},{id:"bribe_officer",label:"Bribe Clerk ($15)",description:"Pay to erase the record.",reqStats:{funds:15},result:i=>({text:'"Archives glitch sometimes," he mutters while pocketing the envelope and deleting your entry.',costAP:1,changes:{funds:-(i.player.flags.price_inflation&&i.origin!=="fallen_noble"?Math.floor(15*1.5):15),suspicion:-20}})},{id:"report_citizen_pro",label:"Report a Dissident",description:"Offer up an innocent to wash yourself clean.",reqStats:{suspicion:10},result:{text:"You point at a stranger in the crowd; guards seize him without a word.",costAP:1,changes:{suspicion:-30,sanity:-10}}},{id:"storm_ministry",label:"Storm the Ministry",description:"Rally your cult, overthrow this bastion of oppression with weapons and will (requires: 3 followers at max loyalty, at least 2 weapons, $100).",reqStats:{funds:100},reqItems:[],result:i=>{const u=i.player.followers.filter(k=>{const z=i.player.followerStates?.[k];return z&&z.loyalty>=100&&z.status==="healthy"}),f=["ritual_dagger","iron_dagger","scalpel"].filter(k=>i.player.inventory.includes(k)).length;return u.length<3?{text:"You need at least 3 followers at max loyalty to launch this revolution.",costAP:0}:f<2?{text:"You need at least 2 weapons to storm the Ministry.",costAP:0}:{text:"Your cult charges into the hall, weapons flashing under the lights. Ministry guards fall, files burn in flames. You stand upon the ruins, a new order rising from the ashes.",costAP:3,changes:{funds:-100},setFlags:{victory_achieved:!0,revolution_ending:!0}}}},{id:"steal_badge",label:"Steal Officer Badge",description:"Extremely risky.",reqItemsNot:["officer_badge"],requiresConfirmation:!0,confirmationMessage:` EXTREME DANGER WARNING: Stealing a Ministry officer badge is an extremely dangerous action.

 20% chance of success: Gain badge, but suspicion +10
 30% chance of failure but undetected: Suspicion +20
 50% chance of being caught: Suspicion immediately reaches 100, game ends immediately!

This is an extremely high-risk action that may directly cause game failure. Are you sure you want to continue?`,result:()=>{const i=Math.random();return i<.2?{text:"You lift the badge while he naps, slipping it up your sleeve.",costAP:1,addItems:["officer_badge"],changes:{suspicion:10}}:i<.5?{text:"The officer shifts; you pretend to ask for directions while your heart hammers.",costAP:1,changes:{suspicion:20}}:{text:'"Guards!" he roars, pinning you to the floor.',costAP:1,changes:{suspicion:100}}}},{id:"access_database",label:"Access Database",description:"Pull the purge roster (5-day cooldown).",reqItems:["officer_badge"],reqItemsNot:["purge_list"],reqFlagsNot:["purge_list_accessed"],result:i=>{const d=`purge_list_cooldown_until_${i.world.day+5}`;return{text:"You swipe the badge across the terminal; the printer spits out an entire roll of names. The system logs your access.",costAP:1,addItems:["purge_list"],setFlags:{purge_list_accessed:!0,[d]:!0},changes:{suspicion:5}}}},{id:"use_badge_clear",label:"Use Badge to Clear Records",description:"Leverage your official status to reduce suspicion.",reqItems:["officer_badge"],reqStats:{suspicion:5},result:i=>({text:'You show your badge to the archivist; he immediately marks your file as "reviewed" in the system. Suspicion vanishes like eraser marks.',costAP:1,changes:{suspicion:-Math.min(30,i.player.stats.suspicion)}})},{id:"use_badge_info",label:"Access Internal Intelligence",description:"Use your badge to obtain secret information.",reqItems:["officer_badge"],result:{text:"You browse internal briefings and learn some hidden truths.",costAP:1,changes:{gnosis:5,sanity:-5}}}]}},ap={pale_city:{id:"pale_city",name:"",description:()=>"",actions:[{id:"wake_up",label:"",description:"",result:{text:"",costAP:0,teleport:"apartment"}},{id:"visit_lake",label:"",description:"",reqFlags:["known_lake"],result:{text:"",costAP:0,teleport:"lake_hali"}},{id:"wander_dream",label:"",description:"",reqItemsNot:["forbidden_name"],result:()=>{const i=Math.random();return i<.4?{text:"",costAP:1,changes:{sanity:-15}}:i<.7?{text:"",costAP:1,changes:{sanity:-10,gnosis:2}}:{text:"",costAP:1,teleport:"dream_library"}}}]},lake_hali:{id:"lake_hali",name:"",description:"",actions:[{id:"leave_lake",label:"",result:{text:"",costAP:0,teleport:"pale_city"}},{id:"gaze_reflection",label:"",description:"",result:{text:"",costAP:1,changes:{sanity:-10,gnosis:3}}},{id:"fish_dreams",label:"",description:"",result:i=>{const u=Math.random();return u<.3&&!i.player.inventory.includes("golden_mask")?{text:"",costAP:1,addItems:["golden_mask"],changes:{sanity:-15}}:u<.6?{text:"",costAP:1,addItems:["void_salt"],changes:{sanity:-10}}:{text:"",costAP:1,changes:{sanity:-15}}}},{id:"consume_salt",label:"",description:"",reqItems:["void_salt"],result:{text:"",costAP:1,changes:{gnosis:5,sanity:-5},removeItems:["void_salt"]}},{id:"offer_coin_to_lake",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:8,sanity:10}}}]},dream_library:{id:"dream_library",name:"",description:"",actions:[{id:"leave_library",label:"",result:{text:"",costAP:0,teleport:"pale_city"}},{id:"find_true_name",label:'""',description:"",reqStats:{gnosis:20},reqItemsNot:["forbidden_name"],result:{text:"",costAP:1,changes:{sanity:-40},addItems:["forbidden_name"]}}]}},lp={pale_city:{id:"pale_city",name:"The Pale City",description:()=>"The sky congeals into a gray vortex and towers hang upside down overhead. Here, sanity is the only visa.",actions:[{id:"wake_up",label:"Force Wakefulness",description:"Sever the dream and return to reality.",result:{text:"You jolt upright, cold sweat trailing down your spine.",costAP:0,teleport:"apartment"}},{id:"visit_lake",label:"Walk to the Black Lake",description:"The still water at the edge of the city.",reqFlags:["known_lake"],result:{text:"You step into the water and your perspective flips.",costAP:0,teleport:"lake_hali"}},{id:"wander_dream",label:"Wander the Grey Fields",description:"Hunt for clues in the dead landscape.",reqItemsNot:["forbidden_name"],result:()=>{const i=Math.random();return i<.4?{text:"You see deceased relatives waiting on the far bank, faces veiled in white mist.",costAP:1,changes:{sanity:-15}}:i<.7?{text:"You pick up shards of memories that never existed in reality; they glow in your palm.",costAP:1,changes:{sanity:-10,gnosis:2}}:{text:"You arrive at the entrance to the Inverted Library, book spines hanging upside down.",costAP:1,teleport:"dream_library"}}}]},lake_hali:{id:"lake_hali",name:"Lake Hali",description:"The deepest dream lake is black and still as glass, with two moons hanging overheadbeautiful enough to hurt.",actions:[{id:"leave_lake",label:"Swim Back to Shore",result:{text:"You fight the frigid waves and return to the Pale City.",costAP:0,teleport:"pale_city"}},{id:"gaze_reflection",label:"Gaze at the Surface",description:"Stare into the mirror of your subconscious.",result:{text:"Your reflection speaks in a calm voice and reveals truths you refuse to face.",costAP:1,changes:{sanity:-10,gnosis:3}}},{id:"fish_dreams",label:"Dredge Sunken Things",description:"Search the lakebed for lost artifacts.",result:i=>{const u=Math.random();return u<.3&&!i.player.inventory.includes("golden_mask")?{text:"You haul up a golden mask, still rimed with the lakes chill.",costAP:1,addItems:["golden_mask"],changes:{sanity:-15}}:u<.6?{text:"A handful of glowing salt crystals appears in your palm.",costAP:1,addItems:["void_salt"],changes:{sanity:-10}}:{text:"You surface with nothing but a piercing cold.",costAP:1,changes:{sanity:-15}}}},{id:"consume_salt",label:"Inhale Void Salt",description:"Ingest compressed knowledge directly.",reqItems:["void_salt"],result:{text:"Lightning sears across your brain and you glimpse the skeleton of reality.",costAP:1,changes:{gnosis:5,sanity:-5},removeItems:["void_salt"]}},{id:"offer_coin_to_lake",label:"Offer Alchemy Coin to the Lake",description:"Trade the mysterious coin with the power at the depths of dreams.",reqItems:["alchemy_coin"],result:{text:"The alchemy coin sinks into the lake, and otherworldly light spreads through the water. Ripples form on the surface, and you feel the power of dreams flow into your consciousness.",costAP:1,removeItems:["alchemy_coin"],changes:{gnosis:8,sanity:10}}}]},dream_library:{id:"dream_library",name:"The Inverted Library",description:"Books hang from the vault like stalactites dripping ink; every destroyed history is archived here.",actions:[{id:"leave_library",label:"Depart",result:{text:"You descend the inverted stair of books and return to the Pale Citys edge.",costAP:0,teleport:"pale_city"}},{id:"find_true_name",label:"Seek the Old Name",description:"The missing syllable of the ascension ritual.",reqStats:{gnosis:20},reqItemsNot:["forbidden_name"],result:{text:"You lift a tome bound in skin; when you recite the name, reality shudders like cloth. You remember it now.",costAP:1,changes:{sanity:-40},addItems:["forbidden_name"]}}]}},sp={cathedral:{id:"cathedral",name:"",description:"",actions:[{id:"leave_cathedral",label:"",result:{text:"",costAP:0,teleport:"street"}},{id:"confess_sins",label:"",description:" (, )",reqStats:{gnosis:2},result:{text:"",costAP:1,changes:{suspicion:-25,gnosis:-2,sanity:5}}},{id:"offer_alchemy_coin",label:"",description:"",reqItems:["alchemy_coin"],result:{text:"",costAP:1,removeItems:["alchemy_coin"],changes:{suspicion:-40,sanity:20,gnosis:3}}},{id:"scavenge_crypt",label:"",description:"",result:()=>Math.random()<.3?{text:"",costAP:1,addItems:["ancient_coin"],changes:{sanity:-15}}:{text:"",costAP:1,changes:{sanity:-10}}}]},altar:{id:"altar",name:"",description:i=>{let u="";return i.player.flags.lover_madeline&&(u+=" "),u},actions:[{id:"flee_altar",label:"",description:"",result:{text:"",costAP:0,teleport:"sewers",changes:{sanity:-20}}},{id:"perform_ritual",label:"",description:"",reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:60},result:i=>i.player.stats.sanity>0?{text:"",costAP:0}:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_lover",label:"",description:"",reqFlags:["lover_madeline"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:30},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_follower",label:"",description:'""',reqFollowers:["beggar_follower"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:50},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}},{id:"ascend_with_mask",label:"",description:"",reqItems:["ritual_mask","forbidden_name"],reqStats:{gnosis:30},result:{text:"",costAP:1,setFlags:{victory_achieved:!0}}}]}},np={cathedral:{id:"cathedral",name:"Abandoned Cathedral",description:"The altar has collapsed; only dust and echoes remain.",actions:[{id:"leave_cathedral",label:"Leave",result:{text:"You step over the ruined threshold; dust coils around your ankles.",costAP:0,teleport:"street"}},{id:"confess_sins",label:"Confess",description:"Spend gnosis to trade secrets for calm (reduces suspicion).",reqStats:{gnosis:2},result:{text:"You whisper your crimes and the echo answers in your stead.",costAP:1,changes:{suspicion:-25,gnosis:-2,sanity:5}}},{id:"offer_alchemy_coin",label:"Offer Alchemy Coin",description:"Place the mysterious coin on the altar for a more powerful purification effect.",reqItems:["alchemy_coin"],result:{text:"The alchemy coin glows with otherworldly light on the altar, and the light spreads, washing away suspicion and corruption from you. You feel an unprecedented lightness.",costAP:1,removeItems:["alchemy_coin"],changes:{suspicion:-40,sanity:20,gnosis:3}}},{id:"scavenge_crypt",label:"Explore the Crypt",description:"Rifle coffins in search of offerings.",result:()=>Math.random()<.3?{text:"Your fingers close around an ancient coin wedged between stones.",costAP:1,addItems:["ancient_coin"],changes:{sanity:-15}}:{text:"Only empty tombs and cold air answer you.",costAP:1,changes:{sanity:-10}}}]},altar:{id:"altar",name:"Ascension Altar",description:i=>{let u="You stand on the edge of reality. Physics has fled, leaving only pulsing light and impossible geometry. A vast inverted pyramid hovers above, waiting for the final offering.";return i.player.flags.lover_madeline&&(u+=" Madeline grips your hand; her tremor runs straight into your chest."),u},actions:[{id:"flee_altar",label:"Flee the Altar",description:"The pressure crushes your lungs; you are not ready for the truth.",result:{text:"You scream, spin, and crawl back into the sewer shadows. That colossal terror will forever mock your cowardice in dreams.",costAP:0,teleport:"sewers",changes:{sanity:-20}}},{id:"perform_ritual",label:"Offer Yourself",description:"Recite the True Name and pierce your heart. Flesh is the cage; death is the key. Only at the edge of breakdown can you see the path to ascension.",reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:60},result:i=>i.player.stats.sanity>0?{text:"Your sanity remains clear; you cannot truly understand the meaning of death. Only when you stand at the edge of breakdown can you see the path to ascension.",costAP:0}:{text:"When the obsidian enters your heart there is no pain, only release. Your flesh peels away and your mind becomes a pale beam that tunnels through the strata, devouring the rotten city. You are finally part of eternity.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_lover",label:"Sacrifice Madeline",description:"She is your dearest bond. Only by severing it can you ascend unburdened.",reqFlags:["lover_madeline"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:30},result:{text:"She watches you with trust until the cold blade slips into her chest. Her light fades, replaced by the altars hungry crimson glow. You gain ultimate power, but your humanity dies in that instant. You ascendalone and composed.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"sacrifice_follower",label:"Sacrifice Gregory",description:'The "Prophet" longs to servegrant him the honor.',reqFollowers:["beggar_follower"],reqItems:["ritual_dagger","forbidden_name"],reqStats:{gnosis:50},result:{text:"You shove the raving beggar onto the altar. Invisible forces tear him apart amid laughter, and blood-rain opens the gate. You tread on his remains as you step into divinity.",costAP:1,setFlags:{victory_achieved:!0}}},{id:"ascend_with_mask",label:"Ascend Through Mask",description:"Wear the ritual mask and let alchemy's masterpiece guide you through reality's threshold. The alchemist's exclusive path.",reqItems:["ritual_mask","forbidden_name"],reqStats:{gnosis:30},result:{text:"You don the twisted mask and speak the Old Name. The mask fuses with your flesh, alchemical flames burning within you. You need no sacrifice, for alchemy has already transformed you. You pass through reality's threshold, becoming alchemy's ultimate creationa being beyond life and death.",costAP:1,setFlags:{victory_achieved:!0}}}]}},ip={...Fy,...Ky,...Jy,...ep,...ap,...sp},rp={...Py,...$y,...Wy,...tp,...lp,...np},xe=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return`${Date.now()}-${Math.random().toString(36).substring(2,15)}-${Math.random().toString(36).substring(2,15)}`},ch=(i,u,d,f)=>{let k;u==="fallen_noble"?k={id:"earn_money",title:i==="zh"?"":"Earn Funds",description:i==="zh"?"50":"Earn at least 50 coins through work or trading to ensure enough funds for various situations",type:"short",completed:d>=50,progress:d,maxProgress:50}:u==="doctor"?k={id:"work_clinic",title:i==="zh"?"":"Work at Clinic",description:i==="zh"?"":"Go to the Back-Alley Clinic to start your first shift. This is your steady source of income as a doctor.",type:"short",completed:!1}:k={id:"earn_money",title:i==="zh"?"":"Earn Funds",description:i==="zh"?"15":"Earn at least 15 coins through work or trading to cover living expenses",type:"short",completed:d>=15,progress:d,maxProgress:15};const z={id:"maintain_sanity",title:i==="zh"?"":"Maintain Sanity",description:i==="zh"?u==="doctor"?"50":"50":u==="doctor"?"Keep your sanity above 50 to avoid breakdown (doctors start with lower sanity, be careful)":"Keep your sanity above 50 to avoid breakdown",type:"short",completed:f>=50};return[{id:"explore_street",title:i==="zh"?"":"Explore the Street",description:i==="zh"?"":"Step outside and explore the street for resources and opportunities",type:"short",completed:!1},k,z,{id:"recruit_follower",title:i==="zh"?"":"Recruit a Follower",description:i==="zh"?"":"Recruit your first follower from the street or market",type:"long",completed:!1},{id:"discover_secret",title:i==="zh"?"":"Discover Secrets",description:i==="zh"?"":"Explore the city to discover hidden truths and secrets",type:"long",completed:!1}]},Vs=(i,u)=>{const d={player:{stats:{sanity:100,funds:10,suspicion:0,gnosis:0},inventory:[],followers:[],flags:{}},world:{day:1,timeSegment:0,maxActionPoints:4,currentActionPoints:4,currentLocationId:"apartment"},logs:[],status:"playing",origin:i,tutorialCompleted:!1};let f=10,k=100;switch(i){case"fallen_noble":d.player.stats={sanity:80,funds:40,suspicion:20,gnosis:0},d.player.inventory=["old_ring"],d.player.flags={noble_heritage:!0},f=40,k=80,d.logs=[{id:"init",text:u==="zh"?`404

312`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. The heirloom ring on the table glimmers in the dim lightthe last relic of your family. The Ministry's eyes never left your family, and now they watch you too.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. First, try stepping outside to explore the street and look for work and resources. Remember: you need to pay 1 coin daily for living expenses in the first 3 days, then 2 coins daily afterwards, so make sure you have enough funds.`,type:"narrative",timestamp:1}];break;case"doctor":d.player.stats={sanity:65,funds:15,suspicion:5,gnosis:0},d.player.inventory=["morphine","scalpel"],d.player.flags={medical_training:!0},f=15,k=65,d.logs=[{id:"init",text:u==="zh"?`404

2353312`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. The morphine bottle in your medical bag reflects dim light on the nightstand. You have seen too much death, too many inexplicable wounds. The boundaries of sanity have long blurred, but you know some truths must be uncovered.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. As a doctor, you can find steady work at the Back-Alley Clinic: each shift costs 2 action points and 3 sanity, but earns 5 coins. Remember: missing work for 3 consecutive days will get you fired. You need to pay 1 coin daily for living expenses in the first 3 days, then 2 coins daily afterwards, so make sure you have enough funds. Your medical training makes medical items more effective.`,type:"narrative",timestamp:1}];break;case"vagrant":d.player.stats={sanity:90,funds:10,suspicion:0,gnosis:0},d.player.inventory=[],d.player.flags={street_wise:!0,resistant:!0},f=10,k=90,d.logs=[{id:"init",text:u==="zh"?`404

312`:`You wake in Apartment 404, neon slashing through the blinds like fresh wounds. This apartment isn't yours, but you found the key. Years on the streets have accustomed you to reality's cruelty. The whispers and shadows are just another world you must survive.

[TUTORIAL] Your goal is to survive and explore the secrets of this city. First, try stepping outside to explore the street and look for work and resources. Remember: you need to pay 1 coin daily for living expenses in the first 3 days, then 2 coins daily afterwards, so make sure you have enough funds. Your street wisdom gives you greater resistance to anomalous phenomena.`,type:"narrative",timestamp:1}];break}return d.goals=ch(u,i,f,k),d},Vt="pale_threshold_save_v1",ea="pale_threshold_backup_v1",Yo="pale_threshold_mode",op=(i="en")=>{const u=i==="zh"?ip:rp,d=i==="zh"?By:Gy,f=i==="zh"?Ly:Iy,k=i==="zh"?Zy:Xy,[z,R]=te.useState(()=>{const g=localStorage.getItem(Yo);return g==="hardcore"||g==="normal"?g:"normal"}),[L,H]=te.useState(()=>{try{const g=localStorage.getItem(Vt);if(g){const w=JSON.parse(g);if(w.player.followers||(w.player.followers=[]),w.player.stats.gnosis===void 0&&(w.player.stats.gnosis=0),!w.goals){const O=w.origin||"fallen_noble",F=w.player.stats.funds||10,B=w.player.stats.sanity||100;w.goals=ch(i,O,F,B)}if(w.tutorialCompleted===void 0&&(w.tutorialCompleted=!1),w.status==="defeat"||w.status==="victory"){if((localStorage.getItem(Yo)||"normal")==="hardcore")return localStorage.removeItem(Vt),localStorage.removeItem(ea),Vs("fallen_noble",i);{const F=localStorage.getItem(ea);if(F)try{const B=JSON.parse(F);if(B.status==="playing")return B}catch(B){console.error(":",B)}return localStorage.removeItem(Vt),localStorage.removeItem(ea),Vs("fallen_noble",i)}}return w}}catch(g){console.error(":",g)}return Vs("fallen_noble",i)});te.useEffect(()=>{localStorage.setItem(Yo,z)},[z]),te.useEffect(()=>{L.status==="playing"?localStorage.setItem(Vt,JSON.stringify(L)):(L.status==="defeat"||L.status==="victory")&&(z==="hardcore"?(localStorage.removeItem(Vt),localStorage.removeItem(ea)):localStorage.removeItem(Vt))},[L,z]);const q=g=>{const{stats:w}=g.player;if(g.player.flags.victory_achieved){g.status="victory",g.player.flags.revolution_ending?g.ending={title:i==="zh"?"":"REVOLUTION",description:i==="zh"?"":"The Ministry hall burns beneath your feet. You stand upon the ruins, a new order rising from the ashes. Your cult will establish new rule upon this land."}:g.player.flags.escape_ending?g.ending={title:i==="zh"?"":"ESCAPE",description:i==="zh"?"":"You see unfamiliar coastlines. The city, along with its secrets and horrors, is left behind. You are free, but those memories will follow you forever."}:g.ending={title:i==="zh"?"":"PALE ASCENSION",description:i==="zh"?"":"You stepped through the gate. Your cult chants behind you as you dissolve into eternal light."};return}const O=g.player.breakdown?.active;if(w.sanity<=0&&!O){g.player.breakdown={active:!0,turnsRemaining:2};const F=i==="zh"?"[] 2":"[BREAKDOWN] The veil of reality begins to shatter. You hear whispers in the walls. You must restore your sanity within 2 turns, or face complete collapse.";g.logs.unshift({id:xe(),text:F,type:"warning",timestamp:g.world.day});return}if(O){if(w.sanity>0){g.player.breakdown=void 0;const F=i==="zh"?"[] ":"[RECOVERED] You struggle back from the edge of breakdown. Sanity reclaims your consciousness.";g.logs.unshift({id:xe(),text:F,type:"result",timestamp:g.world.day});return}if(w.sanity<=-10){g.status="defeat",g.ending={title:i==="zh"?"":"SANITY LOST",description:i==="zh"?"":"The veil of reality shatters. You hear whispers in the walls, and they make perfect sense."};return}}w.suspicion>=100&&(g.status="defeat",g.ending={title:i==="zh"?"":"PURGED",description:i==="zh"?"":"The midnight knock finally came. The Ministry firing squad gave you no chance to speak."})},J=g=>{const{player:w,world:O}=g,F=O.day;if(w.breakdown?.active){if(w.breakdown.turnsRemaining-=1,w.breakdown.turnsRemaining<=0){g.status="defeat",g.ending={title:i==="zh"?"":"SANITY LOST",description:i==="zh"?"":"The veil of reality shatters. You hear whispers in the walls, and they make perfect sense. You failed to recover from the edge of breakdown."};return}const h=i==="zh"?`[]  ${w.breakdown.turnsRemaining} `:`[BREAKDOWN] You have ${w.breakdown.turnsRemaining} turn${w.breakdown.turnsRemaining>1?"s":""} left to restore your sanity. You can only rest or use medicine.`;g.logs.unshift({id:xe(),text:h,type:"warning",timestamp:O.day})}if(z==="normal"&&F>=1){const h=JSON.parse(JSON.stringify(g));localStorage.setItem(ea,JSON.stringify(h))}O.day+=1,O.currentActionPoints=O.maxActionPoints,w.followerStates||(w.followerStates={}),w.followers.forEach(h=>{w.followerStates[h]||(w.followerStates[h]={loyalty:h==="cat_follower"?30:50,status:"healthy"})}),w.followers.forEach(h=>{const M=w.followerStates[h];if(M&&h!=="cat_follower"){if(M.task&&O.day-M.task.day>3){const D=M.task;M.loyalty=Math.max(0,M.loyalty-20);const U=h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":h==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",Y=h==="nurse_follower",y=Y&&w.flags.lover_madeline,S=Y?i==="zh"?"":"She":i==="zh"?"":"He",C=Y?i==="zh"?"":"she":i==="zh"?"":"he";if(D.penalty.leave&&M.loyalty<30&&!y){w.followers=w.followers.filter($=>$!==h),delete w.followerStates[h],Y?w.flags.madeline_left=!0:h==="beggar_follower"&&(w.flags.beggar_died=!0);const G=i==="zh"?`${U}""${S}`:`${U}'s eyes grow cold. "I understand." ${S} turn${Y?"s":""} and leave${Y?"s":""}, vanishing into the night.`;g.logs.unshift({id:xe(),text:G,type:"warning",timestamp:O.day}),w.stats.sanity-=10}else{const G=i==="zh"?y?`${U}${S}${S}`:`${U}${S}`:y?`${U} no longer mentions it. ${S} look${Y?"s":""} at you with disappointment, but ${C} does not leave.`:`${U} no longer mentions it. ${C==="she"?"Her":"His"} silence makes you uneasy.`;g.logs.unshift({id:xe(),text:G,type:"warning",timestamp:O.day}),M.task=void 0}}if(M.status==="healthy"){if(Math.random()<.1){M.status="injured";const D=h==="beggar_follower"?"":h==="thug_follower"?"":h==="nurse_follower"?"":"",U=i==="zh"?`${D}`:`${D} returns with wounds. Blood seeps through the bandages.`;g.logs.unshift({id:xe(),text:U,type:"warning",timestamp:O.day})}else if(Math.random()<.05+(100-w.stats.sanity)*.001){M.status="insane",M.loyalty=Math.max(0,M.loyalty-30);const D=h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":h==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",U=h==="nurse_follower",Y=U?i==="zh"?"":"She":i==="zh"?"":"He",y=i==="zh"?`${D}${Y}`:`${D}'s eyes lose focus. ${Y} ${U?"begins":"begin"} to whisper words that should not be spoken.`;g.logs.unshift({id:xe(),text:y,type:"warning",timestamp:O.day})}else if(M.loyalty<30&&Math.random()<.1){const D=h==="nurse_follower";if(D&&w.flags.lover_madeline){M.loyalty=Math.max(0,M.loyalty-10);const Y=D?i==="zh"?"":"Madeline":h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":i==="zh"?"":"follower",y=i==="zh"?`${Y}${D?"":""}${D?"":""}`:`${Y}'s eyes grow complex, but ${D?"she":"they"} ${D?"does":"do"} not leave. Even disappointed, ${D?"she":"they"} ${D?"chooses":"choose"} to stay.`;g.logs.unshift({id:xe(),text:y,type:"warning",timestamp:O.day})}else{M.status="betrayed",w.followers=w.followers.filter(C=>C!==h),delete w.followerStates[h],D?w.flags.madeline_left=!0:h==="beggar_follower"&&(w.flags.beggar_died=!0);const Y=h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":h==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",y=D?i==="zh"?"":"she":i==="zh"?"":"they",S=i==="zh"?`${Y}${y}`:`${Y} vanishes into the night. You discover ${y} took some of your secrets, and a note bearing your name.`;g.logs.unshift({id:xe(),text:S,type:"warning",timestamp:O.day}),w.stats.suspicion+=10}}}if(!M.task&&M.status==="healthy"&&Math.random()<.3){let D;if(h==="beggar_follower"){const S=Math.random();D=S<.5?"money":S<.8?"item":"help"}else if(h==="thug_follower"){const S=Math.random();D=S<.4?"help":S<.75?"money":"item"}else if(h==="nurse_follower"){const S=Math.random();D=S<.5?"item":S<.8?"help":"money"}else{const S=["money","item","help"];D=S[Math.floor(Math.random()*S.length)]}let U;const Y=h==="beggar_follower"?i==="zh"?"":"Gregory":h==="thug_follower"?i==="zh"?"":"Bruno":h==="nurse_follower"?i==="zh"?"":"Madeline":i==="zh"?"":"follower",y=h==="nurse_follower";if(D==="money"){const C=y?Math.floor(Math.random()*5)+2:Math.floor(Math.random()*10)+3;U={followerId:h,type:"money",requirement:{money:C},description:i==="zh"?y?`${Y}" ${C} "`:`${Y}" ${C} "`:y?`${Y} speaks hesitantly. "I need ${C} coins to purchase some medical supplies. The clinic's stock is running low."`:`${Y} extends their hand. "I need ${C} coins. The creditors are waiting."`,reward:{loyalty:15},penalty:{loyalty:-20,leave:M.loyalty<40},day:O.day}}else if(D==="item"){let S;if(y){const St=Math.random();St<.7?S=["morphine","sedatives"]:St<.9?S=["cheap_spirits"]:S=["bread"]}else S=["bread","morphine","sedatives","cheap_spirits"];const C=S[Math.floor(Math.random()*S.length)],G={bread:i==="zh"?"":"bread",morphine:i==="zh"?"":"morphine",sedatives:i==="zh"?"":"sedatives",cheap_spirits:i==="zh"?"":"spirits"},ae={bread:2,cheap_spirits:4,sedatives:10,morphine:25}[C]||2,ue=Math.max(10,Math.min(50,ae*2)),Ze=Math.floor(ue*1.5),Ee=i==="zh"?y?C==="morphine"?`${Y}""`:C==="sedatives"?`${Y}""`:C==="cheap_spirits"?`${Y}""`:`${Y}""`:`${Y}" ${G[C]}"`:y?C==="morphine"?`${Y} examines your medical supplies. "I need some morphine. Patients need pain relief, but the clinic's stock is empty."`:C==="sedatives"?`${Y} looks at you. "The sedatives are running low. Some patients need them to stabilize, or they'll harm themselves."`:C==="cheap_spirits"?`${Y} explains. "I need spirits to sterilize instruments. Crude, but better than nothing."`:`${Y} speaks hesitantly. "I need some bread. Some patients haven't eaten in days."`:`${Y} looks at your belongings. "I need ${G[C]}. It's important to me."`;U={followerId:h,type:"item",requirement:{item:C},description:Ee,reward:{loyalty:ue},penalty:{loyalty:-Ze,leave:M.loyalty<30},day:O.day}}else U={followerId:h,type:"help",requirement:{},description:i==="zh"?y?`${Y}""`:`${Y}""`:y?`${Y} stands before you, worry in her eyes. "I need your help. There's a patient at the clinic in critical condition, and I can't handle it alone."`:`${Y} stands before you. "I need your help."`,reward:{loyalty:20},penalty:{loyalty:-25,leave:M.loyalty<50},day:O.day};M.task=U,g.logs.unshift({id:xe(),text:U.description,type:"narrative",timestamp:O.day})}}}),Object.keys(w.flags).forEach(h=>{if(h.startsWith("purge_list_cooldown_until_")){const M=parseInt(h.replace("purge_list_cooldown_until_",""));O.day>=M&&delete w.flags[h]}}),!w.inventory.includes("purge_list")&&w.flags.purge_list_accessed&&delete w.flags.purge_list_accessed;const B=O.day<=3?1:2;if(w.stats.funds-=B,g.origin==="doctor"&&!w.flags.clinic_fired)if(w.flags.clinic_worked_today)delete w.flags.clinic_worked_today,w.flags.clinic_missed_days=0;else{const D=(typeof w.flags.clinic_missed_days=="number"?w.flags.clinic_missed_days:0)+1;if(w.flags.clinic_missed_days=D,D>=3){w.flags.clinic_fired=!0;const U=i==="zh"?"3":"[CLINIC NOTICE] You have missed work for 3 consecutive days. The clinic has found a replacement. You have lost your job.";g.logs.unshift({id:xe(),text:U,type:"warning",timestamp:O.day})}else if(D===2){const U=i==="zh"?"2":"[CLINIC WARNING] You have missed work for 2 consecutive days. If you miss one more day, you will be fired.";g.logs.unshift({id:xe(),text:U,type:"warning",timestamp:O.day})}}const Z=w.stats.suspicion,ke=typeof w.flags.prev_suspicion=="number"?w.flags.prev_suspicion:0,Re=w.inventory.includes("officer_badge"),et=Re?40:30;Z>=et&&ke<et&&(w.flags.black_market_banned=!0);const W=Re?70:60;if(Z>=W&&(ke<W||ke===0)){w.flags.price_inflation=!0;const h=i==="zh"?Re?"":"":Re?"Merchants begin to avoid your gaze, but your badge still offers some protection. Prices rise in silence, but slower.":"Merchants begin to avoid your gaze. Every coin grows heavy, as though the Ministry's palm presses down on the scales. Prices rise in silence, you helplessly.";g.logs.unshift({id:xe(),text:h,type:"warning",timestamp:O.day})}const je=Re?90:80;if(Z>=je&&(ke<je||ke===0)){const h=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum"],M=[];if((!Re||Math.random()<.5)&&h.forEach(U=>{w.inventory.includes(U)&&(w.inventory=w.inventory.filter(Y=>Y!==U),M.push(U))}),M.length>0){const U=i==="zh"?Re?`${M.length} `:`${M.length} `:Re?`The door crashes open while you dream. Agents flow in, but seeing your badge, they only take some items. ${M.length} items taken by the Ministry, but your badge protected you.`:`The door crashes open while you dream. Agents flow in like shadows, their hands reaching for things that should not exist. When you wake, the room holds only empty echoes. ${M.length} items taken by the Ministry, along with a portion of your secrets.`;g.logs.unshift({id:xe(),text:U,type:"warning",timestamp:O.day}),w.stats.suspicion+=Re?5:10}else{const U=i==="zh"?Re?"":"":Re?"They ransack your room, but seeing your badge, the search becomes cursory. They leave, but your secrets remain safe.":"They ransack your room like hounds sniffing the air. But the secrets are hidden, tucked away in places even you have forgotten. They leave, but their eyes remain watching.";g.logs.unshift({id:xe(),text:U,type:"warning",timestamp:O.day})}}w.flags.prev_suspicion=Z;const oe=w.inventory.includes("officer_badge"),re=oe?.05:.15;if(Z>=40&&Math.random()<re){const h=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum"];if(h.some(D=>w.inventory.includes(D)))if(Z>=80)g.status="defeat",g.ending={title:i==="zh"?"":"ARRESTED",description:i==="zh"?"":"The knock comes at three in the morning, rhythmic as a heartbeat. The door crashes open, agents' hands reaching under the bedwhere you kept things you should not have possessed. The interrogation room door closes behind you, like a book that can never be opened again."};else{const D=[];h.forEach(Y=>{w.inventory.includes(Y)&&(w.inventory=w.inventory.filter(y=>y!==Y),D.push(Y))}),w.stats.suspicion+=25,w.stats.sanity-=20;const U=i==="zh"?`${D.length} `:`Darkness tears under flashlight beams. They found those thingsitems that do not exist in archives, that should not exist in reality. ${D.length} items are sealed into black bags, like offerings to an altar. Your name is marked on a list somewhere, suspicion spreading like ink.`;g.logs.unshift({id:xe(),text:U,type:"warning",timestamp:O.day})}else{const D=oe?0:5;w.stats.suspicion+=D;const U=i==="zh"?oe?"":"":oe?"[NIGHT RAID] Agents knock on your door, but seeing your badge, they only perform a routine check without a thorough search.":"[NIGHT RAID] Ministry agents searched your apartment but found nothing. They leave with warning glances.";g.logs.unshift({id:xe(),text:U,type:"warning",timestamp:O.day})}}if(w.stats.funds<0){w.stats.funds=0;const h=O.day<=3,M=["bread","rat_meat","fresh_fish","nutritious_meal","fermented_bread"];if(M.some(U=>w.inventory.includes(U))){let U=null;for(const C of M)if(w.inventory.includes(C)){U=C,w.inventory=w.inventory.filter(G=>G!==C);break}const Y={bread:i==="zh"?"":"moldy bread",rat_meat:i==="zh"?"":"raw rat meat",fresh_fish:i==="zh"?"":"fresh fish",nutritious_meal:i==="zh"?"":"nutritious meal",fermented_bread:i==="zh"?"":"fermented bread"},y=h?2:5;w.stats.sanity-=y;const S=i==="zh"?`${Y[U]} ( -${y})`:`[STARVATION] Penniless, but you fill your stomach with ${Y[U]}. Crude, but at least you avoided the worst (Sanity -${y}).`;g.logs.unshift({id:xe(),text:S,type:"warning",timestamp:O.day})}else{const U=h?8:15;w.stats.sanity-=U;const Y=i==="zh"?` ( -${U})`:`[STARVATION] Penniless. Stomach acid corrodes your will (Sanity -${U}).`;g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:O.day})}}else{const h=i==="zh"?` ${B} `:`Paid $${B} for living expenses.`;if(g.logs.unshift({id:xe(),text:h,type:"narrative",timestamp:O.day}),w.flags.infected){w.stats.sanity-=8;const Y=i==="zh"?" ( -8)":"[INFECTED] The wound throbs in agony. (Sanity -8)";g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:O.day})}if(w.flags.addicted){w.stats.sanity-=12;const Y=i==="zh"?" ( -12)":"[WITHDRAWAL] Craving morphine. (Sanity -12)";g.logs.unshift({id:xe(),text:Y,type:"warning",timestamp:O.day})}const M=O.day<=3?{sanity:30,suspicion:70}:{sanity:40,suspicion:60};if(w.stats.sanity<M.sanity||w.stats.suspicion>M.suspicion){const U=O.day<=3?5:10;w.stats.sanity-=U;const Y=d.insane[Math.floor(Math.random()*d.insane.length)],y=i==="zh"?"[]":"[NIGHTMARE]",S=i==="zh"?`( -${U})`:`(Sanity -${U})`;g.logs.unshift({id:xe(),text:`${y} ${Y} ${S}`,type:"warning",timestamp:O.day})}else if(Math.random()<.1){const U=i==="zh"?"[]  ( +0)":"[INSOMNIA] You stared at the ceiling all night. (Sanity +0).";g.logs.unshift({id:xe(),text:U,type:"narrative",timestamp:O.day})}else{if(w.stats.sanity=Math.min(100,w.stats.sanity+10),Math.random()>.5){const y=d.normal[Math.floor(Math.random()*d.normal.length)];g.logs.unshift({id:xe(),text:y,type:"narrative",timestamp:O.day})}const Y=i==="zh"?" ( +10)":"Restful sleep. (Sanity +10).";g.logs.unshift({id:xe(),text:Y,type:"result",timestamp:O.day})}}},V=te.useCallback(g=>{if(L.status!=="playing")return;if(L.player.breakdown?.active){const W=["sleep","sleep_street","sleep_lover","meditate","use_morphine_risky","use_morphine","use_sedatives","use_sedative","use_alchemy_serum","eat_rat","eat_fish","drink_ale","consume_salt","use_purified_serum","use_strong_painkiller","use_nutritious_meal","use_fermented_bread","use_gnosis_elixir","wake_up","leave_lake","leave_library"];let je=!1,oe;typeof g.result=="function"?je=g.id.includes("leave")||g.id.includes("go_")||g.id==="approach_altar":(je=!!g.result.teleport,oe=g.result.teleport);const h=je&&(!oe||["apartment","street","rooftop","sewers","market","asylum","ministry","cathedral","altar","tavern","clinic","black_market"].includes(oe));if(!(W.includes(g.id)||g.id.includes("sleep")||g.id.includes("meditate")||g.id.includes("morphine")||g.id.includes("sedative")||g.id.includes("serum")||g.id.includes("painkiller")||g.id.includes("eat")||g.id.includes("drink")||g.id.includes("consume")||g.id.includes("use_")&&(g.id.includes("meal")||g.id.includes("bread")||g.id.includes("elixir"))||h||g.id==="approach_altar"||g.id==="perform_ritual")){const D=i==="zh"?"[] ":"[BREAKDOWN] You cannot perform this action. You can only rest or use medicine to restore your sanity.";L.logs.unshift({id:xe(),text:D,type:"warning",timestamp:L.world.day}),H({...L});return}}const O=typeof g.result=="function"?g.result(L):g.result,F=O.costAP??1;if(L.world.currentActionPoints<F&&g.id!=="sleep"&&F>0)return;const B=JSON.parse(JSON.stringify(L)),{player:Z,world:ke}=B;ke.currentActionPoints=Math.max(0,ke.currentActionPoints-F);const Re=[];if(O.changes&&g.id!=="sleep"&&Object.entries(O.changes).forEach(([W,je])=>{const oe=W;let re=je;if(oe==="sanity"&&je>0&&B.origin==="doctor"){const h=Pe.medicalBonus.items;(g.id.includes("morphine")||g.id.includes("sedative")||g.id.includes("serum")||g.id.includes("painkiller")||O.removeItems&&O.removeItems.some(D=>h.includes(D)))&&(re=Math.floor(je*Pe.medicalBonus.multiplier))}if(Z.stats[oe]=(Z.stats[oe]||0)+re,oe==="sanity"&&(Z.stats[oe]=Math.min(100,Z.stats[oe])),re!==0){const h=oh[i].statChange[oe],M=re>0?"+":"";Re.push(`${M}${re} ${h}`)}}),O.addItems&&Z.inventory.push(...O.addItems),O.removeItems&&(Z.inventory=Z.inventory.filter(W=>!O.removeItems?.includes(W))),O.addFollowers&&Z.followers.push(...O.addFollowers),O.removeFollowers&&(Z.followers=Z.followers.filter(W=>!O.removeFollowers?.includes(W))),O.setFlags&&Object.assign(Z.flags,O.setFlags),g.id==="enter_black_market"){const W=Z.inventory.includes("officer_badge"),je=W?40:30;if(Z.stats.suspicion>=je&&!Z.flags.black_market_banned){Z.flags.black_market_banned=!0;const oe=i==="zh"?W?'""':'""':W?`The doorman's eyes turn like coins in the shadows. He shakes his head, whispering: "Even with a badge, the Ministry's eyes have opened. You are no longer welcome here."`:`The doorman's eyes turn like coins in the shadows. He shakes his head, whispering: "The Ministry's eyes have opened. You are no longer welcome here."`;B.logs.unshift({id:xe(),text:oe,type:"warning",timestamp:ke.day}),O.teleport&&delete O.teleport,O.text=oe}}if(O.teleport&&(ke.currentLocationId=O.teleport),B.goals){if(O.teleport==="street"||ke.currentLocationId==="street"){const re=B.goals.find(h=>h.id==="explore_street");re&&!re.completed&&(re.completed=!0)}const W=B.goals.find(re=>re.id==="earn_money");if(W&&!W.completed){const re=W.maxProgress||10;W.progress=Math.min(Z.stats.funds,re),Z.stats.funds>=re&&(W.completed=!0)}if(g.id==="work_clinic"){const re=B.goals.find(h=>h.id==="work_clinic");if(re&&!re.completed){re.completed=!0;const h=i==="zh"?"3":"[IMPORTANT] You have started working at the clinic. Remember: missing work for 3 consecutive days will get you fired and you will lose this steady source of income.";B.logs.unshift({id:xe(),text:h,type:"warning",timestamp:ke.day})}}const je=B.goals.find(re=>re.id==="maintain_sanity");je&&!je.completed&&(je.completed=Z.stats.sanity>=50);const oe=B.goals.find(re=>re.id==="recruit_follower");oe&&!oe.completed&&Z.followers.length>0&&(oe.completed=!0)}let et=O.text;if(Re.length>0&&g.id!=="sleep"){const W=Re.join(", ");et=`${O.text} (${W})`}B.logs.unshift({id:xe(),text:et,type:g.id==="sleep"?"narrative":"result",timestamp:ke.day}),(g.id==="sleep"||g.id==="sleep_street"||g.id==="sleep_lover")&&J(B),q(B),H(B)},[L,i]),fe=te.useCallback(g=>{const{player:w}=L;if(g.reqFlags&&!g.reqFlags.every(F=>w.flags[F])||g.reqItems&&!g.reqItems.every(F=>w.inventory.includes(F)))return!1;const O=w.followers||[];if(g.reqFollowers&&!g.reqFollowers.every(F=>O.includes(F)))return!1;if(g.reqStats){if(g.id.includes("buy")&&g.reqStats.funds&&typeof g.result=="function")try{const B=g.result(L);if(B.changes?.funds){const Z=Math.abs(B.changes.funds);if(w.stats.funds<Z)return!1}else if(w.stats.funds<g.reqStats.funds)return!1}catch{if(w.stats.funds<g.reqStats.funds)return!1}else for(const[B,Z]of Object.entries(g.reqStats))if(w.stats[B]<Z)return!1}if(g.reqFlagsNot&&g.reqFlagsNot.some(F=>w.flags[F])||g.reqItemsNot&&g.reqItemsNot.some(F=>w.inventory.includes(F))||g.reqFollowersNot&&g.reqFollowersNot.some(F=>O.includes(F)))return!1;if(g.id==="access_database"){const F=Object.keys(w.flags).filter(B=>B.startsWith("purge_list_cooldown_until_"));if(F.length>0&&F.filter(Z=>{const ke=parseInt(Z.replace("purge_list_cooldown_until_",""));return L.world.day<ke}).length>0)return!1}return!((g.id==="complete_follower_task"||g.id==="reject_follower_task")&&!O.some(B=>{const Z=w.followerStates?.[B];return Z&&Z.task&&Z.status==="healthy"})||g.id==="heal_follower"&&!O.some(B=>{const Z=w.followerStates?.[B];return Z&&Z.status==="injured"})||g.id==="calm_insane_follower"&&!O.some(B=>{const Z=w.followerStates?.[B];return Z&&Z.status==="insane"}))},[L]),Ke=()=>{localStorage.removeItem(Vt),localStorage.removeItem(ea);const g=L.origin||"fallen_noble",w=Vs(g,i);H(w)},$e=(g,w="fallen_noble")=>{R(g),localStorage.removeItem(Vt),localStorage.removeItem(ea);const O=Vs(w,i);H(O)},Ae=()=>{try{const g=localStorage.getItem(Vt);if(g){const w=JSON.parse(g);if(w.player.followers||(w.player.followers=[]),w.player.stats.gnosis===void 0&&(w.player.stats.gnosis=0),w.status==="defeat"||w.status==="victory"){if(z==="hardcore")return!1;{const O=localStorage.getItem(ea);if(O)try{const F=JSON.parse(O);if(F.status==="playing")return H(F),!0}catch(F){console.error(":",F)}return!1}}return H(w),!0}}catch(g){console.error(":",g)}return!1},ft=()=>{if(z==="hardcore")return!1;const g=localStorage.getItem(ea);if(g)try{const w=JSON.parse(g);if(w.status==="playing"&&w.world.day<L.world.day)return H(w),!0}catch(w){console.error(":",w)}return!1},st=()=>{const g=localStorage.getItem(Vt);if(!g)return!1;try{return JSON.parse(g).status==="playing"}catch{return!1}},mt=()=>{const g=z==="hardcore"?"normal":"hardcore";R(g),g==="hardcore"&&(L.status==="defeat"||L.status==="victory")&&(localStorage.removeItem(Vt),localStorage.removeItem(ea))};return{gameState:L,currentLocation:u[L.world.currentLocationId],itemsData:f,followersData:k,executeAction:V,checkRequirements:fe,restartGame:Ke,startNewGame:$e,loadGame:Ae,returnToPreviousDay:ft,hasSave:st,gameMode:z,toggleGameMode:mt}},th="pale_threshold_lang",up=()=>{const[i,u]=te.useState(()=>{const k=localStorage.getItem(th);return k==="en"||k==="zh"?k:"en"});te.useEffect(()=>{localStorage.setItem(th,i)},[i]);const d=()=>{u(k=>k==="zh"?"en":"zh")};return{t:te.useCallback((k,z)=>{const R=k.split(".");let L=oh[i];for(const H of R)if(L&&typeof L=="object")L=L[H];else return k;return typeof L!="string"?k:z?L.replace(/\{\{(\w+)\}\}/g,(H,q)=>z[q]!==void 0?String(z[q]):`{{${q}}}`):L},[i]),lang:i,setLang:u,toggleLang:d}};const cp=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dp=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(u,d,f)=>f?f.toUpperCase():d.toLowerCase()),ah=i=>{const u=dp(i);return u.charAt(0).toUpperCase()+u.slice(1)},dh=(...i)=>i.filter((u,d,f)=>!!u&&u.trim()!==""&&f.indexOf(u)===d).join(" ").trim(),fp=i=>{for(const u in i)if(u.startsWith("aria-")||u==="role"||u==="title")return!0};var hp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mp=te.forwardRef(({color:i="currentColor",size:u=24,strokeWidth:d=2,absoluteStrokeWidth:f,className:k="",children:z,iconNode:R,...L},H)=>te.createElement("svg",{ref:H,...hp,width:u,height:u,stroke:i,strokeWidth:f?Number(d)*24/Number(u):d,className:dh("lucide",k),...!z&&!fp(L)&&{"aria-hidden":"true"},...L},[...R.map(([q,J])=>te.createElement(q,J)),...Array.isArray(z)?z:[z]]));const pe=(i,u)=>{const d=te.forwardRef(({className:f,...k},z)=>te.createElement(mp,{ref:z,iconNode:u,className:dh(`lucide-${cp(ah(i))}`,`lucide-${i}`,f),...k}));return d.displayName=ah(i),d};const yp=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Uo=pe("activity",yp);const pp=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],gp=pe("anchor",pp);const bp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bo=pe("arrow-right",bp);const _p=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],fh=pe("backpack",_p);const vp=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],xp=pe("bed-double",vp);const wp=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hh=pe("book-open",wp);const Sp=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lh=pe("check",Sp);const Ap=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kp=pe("clock",Ap);const Np=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],sh=pe("coins",Np);const Mp=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Tp=pe("door-open",Mp);const zp=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nh=pe("eye",zp);const qp=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Go=pe("file-text",qp);const jp=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Lo=pe("flame",jp);const Ep=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Dp=pe("gem",Ep);const Cp=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Op=pe("key",Cp);const Rp=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Ho=pe("languages",Rp);const Yp=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ih=pe("map-pin",Yp);const Up=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Io=pe("message-circle",Up);const Hp=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Bp=pe("moon",Hp);const Gp=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Lp=pe("pill",Gp);const Ip=[["path",{d:"M13 22H4a2 2 0 0 1 0-4h12",key:"bt3f23"}],["path",{d:"M13.236 18a3 3 0 0 0-2.2-5",key:"1tbvmo"}],["path",{d:"M16 9h.01",key:"1bdo4e"}],["path",{d:"M16.82 3.94a3 3 0 1 1 3.237 4.868l1.815 2.587a1.5 1.5 0 0 1-1.5 2.1l-2.872-.453a3 3 0 0 0-3.5 3",key:"9ch7kn"}],["path",{d:"M17 4.988a3 3 0 1 0-5.2 2.052A7 7 0 0 0 4 14.015 4 4 0 0 0 8 18",key:"3s7e9i"}]],Zp=pe("rat",Ip);const Xp=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Qp=pe("rotate-ccw",Xp);const Vp=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Fp=pe("scroll",Vp);const Pp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kp=pe("search",Pp);const $p=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Jp=pe("shopping-bag",$p);const Wp=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],mi=pe("skull",Wp);const eg=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],tg=pe("sprout",eg);const ag=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],lg=pe("sword",ag);const sg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hi=pe("triangle-alert",sg);const ng=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ig=pe("users",ng);const rg=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],og=pe("utensils",rg);const ug=[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]],cg=pe("wheat",ug);const dg=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],fg=pe("wine",dg);const hg=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rh=pe("zap",hg);function mg(){const{t:i,toggleLang:u,lang:d}=up(),[f,k]=te.useState("game"),[z,R]=te.useState(!1),[L,H]=te.useState(null),[q,J]=te.useState(!1),[V,fe]=te.useState(!1),[Ke,$e]=te.useState(!1),[Ae,ft]=te.useState(null),[st,mt]=te.useState(!1),{gameState:g,currentLocation:w,executeAction:O,checkRequirements:F,restartGame:B,startNewGame:Z,loadGame:ke,returnToPreviousDay:Re,hasSave:et,itemsData:W,followersData:je,gameMode:oe,toggleGameMode:re}=op(d);te.useEffect(()=>{localStorage.getItem("pale_threshold_save_v1")||R(!0)},[]);const{player:h,world:M,logs:D}=g;te.useEffect(()=>{M.day===1&&g.origin&&!z&&(g.tutorialCompleted||setTimeout(()=>{$e(!0)},2e3),fe(!0))},[M.day,g.origin,z,g.tutorialCompleted]);const U=_=>{if(!_)return _;const Q=[];W&&Object.values(W).forEach(ge=>{ge.name&&Q.push(ge.name),ge.id&&Q.push(ge.id)});const ne=[...Q,"","","laudanum","","forbidden_name","","officer_badge","Ministry Badge","","Purge Ledger","purge_list","","Ritual Mask","ritual_mask","","ritual_dagger","","Alchemy Coin","alchemy_coin","","Purified Serum","purified_serum","","Gnosis Elixir","gnosis_elixir","","old_ring","","Classified Dossier","classified_file","","Lab Coat","doctor_coat","","Golden Mask","golden_mask","","Otherworldly Idol","alien_idol","","Void Salt","void_salt"],le=new RegExp(`(${ne.join("|")})`,"gi"),De=/([+-]\d+)/g,tt=/\(([+-]\d+)\)/g,Ue=d==="zh"?["","","","","","","",""]:["restore","heal","recover","gain","increase","restored","recovered"],Dt=d==="zh"?["","","","","","","",""]:["lose","consume","cost","decrease","reduce","lost","damage","hurt"],Pt=new RegExp(`(${Ue.join("|")})`,"gi"),xa=new RegExp(`(${Dt.join("|")})`,"gi"),yt=[];let ze;for(;(ze=le.exec(_))!==null;)yt.push({start:ze.index,end:ze.index+ze[0].length,color:"text-amber-400"});for(;(ze=tt.exec(_))!==null;){const ge=parseInt(ze[1]);yt.push({start:ze.index,end:ze.index+ze[0].length,color:ge>0?"text-emerald-400":"text-red-400"})}for(;(ze=De.exec(_))!==null;)if(!(_[ze.index-1]==="(")){const He=parseInt(ze[0]);yt.push({start:ze.index,end:ze.index+ze[0].length,color:He>0?"text-emerald-400":"text-red-400"})}for(;(ze=Pt.exec(_))!==null;)yt.push({start:ze.index,end:ze.index+ze[0].length,color:"text-emerald-400"});for(;(ze=xa.exec(_))!==null;)yt.push({start:ze.index,end:ze.index+ze[0].length,color:"text-red-400"});yt.sort((ge,He)=>ge.start-He.start);const Je=[];for(const ge of yt)if(Je.length===0||ge.start>=Je[Je.length-1].end)Je.push(ge);else{const He=Je[Je.length-1];ge.color==="text-amber-400"||He.color==="text-amber-400"?Je[Je.length-1]={start:Math.min(He.start,ge.start),end:Math.max(He.end,ge.end),color:"text-amber-400"}:Je[Je.length-1]={start:Math.min(He.start,ge.start),end:Math.max(He.end,ge.end),color:ge.color}}const Fa=[];let aa=0;for(const ge of Je)ge.start>aa&&Fa.push(o.jsx("span",{children:_.substring(aa,ge.start)},`text-${aa}`)),Fa.push(o.jsx("span",{className:ge.color,children:_.substring(ge.start,ge.end)},`match-${ge.start}`)),aa=ge.end;return aa<_.length&&Fa.push(o.jsx("span",{children:_.substring(aa)},`text-${aa}`)),Fa.length>0?o.jsx(o.Fragment,{children:Fa}):_},Y=te.useRef(null),y=te.useRef(null),S=te.useRef(null),C=te.useRef({...h.stats}),G=te.useRef([...h.inventory]),$=te.useRef(!0),ae=te.useRef(!0),[ue,Ze]=te.useState([]),Ee=te.useRef(D.length),[St,Va]=te.useState(!1),Wl=h.followers.some(_=>{const Q=h.followerStates?.[_];return Q&&Q.task}),[Ps,Ft]=te.useState([]),nt=te.useCallback((_,Q="info")=>{console.log("Adding toast:",_,Q);const ne=`${Date.now()}-${Math.random()}`;Ft(le=>{const De=[...le,{id:ne,message:_,type:Q}];return console.log("Toasts state:",De),De}),setTimeout(()=>{Ft(le=>le.filter(De=>De.id!==ne))},3e3)},[]),At=te.useCallback((_=50)=>{if("vibrate"in navigator&&navigator.vibrate)try{const Q=navigator.vibrate(_);console.log("Vibrate result:",Q,"pattern:",_),Q===!1&&console.warn("Vibration not supported or blocked")}catch(Q){console.error("Vibration error:",Q)}else console.log("Vibration API not available")},[]);te.useEffect(()=>{Y.current&&Y.current.scrollIntoView({behavior:"smooth",block:"end"}),D.length>Ee.current&&(Va(!0),setTimeout(()=>Va(!1),1e3)),Ee.current=D.length},[D,f]),te.useEffect(()=>{if($.current){$.current=!1,C.current={...h.stats};return}const _=[],Q=C.current,ne=h.stats;if(Q.sanity!==ne.sanity){const le=ne.sanity-Q.sanity;_.push({stat:"sanity",value:le,label:i("stats.sanity")}),le<-10?(nt(d==="zh"?` (-${Math.abs(le)})`:`Sanity decreased (-${Math.abs(le)})`,"error"),At([100,50,100])):le>5&&(nt(d==="zh"?` (+${le})`:`Sanity restored (+${le})`,"success"),At(30))}if(Q.funds!==ne.funds){const le=ne.funds-Q.funds;_.push({stat:"funds",value:le,label:i("stats.funds")}),le<-5&&(nt(d==="zh"?` (-${Math.abs(le)})`:`Funds decreased (-${Math.abs(le)})`,"warning"),At(50))}if(Q.suspicion!==ne.suspicion){const le=ne.suspicion-Q.suspicion;_.push({stat:"suspicion",value:le,label:i("stats.suspicion")}),le>10&&(nt(d==="zh"?` (+${le})`:`Suspicion increased (+${le})`,"warning"),At([100,50,100]))}if(Q.gnosis!==ne.gnosis){const le=ne.gnosis-Q.gnosis;_.push({stat:"gnosis",value:le,label:i("stats.gnosis")}),le>0&&(nt(d==="zh"?` (+${le})`:`Gnosis increased (+${le})`,"info"),At(30))}_.length>0&&(Ze(_),setTimeout(()=>Ze([]),1500)),C.current={...ne}},[h.stats,i,d,nt,At]),te.useEffect(()=>{if(ae.current){ae.current=!1,G.current=[...h.inventory];return}const _=G.current,Q=h.inventory,ne=Q.filter(De=>!_.includes(De));ne.length>0&&ne.forEach(De=>{const tt=W[De]?.name||De;nt(d==="zh"?`${tt}`:`Item obtained: ${tt}`,"success"),At([50,30,50])});const le=_.filter(De=>!Q.includes(De));if(le.length>0){const De=["morphine","crumbling_scroll","forbidden_name","classified_file","laudanum","ritual_dagger"];le.forEach(tt=>{if(De.includes(tt)){const Ue=W[tt]?.name||tt;nt(d==="zh"?`${Ue}`:`Item lost: ${Ue}`,"warning"),At(100)}})}G.current=[...Q]},[h.inventory,W,d,nt,At]),te.useEffect(()=>{if(!S.current){const _="/bgm.mp3";S.current=new Audio(_),S.current.loop=!0,S.current.volume=.3;const Q=S.current.play();Q!==void 0&&Q.catch(()=>{const ne=()=>{S.current&&S.current.play().catch(()=>{}),document.removeEventListener("click",ne),document.removeEventListener("touchstart",ne),document.removeEventListener("keydown",ne)};document.addEventListener("click",ne,{once:!0}),document.addEventListener("touchstart",ne,{once:!0}),document.addEventListener("keydown",ne,{once:!0})})}return()=>{S.current&&(S.current.pause(),S.current=null)}},[]),te.useEffect(()=>{localStorage.getItem("pale_threshold_save_v1")||R(!0)},[]);const yi=()=>{window.confirm(i("restartConfirm"))&&(B(),R(!0))};return z?o.jsxs("div",{className:"relative flex items-start md:items-center justify-center min-h-[100dvh] w-screen bg-[#0c0c0e] text-[#a1a1aa] font-sans overflow-hidden pt-8 pb-20 md:pt-0 md:pb-0",children:[o.jsxs("div",{className:"atmo-layer",children:[o.jsx("div",{className:"atmo-mist"}),o.jsx("div",{className:"atmo-vignette"}),o.jsx("div",{className:"dust-particle",style:{left:"20%",bottom:"12%",animationDuration:"18s",animationDelay:"-4s"}}),o.jsx("div",{className:"dust-particle",style:{left:"55%",bottom:"8%",animationDuration:"22s",animationDelay:"-10s"}}),o.jsx("div",{className:"dust-particle",style:{left:"80%",bottom:"15%",animationDuration:"20s",animationDelay:"-7s"}})]}),o.jsxs("div",{className:"relative max-w-md w-full mx-4 my-4 md:my-0 pb-10 md:pb-0 space-y-6 z-20",children:[o.jsxs("div",{className:"text-center mb-6 md:mb-8",children:[o.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-[0.2em] text-amber-600 uppercase mb-2 flex items-center justify-center gap-3",children:[o.jsx(Lo,{size:32,className:"text-amber-700"}),o.jsx("span",{children:i("title")})]}),o.jsx("p",{className:"text-sm text-stone-500 font-serif italic mt-4",children:d==="zh"?"":"A game of sanity, secrets, and choices"})]}),o.jsxs("div",{className:"space-y-4",children:[q?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{J(!1),H(null)},className:"flex items-center gap-2 text-stone-400 hover:text-stone-300 mb-2",children:[o.jsx(Bo,{size:16,className:"rotate-180"}),o.jsx("span",{className:"text-sm",children:d==="zh"?"":"Back"})]}),o.jsxs("div",{className:"border border-[#27272a] bg-[#141417] p-4 rounded",children:[o.jsx("h2",{className:"text-sm uppercase tracking-wider text-stone-400 mb-3",children:i("selectOrigin")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>{L&&(Z(L,"fallen_noble"),R(!1),fe(!0))},className:"w-full text-left p-3 border border-amber-700/50 bg-amber-900/20 text-amber-300 hover:bg-amber-900/40 hover:border-amber-600 transition-all",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.fallen_noble.name")}),o.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.fallen_noble.desc")}),o.jsx("div",{className:"text-xs text-amber-400/70 font-mono mb-1",children:i("origins.fallen_noble.stats")}),o.jsx("div",{className:"text-xs text-amber-500/80 italic",children:i("origins.fallen_noble.passive")})]})}),o.jsx("button",{onClick:()=>{L&&(Z(L,"doctor"),R(!1),fe(!0))},className:"w-full text-left p-3 border border-blue-700/50 bg-blue-900/20 text-blue-300 hover:bg-blue-900/40 hover:border-blue-600 transition-all",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.doctor.name")}),o.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.doctor.desc")}),o.jsx("div",{className:"text-xs text-blue-400/70 font-mono mb-1",children:i("origins.doctor.stats")}),o.jsx("div",{className:"text-xs text-blue-500/80 italic",children:i("origins.doctor.passive")})]})}),o.jsx("button",{onClick:()=>{L&&(Z(L,"vagrant"),R(!1),fe(!0))},className:"w-full text-left p-3 border border-slate-700/50 bg-slate-900/20 text-slate-300 hover:bg-slate-900/40 hover:border-slate-600 transition-all",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-serif text-base mb-1",children:i("origins.vagrant.name")}),o.jsx("div",{className:"text-xs text-stone-500 mb-2",children:i("origins.vagrant.desc")}),o.jsx("div",{className:"text-xs text-slate-400/70 font-mono mb-1",children:i("origins.vagrant.stats")}),o.jsx("div",{className:"text-xs text-slate-400/80 italic",children:i("origins.vagrant.passive")})]})})]})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"border border-[#27272a] bg-[#141417] p-4 rounded",children:[o.jsx("h2",{className:"text-sm uppercase tracking-wider text-stone-400 mb-3",children:i("selectMode")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>{H("normal"),J(!0)},className:"w-full text-left p-3 border border-slate-700/50 bg-slate-900/20 text-slate-300 hover:bg-slate-900/40 hover:border-slate-600 transition-all",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-serif text-base mb-1",children:i("normalMode")}),o.jsx("div",{className:"text-xs text-stone-500",children:i("normalDesc")})]})})}),o.jsx("button",{onClick:()=>{H("hardcore"),J(!0)},className:"w-full text-left p-3 border border-red-700/50 bg-red-900/20 text-red-300 hover:bg-red-900/40 hover:border-red-600 transition-all",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("div",{className:"font-serif text-base mb-1 flex items-center gap-2",children:[o.jsx(mi,{size:16}),i("hardcoreMode")]}),o.jsx("div",{className:"text-xs text-stone-500",children:i("hardcoreDesc")})]})})})]})]})}),et()&&o.jsx("button",{onClick:()=>{ke()?(R(!1),nt(d==="zh"?"":"Save loaded successfully","success")):nt(d==="zh"?"":"Failed to load save","error")},className:"w-full p-4 border-2 border-amber-700/50 bg-amber-900/20 text-amber-400 hover:bg-amber-900/40 hover:border-amber-600 transition-all font-serif tracking-wide",children:i("loadGame")}),o.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[o.jsxs("a",{href:"https://discord.gg/kmG4A7Esx3",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-indigo-700/50 bg-indigo-900/20 text-indigo-400 hover:bg-indigo-900/40 hover:border-indigo-600 transition-all rounded",children:[o.jsx(Io,{size:16}),o.jsx("span",{className:"text-xs uppercase",children:"Discord"})]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 border border-amber-700/50 bg-amber-900/20 text-amber-500 hover:bg-amber-900/40 transition-all rounded",children:[o.jsx(Ho,{size:16}),o.jsx("span",{className:"text-xs uppercase",children:d==="en"?"":"EN"})]})]})]})]})]}):o.jsxs("div",{className:"flex flex-col md:flex-row h-[100dvh] w-screen overflow-hidden bg-[#0c0c0e] text-[#a1a1aa] font-sans selection:bg-amber-900 selection:text-white relative",children:[o.jsxs("div",{className:"atmo-layer",children:[o.jsx("div",{className:"atmo-mist"}),o.jsx("div",{className:"atmo-vignette"}),o.jsx("div",{className:"dust-particle",style:{left:"18%",bottom:"10%",animationDuration:"18s",animationDelay:"-4s"}}),o.jsx("div",{className:"dust-particle",style:{left:"45%",bottom:"6%",animationDuration:"22s",animationDelay:"-9s"}}),o.jsx("div",{className:"dust-particle",style:{left:"72%",bottom:"14%",animationDuration:"20s",animationDelay:"-6s"}}),o.jsx("div",{className:"dust-particle",style:{left:"30%",bottom:"18%",animationDuration:"24s",animationDelay:"-12s"}})]}),(w.id==="pale_city"||w.id==="lake_hali"||w.id==="dream_library")&&o.jsx("div",{className:"dream-overlay",style:{zIndex:1}}),o.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[200] flex flex-col gap-3 pointer-events-none md:top-6",style:{zIndex:200},children:Ps.map(_=>o.jsxs("div",{className:`relative px-5 py-4 rounded border-2 min-w-[300px] max-w-[90vw] pointer-events-auto animate-slide-down shadow-2xl ${_.type==="success"?"bg-[#0c0c0e] border-emerald-600/60 text-emerald-200 shadow-emerald-900/50":_.type==="warning"?"bg-[#0c0c0e] border-amber-600/60 text-amber-200 shadow-amber-900/50":_.type==="error"?"bg-[#0c0c0e] border-red-600/60 text-red-200 shadow-red-900/50":"bg-[#0c0c0e] border-slate-600/60 text-slate-200 shadow-slate-900/50"}`,style:{backdropFilter:"blur(8px)",boxShadow:_.type==="success"?"0 0 20px rgba(16, 185, 129, 0.3), inset 0 0 20px rgba(16, 185, 129, 0.1)":_.type==="warning"?"0 0 20px rgba(245, 158, 11, 0.3), inset 0 0 20px rgba(245, 158, 11, 0.1)":_.type==="error"?"0 0 20px rgba(239, 68, 68, 0.3), inset 0 0 20px rgba(239, 68, 68, 0.1)":"0 0 20px rgba(148, 163, 184, 0.3), inset 0 0 20px rgba(148, 163, 184, 0.1)"},children:[o.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${_.type==="success"?"bg-emerald-500":_.type==="warning"?"bg-amber-500":_.type==="error"?"bg-red-500":"bg-slate-500"}`}),o.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[o.jsxs("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${_.type==="success"?"bg-emerald-900/50 border border-emerald-600/50":_.type==="warning"?"bg-amber-900/50 border border-amber-600/50":_.type==="error"?"bg-red-900/50 border border-red-600/50":"bg-slate-900/50 border border-slate-600/50"}`,children:[_.type==="success"&&o.jsx("span",{className:"text-emerald-300 text-lg font-bold",children:""}),_.type==="warning"&&o.jsx("span",{className:"text-amber-300 text-lg font-bold",children:""}),_.type==="error"&&o.jsx("span",{className:"text-red-300 text-lg font-bold",children:""}),_.type==="info"&&o.jsx("span",{className:"text-slate-300 text-lg font-bold",children:""})]}),o.jsx("span",{className:"text-sm md:text-base font-serif tracking-wide flex-1",children:_.message})]}),o.jsx("div",{className:`absolute inset-0 rounded pointer-events-none animate-pulse opacity-20 ${_.type==="success"?"bg-emerald-500":_.type==="warning"?"bg-amber-500":_.type==="error"?"bg-red-500":"bg-slate-500"}`,style:{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}})]},_.id))}),o.jsxs("div",{className:`${f==="stats"?"flex":"hidden"} md:flex w-full md:w-80 flex-shrink-0 flex-col border-r border-[#27272a] bg-[#141417] p-4 md:p-6 z-10 overflow-hidden flex-1 md:flex-none h-full md:h-auto relative`,children:[o.jsxs("div",{className:"mb-4 md:mb-8 border-b border-[#27272a] pb-3 md:pb-4 flex-shrink-0",children:[o.jsxs("h1",{className:"text-base md:text-xl font-bold tracking-[0.2em] text-[#e4e4e7] uppercase flex items-center gap-2 mb-3 md:mb-4",children:[o.jsx(Lo,{size:18,className:"md:w-5 md:h-5 text-amber-700 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:i("title")})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("button",{onClick:yi,className:"flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border border-[#27272a] text-stone-500 hover:text-amber-400 hover:border-amber-600 transition-colors flex-shrink-0",title:i("restartRun"),children:[o.jsx(Qp,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0"}),o.jsx("span",{children:i("restartRun")})]}),oe==="normal"&&g.status==="playing"&&o.jsxs("button",{onClick:()=>{Re()?nt(d==="zh"?"":"Returned to previous day","info"):nt(i("noBackup"),"warning")},className:"flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border border-blue-700/50 bg-blue-900/20 text-blue-400 hover:bg-blue-900/40 hover:border-blue-600 transition-colors flex-shrink-0",title:i("returnToPreviousDayDesc"),children:[o.jsx(Bo,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0 rotate-180"}),o.jsx("span",{children:i("returnToPreviousDay")})]}),o.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-1.5 md:px-2.5 py-1 md:py-1.5 border border-amber-700/50 bg-amber-900/20 text-amber-500 hover:bg-amber-900/40 hover:border-amber-600 hover:text-amber-400 transition-all rounded flex-shrink-0",title:d==="en"?"":"Switch to English",children:[o.jsx(Ho,{size:12,className:"md:w-4 md:h-4 flex-shrink-0"}),o.jsx("span",{className:"text-[9px] md:text-xs font-bold uppercase tracking-wider",children:d==="en"?"EN":""})]}),o.jsxs("button",{onClick:re,className:`flex items-center gap-1 px-2 md:px-3 py-1 text-[9px] md:text-[10px] uppercase tracking-wider border transition-colors flex-shrink-0 ${oe==="hardcore"?"border-red-700/50 bg-red-900/20 text-red-400 hover:bg-red-900/40 hover:border-red-600":"border-slate-700/50 bg-slate-900/20 text-slate-400 hover:bg-slate-900/40 hover:border-slate-600"}`,title:i(oe==="hardcore"?"hardcoreDesc":"normalDesc"),children:[o.jsx(mi,{size:12,className:"md:w-3.5 md:h-3.5 flex-shrink-0"}),o.jsx("span",{children:i(oe==="hardcore"?"hardcoreMode":"normalMode")})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-2 pr-2 pb-4",children:[o.jsxs("div",{className:"space-y-3 md:space-y-4 font-mono text-xs md:text-sm",children:[o.jsx(Fs,{icon:o.jsx(kp,{size:14,className:"md:w-4 md:h-4"}),label:i("day",{day:M.day}),value:"",color:"text-stone-300"}),o.jsx("div",{className:"h-px bg-[#27272a] my-2"}),o.jsx(Fs,{icon:o.jsx(Uo,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.sanity"),value:h.stats.sanity,max:100,color:h.stats.sanity<Pe.sanityThresholds.warning?"text-red-500 animate-pulse":"text-amber-600"}),h.breakdown?.active&&o.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-400",children:[o.jsx("div",{className:"font-bold mb-1",children:d==="zh"?" ":" BREAKDOWN"}),o.jsx("div",{className:"text-[10px] text-red-500",children:d==="zh"?` ${h.breakdown.turnsRemaining} `:`${h.breakdown.turnsRemaining} turn${h.breakdown.turnsRemaining>1?"s":""} left to recover`})]}),o.jsx(Fs,{icon:o.jsx(sh,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.funds"),value:h.stats.funds,color:"text-yellow-600"}),o.jsx(Fs,{icon:o.jsx(nh,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.suspicion"),value:h.stats.suspicion,color:"text-purple-500"}),o.jsx(Fs,{icon:o.jsx(rh,{size:14,className:"md:w-4 md:h-4"}),label:i("stats.gnosis"),value:h.stats.gnosis,color:"text-cyan-600"}),g.origin&&o.jsx("div",{className:"pt-3 md:pt-4",children:o.jsxs("button",{onClick:()=>fe(!0),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-xs border border-stone-700/50 bg-stone-900/30 text-stone-400 hover:bg-stone-800/50 hover:border-stone-600 hover:text-stone-300 transition-all rounded",title:d==="zh"?"":"View Origin Trait",children:[o.jsx(hi,{size:12,className:"md:w-3.5 md:h-3.5"}),o.jsx("span",{className:"uppercase tracking-wider",children:d==="zh"?"":"Origin Trait"})]})}),g.goals&&g.goals.length>0&&o.jsxs("div",{className:"pt-4 md:pt-6 border-t border-[#27272a]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[o.jsx(hh,{size:14,className:"md:w-4 md:h-4"}),o.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:d==="zh"?"":"GOALS"})]}),o.jsx("div",{className:"space-y-2",children:g.goals.filter(_=>!_.completed||_.type==="long").slice(0,3).map(_=>o.jsxs("div",{className:`p-2 bg-[#1f1f22] border rounded flex flex-col gap-1 ${_.completed?"border-emerald-700/50 bg-emerald-900/10":"border-[#27272a]"}`,children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:`text-xs md:text-sm font-serif ${_.completed?"text-emerald-400 line-through":"text-stone-300"}`,children:_.title}),o.jsx("div",{className:"text-[10px] md:text-xs text-stone-500 mt-0.5",children:_.description})]}),_.completed&&o.jsx(lh,{size:12,className:"text-emerald-400 flex-shrink-0 mt-0.5"})]}),_.progress!==void 0&&_.maxProgress&&!_.completed&&o.jsxs("div",{className:"mt-1.5",children:[o.jsxs("div",{className:"flex justify-between text-[9px] text-stone-600 mb-1",children:[o.jsx("span",{children:_.progress}),o.jsx("span",{children:_.maxProgress})]}),o.jsx("div",{className:"h-1 bg-[#27272a] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-amber-600 transition-all duration-300",style:{width:`${Math.min(100,_.progress/_.maxProgress*100)}%`}})})]})]},_.id))})]}),o.jsxs("div",{className:"pt-4 md:pt-6",children:[o.jsxs("div",{className:"flex justify-between mb-2 text-[9px] md:text-[10px] uppercase tracking-wider text-stone-500",children:[o.jsx("span",{children:i("stats.ap")}),o.jsxs("span",{children:[M.currentActionPoints," / ",M.maxActionPoints]})]}),o.jsx("div",{className:"h-1.5 bg-[#27272a] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-stone-500 transition-all duration-300",style:{width:`${M.currentActionPoints/M.maxActionPoints*100}%`}})})]})]}),o.jsxs("div",{className:"mt-4 md:mt-6 pt-4 md:pt-6 border-t border-[#27272a]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[o.jsx(ig,{size:14,className:"md:w-4 md:h-4"}),o.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:i("cult")})]}),o.jsxs("div",{className:"space-y-2",children:[h.followers.length===0&&o.jsx("p",{className:"text-[10px] md:text-xs italic text-stone-600",children:i("lonely")}),h.followers.map((_,Q)=>{const ne=je[_],le=h.followerStates?.[_],De=le?.loyalty??50,tt=le?.status??"healthy",Ue=le?.task,Dt=tt==="injured"?"text-red-500":tt==="insane"?"text-purple-500":"text-emerald-500",Pt=tt==="injured"?o.jsx(hi,{size:10}):tt==="insane"?o.jsx(mi,{size:10}):o.jsx(lh,{size:10});return o.jsxs("div",{className:"p-2 bg-[#1f1f22] border border-[#27272a] rounded flex flex-col gap-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-700"}),o.jsx("span",{className:"text-xs md:text-sm text-stone-300",children:ne?ne.name:_})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsxs("span",{className:`flex items-center gap-1 ${Dt}`,children:[Pt,i(`followerStatus.${tt}`)]}),o.jsxs("span",{className:"text-stone-500",children:[i("loyalty"),": ",De]})]})]}),Ue&&o.jsxs("div",{className:"text-xs text-stone-400 italic pl-4",children:[i("followerTask"),": ",Ue.description]})]},Q)})]})]}),o.jsxs("div",{className:"mt-4 pt-4 md:mt-6 md:pt-6 border-t border-[#27272a]",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4 text-stone-500",children:[o.jsx(fh,{size:14,className:"md:w-4 md:h-4"}),o.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider",children:i("inventory")})]}),o.jsxs("div",{className:"space-y-2",children:[h.inventory.length===0&&o.jsx("p",{className:"text-[10px] md:text-xs italic text-stone-600",children:i("emptyInventory")}),h.inventory.map((_,Q)=>{const ne=W[_],le=yg(_);return o.jsxs("div",{className:"group relative p-2 bg-[#1f1f22] border border-[#27272a] rounded flex items-center gap-2 md:gap-3 hover:border-stone-500 transition-colors cursor-help",children:[o.jsx("div",{className:"p-1.5 bg-[#141417] rounded text-stone-400 group-hover:text-amber-500",children:o.jsx(le,{size:12,className:"md:w-3.5 md:h-3.5"})}),o.jsx("div",{className:"text-xs md:text-sm text-stone-300 truncate",children:ne?.name||_}),o.jsx("div",{className:"absolute left-0 bottom-full mb-2 w-48 p-3 bg-black border border-stone-700 text-xs text-stone-400 hidden group-hover:block z-50 shadow-xl pointer-events-none",children:ne?.description})]},Q)})]})]}),o.jsx("div",{className:"h-40 md:h-20 w-full shrink-0"})]})]}),o.jsxs("div",{className:`${f==="game"?"flex":"hidden"} md:flex flex-1 flex-col relative min-w-0 bg-[#0c0c0e] h-full z-10`,children:[o.jsxs("div",{className:"md:hidden px-3 py-2 bg-[#141417] border-b border-[#27272a] flex items-center justify-between gap-2 flex-shrink-0 relative overflow-hidden",children:[o.jsx("button",{onClick:u,className:"flex items-center justify-center gap-1 px-1.5 py-1.5 border border-amber-700/50 bg-amber-900/20 text-amber-500 active:bg-amber-900/40 active:border-amber-600 active:text-amber-400 transition-all rounded flex-shrink-0",title:d==="en"?"":"Switch to English",children:o.jsx(Ho,{size:12,className:"flex-shrink-0"})}),o.jsxs("div",{className:"flex items-center justify-around gap-2 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[o.jsx(Uo,{size:12,className:"text-amber-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.sanity")}),o.jsx("div",{className:`text-[10px] font-mono ${h.stats.sanity<Pe.sanityThresholds.warning?"text-red-500":"text-amber-600"}`,children:h.stats.sanity}),h.breakdown?.active&&o.jsx("div",{className:"text-[7px] text-red-400 font-bold mt-0.5",children:d==="zh"?` ${h.breakdown.turnsRemaining}`:`BD ${h.breakdown.turnsRemaining}`})]}),ue.filter(_=>_.stat==="sanity").map((_,Q)=>o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${Q*.1}s`},children:o.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${_.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[_.value>0?"+":"",_.value]})},`sanity-${Q}`))]}),o.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[o.jsx(sh,{size:12,className:"text-yellow-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.funds")}),o.jsxs("div",{className:"text-[10px] font-mono text-yellow-600",children:["$",h.stats.funds]})]}),ue.filter(_=>_.stat==="funds").map((_,Q)=>o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${Q*.1}s`},children:o.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${_.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[_.value>0?"+":"","$",_.value]})},`funds-${Q}`))]}),o.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[o.jsx(nh,{size:12,className:"text-purple-500 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.suspicion")}),o.jsx("div",{className:"text-[10px] font-mono text-purple-500",children:h.stats.suspicion})]}),ue.filter(_=>_.stat==="suspicion").map((_,Q)=>o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${Q*.1}s`},children:o.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${_.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[_.value>0?"+":"",_.value]})},`suspicion-${Q}`))]}),o.jsx("div",{className:"w-px h-6 bg-[#27272a]"}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0 relative",children:[o.jsx(rh,{size:12,className:"text-cyan-600 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[8px] text-stone-500 uppercase tracking-wider truncate",children:i("stats.gnosis")}),o.jsx("div",{className:"text-[10px] font-mono text-cyan-600",children:h.stats.gnosis})]}),ue.filter(_=>_.stat==="gnosis").map((_,Q)=>o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 pointer-events-none z-50",style:{animation:"floatUp 2s ease-out forwards",animationDelay:`${Q*.1}s`},children:o.jsxs("div",{className:`text-xs font-bold px-1.5 py-0.5 rounded whitespace-nowrap ${_.value>0?"text-emerald-400 bg-emerald-900/30 border border-emerald-700/50":"text-red-400 bg-red-900/30 border border-red-700/50"}`,children:[_.value>0?"+":"",_.value]})},`gnosis-${Q}`))]})]}),g.origin&&o.jsx("button",{onClick:()=>fe(!0),className:"flex items-center justify-center px-2 py-1.5 border border-stone-700/50 bg-stone-900/30 text-stone-400 active:bg-stone-800/50 active:border-stone-600 active:text-stone-300 transition-all rounded flex-shrink-0",title:d==="zh"?"":"View Origin Trait",children:o.jsx(hi,{size:14})})]}),Wl&&f==="game"&&o.jsxs("div",{className:"md:hidden mx-3 mt-2 mb-0 p-3 bg-gradient-to-r from-amber-900/40 to-amber-800/30 border-2 border-amber-600/60 rounded-lg flex items-center justify-between gap-2 flex-shrink-0 shadow-lg shadow-amber-900/20 animate-slide-down",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Io,{size:18,className:"text-amber-400 flex-shrink-0 animate-pulse"}),o.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"}),o.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsx("span",{className:"text-xs text-amber-200 font-semibold truncate",children:d==="zh"?"":"Follower Request"})]}),o.jsx("button",{onClick:()=>k("stats"),className:"px-3 py-1.5 bg-amber-700/60 hover:bg-amber-700/80 active:bg-amber-600/80 text-amber-100 text-xs font-bold uppercase tracking-wider rounded transition-all transform active:scale-95 flex-shrink-0 shadow-md shadow-amber-900/30",children:d==="zh"?"":"VIEW"})]}),o.jsxs("div",{className:"px-4 md:px-10 pt-6 md:pt-10 pb-4 md:pb-6 border-b border-[#27272a]/50 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-amber-700",children:[o.jsx(ih,{size:14,className:"md:w-4 md:h-4 flex-shrink-0"}),o.jsx("span",{className:"text-[10px] md:text-xs font-bold uppercase tracking-[0.15em] truncate",children:w.id})]}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-2 text-[10px] md:text-xs font-mono text-stone-300",children:[o.jsx("span",{className:"uppercase tracking-[0.15em] text-stone-500",children:i("stats.ap")}),o.jsxs("span",{className:"px-1.5 md:px-2 py-0.5 rounded-full border border-[#27272a] bg-[#11111a]",children:[M.currentActionPoints," / ",M.maxActionPoints]})]})]}),o.jsx("h2",{className:"text-2xl md:text-4xl font-serif text-[#e4e4e7] tracking-wide truncate",children:w.name})]}),o.jsxs("div",{ref:y,className:"flex-1 overflow-y-auto px-4 md:px-10 py-4 md:py-8 pb-32 md:pb-8 custom-scrollbar relative z-10",style:{touchAction:"pan-y"},onTouchStart:_=>{const Q=_.target;(Q.tagName==="BUTTON"||Q.closest("button"))&&_.stopPropagation()},children:[o.jsx("div",{className:"mb-6 md:mb-10 pl-4 md:pl-6 border-l-2 border-[#27272a]",children:o.jsx("p",{className:"text-base md:text-xl leading-relaxed md:leading-loose text-stone-400 font-serif italic max-w-3xl",children:typeof w.description=="function"?w.description(g):w.description})}),o.jsx("div",{className:"grid grid-cols-1 gap-2 md:gap-3 max-w-2xl",children:w.actions.map(_=>{if(!F(_))return null;let ne=_.id==="sleep"?0:typeof _.result=="function"?_.result(g).costAP??1:_.result.costAP??1;const De=!(M.currentActionPoints>=ne)&&_.id!=="sleep"&&ne>0,tt=_.id.includes("buy")||_.id.includes("sell"),Ue=_.id.includes("gamble")||_.id.includes("dice");let Dt=null;if(!Ue&&(tt||_.id.includes("drink")||_.id.includes("eat")||_.reqStats?.funds))try{const Je=typeof _.result=="function"?_.result(g):_.result;Je.changes?.funds&&Je.changes.funds<0?Dt=Math.abs(Je.changes.funds):_.reqStats?.funds&&(Dt=_.reqStats.funds)}catch{_.reqStats?.funds&&(Dt=_.reqStats.funds)}let Pt=i("actions.costAP",{val:ne}),xa="border-[#27272a] text-stone-500 bg-[#0c0c0e]";_.id==="sleep"?(Pt=i("actions.endDay"),xa="border-amber-900/30 text-amber-700 bg-amber-900/10"):ne===0&&(Pt=i("actions.free"),xa="border-emerald-900/30 text-emerald-600 bg-emerald-900/10");const yt=pg(_.id),ze=()=>{De||(_.requiresConfirmation?(ft(_),mt(!0)):O(_))};return o.jsxs("button",{onClick:ze,disabled:De,className:`w-full text-left p-3 md:p-4 border rounded transition-all duration-200 flex items-center gap-3 md:gap-5 relative z-50 ${De?"border-[#27272a] bg-transparent opacity-40 cursor-not-allowed":"border-[#3f3f46] bg-[#18181b] active:bg-[#202023] md:hover:bg-[#202023] active:border-amber-700/50 md:hover:border-amber-700/50 active:translate-x-1 md:hover:translate-x-1"}`,style:{touchAction:"manipulation",WebkitTapHighlightColor:"transparent",pointerEvents:"auto",position:"relative",zIndex:50},children:[o.jsx("div",{className:`p-2 md:p-3 rounded-full bg-[#0c0c0e] border border-[#27272a] flex-shrink-0 ${De?"text-stone-700":"text-stone-400 group-hover:text-amber-500"}`,style:{pointerEvents:"none"},children:o.jsx(yt,{size:20,className:"md:w-6 md:h-6",strokeWidth:1.5})}),o.jsxs("div",{className:"flex-1 flex flex-col gap-1 min-w-0",style:{pointerEvents:"none"},children:[o.jsxs("div",{className:"flex justify-between items-center w-full gap-2",children:[o.jsx("span",{className:`text-base md:text-lg font-serif tracking-wide ${De?"text-stone-500":"text-stone-200"} truncate flex-1`,children:typeof _.label=="function"?_.label(g):_.label}),o.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[Dt!==null&&o.jsxs("span",{className:`text-[9px] md:text-[10px] font-mono px-1.5 md:px-2 py-0.5 md:py-1 rounded border ${_.id.includes("buy")||Dt>0&&!_.id.includes("sell")?"border-yellow-700/50 text-yellow-500 bg-yellow-900/20":"border-emerald-700/50 text-emerald-500 bg-emerald-900/20"}`,children:[_.id.includes("sell")?"+":"","$",Dt]}),o.jsx("span",{className:`text-[9px] md:text-[10px] font-mono px-1.5 md:px-2 py-0.5 md:py-1 rounded border ${xa}`,children:Pt})]})]}),o.jsx("div",{className:"text-xs md:text-sm text-stone-500 font-serif italic line-clamp-2",children:typeof _.description=="function"?_.description(g):_.description})]})]},_.id)})}),o.jsx("div",{className:"h-40 md:h-8 w-full shrink-0 pointer-events-none"})]})]}),o.jsxs("div",{className:`${f==="journal"?"flex":"hidden"} md:flex w-full md:w-80 flex-shrink-0 flex-col border-l border-[#27272a] bg-[#0c0c0e] h-full md:h-auto relative z-10`,children:[o.jsxs("div",{className:"p-3 md:p-4 border-b border-[#27272a] bg-[#141417] flex justify-between items-center flex-shrink-0",children:[o.jsx("h3",{className:"text-[10px] md:text-xs font-bold uppercase tracking-wider text-stone-500",children:i("journal")}),o.jsx("span",{className:"text-[9px] md:text-[10px] text-stone-700 font-mono",children:i("latestEvents")})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 font-serif custom-scrollbar space-y-4 md:space-y-6",children:[[...D].reverse().map((_,Q)=>{const ne=_.text==="init_game"?i("initGame"):_.text;return o.jsxs("div",{className:`animate-in fade-in slide-in-from-bottom-2 duration-500 ${Q===0&&St?"animate-log-update":""}`,children:[o.jsx("div",{className:"flex items-center mb-1",children:o.jsx("span",{className:"text-[9px] md:text-[10px] font-mono text-stone-600 uppercase",children:i("day",{day:_.timestamp})})}),o.jsx("p",{className:`text-xs md:text-sm leading-relaxed ${_.type==="warning"?"text-red-900 border-l-2 border-red-900 pl-2":_.type==="result"?"text-stone-300":"text-stone-500"}`,children:U(ne)})]},_.id)}),o.jsx("div",{ref:Y,className:"h-1"}),o.jsx("div",{className:"h-32 md:h-0 w-full shrink-0"})]})]}),o.jsxs("div",{className:`md:hidden fixed bottom-16 left-0 right-0 px-4 pt-3 pb-2 border-t border-[#27272a] bg-[#0c0c0e] z-20 pointer-events-none ${f==="journal"?"hidden":"block"} ${St?"animate-log-container-update":""}`,style:{maxHeight:"120px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-stone-500",children:[o.jsx(Go,{size:14,className:St?"animate-pulse":""}),o.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider",children:i("journal")})]}),o.jsxs("button",{onClick:()=>k("journal"),className:"text-[9px] text-stone-600 active:text-amber-500 transition-colors pointer-events-auto relative z-10",children:[d==="en"?"View All":""," "]})]}),o.jsx("div",{className:"min-h-[20px] max-h-[80px] overflow-y-auto custom-scrollbar",children:D&&Array.isArray(D)&&D.length>0&&D[0]&&D[0].text?o.jsxs("div",{className:`flex items-start gap-2 ${St?"animate-log-entry-update":""}`,children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-amber-700/50 mt-1.5 flex-shrink-0"}),o.jsx("p",{className:`text-[11px] leading-relaxed flex-1 break-words whitespace-normal ${D[0].type==="warning"?"text-red-900":D[0].type==="result"?"text-stone-300":"text-stone-500"}`,children:U(D[0].text==="init_game"?i("initGame"):D[0].text)})]}):o.jsx("p",{className:"text-[11px] text-stone-600 italic",children:d==="en"?"No events yet...":"..."})})]}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-[#141417] border-t border-[#27272a] z-30 safe-area-inset-bottom",children:o.jsxs("div",{className:"flex items-center justify-around h-16",children:[o.jsxs("button",{onClick:()=>k("game"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${f==="game"?"text-amber-500":"text-stone-500"}`,children:[o.jsx(ih,{size:20}),o.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:d==="zh"?"":"GAME"})]}),o.jsxs("button",{onClick:()=>k("stats"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${f==="stats"?"text-amber-500":"text-stone-500"}`,children:[o.jsx(Uo,{size:20}),o.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:d==="zh"?"":"STATS"})]}),o.jsxs("button",{onClick:()=>k("journal"),className:`flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors ${f==="journal"?"text-amber-500":"text-stone-500"}`,children:[o.jsx(Go,{size:20}),o.jsx("span",{className:"text-[10px] uppercase tracking-wider",children:i("journal")})]})]})}),st&&Ae&&o.jsx("div",{className:"absolute inset-0 z-[70] bg-black/95 flex items-center justify-center p-4 md:p-8",children:o.jsxs("div",{className:"max-w-lg w-full border border-red-700/50 bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(hi,{size:24,className:"text-red-500 flex-shrink-0"}),o.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-red-400 uppercase",children:d==="zh"?" ":" HIGH RISK ACTION"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm md:text-base text-stone-300 font-serif",children:typeof Ae.label=="function"?Ae.label(g):Ae.label}),o.jsx("div",{className:"text-xs md:text-sm text-stone-400 leading-relaxed border-l-2 border-red-700/30 pl-4",children:Ae.confirmationMessage?typeof Ae.confirmationMessage=="function"?Ae.confirmationMessage(g):Ae.confirmationMessage:d==="zh"?"":"This action carries high risk and may lead to serious consequences (addiction, infection, resource loss, etc.). Are you sure you want to continue?"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{mt(!1),ft(null)},className:"flex-1 px-6 md:px-8 py-3 md:py-4 border border-stone-800 active:border-stone-900 md:hover:border-stone-900 active:text-stone-300 md:hover:text-stone-300 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:d==="zh"?"":"Cancel"}),o.jsx("button",{onClick:()=>{Ae&&(O(Ae),mt(!1),ft(null))},className:"flex-1 px-6 md:px-8 py-3 md:py-4 border border-red-800 active:border-red-900 md:hover:border-red-900 active:text-red-400 md:hover:text-red-400 text-red-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all font-bold",children:d==="zh"?"":"Confirm"})]})]})}),V&&g.origin&&o.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-4 md:p-8",children:o.jsxs("div",{className:"max-w-lg w-full border border-[#27272a] bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[o.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-amber-500 uppercase",children:d==="zh"?"":"Origin Trait"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm md:text-base text-stone-300 font-serif",children:i(`origins.${g.origin}.name`)}),o.jsxs("div",{className:"text-xs md:text-sm text-stone-400 leading-relaxed",children:[g.origin==="doctor"&&d==="zh"&&o.jsxs(o.Fragment,{children:["",Math.round((Pe.medicalBonus.multiplier-1)*100),"%"]}),g.origin==="doctor"&&d==="en"&&o.jsxs(o.Fragment,{children:["As a doctor, your medical training increases the sanity restoration effect of medical items (morphine, sedatives, purified serum, strong painkiller) by ",Math.round((Pe.medicalBonus.multiplier-1)*100),"%. Your medical bag contains morphine and a scalpel."]}),g.origin==="fallen_noble"&&d==="zh"&&o.jsx(o.Fragment,{children:""}),g.origin==="fallen_noble"&&d==="en"&&o.jsx(o.Fragment,{children:"As a fallen noble, your family heritage protects you from price inflation. Even when the Ministry raises prices, you can still purchase items at their original cost."}),g.origin==="vagrant"&&d==="zh"&&o.jsx(o.Fragment,{children:""}),g.origin==="vagrant"&&d==="en"&&o.jsx(o.Fragment,{children:"As a vagrant, the survival wisdom you learned on the streets gives you greater resistance to anomalous phenomena. You start with higher sanity and greater tolerance for fear."})]})]}),o.jsx("button",{onClick:()=>fe(!1),className:"w-full mt-4 md:mt-6 px-6 md:px-8 py-3 md:py-4 border border-stone-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:d==="zh"?"":"Understood"})]})}),Ke&&M.day===1&&!g.tutorialCompleted&&o.jsx("div",{className:"absolute inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 md:p-8",children:o.jsxs("div",{className:"max-w-2xl w-full border border-amber-700/50 bg-[#141417] p-6 md:p-8 rounded space-y-4 md:space-y-6",children:[o.jsx("h2",{className:"text-xl md:text-2xl font-serif font-bold tracking-wider text-amber-500 uppercase",children:d==="zh"?"":"Welcome to Pale Threshold"}),o.jsx("div",{className:"space-y-4 text-sm md:text-base text-stone-300 leading-relaxed",children:d==="zh"?o.jsxs(o.Fragment,{children:[o.jsx("p",{children:""}),o.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-amber-700/30",children:[o.jsx("p",{className:"font-bold text-amber-400",children:" "}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-400",children:[o.jsxs("li",{children:["",o.jsx("strong",{className:"text-amber-400",children:""}),""]}),g.origin==="doctor"&&o.jsxs("li",{children:["",o.jsx("strong",{className:"text-blue-400",children:""}),"",o.jsx("strong",{className:"text-cyan-400",children:""}),"+",Pe.clinicWork.rewardFunds,"-",Pe.clinicWork.costSanity,"",Pe.clinicWork.costAP,"",Pe.clinicWork.maxMissedDays,""]}),o.jsxs("li",{children:["",o.jsx("strong",{className:"text-yellow-400",children:""}),"",Pe.livingCost.earlyGameDays,"",Pe.livingCost.earlyGameCost,"",Pe.livingCost.normalCost,""]}),o.jsxs("li",{children:["",o.jsx("strong",{className:"text-amber-400",children:""}),"",Pe.sanityThresholds.warning,""]}),g.origin!=="doctor"&&o.jsxs("li",{children:["",o.jsx("strong",{className:"text-cyan-400",children:""}),"",o.jsx("strong",{className:"text-cyan-400",children:""}),""]}),o.jsxs("li",{children:["",o.jsx("strong",{className:"text-purple-400",children:""}),""]})]})]}),o.jsx("p",{className:"text-xs text-stone-500 italic",children:'""'})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{children:"This is a game about survival, exploration, and choices. Your goal is to survive in this dangerous city and discover hidden truths."}),o.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-amber-700/30",children:[o.jsx("p",{className:"font-bold text-amber-400",children:" Starting Tips:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-stone-400",children:[o.jsxs("li",{children:["First, ",o.jsx("strong",{className:"text-amber-400",children:"step outside to explore the street"})," and look for work and resources"]}),o.jsxs("li",{children:["Make sure you have enough ",o.jsx("strong",{className:"text-yellow-400",children:"funds"})," to pay living expenses (",Pe.livingCost.earlyGameCost," coin daily for the first ",Pe.livingCost.earlyGameDays," days, then ",Pe.livingCost.normalCost," coins daily afterwards)"]}),o.jsxs("li",{children:["Keep your ",o.jsx("strong",{className:"text-amber-400",children:"sanity"})," above ",Pe.sanityThresholds.warning," to avoid breakdown"]}),o.jsxs("li",{children:["Look for work opportunities in the ",o.jsx("strong",{className:"text-cyan-400",children:"black market"})," or ",o.jsx("strong",{className:"text-cyan-400",children:"street"})," to earn funds"]}),o.jsxs("li",{children:["Explore the city, ",o.jsx("strong",{className:"text-purple-400",children:"recruit followers"}),", and build your cult"]})]})]}),o.jsx("p",{className:"text-xs text-stone-500 italic",children:'Tip: Check the "Goals" panel in the left sidebar to see your current objectives. Completing goals will help you better understand the game mechanics.'})]})}),o.jsx("button",{onClick:()=>{$e(!1);try{const _=localStorage.getItem("pale_threshold_save_v1");if(_){const Q=JSON.parse(_);Q.tutorialCompleted=!0,localStorage.setItem("pale_threshold_save_v1",JSON.stringify(Q))}}catch(_){console.error("Failed to save tutorial completion:",_)}},className:"w-full mt-4 md:mt-6 px-6 md:px-8 py-3 md:py-4 border border-amber-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-amber-400 tracking-[0.2em] uppercase text-xs md:text-sm transition-all",children:d==="zh"?"":"Start Playing"})]})}),g.status!=="playing"&&g.ending&&o.jsx("div",{className:"absolute inset-0 z-50 bg-black/95 flex items-center justify-center p-4 md:p-8",children:o.jsxs("div",{className:"max-w-2xl w-full text-center space-y-4 md:space-y-8",children:[o.jsx("h1",{className:"text-3xl md:text-6xl font-serif font-bold tracking-widest uppercase text-amber-500",children:g.ending.title}),o.jsx("p",{className:"text-base md:text-xl text-stone-400 font-serif italic",children:g.ending.description}),o.jsx("button",{onClick:B,className:"mt-4 md:mt-8 px-6 md:px-10 py-3 md:py-4 border border-stone-800 active:border-amber-900 md:hover:border-amber-900 active:text-amber-500 md:hover:text-amber-500 text-stone-500 tracking-[0.2em] uppercase text-xs md:text-sm",children:i("gameOver.restart")})]})})]})}const Fs=({icon:i,label:u,value:d,max:f,color:k})=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center text-stone-500 gap-2 md:gap-3",children:[o.jsx("span",{className:"opacity-70",children:i}),o.jsx("span",{className:"text-[10px] md:text-xs font-bold tracking-wider",children:u})]}),o.jsxs("span",{className:`font-mono text-xs md:text-sm ${k}`,children:[d,f?o.jsxs("span",{className:"text-stone-700 text-[9px] md:text-[10px]",children:["/",f]}):""]})]});function yg(i){return i.includes("bread")?cg:i.includes("rat")?Zp:i.includes("spirit")?fg:i.includes("sedative")||i.includes("morphine")?Lp:i.includes("key")?Op:i.includes("lantern")?Lo:i.includes("dagger")||i.includes("scalpel")?lg:i.includes("scroll")||i.includes("file")?Fp:i.includes("tooth")||i.includes("idol")?Dp:i.includes("fungus")?tg:i.includes("manuscript")||i.includes("coat")?Go:fh}function pg(i){return i.includes("leave")||i.includes("return")||i.includes("enter")||i.includes("unlock")||i.includes("visit")||i.includes("flee")||i.includes("wake")?Tp:i.includes("sleep")?Bp:i.includes("work")||i.includes("job")?gp:i.includes("buy")||i.includes("sell")?Jp:i.includes("talk")||i.includes("recruit")||i.includes("dispatch")?Io:i.includes("eat")||i.includes("drink")||i.includes("take")?og:i.includes("study")||i.includes("read")||i.includes("write")?hh:i.includes("explore")||i.includes("scavenge")||i.includes("search")||i.includes("find")?Kp:i.includes("lay_low")?xp:i.includes("ritual")||i.includes("lobotomy")||i.includes("blood")||i.includes("implant")||i.includes("harvest")||i.includes("shock")||i.includes("steal")?mi:Bo}Hy.createRoot(document.getElementById("root")).render(o.jsx(te.StrictMode,{children:o.jsx(mg,{})}));
